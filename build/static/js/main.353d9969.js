/*! For license information please see main.353d9969.js.LICENSE.txt */
(function(){var __webpack_modules__={468:function(e){"use strict";!function(t){function r(e){return parseInt(e)===e}function n(e){if(!r(e.length))return!1;for(var t=0;t<e.length;t++)if(!r(e[t])||e[t]<0||e[t]>255)return!1;return!0}function i(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!n(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(r(e.length)&&n(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function a(e){return new Uint8Array(e)}function o(e,t,r,n,i){null==n&&null==i||(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}var s={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return i(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},u=function(){var e="0123456789abcdef";return{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(t){for(var r=[],n=0;n<t.length;n++){var i=t[n];r.push(e[(240&i)>>4]+e[15&i])}return r.join("")}}}(),l={16:10,24:12,32:14},c=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],f=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],d=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],p=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],_=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],m=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],v=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],g=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],y=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],b=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],w=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],E=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],x=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],k=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function T(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var M=function e(t){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(t,!0)}),this._prepare()};M.prototype._prepare=function(){var e=l[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(e+1),i=this.key.length/4,a=T(this.key);for(t=0;t<i;t++)r=t>>2,this._Ke[r][t%4]=a[t],this._Kd[e-r][t%4]=a[t];for(var o,s=0,u=i;u<n;){if(o=a[i-1],a[0]^=h[o>>16&255]<<24^h[o>>8&255]<<16^h[255&o]<<8^h[o>>24&255]^c[s]<<24,s+=1,8!=i)for(t=1;t<i;t++)a[t]^=a[t-1];else{for(t=1;t<i/2;t++)a[t]^=a[t-1];o=a[i/2-1],a[i/2]^=h[255&o]^h[o>>8&255]<<8^h[o>>16&255]<<16^h[o>>24&255]<<24;for(t=i/2+1;t<i;t++)a[t]^=a[t-1]}for(t=0;t<i&&u<n;)f=u>>2,d=u%4,this._Ke[f][d]=a[t],this._Kd[e-f][d]=a[t++],u++}for(var f=1;f<e;f++)for(var d=0;d<4;d++)o=this._Kd[f][d],this._Kd[f][d]=w[o>>24&255]^E[o>>16&255]^x[o>>8&255]^k[255&o]},M.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=T(e),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)r[i]=d[n[i]>>24&255]^p[n[(i+1)%4]>>16&255]^_[n[(i+2)%4]>>8&255]^m[255&n[(i+3)%4]]^this._Ke[o][i];n=r.slice()}var s,u=a(16);for(i=0;i<4;i++)s=this._Ke[t][i],u[4*i]=255&(h[n[i]>>24&255]^s>>24),u[4*i+1]=255&(h[n[(i+1)%4]>>16&255]^s>>16),u[4*i+2]=255&(h[n[(i+2)%4]>>8&255]^s>>8),u[4*i+3]=255&(h[255&n[(i+3)%4]]^s);return u},M.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=T(e),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)r[i]=v[n[i]>>24&255]^g[n[(i+3)%4]>>16&255]^y[n[(i+2)%4]>>8&255]^b[255&n[(i+1)%4]]^this._Kd[o][i];n=r.slice()}var s,u=a(16);for(i=0;i<4;i++)s=this._Kd[t][i],u[4*i]=255&(f[n[i]>>24&255]^s>>24),u[4*i+1]=255&(f[n[(i+3)%4]>>16&255]^s>>16),u[4*i+2]=255&(f[n[(i+2)%4]>>8&255]^s>>8),u[4*i+3]=255&(f[255&n[(i+1)%4]]^s);return u};var A=function e(t){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new M(t)};A.prototype.encrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),n=0;n<e.length;n+=16)o(e,r,0,n,n+16),o(r=this._aes.encrypt(r),t,n);return t},A.prototype.decrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),n=0;n<e.length;n+=16)o(e,r,0,n,n+16),o(r=this._aes.decrypt(r),t,n);return t};var O=function e(t,r){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",r){if(16!=r.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else r=a(16);this._lastCipherblock=i(r,!0),this._aes=new M(t)};O.prototype.encrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),n=0;n<e.length;n+=16){o(e,r,0,n,n+16);for(var s=0;s<16;s++)r[s]^=this._lastCipherblock[s];this._lastCipherblock=this._aes.encrypt(r),o(this._lastCipherblock,t,n)}return t},O.prototype.decrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),n=0;n<e.length;n+=16){o(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var s=0;s<16;s++)t[n+s]=r[s]^this._lastCipherblock[s];o(e,this._lastCipherblock,0,n,n+16)}return t};var S=function e(t,r,n){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",r){if(16!=r.length)throw new Error("invalid initialation vector size (must be 16 size)")}else r=a(16);n||(n=1),this.segmentSize=n,this._shiftRegister=i(r,!0),this._aes=new M(t)};S.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++)r[n+a]^=t[a];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},S.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++)r[n+a]^=t[a];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var R=function e(t,r){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",r){if(16!=r.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else r=a(16);this._lastPrecipher=i(r,!0),this._lastPrecipherIndex=16,this._aes=new M(t)};R.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},R.prototype.decrypt=R.prototype.encrypt;var C=function e(t){if(!(this instanceof e))throw Error("Counter must be instanitated with `new`");0===t||t||(t=1),"number"===typeof t?(this._counter=a(16),this.setValue(t)):this.setBytes(t)};C.prototype.setValue=function(e){if("number"!==typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},C.prototype.setBytes=function(e){if(16!=(e=i(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},C.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var P=function e(t,r){if(!(this instanceof e))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",r instanceof C||(r=new C(r)),this._counter=r,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new M(t)};P.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},P.prototype.decrypt=P.prototype.encrypt;var D={AES:M,Counter:C,ModeOfOperation:{ecb:A,cbc:O,cfb:S,ofb:R,ctr:P},utils:{hex:u,utf8:s},padding:{pkcs7:{pad:function(e){var t=16-(e=i(e,!0)).length%16,r=a(e.length+t);o(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=i(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var s=a(r);return o(e,s,0,0,r),s}}},_arrayTest:{coerceArray:i,createArray:a,copyArray:o}};e.exports=D}()},4569:function(e,t,r){e.exports=r(8036)},3381:function(e,t,r){"use strict";var n=r(3589),i=r(7297),a=r(9301),o=r(9774),s=r(1804),u=r(9145),l=r(5411),c=r(6789),h=r(4531),f=r(6569),d=r(6261);e.exports=function(e){return new Promise((function(t,r){var p,_=e.data,m=e.headers,v=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}n.isFormData(_)&&n.isStandardBrowserEnv()&&delete m["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+w)}var E=s(e.baseURL,e.url);function x(){if(y){var n="getAllResponseHeaders"in y?u(y.getAllResponseHeaders()):null,a={data:v&&"text"!==v&&"json"!==v?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:n,config:e,request:y};i((function(e){t(e),g()}),(function(e){r(e),g()}),a),y=null}}if(y.open(e.method.toUpperCase(),o(E,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(x)},y.onabort=function(){y&&(r(new h("Request aborted",h.ECONNABORTED,e,y)),y=null)},y.onerror=function(){r(new h("Network Error",h.ERR_NETWORK,e,y,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||c;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new h(t,n.clarifyTimeoutError?h.ETIMEDOUT:h.ECONNABORTED,e,y)),y=null},n.isStandardBrowserEnv()){var k=(e.withCredentials||l(E))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;k&&(m[e.xsrfHeaderName]=k)}"setRequestHeader"in y&&n.forEach(m,(function(e,t){"undefined"===typeof _&&"content-type"===t.toLowerCase()?delete m[t]:y.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),v&&"json"!==v&&(y.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){y&&(r(!e||e&&e.type?new f:e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),_||(_=null);var T=d(E);T&&-1===["http","https","file"].indexOf(T)?r(new h("Unsupported protocol "+T+":",h.ERR_BAD_REQUEST,e)):y.send(_)}))}},8036:function(e,t,r){"use strict";var n=r(3589),i=r(4049),a=r(3773),o=r(777);var s=function e(t){var r=new a(t),s=i(a.prototype.request,r);return n.extend(s,a.prototype,r),n.extend(s,r),s.create=function(r){return e(o(t,r))},s}(r(1709));s.Axios=a,s.CanceledError=r(6569),s.CancelToken=r(6857),s.isCancel=r(5517),s.VERSION=r(7600).version,s.toFormData=r(1397),s.AxiosError=r(4531),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=r(8089),s.isAxiosError=r(9580),e.exports=s,e.exports.default=s},6857:function(e,t,r){"use strict";var n=r(6569);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6569:function(e,t,r){"use strict";var n=r(4531);function i(e){n.call(this,null==e?"canceled":e,n.ERR_CANCELED),this.name="CanceledError"}r(3589).inherits(i,n,{__CANCEL__:!0}),e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,r){"use strict";var n=r(3589),i=r(9774),a=r(7470),o=r(2733),s=r(777),u=r(1804),l=r(7835),c=l.validators;function h(e){this.defaults=e,this.interceptors={request:new a,response:new a}}h.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&l.assertOptions(r,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var a,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!i){var h=[o,void 0];for(Array.prototype.unshift.apply(h,n),h=h.concat(u),a=Promise.resolve(t);h.length;)a=a.then(h.shift(),h.shift());return a}for(var f=t;n.length;){var d=n.shift(),p=n.shift();try{f=d(f)}catch(_){p(_);break}}try{a=o(f)}catch(_){return Promise.reject(_)}for(;u.length;)a=a.then(u.shift(),u.shift());return a},h.prototype.getUri=function(e){e=s(this.defaults,e);var t=u(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},n.forEach(["delete","get","head","options"],(function(e){h.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(s(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}h.prototype[e]=t(),h.prototype[e+"Form"]=t(!0)})),e.exports=h},4531:function(e,t,r){"use strict";var n=r(3589);function i(e,t,r,n,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}n.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var a=i.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){o[e]={value:e}})),Object.defineProperties(i,o),Object.defineProperty(a,"isAxiosError",{value:!0}),i.from=function(e,t,r,o,s,u){var l=Object.create(a);return n.toFlatObject(e,l,(function(e){return e!==Error.prototype})),i.call(l,e.message,t,r,o,s),l.name=e.name,u&&Object.assign(l,u),l},e.exports=i},7470:function(e,t,r){"use strict";var n=r(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,r){"use strict";var n=r(4044),i=r(9549);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},2733:function(e,t,r){"use strict";var n=r(3589),i=r(2693),a=r(5517),o=r(1709),s=r(6569);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},777:function(e,t,r){"use strict";var n=r(3589);e.exports=function(e,t){t=t||{};var r={};function i(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(e[r],t[r])}function o(e){if(!n.isUndefined(t[e]))return i(void 0,t[e])}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(void 0,t[r])}function u(r){return r in t?i(e[r],t[r]):r in e?i(void 0,e[r]):void 0}var l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||a,i=t(e);n.isUndefined(i)&&t!==u||(r[e]=i)})),r}},7297:function(e,t,r){"use strict";var n=r(4531);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}},2693:function(e,t,r){"use strict";var n=r(3589),i=r(1709);e.exports=function(e,t,r){var a=this||i;return n.forEach(r,(function(r){e=r.call(a,e,t)})),e}},1709:function(e,t,r){"use strict";var n=r(1426),i=r(3589),a=r(4341),o=r(4531),s=r(6789),u=r(1397),l={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var h={transitional:s,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof n&&"[object process]"===Object.prototype.toString.call(n))&&(e=r(3381)),e}(),transformRequest:[function(e,t){if(a(t,"Accept"),a(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e))return e;if(i.isArrayBufferView(e))return e.buffer;if(i.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r,n=i.isObject(e),o=t&&t["Content-Type"];if((r=i.isFileList(e))||n&&"multipart/form-data"===o){var s=this.env&&this.env.FormData;return u(r?{"files[]":e}:e,s&&new s)}return n||"application/json"===o?(c(t,"application/json"),function(e,t,r){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||h.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||n&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw o.from(s,o.ERR_BAD_RESPONSE,this,null,this.response);throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:r(3035)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){h.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){h.headers[e]=i.merge(l)})),e.exports=h},6789:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7600:function(e){e.exports={version:"0.27.2"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},9774:function(e,t,r){"use strict";var n=r(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else if(n.isURLSearchParams(t))a=t.toString();else{var o=[];n.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,r){"use strict";var n=r(3589);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9580:function(e,t,r){"use strict";var n=r(3589);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},5411:function(e,t,r){"use strict";var n=r(3589);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},4341:function(e,t,r){"use strict";var n=r(3589);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},3035:function(e){e.exports=null},9145:function(e,t,r){"use strict";var n=r(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,a,o={};return e?(n.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=n.trim(e.substr(0,a)).toLowerCase(),r=n.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}})),o):o}},6261:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},1397:function(e,t,r){"use strict";var n=r(9778).lW,i=r(3589);e.exports=function(e,t){t=t||new FormData;var r=[];function a(e){return null===e?"":i.isDate(e)?e.toISOString():i.isArrayBuffer(e)||i.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):n.from(e):e}return function e(n,o){if(i.isPlainObject(n)||i.isArray(n)){if(-1!==r.indexOf(n))throw Error("Circular reference detected in "+o);r.push(n),i.forEach(n,(function(r,n){if(!i.isUndefined(r)){var s,u=o?o+"."+n:n;if(r&&!o&&"object"===typeof r)if(i.endsWith(n,"{}"))r=JSON.stringify(r);else if(i.endsWith(n,"[]")&&(s=i.toArray(r)))return void s.forEach((function(e){!i.isUndefined(e)&&t.append(u,a(e))}));e(r,u)}})),r.pop()}else t.append(o,a(n))}(e),t}},7835:function(e,t,r){"use strict";var n=r(7600).version,i=r(4531),a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var o={};a.transitional=function(e,t,r){function a(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,s){if(!1===e)throw new i(a(n," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!o[n]&&(o[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},e.exports={assertOptions:function(e,t,r){if("object"!==typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),a=n.length;a-- >0;){var o=n[a],s=t[o];if(s){var u=e[o],l=void 0===u||s(u,o,e);if(!0!==l)throw new i("option "+o+" must be "+l,i.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new i("Unknown option "+o,i.ERR_BAD_OPTION)}},validators:a}},3589:function(e,t,r){"use strict";var n,i=r(4049),a=Object.prototype.toString,o=(n=Object.create(null),function(e){var t=a.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())});function s(e){return e=e.toLowerCase(),function(t){return o(t)===e}}function u(e){return Array.isArray(e)}function l(e){return"undefined"===typeof e}var c=s("ArrayBuffer");function h(e){return null!==e&&"object"===typeof e}function f(e){if("object"!==o(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var d=s("Date"),p=s("File"),_=s("Blob"),m=s("FileList");function v(e){return"[object Function]"===a.call(e)}var g=s("URLSearchParams");function y(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),u(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var b,w=(b="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return b&&e instanceof b});e.exports={isArray:u,isArrayBuffer:c,isBuffer:function(e){return null!==e&&!l(e)&&null!==e.constructor&&!l(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||a.call(e)===t||v(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&c(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:h,isPlainObject:f,isUndefined:l,isDate:d,isFile:p,isBlob:_,isFunction:v,isStream:function(e){return h(e)&&v(e.pipe)},isURLSearchParams:g,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:y,merge:function e(){var t={};function r(r,n){f(t[n])&&f(r)?t[n]=e(t[n],r):f(r)?t[n]=e({},r):u(r)?t[n]=r.slice():t[n]=r}for(var n=0,i=arguments.length;n<i;n++)y(arguments[n],r);return t},extend:function(e,t,r){return y(t,(function(t,n){e[n]=r&&"function"===typeof t?i(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r){var n,i,a,o={};t=t||{};do{for(i=(n=Object.getOwnPropertyNames(e)).length;i-- >0;)o[a=n[i]]||(t[a]=e[a],o[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:o,kindOfTest:s,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return-1!==n&&n===r},toArray:function(e){if(!e)return null;var t=e.length;if(l(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:w,isFileList:m}},2009:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,a=u(e),o=a[0],s=a[1],l=new i(function(e,t,r){return 3*(t+r)/4-r}(0,o,s)),c=0,h=s>0?o-4:o;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[c++]=255&t);1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=16383,s=0,u=n-i;s<u;s+=o)a.push(l(e,s,s+o>u?u:s+o));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],n=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=a.length;o<s;++o)r[o]=a[o],n[a.charCodeAt(o)]=o;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},1360:function(e){"use strict";for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={},n=0;n<t.length;n++){var i=t.charAt(n);if(void 0!==r[i])throw new TypeError(i+" is ambiguous");r[i]=n}function a(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=a(t)^n>>5}for(t=a(t),r=0;r<e.length;++r){var i=e.charCodeAt(r);t=a(t)^31&i}return t}function s(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var n=e.toLowerCase(),i=e.toUpperCase();if(e!==n&&e!==i)return"Mixed-case string "+e;var s=(e=n).lastIndexOf("1");if(-1===s)return"No separator character for "+e;if(0===s)return"Missing prefix for "+e;var u=e.slice(0,s),l=e.slice(s+1);if(l.length<6)return"Data too short";var c=o(u);if("string"===typeof c)return c;for(var h=[],f=0;f<l.length;++f){var d=l.charAt(f),p=r[d];if(void 0===p)return"Unknown character "+d;c=a(c)^p,f+6>=l.length||h.push(p)}return 1!==c?"Invalid checksum for "+e:{prefix:u,words:h}}function u(e,t,r,n){for(var i=0,a=0,o=(1<<r)-1,s=[],u=0;u<e.length;++u)for(i=i<<t|e[u],a+=t;a>=r;)a-=r,s.push(i>>a&o);if(n)a>0&&s.push(i<<r-a&o);else{if(a>=t)return"Excess padding";if(i<<r-a&o)return"Non-zero padding"}return s}e.exports={decodeUnsafe:function(){var e=s.apply(null,arguments);if("object"===typeof e)return e},decode:function(e){var t=s.apply(null,arguments);if("object"===typeof t)return t;throw new Error(t)},encode:function(e,r,n){if(n=n||90,e.length+7+r.length>n)throw new TypeError("Exceeds length limit");var i=o(e=e.toLowerCase());if("string"===typeof i)throw new Error(i);for(var s=e+"1",u=0;u<r.length;++u){var l=r[u];if(l>>5!==0)throw new Error("Non 5-bit word");i=a(i)^l,s+=t.charAt(l)}for(u=0;u<6;++u)i=a(i);for(i^=1,u=0;u<6;++u){s+=t.charAt(i>>5*(5-u)&31)}return s},toWordsUnsafe:function(e){var t=u(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=u(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=u(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=u(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}}},518:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function a(e,t,r){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"===typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{o="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(6601).Buffer}catch(O){}function s(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function u(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function l(e,t,r,i){for(var a=0,o=0,s=Math.min(e.length,r),u=t;u<s;u++){var l=e.charCodeAt(u)-48;a*=i,o=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&o<i,"Invalid character"),a+=o}return a}function c(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(a.isBN=function(e){return e instanceof a||null!==e&&"object"===typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},a.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},a.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===r)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===r)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this._strip()},a.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,a=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;else for(n=(e.length-t)%2===0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;this._strip()},a.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,o=a%n,s=Math.min(a,a-o)+r,u=0,c=r;c<s;c+=n)u=l(e,c,c+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=l(e,c,e.length,t),c=0;c<o;c++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype._move=function(e){c(e,this)},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(O){a.prototype.inspect=h}else a.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<i|a)).toString(16);a=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==a||o!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==a&&(r=a.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var l=d[e],c=p[e];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var _=h.modrn(c).toString(e);r=(h=h.idivn(c)).isZero()?_+r:f[l-_.length]+_+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16,2)},o&&(a.prototype.toBuffer=function(e,t){return this.toArrayLike(o,e,t)}),a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function _(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var l=1;l<n;l++){for(var c=u>>>26,h=67108863&u,f=Math.min(l,t.length-1),d=Math.max(0,l-e.length+1);d<=f;d++){var p=l-d|0;c+=(o=(i=0|e.words[p])*(a=0|t.words[d])+h)/67108864|0,h=67108863&o}r.words[l]=0|h,u=0|c}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}a.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),a=r||Math.max(1,i);n(i<=a,"byte array longer than desired length"),n(a>0,"Requested array length <= 0");var o=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,a);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,i),o},a.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,a=0;i<this.length;i++){var o=this.words[i]<<a|n;e[r++]=255&o,r<e.length&&(e[r++]=o>>8&255),r<e.length&&(e[r++]=o>>16&255),6===a?(r<e.length&&(e[r++]=o>>24&255),n=0,a=0):(n=o>>>24,a+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},a.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,a=0;i<this.length;i++){var o=this.words[i]<<a|n;e[r--]=255&o,r>=0&&(e[r--]=o>>8&255),r>=0&&(e[r--]=o>>16&255),6===a?(r>=0&&(e[r--]=o>>24&255),n=0,a=0):(n=o>>>24,a+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},a.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},a.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},a.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},a.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,o=0;o<n.length;o++)a=(t=(0|r.words[o])-(0|n.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<r.length;o++)a=(t=(0|r.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,r){var n,i,a,o=e.words,s=t.words,u=r.words,l=0,c=0|o[0],h=8191&c,f=c>>>13,d=0|o[1],p=8191&d,_=d>>>13,m=0|o[2],v=8191&m,g=m>>>13,y=0|o[3],b=8191&y,w=y>>>13,E=0|o[4],x=8191&E,k=E>>>13,T=0|o[5],M=8191&T,A=T>>>13,O=0|o[6],S=8191&O,R=O>>>13,C=0|o[7],P=8191&C,D=C>>>13,I=0|o[8],L=8191&I,U=I>>>13,j=0|o[9],N=8191&j,B=j>>>13,Z=0|s[0],W=8191&Z,F=Z>>>13,z=0|s[1],K=8191&z,H=z>>>13,G=0|s[2],V=8191&G,X=G>>>13,Y=0|s[3],q=8191&Y,$=Y>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],ue=8191&se,le=se>>>13,ce=0|s[8],he=8191&ce,fe=ce>>>13,de=0|s[9],pe=8191&de,_e=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(l+(n=Math.imul(h,W))|0)+((8191&(i=(i=Math.imul(h,F))+Math.imul(f,W)|0))<<13)|0;l=((a=Math.imul(f,F))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,W),i=(i=Math.imul(p,F))+Math.imul(_,W)|0,a=Math.imul(_,F);var ve=(l+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,K)|0))<<13)|0;l=((a=a+Math.imul(f,H)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(v,W),i=(i=Math.imul(v,F))+Math.imul(g,W)|0,a=Math.imul(g,F),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(_,K)|0,a=a+Math.imul(_,H)|0;var ge=(l+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,X)|0)+Math.imul(f,V)|0))<<13)|0;l=((a=a+Math.imul(f,X)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(b,W),i=(i=Math.imul(b,F))+Math.imul(w,W)|0,a=Math.imul(w,F),n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(g,K)|0,a=a+Math.imul(g,H)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(_,V)|0,a=a+Math.imul(_,X)|0;var ye=(l+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(f,q)|0))<<13)|0;l=((a=a+Math.imul(f,$)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(x,W),i=(i=Math.imul(x,F))+Math.imul(k,W)|0,a=Math.imul(k,F),n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,H)|0)+Math.imul(w,K)|0,a=a+Math.imul(w,H)|0,n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(g,V)|0,a=a+Math.imul(g,X)|0,n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(_,q)|0,a=a+Math.imul(_,$)|0;var be=(l+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(f,Q)|0))<<13)|0;l=((a=a+Math.imul(f,ee)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(M,W),i=(i=Math.imul(M,F))+Math.imul(A,W)|0,a=Math.imul(A,F),n=n+Math.imul(x,K)|0,i=(i=i+Math.imul(x,H)|0)+Math.imul(k,K)|0,a=a+Math.imul(k,H)|0,n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,X)|0)+Math.imul(w,V)|0,a=a+Math.imul(w,X)|0,n=n+Math.imul(v,q)|0,i=(i=i+Math.imul(v,$)|0)+Math.imul(g,q)|0,a=a+Math.imul(g,$)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(_,Q)|0,a=a+Math.imul(_,ee)|0;var we=(l+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(f,re)|0))<<13)|0;l=((a=a+Math.imul(f,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(S,W),i=(i=Math.imul(S,F))+Math.imul(R,W)|0,a=Math.imul(R,F),n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,H)|0)+Math.imul(A,K)|0,a=a+Math.imul(A,H)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(k,V)|0,a=a+Math.imul(k,X)|0,n=n+Math.imul(b,q)|0,i=(i=i+Math.imul(b,$)|0)+Math.imul(w,q)|0,a=a+Math.imul(w,$)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(g,Q)|0,a=a+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(_,re)|0,a=a+Math.imul(_,ne)|0;var Ee=(l+(n=n+Math.imul(h,ae)|0)|0)+((8191&(i=(i=i+Math.imul(h,oe)|0)+Math.imul(f,ae)|0))<<13)|0;l=((a=a+Math.imul(f,oe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(P,W),i=(i=Math.imul(P,F))+Math.imul(D,W)|0,a=Math.imul(D,F),n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(R,K)|0,a=a+Math.imul(R,H)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(A,V)|0,a=a+Math.imul(A,X)|0,n=n+Math.imul(x,q)|0,i=(i=i+Math.imul(x,$)|0)+Math.imul(k,q)|0,a=a+Math.imul(k,$)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(w,Q)|0,a=a+Math.imul(w,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(g,re)|0,a=a+Math.imul(g,ne)|0,n=n+Math.imul(p,ae)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(_,ae)|0,a=a+Math.imul(_,oe)|0;var xe=(l+(n=n+Math.imul(h,ue)|0)|0)+((8191&(i=(i=i+Math.imul(h,le)|0)+Math.imul(f,ue)|0))<<13)|0;l=((a=a+Math.imul(f,le)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(L,W),i=(i=Math.imul(L,F))+Math.imul(U,W)|0,a=Math.imul(U,F),n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(D,K)|0,a=a+Math.imul(D,H)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(R,V)|0,a=a+Math.imul(R,X)|0,n=n+Math.imul(M,q)|0,i=(i=i+Math.imul(M,$)|0)+Math.imul(A,q)|0,a=a+Math.imul(A,$)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(k,Q)|0,a=a+Math.imul(k,ee)|0,n=n+Math.imul(b,re)|0,i=(i=i+Math.imul(b,ne)|0)+Math.imul(w,re)|0,a=a+Math.imul(w,ne)|0,n=n+Math.imul(v,ae)|0,i=(i=i+Math.imul(v,oe)|0)+Math.imul(g,ae)|0,a=a+Math.imul(g,oe)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(_,ue)|0,a=a+Math.imul(_,le)|0;var ke=(l+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;l=((a=a+Math.imul(f,fe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(N,W),i=(i=Math.imul(N,F))+Math.imul(B,W)|0,a=Math.imul(B,F),n=n+Math.imul(L,K)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(U,K)|0,a=a+Math.imul(U,H)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(D,V)|0,a=a+Math.imul(D,X)|0,n=n+Math.imul(S,q)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(R,q)|0,a=a+Math.imul(R,$)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(A,Q)|0,a=a+Math.imul(A,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(k,re)|0,a=a+Math.imul(k,ne)|0,n=n+Math.imul(b,ae)|0,i=(i=i+Math.imul(b,oe)|0)+Math.imul(w,ae)|0,a=a+Math.imul(w,oe)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,le)|0)+Math.imul(g,ue)|0,a=a+Math.imul(g,le)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(_,he)|0,a=a+Math.imul(_,fe)|0;var Te=(l+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,_e)|0)+Math.imul(f,pe)|0))<<13)|0;l=((a=a+Math.imul(f,_e)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(N,K),i=(i=Math.imul(N,H))+Math.imul(B,K)|0,a=Math.imul(B,H),n=n+Math.imul(L,V)|0,i=(i=i+Math.imul(L,X)|0)+Math.imul(U,V)|0,a=a+Math.imul(U,X)|0,n=n+Math.imul(P,q)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(D,q)|0,a=a+Math.imul(D,$)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(R,Q)|0,a=a+Math.imul(R,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(A,re)|0,a=a+Math.imul(A,ne)|0,n=n+Math.imul(x,ae)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(k,ae)|0,a=a+Math.imul(k,oe)|0,n=n+Math.imul(b,ue)|0,i=(i=i+Math.imul(b,le)|0)+Math.imul(w,ue)|0,a=a+Math.imul(w,le)|0,n=n+Math.imul(v,he)|0,i=(i=i+Math.imul(v,fe)|0)+Math.imul(g,he)|0,a=a+Math.imul(g,fe)|0;var Me=(l+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,_e)|0)+Math.imul(_,pe)|0))<<13)|0;l=((a=a+Math.imul(_,_e)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(N,V),i=(i=Math.imul(N,X))+Math.imul(B,V)|0,a=Math.imul(B,X),n=n+Math.imul(L,q)|0,i=(i=i+Math.imul(L,$)|0)+Math.imul(U,q)|0,a=a+Math.imul(U,$)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(D,Q)|0,a=a+Math.imul(D,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(R,re)|0,a=a+Math.imul(R,ne)|0,n=n+Math.imul(M,ae)|0,i=(i=i+Math.imul(M,oe)|0)+Math.imul(A,ae)|0,a=a+Math.imul(A,oe)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,le)|0)+Math.imul(k,ue)|0,a=a+Math.imul(k,le)|0,n=n+Math.imul(b,he)|0,i=(i=i+Math.imul(b,fe)|0)+Math.imul(w,he)|0,a=a+Math.imul(w,fe)|0;var Ae=(l+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,_e)|0)+Math.imul(g,pe)|0))<<13)|0;l=((a=a+Math.imul(g,_e)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(N,q),i=(i=Math.imul(N,$))+Math.imul(B,q)|0,a=Math.imul(B,$),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(U,Q)|0,a=a+Math.imul(U,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(D,re)|0,a=a+Math.imul(D,ne)|0,n=n+Math.imul(S,ae)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(R,ae)|0,a=a+Math.imul(R,oe)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(A,ue)|0,a=a+Math.imul(A,le)|0,n=n+Math.imul(x,he)|0,i=(i=i+Math.imul(x,fe)|0)+Math.imul(k,he)|0,a=a+Math.imul(k,fe)|0;var Oe=(l+(n=n+Math.imul(b,pe)|0)|0)+((8191&(i=(i=i+Math.imul(b,_e)|0)+Math.imul(w,pe)|0))<<13)|0;l=((a=a+Math.imul(w,_e)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(N,Q),i=(i=Math.imul(N,ee))+Math.imul(B,Q)|0,a=Math.imul(B,ee),n=n+Math.imul(L,re)|0,i=(i=i+Math.imul(L,ne)|0)+Math.imul(U,re)|0,a=a+Math.imul(U,ne)|0,n=n+Math.imul(P,ae)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(D,ae)|0,a=a+Math.imul(D,oe)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,le)|0)+Math.imul(R,ue)|0,a=a+Math.imul(R,le)|0,n=n+Math.imul(M,he)|0,i=(i=i+Math.imul(M,fe)|0)+Math.imul(A,he)|0,a=a+Math.imul(A,fe)|0;var Se=(l+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,_e)|0)+Math.imul(k,pe)|0))<<13)|0;l=((a=a+Math.imul(k,_e)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(N,re),i=(i=Math.imul(N,ne))+Math.imul(B,re)|0,a=Math.imul(B,ne),n=n+Math.imul(L,ae)|0,i=(i=i+Math.imul(L,oe)|0)+Math.imul(U,ae)|0,a=a+Math.imul(U,oe)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,le)|0)+Math.imul(D,ue)|0,a=a+Math.imul(D,le)|0,n=n+Math.imul(S,he)|0,i=(i=i+Math.imul(S,fe)|0)+Math.imul(R,he)|0,a=a+Math.imul(R,fe)|0;var Re=(l+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,_e)|0)+Math.imul(A,pe)|0))<<13)|0;l=((a=a+Math.imul(A,_e)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(N,ae),i=(i=Math.imul(N,oe))+Math.imul(B,ae)|0,a=Math.imul(B,oe),n=n+Math.imul(L,ue)|0,i=(i=i+Math.imul(L,le)|0)+Math.imul(U,ue)|0,a=a+Math.imul(U,le)|0,n=n+Math.imul(P,he)|0,i=(i=i+Math.imul(P,fe)|0)+Math.imul(D,he)|0,a=a+Math.imul(D,fe)|0;var Ce=(l+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,_e)|0)+Math.imul(R,pe)|0))<<13)|0;l=((a=a+Math.imul(R,_e)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(N,ue),i=(i=Math.imul(N,le))+Math.imul(B,ue)|0,a=Math.imul(B,le),n=n+Math.imul(L,he)|0,i=(i=i+Math.imul(L,fe)|0)+Math.imul(U,he)|0,a=a+Math.imul(U,fe)|0;var Pe=(l+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,_e)|0)+Math.imul(D,pe)|0))<<13)|0;l=((a=a+Math.imul(D,_e)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(N,he),i=(i=Math.imul(N,fe))+Math.imul(B,he)|0,a=Math.imul(B,fe);var De=(l+(n=n+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,_e)|0)+Math.imul(U,pe)|0))<<13)|0;l=((a=a+Math.imul(U,_e)|0)+(i>>>13)|0)+(De>>>26)|0,De&=67108863;var Ie=(l+(n=Math.imul(N,pe))|0)+((8191&(i=(i=Math.imul(N,_e))+Math.imul(B,pe)|0))<<13)|0;return l=((a=Math.imul(B,_e))+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,u[0]=me,u[1]=ve,u[2]=ge,u[3]=ye,u[4]=be,u[5]=we,u[6]=Ee,u[7]=xe,u[8]=ke,u[9]=Te,u[10]=Me,u[11]=Ae,u[12]=Oe,u[13]=Se,u[14]=Re,u[15]=Ce,u[16]=Pe,u[17]=De,u[18]=Ie,0!==l&&(u[19]=l,r.length++),r};function v(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var o=i;i=0;for(var s=67108863&n,u=Math.min(a,t.length-1),l=Math.max(0,a-e.length+1);l<=u;l++){var c=a-l,h=(0|e.words[c])*(0|t.words[l]),f=67108863&h;s=67108863&(f=f+s|0),i+=(o=(o=o+(h/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[a]=s,n=o,o=i}return 0!==n?r.words[a]=n:r.length--,r._strip()}function g(e,t,r){return v(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(m=_),a.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?m(this,e,t):r<63?_(this,e,t):r<1024?v(this,e,t):g(this,e,t)},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=a.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,a){for(var o=0;o<a;o++)n[o]=t[e[o]],i[o]=r[e[o]]},y.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var h=u,f=l,d=0;d<o;d++){var p=r[c+d],_=n[c+d],m=r[c+d+o],v=n[c+d+o],g=h*m-f*v;v=h*v+f*m,m=g,r[c+d]=p+m,n[c+d]=_+v,r[c+d+o]=p-m,n[c+d+o]=_-v,d!==s&&(g=u*h-l*f,f=u*f+l*h,h=g)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,r,i){for(var a=0,o=0;o<t;o++)a+=0|e[o],r[2*o]=8191&a,a>>>=13,r[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===a),n(0===(-8192&a))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),l=new Array(n),c=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,l,n),this.transform(o,a,s,u,n,i),this.transform(l,a,c,h,n,i);for(var d=0;d<n;d++){var p=s[d]*c[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*c[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,f,a,n,i),this.conjugate(f,a,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),g(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"===typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var a=(0|this.words[i])*e,o=(67108863&a)+(67108863&r);r>>=26,r+=a/67108864|0,r+=o>>>26,this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new a(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},a.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,a=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,u=(0|this.words[t])-s<<r;this.words[t]=u|o,o=s>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},a.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,r){var i;n("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,u=r;if(i-=o,i=Math.max(0,i),u){for(var l=0;l<o;l++)u.words[l]=this.words[l];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var h=0|this.words[l];this.words[l]=c<<26-a|h>>>a,c=h&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},a.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,r){var i,a,o=e.length+r;this._expand(o);var s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+r])+s;var u=(0|e.words[i])*t;s=((a-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&a}for(;i<this.length-r;i++)s=(a=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&a;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(a=-(0|this.words[i])+s)>>26,this.words[i]=67108863&a;return this.negative=1,this._strip()},a.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var s,u=n.length-i.length;if("mod"!==t){(s=new a(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=n.clone()._ishlnsubmul(i,1,u);0===c.negative&&(n=c,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);s&&(s.words[h]=f)}return s&&s._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},a.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(o=s.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(o=s.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:s.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,o,s},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,a=this.length-1;a>=0;a--)i=(r*i+(0|this.words[a]))%e;return t?-i:i},a.prototype.modn=function(e){return this.modrn(e)},a.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var a=(0|this.words[i])+67108864*r;this.words[i]=a/e|0,r=a%e}return this._strip(),t?this.ineg():this},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new a(1),o=new a(0),s=new a(0),u=new a(1),l=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++l;for(var c=r.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0===(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(c),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,_=1;0===(r.words[0]&_)&&p<26;++p,_<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(h)),s.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(s),o.isub(u)):(r.isub(t),s.isub(i),u.isub(o))}return{a:s,b:u,gcd:r.iushln(l)}},a.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new a(1),s=new a(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,c=1;0===(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,f=1;0===(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(s)):(r.isub(t),s.isub(o))}return(i=0===t.cmpn(1)?o:s).cmpn(0)<0&&i.iadd(e),i},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0===(1&this.words[0])},a.prototype.isOdd=function(){return 1===(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var a=i,o=r;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new M(e)},a.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function T(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(e){if("string"===typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){M.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},i(E,w),E.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|a>>>22,a=o}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},E.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(x,w),i(k,w),i(T,w),T.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(b[e])return b[e];var t;if("k256"===e)t=new E;else if("p224"===e)t=new x;else if("p192"===e)t=new k;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new T}return b[e]=t,t},M.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},M.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},M.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(c(e,e.umod(this.m)._forceRed(this)),e)},M.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},M.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},M.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},M.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},M.prototype.isqr=function(e){return this.imul(e,e.clone())},M.prototype.sqr=function(e){return this.mul(e,e)},M.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new a(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var s=new a(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new a(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=o;0!==d.cmp(s);){for(var _=d,m=0;0!==_.cmp(s);m++)_=_.redSqr();n(m<p);var v=this.pow(h,new a(1).iushln(p-m-1));f=f.redMul(v),h=v.redSqr(),d=d.redMul(h),p=m}return f},M.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},M.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new a(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var l=t.words[n],c=u-1;c>=0;c--){var h=l>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++s||0===n&&0===c)&&(i=this.mul(i,r[o]),s=0,o=0)):s=0}u=26}return i},M.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},M.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new A(e)},i(A,M),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},9778:function(e,t,r){"use strict";var n=r(2009),i=r(4038),a="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=u,t.h2=50;var o=2147483647;function s(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return l(e,t,r)}function l(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|_(e,t),n=s(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(W(e,Uint8Array)){var t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(W(e,ArrayBuffer)||e&&W(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(W(e,SharedArrayBuffer)||e&&W(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);var i=function(e){if(u.isBuffer(e)){var t=0|p(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||F(e.length)?s(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return c(e),s(e<0?0:0|p(e))}function f(e){for(var t=e.length<0?0:0|p(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function _(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||W(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return B(e).length;default:if(i)return n?-1:N(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return M(this,t,r);case"ascii":return O(this,t,r);case"latin1":case"binary":return S(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),F(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var a,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(a=r;a<s;a++)if(l(e,a)===l(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var h=!0,f=0;f<u;f++)if(l(e,a+f)!==l(t,f)){h=!1;break}if(h)return a}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(F(s))return o;e[r+o]=s}return o}function w(e,t,r,n){return Z(N(t,e.length-r),e,r,n)}function E(e,t,r,n){return Z(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function x(e,t,r,n){return Z(B(t),e,r,n)}function k(e,t,r,n){return Z(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function M(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,u,l=e[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=r)switch(h){case 1:l<128&&(c=l);break;case 2:128===(192&(a=e[i+1]))&&(u=(31&l)<<6|63&a)>127&&(c=u);break;case 3:a=e[i+1],o=e[i+2],128===(192&a)&&128===(192&o)&&(u=(15&l)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}u.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(r){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return c(e),e<=0?s(e):void 0!==t?"string"===typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},u.allocUnsafe=function(e){return h(e)},u.allocUnsafeSlow=function(e){return h(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(W(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),W(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(W(a,Uint8Array))i+a.length>n.length?u.from(a).copy(n,i):Uint8Array.prototype.set.call(n,a,i);else{if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i)}i+=a.length}return n},u.byteLength=_,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?M(this,0,e):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.h2;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(u.prototype[a]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(W(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),l=this.slice(n,i),c=e.slice(t,r),h=0;h<s;++h)if(l[h]!==c[h]){a=l[h],o=c[h];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return x(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function O(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function S(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function R(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=z[e[a]];return i}function C(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length-1;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function P(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,r,n,i,a){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function I(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,a){return t=+t,r>>>=0,a||I(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,a){return t=+t,r>>>=0,a||I(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},u.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||D(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||D(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=u.isBuffer(e)?e:u.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var j=/[^+/0-9A-Za-z-_]/g;function N(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function B(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function Z(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function W(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function F(e){return e!==e}var z=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},4255:function(e,t){var r="undefined"!==typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in e,o="ArrayBuffer"in e;if(o)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function c(e){return"string"!==typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function _(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(_)}),this.text=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=p(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=l(e),t=c(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},f.prototype.delete=function(e){delete this.map[l(e)]},f.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},f.prototype.set=function(e,t){this.map[l(e)]=c(t)},f.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),h(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),h(e)},n&&(f.prototype[Symbol.iterator]=f.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){var r=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=function(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function b(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function w(e){var t=new f;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t}function E(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},v.call(y.prototype),v.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];E.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(T){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,r){return new Promise((function(n,a){var o=new y(e,r);if(o.signal&&o.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:w(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;n(new E(t,e))},s.onerror=function(){a(new TypeError("Network request failed"))},s.ontimeout=function(){a(new TypeError("Network request failed"))},s.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",u)}),s.send("undefined"===typeof o._bodyInit?null:o._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=f,e.Request=y,e.Response=E),t.Headers=f,t.Request=y,t.Response=E,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},4210:function(e){var t=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"===typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},400:function(e,t,r){"use strict";r.r(t),r.d(t,{BaseContract:function(){return Hn},BigNumber:function(){return ne},Contract:function(){return Gn},ContractFactory:function(){return Vn},FixedNumber:function(){return ii},Signer:function(){return wr},VoidSigner:function(){return Er},Wallet:function(){return Ia},Wordlist:function(){return Li},constants:function(){return i},errors:function(){return k},ethers:function(){return u},getDefaultProvider:function(){return Du},logger:function(){return ll},providers:function(){return a},utils:function(){return s},version:function(){return ul},wordlists:function(){return Bi}});var n={};r.r(n),r.d(n,{decode:function(){return Ue},encode:function(){return De}});var i={};r.r(i),r.d(i,{AddressZero:function(){return ja},EtherSymbol:function(){return Ba},HashZero:function(){return Na},MaxInt256:function(){return At},MaxUint256:function(){return Tt},MinInt256:function(){return Mt},NegativeOne:function(){return bt},One:function(){return Et},Two:function(){return xt},WeiPerEther:function(){return kt},Zero:function(){return wt}});var a={};r.r(a),r.d(a,{AlchemyProvider:function(){return Bs},AlchemyWebSocketProvider:function(){return Ns},AnkrProvider:function(){return zs},BaseProvider:function(){return hs},CloudflareProvider:function(){return Gs},EtherscanProvider:function(){return eu},FallbackProvider:function(){return mu},Formatter:function(){return jo},InfuraProvider:function(){return wu},InfuraWebSocketProvider:function(){return bu},IpcProvider:function(){return vu},JsonRpcBatchProvider:function(){return Eu},JsonRpcProvider:function(){return Ts},JsonRpcSigner:function(){return Es},NodesmithProvider:function(){return ku},PocketProvider:function(){return Au},Provider:function(){return mr},Resolver:function(){return us},StaticJsonRpcProvider:function(){return Is},UrlJsonRpcProvider:function(){return Ls},Web3Provider:function(){return Cu},WebSocketProvider:function(){return Cs},getDefaultProvider:function(){return Du},getNetwork:function(){return Va},isCommunityResourcable:function(){return No},isCommunityResource:function(){return Bo},showThrottleMessage:function(){return Wo}});var o={};r.r(o),r.d(o,{decode:function(){return Xa},encode:function(){return Ya}});var s={};r.r(s),r.d(s,{AbiCoder:function(){return nr},ConstructorFragment:function(){return Gt},ErrorFragment:function(){return Yt},EventFragment:function(){return Ft},FormatTypes:function(){return jt},Fragment:function(){return Wt},FunctionFragment:function(){return Vt},HDNode:function(){return qi},Indexed:function(){return lr},Interface:function(){return fr},LogDescription:function(){return or},Logger:function(){return A},ParamType:function(){return Bt},RLP:function(){return n},SigningKey:function(){return hn},SupportedAlgorithm:function(){return ki},TransactionDescription:function(){return sr},TransactionTypes:function(){return pn},UnicodeNormalizationForm:function(){return qe},Utf8ErrorFuncs:function(){return et},Utf8ErrorReason:function(){return $e},_TypedDataEncoder:function(){return Ti},_fetchData:function(){return Ro},_toEscapedUtf8String:function(){return it},accessListify:function(){return kn},arrayify:function(){return I},base58:function(){return Ai},base64:function(){return o},checkProperties:function(){return de},checkResultErrors:function(){return Ee},commify:function(){return nl},computeAddress:function(){return bn},computeHmac:function(){return Pi},computePublicKey:function(){return dn},concat:function(){return L},deepCopy:function(){return ge},defaultAbiCoder:function(){return ir},defaultPath:function(){return Yi},defineReadOnly:function(){return ce},dnsEncode:function(){return xo},entropyToMnemonic:function(){return Qi},fetchJson:function(){return Co},formatBytes32String:function(){return Qu},formatEther:function(){return ol},formatUnits:function(){return il},getAccountPath:function(){return ta},getAddress:function(){return He},getContractAddress:function(){return Xe},getCreate2Address:function(){return Ye},getIcapAddress:function(){return Ve},getJsonWalletAddress:function(){return Sa},getStatic:function(){return he},hashMessage:function(){return si},hexConcat:function(){return z},hexDataLength:function(){return W},hexDataSlice:function(){return F},hexStripZeros:function(){return H},hexValue:function(){return K},hexZeroPad:function(){return G},hexlify:function(){return Z},id:function(){return ut},isAddress:function(){return Ge},isBytes:function(){return D},isBytesLike:function(){return C},isHexString:function(){return N},isValidMnemonic:function(){return ea},isValidName:function(){return wo},joinSignature:function(){return X},keccak256:function(){return Oe},mnemonicToEntropy:function(){return Ji},mnemonicToSeed:function(){return $i},namehash:function(){return Eo},nameprep:function(){return Ju},parseBytes32String:function(){return el},parseEther:function(){return sl},parseTransaction:function(){return Rn},parseUnits:function(){return al},poll:function(){return Po},randomBytes:function(){return aa},recoverAddress:function(){return wn},recoverPublicKey:function(){return fn},resolveProperties:function(){return fe},ripemd160:function(){return Si},serializeTransaction:function(){return On},sha256:function(){return Ri},sha512:function(){return Ci},shallowCopy:function(){return pe},shuffled:function(){return tu},solidityKeccak256:function(){return Zu},solidityPack:function(){return Bu},soliditySha256:function(){return Wu},splitSignature:function(){return V},stripZeros:function(){return U},toUtf8Bytes:function(){return rt},toUtf8CodePoints:function(){return st},toUtf8String:function(){return ot},verifyMessage:function(){return La},verifyTypedData:function(){return Ua},zeroPad:function(){return j}});var u={};r.r(u),r.d(u,{BaseContract:function(){return Hn},BigNumber:function(){return ne},Contract:function(){return Gn},ContractFactory:function(){return Vn},FixedNumber:function(){return ii},Signer:function(){return wr},VoidSigner:function(){return Er},Wallet:function(){return Ia},Wordlist:function(){return Li},constants:function(){return i},errors:function(){return k},getDefaultProvider:function(){return Du},logger:function(){return ll},providers:function(){return a},utils:function(){return s},version:function(){return ul},wordlists:function(){return Bi}});var l=r(2982),c=r(7326),h=r(8301),f=r(1120),d=r(136),p=r(9388),_=r(5671),m=r(3144),v=r(4165),g=!1,y=!1,b={debug:1,default:2,info:2,warning:3,error:4,off:5},w=b.default,E=null;var x,k,T=function(){try{var e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((function(t){try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(x||(x={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(k||(k={}));var M="0123456789abcdef",A=function(){function e(t){(0,_.Z)(this,e),Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}return(0,m.Z)(e,[{key:"_log",value:function(e,t){var r=e.toLowerCase();null==b[r]&&this.throwArgumentError("invalid log level name","logLevel",e),w>b[r]||console.log.apply(console,t)}},{key:"debug",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.DEBUG,r)}},{key:"info",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.INFO,r)}},{key:"warn",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.WARNING,r)}},{key:"makeError",value:function(t,r,n){if(y)return this.makeError("censored error",r,{});r||(r=e.errors.UNKNOWN_ERROR),n||(n={});var i=[];Object.keys(n).forEach((function(e){var t=n[e];try{if(t instanceof Uint8Array){for(var r="",a=0;a<t.length;a++)r+=M[t[a]>>4],r+=M[15&t[a]];i.push(e+"=Uint8Array(0x"+r+")")}else i.push(e+"="+JSON.stringify(t))}catch(u){i.push(e+"="+JSON.stringify(n[e].toString()))}})),i.push("code=".concat(r)),i.push("version=".concat(this.version));var a=t,o="";switch(r){case k.NUMERIC_FAULT:o="NUMERIC_FAULT";var s=t;switch(s){case"overflow":case"underflow":case"division-by-zero":o+="-"+s;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break;case k.CALL_EXCEPTION:case k.INSUFFICIENT_FUNDS:case k.MISSING_NEW:case k.NONCE_EXPIRED:case k.REPLACEMENT_UNDERPRICED:case k.TRANSACTION_REPLACED:case k.UNPREDICTABLE_GAS_LIMIT:o=r}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(t+=" ("+i.join(", ")+")");var u=new Error(t);return u.reason=a,u.code=r,Object.keys(n).forEach((function(e){u[e]=n[e]})),u}},{key:"throwError",value:function(e,t,r){throw this.makeError(e,t,r)}},{key:"throwArgumentError",value:function(t,r,n){return this.throwError(t,e.errors.INVALID_ARGUMENT,{argument:r,value:n})}},{key:"assert",value:function(e,t,r,n){e||this.throwError(t,r,n)}},{key:"assertArgument",value:function(e,t,r,n){e||this.throwArgumentError(t,r,n)}},{key:"checkNormalize",value:function(t){null==t&&(t="platform missing String.prototype.normalize"),T&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:T})}},{key:"checkSafeUint53",value:function(t,r){"number"===typeof t&&(null==r&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}},{key:"checkArgumentCount",value:function(t,r,n){n=n?": "+n:"",t<r&&this.throwError("missing argument"+n,e.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+n,e.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}},{key:"checkNew",value:function(t,r){t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}},{key:"checkAbstract",value:function(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}}],[{key:"globalLogger",value:function(){return E||(E=new e("logger/5.7.0")),E}},{key:"setCensorship",value:function(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),g){if(!t)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}y=!!t,g=!!r}},{key:"setLogLevel",value:function(t){var r=b[t.toLowerCase()];null!=r?w=r:e.globalLogger().warn("invalid log level - "+t)}},{key:"from",value:function(t){return new e(t)}}]),e}();A.errors=k,A.levels=x;var O=new A("bytes/5.7.0");function S(e){return!!e.toHexString}function R(e){return e.slice||(e.slice=function(){var t=Array.prototype.slice.call(arguments);return R(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function C(e){return N(e)&&!(e.length%2)||D(e)}function P(e){return"number"===typeof e&&e==e&&e%1===0}function D(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!P(e.length)||e.length<0)return!1;for(var t=0;t<e.length;t++){var r=e[t];if(!P(r)||r<0||r>=256)return!1}return!0}function I(e,t){if(t||(t={}),"number"===typeof e){O.checkSafeUint53(e,"invalid arrayify value");for(var r=[];e;)r.unshift(255&e),e=parseInt(String(e/256));return 0===r.length&&r.push(0),R(new Uint8Array(r))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),S(e)&&(e=e.toHexString()),N(e)){var n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0"+n:"right"===t.hexPad?n+="0":O.throwArgumentError("hex data is odd-length","value",e));for(var i=[],a=0;a<n.length;a+=2)i.push(parseInt(n.substring(a,a+2),16));return R(new Uint8Array(i))}return D(e)?R(new Uint8Array(e)):O.throwArgumentError("invalid arrayify value","value",e)}function L(e){var t=e.map((function(e){return I(e)})),r=t.reduce((function(e,t){return e+t.length}),0),n=new Uint8Array(r);return t.reduce((function(e,t){return n.set(t,e),e+t.length}),0),R(n)}function U(e){var t=I(e);if(0===t.length)return t;for(var r=0;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function j(e,t){(e=I(e)).length>t&&O.throwArgumentError("value out of range","value",arguments[0]);var r=new Uint8Array(t);return r.set(e,t-e.length),R(r)}function N(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}var B="0123456789abcdef";function Z(e,t){if(t||(t={}),"number"===typeof e){O.checkSafeUint53(e,"invalid hexlify value");for(var r="";e;)r=B[15&e]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),S(e))return e.toHexString();if(N(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":O.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(D(e)){for(var n="0x",i=0;i<e.length;i++){var a=e[i];n+=B[(240&a)>>4]+B[15&a]}return n}return O.throwArgumentError("invalid hexlify value","value",e)}function W(e){if("string"!==typeof e)e=Z(e);else if(!N(e)||e.length%2)return null;return(e.length-2)/2}function F(e,t,r){return"string"!==typeof e?e=Z(e):(!N(e)||e.length%2)&&O.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function z(e){var t="0x";return e.forEach((function(e){t+=Z(e).substring(2)})),t}function K(e){var t=H(Z(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function H(e){"string"!==typeof e&&(e=Z(e)),N(e)||O.throwArgumentError("invalid hex string","value",e),e=e.substring(2);for(var t=0;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}function G(e,t){for("string"!==typeof e?e=Z(e):N(e)||O.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&O.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function V(e){var t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(C(e)){var r=I(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=Z(r.slice(0,32)),t.s=Z(r.slice(32,64))):65===r.length?(t.r=Z(r.slice(0,32)),t.s=Z(r.slice(32,64)),t.v=r[64]):O.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:O.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=Z(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){var n=j(I(t._vs),32);t._vs=Z(n);var i=n[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=i:t.recoveryParam!==i&&O.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;var a=Z(n);null==t.s?t.s=a:t.s!==a&&O.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?O.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{var o=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==o&&O.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&N(t.r)?t.r=G(t.r,32):O.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&N(t.s)?t.s=G(t.s,32):O.throwArgumentError("signature missing or invalid s","signature",e);var s=I(t.s);s[0]>=128&&O.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(s[0]|=128);var u=Z(s);t._vs&&(N(t._vs)||O.throwArgumentError("signature invalid _vs","signature",e),t._vs=G(t._vs,32)),null==t._vs?t._vs=u:t._vs!==u&&O.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function X(e){return Z(L([(e=V(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}var Y=r(518),q=r.n(Y),$="bignumber/5.7.0",J=q().BN,Q=new A($),ee={},te=9007199254740991;var re=!1,ne=function(){function e(t,r){(0,_.Z)(this,e),t!==ee&&Q.throwError("cannot call constructor directly; use BigNumber.from",A.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}return(0,m.Z)(e,[{key:"fromTwos",value:function(e){return ae(oe(this).fromTwos(e))}},{key:"toTwos",value:function(e){return ae(oe(this).toTwos(e))}},{key:"abs",value:function(){return"-"===this._hex[0]?e.from(this._hex.substring(1)):this}},{key:"add",value:function(e){return ae(oe(this).add(oe(e)))}},{key:"sub",value:function(e){return ae(oe(this).sub(oe(e)))}},{key:"div",value:function(t){return e.from(t).isZero()&&se("division-by-zero","div"),ae(oe(this).div(oe(t)))}},{key:"mul",value:function(e){return ae(oe(this).mul(oe(e)))}},{key:"mod",value:function(e){var t=oe(e);return t.isNeg()&&se("division-by-zero","mod"),ae(oe(this).umod(t))}},{key:"pow",value:function(e){var t=oe(e);return t.isNeg()&&se("negative-power","pow"),ae(oe(this).pow(t))}},{key:"and",value:function(e){var t=oe(e);return(this.isNegative()||t.isNeg())&&se("unbound-bitwise-result","and"),ae(oe(this).and(t))}},{key:"or",value:function(e){var t=oe(e);return(this.isNegative()||t.isNeg())&&se("unbound-bitwise-result","or"),ae(oe(this).or(t))}},{key:"xor",value:function(e){var t=oe(e);return(this.isNegative()||t.isNeg())&&se("unbound-bitwise-result","xor"),ae(oe(this).xor(t))}},{key:"mask",value:function(e){return(this.isNegative()||e<0)&&se("negative-width","mask"),ae(oe(this).maskn(e))}},{key:"shl",value:function(e){return(this.isNegative()||e<0)&&se("negative-width","shl"),ae(oe(this).shln(e))}},{key:"shr",value:function(e){return(this.isNegative()||e<0)&&se("negative-width","shr"),ae(oe(this).shrn(e))}},{key:"eq",value:function(e){return oe(this).eq(oe(e))}},{key:"lt",value:function(e){return oe(this).lt(oe(e))}},{key:"lte",value:function(e){return oe(this).lte(oe(e))}},{key:"gt",value:function(e){return oe(this).gt(oe(e))}},{key:"gte",value:function(e){return oe(this).gte(oe(e))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return oe(this).isZero()}},{key:"toNumber",value:function(){try{return oe(this).toNumber()}catch(e){se("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(e){}return Q.throwError("this platform does not support BigInt",A.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?re||(re=!0,Q.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Q.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",A.errors.UNEXPECTED_ARGUMENT,{}):Q.throwError("BigNumber.toString does not accept parameters",A.errors.UNEXPECTED_ARGUMENT,{})),oe(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(e){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(t){if(t instanceof e)return t;if("string"===typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new e(ee,ie(t)):t.match(/^-?[0-9]+$/)?new e(ee,ie(new J(t))):Q.throwArgumentError("invalid BigNumber string","value",t);if("number"===typeof t)return t%1&&se("underflow","BigNumber.from",t),(t>=te||t<=-te)&&se("overflow","BigNumber.from",t),e.from(String(t));var r=t;if("bigint"===typeof r)return e.from(r.toString());if(D(r))return e.from(Z(r));if(r)if(r.toHexString){var n=r.toHexString();if("string"===typeof n)return e.from(n)}else{var i=r._hex;if(null==i&&"BigNumber"===r.type&&(i=r.hex),"string"===typeof i&&(N(i)||"-"===i[0]&&N(i.substring(1))))return e.from(i)}return Q.throwArgumentError("invalid BigNumber value","value",t)}},{key:"isBigNumber",value:function(e){return!(!e||!e._isBigNumber)}}]),e}();function ie(e){if("string"!==typeof e)return ie(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&Q.throwArgumentError("invalid hex","value",e),"0x00"===(e=ie(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function ae(e){return ne.from(ie(e))}function oe(e){var t=ne.from(e).toHexString();return"-"===t[0]?new J("-"+t.substring(3),16):new J(t.substring(2),16)}function se(e,t,r){var n={fault:e,operation:t};return null!=r&&(n.value=r),Q.throwError(e,A.errors.NUMERIC_FAULT,n)}var ue=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},le=new A("properties/5.7.0");function ce(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function he(e,t){for(var r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!==typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function fe(e){return ue(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object.keys(e).map((function(t){var r=e[t];return Promise.resolve(r).then((function(e){return{key:t,value:e}}))})),t.next=3,Promise.all(r);case 3:return n=t.sent,t.abrupt("return",n.reduce((function(e,t){return e[t.key]=t.value,e}),{}));case 5:case"end":return t.stop()}}),t)})))}function de(e,t){e&&"object"===typeof e||le.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((function(r){t[r]||le.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)}))}function pe(e){var t={};for(var r in e)t[r]=e[r];return t}var _e={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function me(e){if(void 0===e||null===e||_e[typeof e])return!0;if(Array.isArray(e)||"object"===typeof e){if(!Object.isFrozen(e))return!1;for(var t=Object.keys(e),r=0;r<t.length;r++){var n=null;try{n=e[t[r]]}catch(i){continue}if(!me(n))return!1}return!0}return le.throwArgumentError("Cannot deepCopy ".concat(typeof e),"object",e)}function ve(e){if(me(e))return e;if(Array.isArray(e))return Object.freeze(e.map((function(e){return ge(e)})));if("object"===typeof e){var t={};for(var r in e){var n=e[r];void 0!==n&&ce(t,r,ge(n))}return t}return le.throwArgumentError("Cannot deepCopy ".concat(typeof e),"object",e)}function ge(e){return ve(e)}var ye=(0,m.Z)((function e(t){for(var r in(0,_.Z)(this,e),t)this[r]=ge(t[r])})),be="abi/5.7.0",we=new A(be);function Ee(e){var t=[];return function e(r,n){if(Array.isArray(n))for(var i in n){var a=r.slice();a.push(i);try{e(a,n[i])}catch(o){t.push({path:a,error:o})}}}([],e),t}var xe=function(){function e(t,r,n,i){(0,_.Z)(this,e),this.name=t,this.type=r,this.localName=n,this.dynamic=i}return(0,m.Z)(e,[{key:"_throwError",value:function(e,t){we.throwArgumentError(e,this.localName,t)}}]),e}(),ke=function(){function e(t){(0,_.Z)(this,e),ce(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}return(0,m.Z)(e,[{key:"data",get:function(){return z(this._data)}},{key:"length",get:function(){return this._dataLength}},{key:"_writeData",value:function(e){return this._data.push(e),this._dataLength+=e.length,e.length}},{key:"appendWriter",value:function(e){return this._writeData(L(e._data))}},{key:"writeBytes",value:function(e){var t=I(e),r=t.length%this.wordSize;return r&&(t=L([t,this._padding.slice(r)])),this._writeData(t)}},{key:"_getValue",value:function(e){var t=I(ne.from(e));return t.length>this.wordSize&&we.throwError("value out-of-bounds",A.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=L([this._padding.slice(t.length%this.wordSize),t])),t}},{key:"writeValue",value:function(e){return this._writeData(this._getValue(e))}},{key:"writeUpdatableValue",value:function(){var e=this,t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,function(r){e._data[t]=e._getValue(r)}}}]),e}(),Te=function(){function e(t,r,n,i){(0,_.Z)(this,e),ce(this,"_data",I(t)),ce(this,"wordSize",r||32),ce(this,"_coerceFunc",n),ce(this,"allowLoose",i),this._offset=0}return(0,m.Z)(e,[{key:"data",get:function(){return Z(this._data)}},{key:"consumed",get:function(){return this._offset}},{key:"coerce",value:function(t,r){return this._coerceFunc?this._coerceFunc(t,r):e.coerce(t,r)}},{key:"_peekBytes",value:function(e,t,r){var n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:we.throwError("data out-of-bounds",A.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}},{key:"subReader",value:function(t){return new e(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}},{key:"readBytes",value:function(e,t){var r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}},{key:"readValue",value:function(){return ne.from(this.readBytes(this.wordSize))}}],[{key:"coerce",value:function(e,t){var r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}}]),e}(),Me=r(7898),Ae=r.n(Me);function Oe(e){return"0x"+Ae().keccak_256(I(e))}var Se=new A("rlp/5.7.0");function Re(e){for(var t=[];e;)t.unshift(255&e),e>>=8;return t}function Ce(e,t,r){for(var n=0,i=0;i<r;i++)n=256*n+e[t+i];return n}function Pe(e){if(Array.isArray(e)){var t=[];if(e.forEach((function(e){t=t.concat(Pe(e))})),t.length<=55)return t.unshift(192+t.length),t;var r=Re(t.length);return r.unshift(247+r.length),r.concat(t)}C(e)||Se.throwArgumentError("RLP object must be BytesLike","object",e);var n=Array.prototype.slice.call(I(e));if(1===n.length&&n[0]<=127)return n;if(n.length<=55)return n.unshift(128+n.length),n;var i=Re(n.length);return i.unshift(183+i.length),i.concat(n)}function De(e){return Z(Pe(e))}function Ie(e,t,r,n){for(var i=[];r<t+1+n;){var a=Le(e,r);i.push(a.result),(r+=a.consumed)>t+1+n&&Se.throwError("child data too short",A.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Le(e,t){if(0===e.length&&Se.throwError("data too short",A.errors.BUFFER_OVERRUN,{}),e[t]>=248){var r=e[t]-247;t+1+r>e.length&&Se.throwError("data short segment too short",A.errors.BUFFER_OVERRUN,{});var n=Ce(e,t+1,r);return t+1+r+n>e.length&&Se.throwError("data long segment too short",A.errors.BUFFER_OVERRUN,{}),Ie(e,t,t+1+r,r+n)}if(e[t]>=192){var i=e[t]-192;return t+1+i>e.length&&Se.throwError("data array too short",A.errors.BUFFER_OVERRUN,{}),Ie(e,t,t+1,i)}if(e[t]>=184){var a=e[t]-183;t+1+a>e.length&&Se.throwError("data array too short",A.errors.BUFFER_OVERRUN,{});var o=Ce(e,t+1,a);return t+1+a+o>e.length&&Se.throwError("data array too short",A.errors.BUFFER_OVERRUN,{}),{consumed:1+a+o,result:Z(e.slice(t+1+a,t+1+a+o))}}if(e[t]>=128){var s=e[t]-128;return t+1+s>e.length&&Se.throwError("data too short",A.errors.BUFFER_OVERRUN,{}),{consumed:1+s,result:Z(e.slice(t+1,t+1+s))}}return{consumed:1,result:Z(e[t])}}function Ue(e){var t=I(e),r=Le(t,0);return r.consumed!==t.length&&Se.throwArgumentError("invalid rlp data","data",e),r.result}var je=new A("address/5.7.0");function Ne(e){N(e,20)||je.throwArgumentError("invalid address","address",e);for(var t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40),n=0;n<40;n++)r[n]=t[n].charCodeAt(0);for(var i=I(Oe(r)),a=0;a<40;a+=2)i[a>>1]>>4>=8&&(t[a]=t[a].toUpperCase()),(15&i[a>>1])>=8&&(t[a+1]=t[a+1].toUpperCase());return"0x"+t.join("")}for(var Be={},Ze=0;Ze<10;Ze++)Be[String(Ze)]=String(Ze);for(var We=0;We<26;We++)Be[String.fromCharCode(65+We)]=String(10+We);var Fe,ze=Math.floor((Fe=9007199254740991,Math.log10?Math.log10(Fe):Math.log(Fe)/Math.LN10));function Ke(e){for(var t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((function(e){return Be[e]})).join("");t.length>=ze;){var r=t.substring(0,ze);t=parseInt(r,10)%97+t.substring(r.length)}for(var n=String(98-parseInt(t,10)%97);n.length<2;)n="0"+n;return n}function He(e){var t,r=null;if("string"!==typeof e&&je.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),r=Ne(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&r!==e&&je.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==Ke(e)&&je.throwArgumentError("bad icap checksum","address",e),t=e.substring(4),r=new J(t,36).toString(16);r.length<40;)r="0"+r;r=Ne("0x"+r)}else je.throwArgumentError("invalid address","address",e);return r}function Ge(e){try{return He(e),!0}catch(t){}return!1}function Ve(e){for(var t,r=(t=He(e).substring(2),new J(t,16).toString(36)).toUpperCase();r.length<30;)r="0"+r;return"XE"+Ke("XE00"+r)+r}function Xe(e){var t=null;try{t=He(e.from)}catch(r){je.throwArgumentError("missing from address","transaction",e)}return He(F(Oe(De([t,U(I(ne.from(e.nonce).toHexString()))])),12))}function Ye(e,t,r){return 32!==W(t)&&je.throwArgumentError("salt must be 32 bytes","salt",t),32!==W(r)&&je.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),He(F(Oe(L(["0xff",He(e),t,r])),12))}var qe,$e,Je=new A("strings/5.7.0");function Qe(e,t,r,n,i){if(e===$e.BAD_PREFIX||e===$e.UNEXPECTED_CONTINUE){for(var a=0,o=t+1;o<r.length&&r[o]>>6===2;o++)a++;return a}return e===$e.OVERRUN?r.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(qe||(qe={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}($e||($e={}));var et=Object.freeze({error:function(e,t,r,n,i){return Je.throwArgumentError("invalid codepoint at offset ".concat(t,"; ").concat(e),"bytes",r)},ignore:Qe,replace:function(e,t,r,n,i){return e===$e.OVERLONG?(n.push(i),0):(n.push(65533),Qe(e,t,r))}});function tt(e,t){null==t&&(t=et.error),e=I(e);for(var r=[],n=0;n<e.length;){var i=e[n++];if(i>>7!==0){var a=null,o=null;if(192===(224&i))a=1,o=127;else if(224===(240&i))a=2,o=2047;else{if(240!==(248&i)){n+=t(128===(192&i)?$e.UNEXPECTED_CONTINUE:$e.BAD_PREFIX,n-1,e,r);continue}a=3,o=65535}if(n-1+a>=e.length)n+=t($e.OVERRUN,n-1,e,r);else{for(var s=i&(1<<8-a-1)-1,u=0;u<a;u++){var l=e[n];if(128!=(192&l)){n+=t($e.MISSING_CONTINUE,n,e,r),s=null;break}s=s<<6|63&l,n++}null!==s&&(s>1114111?n+=t($e.OUT_OF_RANGE,n-1-a,e,r,s):s>=55296&&s<=57343?n+=t($e.UTF16_SURROGATE,n-1-a,e,r,s):s<=o?n+=t($e.OVERLONG,n-1-a,e,r,s):r.push(s))}}else r.push(i)}return r}function rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qe.current;t!=qe.current&&(Je.checkNormalize(),e=e.normalize(t));for(var r=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if(55296==(64512&i)){n++;var a=e.charCodeAt(n);if(n>=e.length||56320!==(64512&a))throw new Error("invalid utf-8 string");var o=65536+((1023&i)<<10)+(1023&a);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return I(r)}function nt(e){var t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function it(e,t){return'"'+tt(e,t).map((function(e){if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127)return String.fromCharCode(e)}return e<=65535?nt(e):nt(55296+((e-=65536)>>10&1023))+nt(56320+(1023&e))})).join("")+'"'}function at(e){return e.map((function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))})).join("")}function ot(e,t){return at(tt(e,t))}function st(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qe.current;return tt(rt(e,t))}function ut(e){return Oe(rt(e))}var lt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e){return(0,_.Z)(this,r),t.call(this,"address","address",e,!1)}return(0,m.Z)(r,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000"}},{key:"encode",value:function(e,t){try{t=He(t)}catch(r){this._throwError(r.message,t)}return e.writeValue(t)}},{key:"decode",value:function(e){return He(G(e.readValue().toHexString(),20))}}]),r}(xe),ct=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e){var n;return(0,_.Z)(this,r),(n=t.call(this,e.name,e.type,void 0,e.dynamic)).coder=e,n}return(0,m.Z)(r,[{key:"defaultValue",value:function(){return this.coder.defaultValue()}},{key:"encode",value:function(e,t){return this.coder.encode(e,t)}},{key:"decode",value:function(e){return this.coder.decode(e)}}]),r}(xe),ht=new A(be);function ft(e,t,r){var n=null;if(Array.isArray(r))n=r;else if(r&&"object"===typeof r){var i={};n=t.map((function(e){var t=e.localName;return t||ht.throwError("cannot encode object for signature with missing names",A.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),i[t]&&ht.throwError("cannot encode object for signature with duplicate names",A.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),i[t]=!0,r[t]}))}else ht.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&ht.throwArgumentError("types/value length mismatch","tuple",r);var a=new ke(e.wordSize),o=new ke(e.wordSize),s=[];t.forEach((function(e,t){var r=n[t];if(e.dynamic){var i=o.length;e.encode(o,r);var u=a.writeUpdatableValue();s.push((function(e){u(e+i)}))}else e.encode(a,r)})),s.forEach((function(e){e(a.length)}));var u=e.appendWriter(a);return u+=e.appendWriter(o)}function dt(e,t){var r=[],n=e.subReader(0);t.forEach((function(t){var i=null;if(t.dynamic){var a=e.readValue(),o=n.subReader(a.toNumber());try{i=t.decode(o)}catch(s){if(s.code===A.errors.BUFFER_OVERRUN)throw s;(i=s).baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(s){if(s.code===A.errors.BUFFER_OVERRUN)throw s;(i=s).baseType=t.name,i.name=t.localName,i.type=t.type}void 0!=i&&r.push(i)}));var i=t.reduce((function(e,t){var r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});t.forEach((function(e,t){var n=e.localName;if(n&&1===i[n]&&("length"===n&&(n="_length"),null==r[n])){var a=r[t];a instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:function(){throw a}}):r[n]=a}}));for(var a=function(e){var t=r[e];t instanceof Error&&Object.defineProperty(r,e,{enumerable:!0,get:function(){throw t}})},o=0;o<r.length;o++)a(o);return Object.freeze(r)}var pt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n,i){var a;(0,_.Z)(this,r);var o=e.type+"["+(n>=0?n:"")+"]",s=-1===n||e.dynamic;return(a=t.call(this,"array",o,i,s)).coder=e,a.length=n,a}return(0,m.Z)(r,[{key:"defaultValue",value:function(){for(var e=this.coder.defaultValue(),t=[],r=0;r<this.length;r++)t.push(e);return t}},{key:"encode",value:function(e,t){Array.isArray(t)||this._throwError("expected array value",t);var r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),ht.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));for(var n=[],i=0;i<t.length;i++)n.push(this.coder);return ft(e,n,t)}},{key:"decode",value:function(e){var t=this.length;-1===t&&32*(t=e.readValue().toNumber())>e._data.length&&ht.throwError("insufficient data length",A.errors.BUFFER_OVERRUN,{length:e._data.length,count:t});for(var r=[],n=0;n<t;n++)r.push(new ct(this.coder));return e.coerce(this.name,dt(e,r))}}]),r}(xe),_t=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e){return(0,_.Z)(this,r),t.call(this,"bool","bool",e,!1)}return(0,m.Z)(r,[{key:"defaultValue",value:function(){return!1}},{key:"encode",value:function(e,t){return e.writeValue(t?1:0)}},{key:"decode",value:function(e){return e.coerce(this.type,!e.readValue().isZero())}}]),r}(xe),mt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){return(0,_.Z)(this,r),t.call(this,e,e,n,!0)}return(0,m.Z)(r,[{key:"defaultValue",value:function(){return"0x"}},{key:"encode",value:function(e,t){t=I(t);var r=e.writeValue(t.length);return r+=e.writeBytes(t)}},{key:"decode",value:function(e){return e.readBytes(e.readValue().toNumber(),!0)}}]),r}(xe),vt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e){return(0,_.Z)(this,r),t.call(this,"bytes",e)}return(0,m.Z)(r,[{key:"decode",value:function(e){return e.coerce(this.name,Z((0,h.Z)((0,f.Z)(r.prototype),"decode",this).call(this,e)))}}]),r}(mt),gt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;(0,_.Z)(this,r);var a="bytes"+String(e);return(i=t.call(this,a,a,n,!1)).size=e,i}return(0,m.Z)(r,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}},{key:"encode",value:function(e,t){var r=I(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}},{key:"decode",value:function(e){return e.coerce(this.name,Z(e.readBytes(this.size)))}}]),r}(xe),yt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e){return(0,_.Z)(this,r),t.call(this,"null","",e,!1)}return(0,m.Z)(r,[{key:"defaultValue",value:function(){return null}},{key:"encode",value:function(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}},{key:"decode",value:function(e){return e.readBytes(0),e.coerce(this.name,null)}}]),r}(xe),bt=ne.from(-1),wt=ne.from(0),Et=ne.from(1),xt=ne.from(2),kt=ne.from("1000000000000000000"),Tt=ne.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Mt=ne.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),At=ne.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ot=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n,i){var a;(0,_.Z)(this,r);var o=(n?"int":"uint")+8*e;return(a=t.call(this,o,o,i,!1)).size=e,a.signed=n,a}return(0,m.Z)(r,[{key:"defaultValue",value:function(){return 0}},{key:"encode",value:function(e,t){var r=ne.from(t),n=Tt.mask(8*e.wordSize);if(this.signed){var i=n.mask(8*this.size-1);(r.gt(i)||r.lt(i.add(Et).mul(bt)))&&this._throwError("value out-of-bounds",t)}else(r.lt(wt)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}},{key:"decode",value:function(e){var t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}]),r}(xe),St=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e){return(0,_.Z)(this,r),t.call(this,"string",e)}return(0,m.Z)(r,[{key:"defaultValue",value:function(){return""}},{key:"encode",value:function(e,t){return(0,h.Z)((0,f.Z)(r.prototype),"encode",this).call(this,e,rt(t))}},{key:"decode",value:function(e){return ot((0,h.Z)((0,f.Z)(r.prototype),"decode",this).call(this,e))}}]),r}(mt),Rt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;(0,_.Z)(this,r);var a=!1,o=[];e.forEach((function(e){e.dynamic&&(a=!0),o.push(e.type)}));var s="tuple("+o.join(",")+")";return(i=t.call(this,"tuple",s,n,a)).coders=e,i}return(0,m.Z)(r,[{key:"defaultValue",value:function(){var e=[];this.coders.forEach((function(t){e.push(t.defaultValue())}));var t=this.coders.reduce((function(e,t){var r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach((function(r,n){var i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))})),Object.freeze(e)}},{key:"encode",value:function(e,t){return ft(e,this.coders,t)}},{key:"decode",value:function(e){return e.coerce(this.name,dt(e,this.coders))}}]),r}(xe),Ct=new A(be),Pt={},Dt={calldata:!0,memory:!0,storage:!0},It={calldata:!0,memory:!0};function Lt(e,t){if("bytes"===e||"string"===e){if(Dt[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&It[t])return!0;return(Dt[t]||"payable"===t)&&Ct.throwArgumentError("invalid modifier","name",t),!1}function Ut(e,t){for(var r in t)ce(e,r,t[r])}var jt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Nt=new RegExp(/^(.*)\[([0-9]*)\]$/),Bt=function(){function e(t,r){(0,_.Z)(this,e),t!==Pt&&Ct.throwError("use fromString",A.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Ut(this,r);var n=this.type.match(Nt);Ut(this,n?{arrayLength:parseInt(n[2]||"-1"),arrayChildren:e.fromObject({type:n[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}return(0,m.Z)(e,[{key:"format",value:function(e){if(e||(e=jt.sighash),jt[e]||Ct.throwArgumentError("invalid format type","format",e),e===jt.json){var t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"===typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((function(t){return JSON.parse(t.format(e))}))),JSON.stringify(t)}var r="";return"array"===this.baseType?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==jt.sighash&&(r+=this.type),r+="("+this.components.map((function(t){return t.format(e)})).join(e===jt.full?", ":",")+")"):r+=this.type,e!==jt.sighash&&(!0===this.indexed&&(r+=" indexed"),e===jt.full&&this.name&&(r+=" "+this.name)),r}}],[{key:"from",value:function(t,r){return"string"===typeof t?e.fromString(t,r):e.fromObject(t)}},{key:"fromObject",value:function(t){return e.isParamType(t)?t:new e(Pt,{name:t.name||null,type:qt(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(e.fromObject):null})}},{key:"fromString",value:function(t,r){return n=function(e,t){var r=e;function n(t){Ct.throwArgumentError("unexpected character at position ".concat(t),"param",e)}function i(e){var r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");for(var a={type:"",name:"",state:{allowType:!0}},o=a,s=0;s<e.length;s++){var u=e[s];switch(u){case"(":o.state.allowType&&""===o.type?o.type="tuple":o.state.allowParams||n(s),o.state.allowType=!1,o.type=qt(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,"indexed"===o.name&&(t||n(s),o.indexed=!0,o.name=""),Lt(o.type,o.name)&&(o.name=""),o.type=qt(o.type);var l=o;(o=o.parent)||n(s),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,"indexed"===o.name&&(t||n(s),o.indexed=!0,o.name=""),Lt(o.type,o.name)&&(o.name=""),o.type=qt(o.type);var c=i(o.parent);o.parent.components.push(c),delete o.parent,o=c;break;case" ":o.state.allowType&&""!==o.type&&(o.type=qt(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&("indexed"===o.name?(t||n(s),o.indexed&&n(s),o.indexed=!0,o.name=""):Lt(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(s),o.type+=u,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(s),o.type+=u,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=u,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=u,delete o.state.allowArray):o.state.readArray?o.type+=u:n(s)}}return o.parent&&Ct.throwArgumentError("unexpected eof","param",e),delete a.state,"indexed"===o.name?(t||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):Lt(o.type,o.name)&&(o.name=""),a.type=qt(a.type),a}(t,!!r),e.fromObject({name:n.name,type:n.type,indexed:n.indexed,components:n.components});var n}},{key:"isParamType",value:function(e){return!(null==e||!e._isParamType)}}]),e}();function Zt(e,t){return function(e){e=e.trim();for(var t=[],r="",n=0,i=0;i<e.length;i++){var a=e[i];","===a&&0===n?(t.push(r),r=""):(r+=a,"("===a?n++:")"===a&&-1===--n&&Ct.throwArgumentError("unbalanced parenthesis","value",e))}r&&t.push(r);return t}(e).map((function(e){return Bt.fromString(e,t)}))}var Wt=function(){function e(t,r){(0,_.Z)(this,e),t!==Pt&&Ct.throwError("use a static from method",A.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Ut(this,r),this._isFragment=!0,Object.freeze(this)}return(0,m.Z)(e,null,[{key:"from",value:function(t){return e.isFragment(t)?t:"string"===typeof t?e.fromString(t):e.fromObject(t)}},{key:"fromObject",value:function(t){if(e.isFragment(t))return t;switch(t.type){case"function":return Vt.fromObject(t);case"event":return Ft.fromObject(t);case"constructor":return Gt.fromObject(t);case"error":return Yt.fromObject(t);case"fallback":case"receive":return null}return Ct.throwArgumentError("invalid fragment object","value",t)}},{key:"fromString",value:function(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?Ft.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?Vt.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?Gt.fromString(e.trim()):"error"===e.split(" ")[0]?Yt.fromString(e.substring(5).trim()):Ct.throwArgumentError("unsupported fragment","value",e)}},{key:"isFragment",value:function(e){return!(!e||!e._isFragment)}}]),e}(),Ft=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r,[{key:"format",value:function(e){if(e||(e=jt.sighash),jt[e]||Ct.throwArgumentError("invalid format type","format",e),e===jt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});var t="";return e!==jt.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===jt.full?", ":",")+") ",e!==jt.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}}],[{key:"from",value:function(e){return"string"===typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isEventFragment(e))return e;"event"!==e.type&&Ct.throwArgumentError("invalid event object","value",e);var t={name:Jt(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Bt.fromObject):[],type:"event"};return new r(Pt,t)}},{key:"fromString",value:function(e){var t=e.match(Qt);t||Ct.throwArgumentError("invalid event string","value",e);var n=!1;return t[3].split(" ").forEach((function(e){switch(e.trim()){case"anonymous":n=!0;break;case"":break;default:Ct.warn("unknown modifier: "+e)}})),r.fromObject({name:t[1].trim(),anonymous:n,inputs:Zt(t[2],!0),type:"event"})}},{key:"isEventFragment",value:function(e){return e&&e._isFragment&&"event"===e.type}}]),r}(Wt);function zt(e,t){t.gas=null;var r=e.split("@");return 1!==r.length?(r.length>2&&Ct.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||Ct.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=ne.from(r[1]),r[0]):e}function Kt(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach((function(e){switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function Ht(e){var t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&Ct.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&Ct.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||Ct.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&Ct.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&Ct.throwArgumentError("unable to determine stateMutability","value",e),t}var Gt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r,[{key:"format",value:function(e){if(e||(e=jt.sighash),jt[e]||Ct.throwArgumentError("invalid format type","format",e),e===jt.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});e===jt.sighash&&Ct.throwError("cannot format a constructor for sighash",A.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});var t="constructor("+this.inputs.map((function(t){return t.format(e)})).join(e===jt.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}}],[{key:"from",value:function(e){return"string"===typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isConstructorFragment(e))return e;"constructor"!==e.type&&Ct.throwArgumentError("invalid constructor object","value",e);var t=Ht(e);t.constant&&Ct.throwArgumentError("constructor cannot be constant","value",e);var n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Bt.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?ne.from(e.gas):null};return new r(Pt,n)}},{key:"fromString",value:function(e){var t={type:"constructor"},n=(e=zt(e,t)).match(Qt);return n&&"constructor"===n[1].trim()||Ct.throwArgumentError("invalid constructor string","value",e),t.inputs=Zt(n[2].trim(),!1),Kt(n[3].trim(),t),r.fromObject(t)}},{key:"isConstructorFragment",value:function(e){return e&&e._isFragment&&"constructor"===e.type}}]),r}(Wt),Vt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r,[{key:"format",value:function(e){if(e||(e=jt.sighash),jt[e]||Ct.throwArgumentError("invalid format type","format",e),e===jt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))})),outputs:this.outputs.map((function(t){return JSON.parse(t.format(e))}))});var t="";return e!==jt.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===jt.full?", ":",")+") ",e!==jt.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map((function(t){return t.format(e)})).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}}],[{key:"from",value:function(e){return"string"===typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isFunctionFragment(e))return e;"function"!==e.type&&Ct.throwArgumentError("invalid function object","value",e);var t=Ht(e),n={type:e.type,name:Jt(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(Bt.fromObject):[],outputs:e.outputs?e.outputs.map(Bt.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?ne.from(e.gas):null};return new r(Pt,n)}},{key:"fromString",value:function(e){var t={type:"function"},n=(e=zt(e,t)).split(" returns ");n.length>2&&Ct.throwArgumentError("invalid function string","value",e);var i=n[0].match(Qt);if(i||Ct.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&Jt(t.name),t.inputs=Zt(i[2],!1),Kt(i[3].trim(),t),n.length>1){var a=n[1].match(Qt);""==a[1].trim()&&""==a[3].trim()||Ct.throwArgumentError("unexpected tokens","value",e),t.outputs=Zt(a[2],!1)}else t.outputs=[];return r.fromObject(t)}},{key:"isFunctionFragment",value:function(e){return e&&e._isFragment&&"function"===e.type}}]),r}(Gt);function Xt(e){var t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||Ct.throwArgumentError("cannot specify user defined ".concat(t," error"),"fragment",e),e}var Yt=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r,[{key:"format",value:function(e){if(e||(e=jt.sighash),jt[e]||Ct.throwArgumentError("invalid format type","format",e),e===jt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((function(t){return JSON.parse(t.format(e))}))});var t="";return e!==jt.sighash&&(t+="error "),(t+=this.name+"("+this.inputs.map((function(t){return t.format(e)})).join(e===jt.full?", ":",")+") ").trim()}}],[{key:"from",value:function(e){return"string"===typeof e?r.fromString(e):r.fromObject(e)}},{key:"fromObject",value:function(e){if(r.isErrorFragment(e))return e;"error"!==e.type&&Ct.throwArgumentError("invalid error object","value",e);var t={type:e.type,name:Jt(e.name),inputs:e.inputs?e.inputs.map(Bt.fromObject):[]};return Xt(new r(Pt,t))}},{key:"fromString",value:function(e){var t={type:"error"},n=e.match(Qt);return n||Ct.throwArgumentError("invalid error signature","value",e),t.name=n[1].trim(),t.name&&Jt(t.name),t.inputs=Zt(n[2],!1),Xt(r.fromObject(t))}},{key:"isErrorFragment",value:function(e){return e&&e._isFragment&&"error"===e.type}}]),r}(Wt);function qt(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}var $t=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Jt(e){return e&&e.match($t)||Ct.throwArgumentError('invalid identifier "'.concat(e,'"'),"value",e),e}var Qt=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");var er=new A(be),tr=new RegExp(/^bytes([0-9]*)$/),rr=new RegExp(/^(u?int)([0-9]*)$/),nr=function(){function e(t){(0,_.Z)(this,e),ce(this,"coerceFunc",t||null)}return(0,m.Z)(e,[{key:"_getCoder",value:function(e){var t=this;switch(e.baseType){case"address":return new lt(e.name);case"bool":return new _t(e.name);case"string":return new St(e.name);case"bytes":return new vt(e.name);case"array":return new pt(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Rt((e.components||[]).map((function(e){return t._getCoder(e)})),e.name);case"":return new yt(e.name)}var r=e.type.match(rr);if(r){var n=parseInt(r[2]||"256");return(0===n||n>256||n%8!==0)&&er.throwArgumentError("invalid "+r[1]+" bit length","param",e),new Ot(n/8,"int"===r[1],e.name)}if(r=e.type.match(tr)){var i=parseInt(r[1]);return(0===i||i>32)&&er.throwArgumentError("invalid bytes length","param",e),new gt(i,e.name)}return er.throwArgumentError("invalid type","type",e.type)}},{key:"_getWordSize",value:function(){return 32}},{key:"_getReader",value:function(e,t){return new Te(e,this._getWordSize(),this.coerceFunc,t)}},{key:"_getWriter",value:function(){return new ke(this._getWordSize())}},{key:"getDefaultValue",value:function(e){var t=this,r=e.map((function(e){return t._getCoder(Bt.from(e))}));return new Rt(r,"_").defaultValue()}},{key:"encode",value:function(e,t){var r=this;e.length!==t.length&&er.throwError("types/values length mismatch",A.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});var n=e.map((function(e){return r._getCoder(Bt.from(e))})),i=new Rt(n,"_"),a=this._getWriter();return i.encode(a,t),a.data}},{key:"decode",value:function(e,t,r){var n=this,i=e.map((function(e){return n._getCoder(Bt.from(e))}));return new Rt(i,"_").decode(this._getReader(I(t),r))}}]),e}(),ir=new nr,ar=new A(be),or=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r)}(ye),sr=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r)}(ye),ur=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r)}(ye),lr=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r,null,[{key:"isIndexed",value:function(e){return!(!e||!e._isIndexed)}}]),r}(ye),cr={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function hr(e,t){var r=new Error("deferred error during ABI decoding triggered accessing ".concat(e));return r.error=t,r}var fr=function(){function e(t){var r=this;(0,_.Z)(this,e);ce(this,"fragments",("string"===typeof t?JSON.parse(t):t).map((function(e){return Wt.from(e)})).filter((function(e){return null!=e}))),ce(this,"_abiCoder",he(this instanceof e?this.constructor:void 0,"getAbiCoder")()),ce(this,"functions",{}),ce(this,"errors",{}),ce(this,"events",{}),ce(this,"structs",{}),this.fragments.forEach((function(e){var t=null;switch(e.type){case"constructor":return r.deploy?void ar.warn("duplicate definition - constructor"):void ce(r,"deploy",e);case"function":t=r.functions;break;case"event":t=r.events;break;case"error":t=r.errors;break;default:return}var n=e.format();t[n]?ar.warn("duplicate definition - "+n):t[n]=e})),this.deploy||ce(this,"deploy",Gt.from({payable:!1,type:"constructor"})),ce(this,"_isInterface",!0)}return(0,m.Z)(e,[{key:"format",value:function(e){e||(e=jt.full),e===jt.sighash&&ar.throwArgumentError("interface does not support formatting sighash","format",e);var t=this.fragments.map((function(t){return t.format(e)}));return e===jt.json?JSON.stringify(t.map((function(e){return JSON.parse(e)}))):t}},{key:"getFunction",value:function(e){if(N(e)){for(var t in this.functions)if(e===this.getSighash(t))return this.functions[t];ar.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){var r=e.trim(),n=Object.keys(this.functions).filter((function(e){return e.split("(")[0]===r}));return 0===n.length?ar.throwArgumentError("no matching function","name",r):n.length>1&&ar.throwArgumentError("multiple matching functions","name",r),this.functions[n[0]]}var i=this.functions[Vt.fromString(e).format()];return i||ar.throwArgumentError("no matching function","signature",e),i}},{key:"getEvent",value:function(e){if(N(e)){var t=e.toLowerCase();for(var r in this.events)if(t===this.getEventTopic(r))return this.events[r];ar.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){var n=e.trim(),i=Object.keys(this.events).filter((function(e){return e.split("(")[0]===n}));return 0===i.length?ar.throwArgumentError("no matching event","name",n):i.length>1&&ar.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}var a=this.events[Ft.fromString(e).format()];return a||ar.throwArgumentError("no matching event","signature",e),a}},{key:"getError",value:function(e){if(N(e)){var t=he(this.constructor,"getSighash");for(var r in this.errors){if(e===t(this.errors[r]))return this.errors[r]}ar.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){var n=e.trim(),i=Object.keys(this.errors).filter((function(e){return e.split("(")[0]===n}));return 0===i.length?ar.throwArgumentError("no matching error","name",n):i.length>1&&ar.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}var a=this.errors[Vt.fromString(e).format()];return a||ar.throwArgumentError("no matching error","signature",e),a}},{key:"getSighash",value:function(e){if("string"===typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(r){throw t}}return he(this.constructor,"getSighash")(e)}},{key:"getEventTopic",value:function(e){return"string"===typeof e&&(e=this.getEvent(e)),he(this.constructor,"getEventTopic")(e)}},{key:"_decodeParams",value:function(e,t){return this._abiCoder.decode(e,t)}},{key:"_encodeParams",value:function(e,t){return this._abiCoder.encode(e,t)}},{key:"encodeDeploy",value:function(e){return this._encodeParams(this.deploy.inputs,e||[])}},{key:"decodeErrorResult",value:function(e,t){"string"===typeof e&&(e=this.getError(e));var r=I(t);return Z(r.slice(0,4))!==this.getSighash(e)&&ar.throwArgumentError("data signature does not match error ".concat(e.name,"."),"data",Z(r)),this._decodeParams(e.inputs,r.slice(4))}},{key:"encodeErrorResult",value:function(e,t){return"string"===typeof e&&(e=this.getError(e)),Z(L([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}},{key:"decodeFunctionData",value:function(e,t){"string"===typeof e&&(e=this.getFunction(e));var r=I(t);return Z(r.slice(0,4))!==this.getSighash(e)&&ar.throwArgumentError("data signature does not match function ".concat(e.name,"."),"data",Z(r)),this._decodeParams(e.inputs,r.slice(4))}},{key:"encodeFunctionData",value:function(e,t){return"string"===typeof e&&(e=this.getFunction(e)),Z(L([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}},{key:"decodeFunctionResult",value:function(e,t){"string"===typeof e&&(e=this.getFunction(e));var r=I(t),n=null,i="",a=null,o=null,s=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(c){}break;case 4:var u=Z(r.slice(0,4)),l=cr[u];if(l)a=this._abiCoder.decode(l.inputs,r.slice(4)),o=l.name,s=l.signature,l.reason&&(n=a[0]),"Error"===o?i="; VM Exception while processing transaction: reverted with reason string ".concat(JSON.stringify(a[0])):"Panic"===o&&(i="; VM Exception while processing transaction: reverted with panic code ".concat(a[0]));else try{var c=this.getError(u);a=this._abiCoder.decode(c.inputs,r.slice(4)),o=c.name,s=c.format()}catch(c){}}return ar.throwError("call revert exception"+i,A.errors.CALL_EXCEPTION,{method:e.format(),data:Z(t),errorArgs:a,errorName:o,errorSignature:s,reason:n})}},{key:"encodeFunctionResult",value:function(e,t){return"string"===typeof e&&(e=this.getFunction(e)),Z(this._abiCoder.encode(e.outputs,t||[]))}},{key:"encodeFilterTopics",value:function(e,t){var r=this;"string"===typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&ar.throwError("too many arguments for "+e.format(),A.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});var n=[];e.anonymous||n.push(this.getEventTopic(e));var i=function(e,t){return"string"===e.type?ut(t):"bytes"===e.type?Oe(Z(t)):("bool"===e.type&&"boolean"===typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=ne.from(t).toHexString()),"address"===e.type&&r._abiCoder.encode(["address"],[t]),G(Z(t),32))};for(t.forEach((function(t,r){var a=e.inputs[r];a.indexed?null==t?n.push(null):"array"===a.baseType||"tuple"===a.baseType?ar.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,t):Array.isArray(t)?n.push(t.map((function(e){return i(a,e)}))):n.push(i(a,t)):null!=t&&ar.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}},{key:"encodeEventLog",value:function(e,t){var r=this;"string"===typeof e&&(e=this.getEvent(e));var n=[],i=[],a=[];return e.anonymous||n.push(this.getEventTopic(e)),t.length!==e.inputs.length&&ar.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((function(e,o){var s=t[o];if(e.indexed)if("string"===e.type)n.push(ut(s));else if("bytes"===e.type)n.push(Oe(s));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(r._abiCoder.encode([e.type],[s]))}else i.push(e),a.push(s)})),{data:this._abiCoder.encode(i,a),topics:n}}},{key:"decodeEventLog",value:function(e,t,r){if("string"===typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){var n=this.getEventTopic(e);N(r[0],32)&&r[0].toLowerCase()===n||ar.throwError("fragment/topic mismatch",A.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:n,value:r[0]}),r=r.slice(1)}var i=[],a=[],o=[];e.inputs.forEach((function(e,t){e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(i.push(Bt.fromObject({type:"bytes32",name:e.name})),o.push(!0)):(i.push(e),o.push(!1)):(a.push(e),o.push(!1))}));var s=null!=r?this._abiCoder.decode(i,L(r)):null,u=this._abiCoder.decode(a,t,!0),l=[],c=0,h=0;e.inputs.forEach((function(e,t){if(e.indexed)if(null==s)l[t]=new lr({_isIndexed:!0,hash:null});else if(o[t])l[t]=new lr({_isIndexed:!0,hash:s[h++]});else try{l[t]=s[h++]}catch(n){l[t]=n}else try{l[t]=u[c++]}catch(n){l[t]=n}if(e.name&&null==l[e.name]){var r=l[t];r instanceof Error?Object.defineProperty(l,e.name,{enumerable:!0,get:function(){throw hr("property ".concat(JSON.stringify(e.name)),r)}}):l[e.name]=r}}));for(var f=function(e){var t=l[e];t instanceof Error&&Object.defineProperty(l,e,{enumerable:!0,get:function(){throw hr("index ".concat(e),t)}})},d=0;d<l.length;d++)f(d);return Object.freeze(l)}},{key:"parseTransaction",value:function(e){var t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new sr({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:ne.from(e.value||"0")}):null}},{key:"parseLog",value:function(e){var t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new or({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}},{key:"parseError",value:function(e){var t=Z(e),r=this.getError(t.substring(0,10).toLowerCase());return r?new ur({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}}],[{key:"getAbiCoder",value:function(){return ir}},{key:"getAddress",value:function(e){return He(e)}},{key:"getSighash",value:function(e){return F(ut(e.format()),0,4)}},{key:"getEventTopic",value:function(e){return ut(e.format())}},{key:"isInterface",value:function(e){return!(!e||!e._isInterface)}}]),e}(),dr=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},pr=new A("abstract-provider/5.7.0"),_r=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r,null,[{key:"isForkEvent",value:function(e){return!(!e||!e._isForkEvent)}}]),r}(ye),mr=function(){function e(){(0,_.Z)(this,e),pr.checkAbstract(this instanceof e?this.constructor:void 0,e),ce(this,"_isProvider",!0)}return(0,m.Z)(e,[{key:"getFeeData",value:function(){return dr(this,void 0,void 0,(0,v.Z)().mark((function e(){var t,r,n,i,a,o;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((function(e){return null}))});case 2:return t=e.sent,r=t.block,n=t.gasPrice,i=null,a=null,o=null,r&&r.baseFeePerGas&&(i=r.baseFeePerGas,o=ne.from("1500000000"),a=r.baseFeePerGas.mul(2).add(o)),e.abrupt("return",{lastBaseFeePerGas:i,maxFeePerGas:a,maxPriorityFeePerGas:o,gasPrice:n});case 8:case"end":return e.stop()}}),e,this)})))}},{key:"addListener",value:function(e,t){return this.on(e,t)}},{key:"removeListener",value:function(e,t){return this.off(e,t)}}],[{key:"isProvider",value:function(e){return!(!e||!e._isProvider)}}]),e}(),vr=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},gr=new A("abstract-signer/5.7.0"),yr=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],br=[A.errors.INSUFFICIENT_FUNDS,A.errors.NONCE_EXPIRED,A.errors.REPLACEMENT_UNDERPRICED],wr=function(){function e(){(0,_.Z)(this,e),gr.checkAbstract(this instanceof e?this.constructor:void 0,e),ce(this,"_isSigner",!0)}return(0,m.Z)(e,[{key:"getBalance",value:function(e){return vr(this,void 0,void 0,(0,v.Z)().mark((function t(){return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("getBalance"),t.next=3,this.provider.getBalance(this.getAddress(),e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getTransactionCount",value:function(e){return vr(this,void 0,void 0,(0,v.Z)().mark((function t(){return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("getTransactionCount"),t.next=3,this.provider.getTransactionCount(this.getAddress(),e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"estimateGas",value:function(e){return vr(this,void 0,void 0,(0,v.Z)().mark((function t(){var r;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("estimateGas"),t.next=3,fe(this.checkTransaction(e));case 3:return r=t.sent,t.next=6,this.provider.estimateGas(r);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"call",value:function(e,t){return vr(this,void 0,void 0,(0,v.Z)().mark((function r(){var n;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._checkProvider("call"),r.next=3,fe(this.checkTransaction(e));case 3:return n=r.sent,r.next=6,this.provider.call(n,t);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})))}},{key:"sendTransaction",value:function(e){return vr(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("sendTransaction"),t.next=3,this.populateTransaction(e);case 3:return r=t.sent,t.next=6,this.signTransaction(r);case 6:return n=t.sent,t.next=9,this.provider.sendTransaction(n);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"getChainId",value:function(){return vr(this,void 0,void 0,(0,v.Z)().mark((function e(){var t;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getChainId"),e.next=3,this.provider.getNetwork();case 3:return t=e.sent,e.abrupt("return",t.chainId);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getGasPrice",value:function(){return vr(this,void 0,void 0,(0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getGasPrice"),e.next=3,this.provider.getGasPrice();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getFeeData",value:function(){return vr(this,void 0,void 0,(0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getFeeData"),e.next=3,this.provider.getFeeData();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"resolveName",value:function(e){return vr(this,void 0,void 0,(0,v.Z)().mark((function t(){return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("resolveName"),t.next=3,this.provider.resolveName(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"checkTransaction",value:function(e){for(var t in e)-1===yr.indexOf(t)&&gr.throwArgumentError("invalid transaction key: "+t,"transaction",e);var r=pe(e);return null==r.from?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then((function(t){return t[0].toLowerCase()!==t[1].toLowerCase()&&gr.throwArgumentError("from address mismatch","transaction",e),t[0]})),r}},{key:"populateTransaction",value:function(e){return vr(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n,i,a,o=this;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe(this.checkTransaction(e));case 2:if(null!=(r=t.sent).to&&(r.to=Promise.resolve(r.to).then((function(e){return vr(o,void 0,void 0,(0,v.Z)().mark((function t(){var r;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,this.resolveName(e);case 4:return null==(r=t.sent)&&gr.throwArgumentError("provided ENS name resolves to null","tx.to",e),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})))})),r.to.catch((function(e){}))),n=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas,null==r.gasPrice||2!==r.type&&!n?0!==r.type&&1!==r.type||!n||gr.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):gr.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas){t.next=10;break}r.type=2,t.next=18;break;case 10:if(0!==r.type&&1!==r.type){t.next=14;break}null==r.gasPrice&&(r.gasPrice=this.getGasPrice()),t.next=18;break;case 14:return t.next=16,this.getFeeData();case 16:i=t.sent,null==r.type?null!=i.maxFeePerGas&&null!=i.maxPriorityFeePerGas?(r.type=2,null!=r.gasPrice?(a=r.gasPrice,delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a):(null==r.maxFeePerGas&&(r.maxFeePerGas=i.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))):null!=i.gasPrice?(n&&gr.throwError("network does not support EIP-1559",A.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=i.gasPrice),r.type=0):gr.throwError("failed to get consistent fee data",A.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"}):2===r.type&&(null==r.maxFeePerGas&&(r.maxFeePerGas=i.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas));case 18:return null==r.nonce&&(r.nonce=this.getTransactionCount("pending")),null==r.gasLimit&&(r.gasLimit=this.estimateGas(r).catch((function(e){if(br.indexOf(e.code)>=0)throw e;return gr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",A.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:r})}))),null==r.chainId?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then((function(t){return 0!==t[1]&&t[0]!==t[1]&&gr.throwArgumentError("chainId address mismatch","transaction",e),t[0]})),t.next=23,fe(r);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}}),t,this)})))}},{key:"_checkProvider",value:function(e){this.provider||gr.throwError("missing provider",A.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}}],[{key:"isSigner",value:function(e){return!(!e||!e._isSigner)}}]),e}(),Er=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;return(0,_.Z)(this,r),i=t.call(this),ce((0,c.Z)(i),"address",e),ce((0,c.Z)(i),"provider",n||null),i}return(0,m.Z)(r,[{key:"getAddress",value:function(){return Promise.resolve(this.address)}},{key:"_fail",value:function(e,t){return Promise.resolve().then((function(){gr.throwError(e,A.errors.UNSUPPORTED_OPERATION,{operation:t})}))}},{key:"signMessage",value:function(e){return this._fail("VoidSigner cannot sign messages","signMessage")}},{key:"signTransaction",value:function(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}},{key:"_signTypedData",value:function(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}},{key:"connect",value:function(e){return new r(this.address,e)}}]),r}(wr),xr=r(3125),kr=r.n(xr);"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self&&self;function Tr(e,t,r){return r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&r.path)}},e(r,r.exports),r.exports}var Mr=Ar;function Ar(e,t){if(!e)throw new Error(t||"Assertion failed")}Ar.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var Or=Tr((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!==typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),a=i>>8,o=255&i;a?r.push(a,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),Sr=Tr((function(e,t){var r=t;r.assert=Mr,r.toArray=Or.toArray,r.zero2=Or.zero2,r.toHex=Or.toHex,r.encode=Or.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,a=e.clone(),o=0;o<n.length;o++){var s,u=a.andln(i-1);a.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,a.isubn(s)):s=0,n[o]=s,a.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,a=0;e.cmpn(-i)>0||t.cmpn(-a)>0;){var o,s,u=e.andln(3)+i&3,l=t.andln(3)+a&3;3===u&&(u=-1),3===l&&(l=-1),o=0===(1&u)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(o),s=0===(1&l)?0:3!==(n=t.andln(7)+a&7)&&5!==n||2!==u?l:-l,r[1].push(s),2*i===o+1&&(i=1-i),2*a===s+1&&(a=1-a),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"===typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new(q())(e,"hex","le")}})),Rr=Sr.getNAF,Cr=Sr.getJSF,Pr=Sr.assert;function Dr(e,t){this.type=e,this.p=new(q())(t.p,16),this.red=t.prime?q().red(t.prime):q().mont(this.p),this.zero=new(q())(0).toRed(this.red),this.one=new(q())(1).toRed(this.red),this.two=new(q())(2).toRed(this.red),this.n=t.n&&new(q())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ir=Dr;function Lr(e,t){this.curve=e,this.type=t,this.precomputed=null}Dr.prototype.point=function(){throw new Error("Not implemented")},Dr.prototype.validate=function(){throw new Error("Not implemented")},Dr.prototype._fixedNafMul=function(e,t){Pr(e.precomputed);var r=e._getDoubles(),n=Rr(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var a,o,s=[];for(a=0;a<n.length;a+=r.step){o=0;for(var u=a+r.step-1;u>=a;u--)o=(o<<1)+n[u];s.push(o)}for(var l=this.jpoint(null,null,null),c=this.jpoint(null,null,null),h=i;h>0;h--){for(a=0;a<s.length;a++)(o=s[a])===h?c=c.mixedAdd(r.points[a]):o===-h&&(c=c.mixedAdd(r.points[a].neg()));l=l.add(c)}return l.toP()},Dr.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=Rr(t,r,this._bitLength),o=this.jpoint(null,null,null),s=a.length-1;s>=0;s--){for(var u=0;s>=0&&0===a[s];s--)u++;if(s>=0&&u++,o=o.dblp(u),s<0)break;var l=a[s];Pr(0!==l),o="affine"===e.type?l>0?o.mixedAdd(i[l-1>>1]):o.mixedAdd(i[-l-1>>1].neg()):l>0?o.add(i[l-1>>1]):o.add(i[-l-1>>1].neg())}return"affine"===e.type?o.toP():o},Dr.prototype._wnafMulAdd=function(e,t,r,n,i){var a,o,s,u=this._wnafT1,l=this._wnafT2,c=this._wnafT3,h=0;for(a=0;a<n;a++){var f=(s=t[a])._getNAFPoints(e);u[a]=f.wnd,l[a]=f.points}for(a=n-1;a>=1;a-=2){var d=a-1,p=a;if(1===u[d]&&1===u[p]){var _=[t[d],null,null,t[p]];0===t[d].y.cmp(t[p].y)?(_[1]=t[d].add(t[p]),_[2]=t[d].toJ().mixedAdd(t[p].neg())):0===t[d].y.cmp(t[p].y.redNeg())?(_[1]=t[d].toJ().mixedAdd(t[p]),_[2]=t[d].add(t[p].neg())):(_[1]=t[d].toJ().mixedAdd(t[p]),_[2]=t[d].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=Cr(r[d],r[p]);for(h=Math.max(v[0].length,h),c[d]=new Array(h),c[p]=new Array(h),o=0;o<h;o++){var g=0|v[0][o],y=0|v[1][o];c[d][o]=m[3*(g+1)+(y+1)],c[p][o]=0,l[d]=_}}else c[d]=Rr(r[d],u[d],this._bitLength),c[p]=Rr(r[p],u[p],this._bitLength),h=Math.max(c[d].length,h),h=Math.max(c[p].length,h)}var b=this.jpoint(null,null,null),w=this._wnafT4;for(a=h;a>=0;a--){for(var E=0;a>=0;){var x=!0;for(o=0;o<n;o++)w[o]=0|c[o][a],0!==w[o]&&(x=!1);if(!x)break;E++,a--}if(a>=0&&E++,b=b.dblp(E),a<0)break;for(o=0;o<n;o++){var k=w[o];0!==k&&(k>0?s=l[o][k-1>>1]:k<0&&(s=l[o][-k-1>>1].neg()),b="affine"===s.type?b.mixedAdd(s):b.add(s))}}for(a=0;a<n;a++)l[a]=null;return i?b:b.toP()},Dr.BasePoint=Lr,Lr.prototype.eq=function(){throw new Error("Not implemented")},Lr.prototype.validate=function(){return this.curve.validate(this)},Dr.prototype.decodePoint=function(e,t){e=Sr.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*r)return 6===e[0]?Pr(e[e.length-1]%2===0):7===e[0]&&Pr(e[e.length-1]%2===1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},Lr.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Lr.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Lr.prototype.encode=function(e,t){return Sr.encode(this._encode(t),e)},Lr.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Lr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},Lr.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)n=n.dbl();r.push(n)}return{step:e,points:r}},Lr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},Lr.prototype._getBeta=function(){return null},Lr.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Ur=Tr((function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),jr=Sr.assert;function Nr(e){Ir.call(this,"short",e),this.a=new(q())(e.a,16).toRed(this.red),this.b=new(q())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Ur(Nr,Ir);var Br=Nr;function Zr(e,t,r,n){Ir.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(q())(t,16),this.y=new(q())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Wr(e,t,r,n){Ir.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(q())(0)):(this.x=new(q())(t,16),this.y=new(q())(r,16),this.z=new(q())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Nr.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new(q())(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new(q())(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],jr(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new(q())(e.a,16),b:new(q())(e.b,16)}})):this._getEndoBasis(r)}}},Nr.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:q().mont(e),r=new(q())(2).toRed(t).redInvm(),n=r.redNeg(),i=new(q())(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Nr.prototype._getEndoBasis=function(e){for(var t,r,n,i,a,o,s,u,l,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,f=this.n.clone(),d=new(q())(1),p=new(q())(0),_=new(q())(0),m=new(q())(1),v=0;0!==h.cmpn(0);){var g=f.div(h);u=f.sub(g.mul(h)),l=_.sub(g.mul(d));var y=m.sub(g.mul(p));if(!n&&u.cmp(c)<0)t=s.neg(),r=d,n=u.neg(),i=l;else if(n&&2===++v)break;s=u,f=h,h=u,_=d,d=l,m=p,p=y}a=u.neg(),o=l;var b=n.sqr().add(i.sqr());return a.sqr().add(o.sqr()).cmp(b)>=0&&(a=t,o=r),n.negative&&(n=n.neg(),i=i.neg()),a.negative&&(a=a.neg(),o=o.neg()),[{a:n,b:i},{a:a,b:o}]},Nr.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),s=a.mul(n.a),u=i.mul(r.b),l=a.mul(n.b);return{k1:e.sub(o).sub(s),k2:u.add(l).neg()}},Nr.prototype.pointFromX=function(e,t){(e=new(q())(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},Nr.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Nr.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),s=e[a],u=s._getBeta();o.k1.negative&&(o.k1.ineg(),s=s.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[2*a]=s,n[2*a+1]=u,i[2*a]=o.k1,i[2*a+1]=o.k2}for(var l=this._wnafMulAdd(1,n,i,2*a,r),c=0;c<2*a;c++)n[c]=null,i[c]=null;return l},Ur(Zr,Ir.BasePoint),Nr.prototype.point=function(e,t,r){return new Zr(this,e,t,r)},Nr.prototype.pointFromJSON=function(e,t){return Zr.fromJSON(this,e,t)},Zr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Zr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Zr.fromJSON=function(e,t,r){"string"===typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var a=t[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(i))}},n},Zr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Zr.prototype.isInfinity=function(){return this.inf},Zr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Zr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},Zr.prototype.getX=function(){return this.x.fromRed()},Zr.prototype.getY=function(){return this.y.fromRed()},Zr.prototype.mul=function(e){return e=new(q())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Zr.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Zr.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Zr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Zr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Zr.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Ur(Wr,Ir.BasePoint),Nr.prototype.jpoint=function(e,t,r){return new Wr(this,e,t,r)},Wr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},Wr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Wr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),u=a.redSub(o);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),c=l.redMul(s),h=n.redMul(l),f=u.redSqr().redIAdd(c).redISub(h).redISub(h),d=u.redMul(h.redISub(f)).redISub(a.redMul(c)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(f,d,p)},Wr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),o=r.redSub(n),s=i.redSub(a);if(0===o.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),l=u.redMul(o),c=r.redMul(u),h=s.redSqr().redIAdd(l).redISub(c).redISub(c),f=s.redMul(c.redISub(h)).redISub(i.redMul(l)),d=this.z.redMul(o);return this.curve.jpoint(h,f,d)},Wr.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,s=this.z,u=s.redSqr().redSqr(),l=o.redAdd(o);for(t=0;t<e;t++){var c=a.redSqr(),h=l.redSqr(),f=h.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(u)),p=a.redMul(h),_=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(_),v=d.redMul(m);v=v.redIAdd(v).redISub(f);var g=l.redMul(s);t+1<e&&(u=u.redMul(f)),a=_,s=g,l=v}return this.curve.jpoint(a,l.redMul(i),s)},Wr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Wr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n),u=s.redSqr().redISub(o).redISub(o),l=a.redIAdd(a);l=(l=l.redIAdd(l)).redIAdd(l),e=u,t=s.redMul(o.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(c).redISub(f);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),_=p.redSqr(),m=f.redIAdd(f);m=(m=m.redIAdd(m)).redIAdd(m),e=_.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},Wr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=s.redSqr().redISub(o).redISub(o);e=u;var l=a.redIAdd(a);l=(l=l.redIAdd(l)).redIAdd(l),t=s.redMul(o.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),_=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(_),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},Wr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),a=t.redSqr(),o=r.redSqr(),s=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),u=t.redAdd(t),l=(u=u.redIAdd(u)).redMul(o),c=s.redSqr().redISub(l.redAdd(l)),h=l.redISub(c),f=o.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=s.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},Wr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(a)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(o).redSqr().redISub(a).redISub(s).redISub(u),c=t.redMul(l);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(s).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(l.redMul(u.redISub(l)).redISub(o.redMul(s)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(s);return this.curve.jpoint(h,f,d)},Wr.prototype.mul=function(e,t){return e=new(q())(e,t),this.curve._wnafMul(this,e)},Wr.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},Wr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Wr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Wr.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Fr=Tr((function(e,t){var r=t;r.base=Ir,r.short=Br,r.mont=null,r.edwards=null})),zr=Tr((function(e,t){var r,n=t,i=Sr.assert;function a(e){"short"===e.type?this.curve=new Fr.short(e):"edwards"===e.type?this.curve=new Fr.edwards(e):this.curve=new Fr.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new a(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=a,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:kr().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:kr().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:kr().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:kr().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:kr().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:kr().sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:kr().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(s){r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:kr().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Kr(e){if(!(this instanceof Kr))return new Kr(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Or.toArray(e.entropy,e.entropyEnc||"hex"),r=Or.toArray(e.nonce,e.nonceEnc||"hex"),n=Or.toArray(e.pers,e.persEnc||"hex");Mr(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var Hr=Kr;Kr.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Kr.prototype._hmac=function(){return new(kr().hmac)(this.hash,this.K)},Kr.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Kr.prototype.reseed=function(e,t,r,n){"string"!==typeof t&&(n=r,r=t,t=null),e=Or.toArray(e,t),r=Or.toArray(r,n),Mr(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Kr.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(n=r,r=t,t=null),r&&(r=Or.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(r),this._reseed++,Or.encode(a,t)};var Gr=Sr.assert;function Vr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Xr=Vr;Vr.fromPublic=function(e,t,r){return t instanceof Vr?t:new Vr(e,{pub:t,pubEnc:r})},Vr.fromPrivate=function(e,t,r){return t instanceof Vr?t:new Vr(e,{priv:t,privEnc:r})},Vr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Vr.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Vr.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},Vr.prototype._importPrivate=function(e,t){this.priv=new(q())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Vr.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?Gr(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Gr(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},Vr.prototype.derive=function(e){return e.validate()||Gr(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Vr.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Vr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Vr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Yr=Sr.assert;function qr(e,t){if(e instanceof qr)return e;this._importDER(e,t)||(Yr(e.r&&e.s,"Signature without r or s"),this.r=new(q())(e.r,16),this.s=new(q())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var $r=qr;function Jr(){this.place=0}function Qr(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,a=0,o=t.place;a<n;a++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function en(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function tn(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}qr.prototype._importDER=function(e,t){e=Sr.toArray(e,t);var r=new Jr;if(48!==e[r.place++])return!1;var n=Qr(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=Qr(e,r);if(!1===i)return!1;var a=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var o=Qr(e,r);if(!1===o)return!1;if(e.length!==o+r.place)return!1;var s=e.slice(r.place,o+r.place);if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new(q())(a),this.s=new(q())(s),this.recoveryParam=null,!0},qr.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=en(t),r=en(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];tn(n,t.length),(n=n.concat(t)).push(2),tn(n,r.length);var i=n.concat(r),a=[48];return tn(a,i.length),a=a.concat(i),Sr.encode(a,e)};var rn=function(){throw new Error("unsupported")},nn=Sr.assert;function an(e){if(!(this instanceof an))return new an(e);"string"===typeof e&&(nn(Object.prototype.hasOwnProperty.call(zr,e),"Unknown curve "+e),e=zr[e]),e instanceof zr.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var on=an;an.prototype.keyPair=function(e){return new Xr(this,e)},an.prototype.keyFromPrivate=function(e,t){return Xr.fromPrivate(this,e,t)},an.prototype.keyFromPublic=function(e,t){return Xr.fromPublic(this,e,t)},an.prototype.genKeyPair=function(e){e||(e={});for(var t=new Hr({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||rn(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(q())(2));;){var i=new(q())(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},an.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},an.prototype.sign=function(e,t,r,n){"object"===typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new(q())(e,16));for(var i=this.n.byteLength(),a=t.getPrivate().toArray("be",i),o=e.toArray("be",i),s=new Hr({hash:this.hash,entropy:a,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(q())(1)),l=0;;l++){var c=n.k?n.k(l):new(q())(s.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(u)>=0)){var h=this.g.mul(c);if(!h.isInfinity()){var f=h.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var _=(h.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),_^=1),new $r({r:d,s:p,recoveryParam:_})}}}}}},an.prototype.verify=function(e,t,r,n){e=this._truncateToN(new(q())(e,16)),r=this.keyFromPublic(r,n);var i=(t=new $r(t,"hex")).r,a=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o,s=a.invm(this.n),u=s.mul(e).umod(this.n),l=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},an.prototype.recoverPubKey=function(e,t,r,n){nn((3&r)===r,"The recovery param is more than two bits"),t=new $r(t,n);var i=this.n,a=new(q())(e),o=t.r,s=t.s,u=1&r,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");o=l?this.curve.pointFromX(o.add(this.curve.n),u):this.curve.pointFromX(o,u);var c=t.r.invm(i),h=i.sub(a).mul(c).umod(i),f=s.mul(c).umod(i);return this.g.mulAdd(h,o,f)},an.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new $r(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var sn=Tr((function(e,t){var r=t;r.version="6.5.4",r.utils=Sr,r.rand=function(){throw new Error("unsupported")},r.curve=Fr,r.curves=zr,r.ec=on,r.eddsa=null})).ec,un=new A("signing-key/5.7.0"),ln=null;function cn(){return ln||(ln=new sn("secp256k1")),ln}var hn=function(){function e(t){(0,_.Z)(this,e),ce(this,"curve","secp256k1"),ce(this,"privateKey",Z(t)),32!==W(this.privateKey)&&un.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");var r=cn().keyFromPrivate(I(this.privateKey));ce(this,"publicKey","0x"+r.getPublic(!1,"hex")),ce(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),ce(this,"_isSigningKey",!0)}return(0,m.Z)(e,[{key:"_addPoint",value:function(e){var t=cn().keyFromPublic(I(this.publicKey)),r=cn().keyFromPublic(I(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}},{key:"signDigest",value:function(e){var t=cn().keyFromPrivate(I(this.privateKey)),r=I(e);32!==r.length&&un.throwArgumentError("bad digest length","digest",e);var n=t.sign(r,{canonical:!0});return V({recoveryParam:n.recoveryParam,r:G("0x"+n.r.toString(16),32),s:G("0x"+n.s.toString(16),32)})}},{key:"computeSharedSecret",value:function(e){var t=cn().keyFromPrivate(I(this.privateKey)),r=cn().keyFromPublic(I(dn(e)));return G("0x"+t.derive(r.getPublic()).toString(16),32)}}],[{key:"isSigningKey",value:function(e){return!(!e||!e._isSigningKey)}}]),e}();function fn(e,t){var r=V(t),n={r:I(r.r),s:I(r.s)};return"0x"+cn().recoverPubKey(I(e),n,r.recoveryParam).encode("hex",!1)}function dn(e,t){var r=I(e);if(32===r.length){var n=new hn(r);return t?"0x"+cn().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}return 33===r.length?t?Z(r):"0x"+cn().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+cn().keyFromPublic(r).getPublic(!0,"hex"):Z(r):un.throwArgumentError("invalid public or private key","key","[REDACTED]")}var pn,_n=new A("transactions/5.7.0");function mn(e){return"0x"===e?null:He(e)}function vn(e){return"0x"===e?wt:ne.from(e)}!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(pn||(pn={}));var gn=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],yn={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function bn(e){return He(F(Oe(F(dn(e),1)),12))}function wn(e,t){return bn(fn(I(e),t))}function En(e,t){var r=U(ne.from(e).toHexString());return r.length>32&&_n.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function xn(e,t){return{address:He(e),storageKeys:(t||[]).map((function(t,r){return 32!==W(t)&&_n.throwArgumentError("invalid access list storageKey","accessList[".concat(e,":").concat(r,"]"),t),t.toLowerCase()}))}}function kn(e){if(Array.isArray(e))return e.map((function(e,t){return Array.isArray(e)?(e.length>2&&_n.throwArgumentError("access list expected to be [ address, storageKeys[] ]","value[".concat(t,"]"),e),xn(e[0],e[1])):xn(e.address,e.storageKeys)}));var t=Object.keys(e).map((function(t){var r=e[t].reduce((function(e,t){return e[t]=!0,e}),{});return xn(t,Object.keys(r).sort())}));return t.sort((function(e,t){return e.address.localeCompare(t.address)})),t}function Tn(e){return kn(e).map((function(e){return[e.address,e.storageKeys]}))}function Mn(e,t){if(null!=e.gasPrice){var r=ne.from(e.gasPrice),n=ne.from(e.maxFeePerGas||0);r.eq(n)||_n.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:n})}var i=[En(e.chainId||0,"chainId"),En(e.nonce||0,"nonce"),En(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),En(e.maxFeePerGas||0,"maxFeePerGas"),En(e.gasLimit||0,"gasLimit"),null!=e.to?He(e.to):"0x",En(e.value||0,"value"),e.data||"0x",Tn(e.accessList||[])];if(t){var a=V(t);i.push(En(a.recoveryParam,"recoveryParam")),i.push(U(a.r)),i.push(U(a.s))}return z(["0x02",De(i)])}function An(e,t){var r=[En(e.chainId||0,"chainId"),En(e.nonce||0,"nonce"),En(e.gasPrice||0,"gasPrice"),En(e.gasLimit||0,"gasLimit"),null!=e.to?He(e.to):"0x",En(e.value||0,"value"),e.data||"0x",Tn(e.accessList||[])];if(t){var n=V(t);r.push(En(n.recoveryParam,"recoveryParam")),r.push(U(n.r)),r.push(U(n.s))}return z(["0x01",De(r)])}function On(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&_n.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),function(e,t){de(e,yn);var r=[];gn.forEach((function(t){var n=e[t.name]||[],i={};t.numeric&&(i.hexPad="left"),n=I(Z(n,i)),t.length&&n.length!==t.length&&n.length>0&&_n.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),t.maxLength&&(n=U(n)).length>t.maxLength&&_n.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),r.push(Z(n))}));var n=0;if(null!=e.chainId?"number"!==typeof(n=e.chainId)&&_n.throwArgumentError("invalid transaction.chainId","transaction",e):t&&!C(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),0!==n&&(r.push(Z(n)),r.push("0x"),r.push("0x")),!t)return De(r);var i=V(t),a=27+i.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),a+=2*n+8,i.v>28&&i.v!==a&&_n.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):i.v!==a&&_n.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push(Z(a)),r.push(U(I(i.r))),r.push(U(I(i.s))),De(r)}(e,t);switch(e.type){case 1:return An(e,t);case 2:return Mn(e,t)}return _n.throwError("unsupported transaction type: ".concat(e.type),A.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function Sn(e,t,r){try{var n=vn(t[0]).toNumber();if(0!==n&&1!==n)throw new Error("bad recid");e.v=n}catch(a){_n.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=G(t[1],32),e.s=G(t[2],32);try{var i=Oe(r(e));e.from=wn(i,{r:e.r,s:e.s,recoveryParam:e.v})}catch(a){}}function Rn(e){var t=I(e);if(t[0]>127)return function(e){var t=Ue(e);9!==t.length&&6!==t.length&&_n.throwArgumentError("invalid raw transaction","rawTransaction",e);var r={nonce:vn(t[0]).toNumber(),gasPrice:vn(t[1]),gasLimit:vn(t[2]),to:mn(t[3]),value:vn(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=ne.from(t[6]).toNumber()}catch(o){return r}if(r.r=G(t[7],32),r.s=G(t[8],32),ne.from(r.r).isZero()&&ne.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);var n=r.v-27,i=t.slice(0,6);0!==r.chainId&&(i.push(Z(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);var a=Oe(De(i));try{r.from=wn(a,{r:Z(r.r),s:Z(r.s),recoveryParam:n})}catch(o){}r.hash=Oe(e)}return r.type=null,r}(t);switch(t[0]){case 1:return function(e){var t=Ue(e.slice(1));8!==t.length&&11!==t.length&&_n.throwArgumentError("invalid component count for transaction type: 1","payload",Z(e));var r={type:1,chainId:vn(t[0]).toNumber(),nonce:vn(t[1]).toNumber(),gasPrice:vn(t[2]),gasLimit:vn(t[3]),to:mn(t[4]),value:vn(t[5]),data:t[6],accessList:kn(t[7])};return 8===t.length||(r.hash=Oe(e),Sn(r,t.slice(8),An)),r}(t);case 2:return function(e){var t=Ue(e.slice(1));9!==t.length&&12!==t.length&&_n.throwArgumentError("invalid component count for transaction type: 2","payload",Z(e));var r=vn(t[2]),n=vn(t[3]),i={type:2,chainId:vn(t[0]).toNumber(),nonce:vn(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:vn(t[4]),to:mn(t[5]),value:vn(t[6]),data:t[7],accessList:kn(t[8])};return 9===t.length||(i.hash=Oe(e),Sn(i,t.slice(9),Mn)),i}(t)}return _n.throwError("unsupported transaction type: ".concat(t[0]),A.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}var Cn=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Pn=new A("contracts/5.7.0"),Dn={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function In(e,t){return Cn(this,void 0,void 0,(0,v.Z)().mark((function r(){var n,i;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t;case 2:return"string"!==typeof(n=r.sent)&&Pn.throwArgumentError("invalid address or ENS name","name",n),r.prev=4,r.abrupt("return",He(n));case 8:r.prev=8,r.t0=r.catch(4);case 10:return e||Pn.throwError("a provider or signer is needed to resolve ENS names",A.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"}),r.next=13,e.resolveName(n);case 13:return null==(i=r.sent)&&Pn.throwArgumentError("resolver or addr is not configured for ENS name","name",n),r.abrupt("return",i);case 16:case"end":return r.stop()}}),r,null,[[4,8]])})))}function Ln(e,t,r){return Cn(this,void 0,void 0,(0,v.Z)().mark((function n(){return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Array.isArray(r)){n.next=4;break}return n.next=3,Promise.all(r.map((function(r,n){return Ln(e,Array.isArray(t)?t[n]:t[r.name],r)})));case 3:case 7:case 11:case 17:return n.abrupt("return",n.sent);case 4:if("address"!==r.type){n.next=8;break}return n.next=7,In(e,t);case 8:if("tuple"!==r.type){n.next=12;break}return n.next=11,Ln(e,t,r.components);case 12:if("array"!==r.baseType){n.next=18;break}if(Array.isArray(t)){n.next=15;break}return n.abrupt("return",Promise.reject(Pn.makeError("invalid value for array",A.errors.INVALID_ARGUMENT,{argument:"value",value:t})));case 15:return n.next=17,Promise.all(t.map((function(t){return Ln(e,t,r.arrayChildren)})));case 18:return n.abrupt("return",t);case 19:case"end":return n.stop()}}),n)})))}function Un(e,t,r){return Cn(this,void 0,void 0,(0,v.Z)().mark((function n(){var i,a,o,s,u,l,c,h,f,d,p=this;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={},r.length===t.inputs.length+1&&"object"===typeof r[r.length-1]&&(i=pe(r.pop())),Pn.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?i.from?i.from=fe({override:In(e.signer,i.from),signer:e.signer.getAddress()}).then((function(e){return Cn(p,void 0,void 0,(0,v.Z)().mark((function t(){return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return He(e.signer)!==e.override&&Pn.throwError("Contract with a Signer cannot override from",A.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),t.abrupt("return",e.override);case 2:case"end":return t.stop()}}),t)})))})):i.from=e.signer.getAddress():i.from&&(i.from=In(e.provider,i.from)),n.next=6,fe({args:Ln(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:fe(i)||{}});case 6:if(a=n.sent,o=e.interface.encodeFunctionData(t,a.args),s={data:o,to:a.address},null!=(u=a.overrides).nonce&&(s.nonce=ne.from(u.nonce).toNumber()),null!=u.gasLimit&&(s.gasLimit=ne.from(u.gasLimit)),null!=u.gasPrice&&(s.gasPrice=ne.from(u.gasPrice)),null!=u.maxFeePerGas&&(s.maxFeePerGas=ne.from(u.maxFeePerGas)),null!=u.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=ne.from(u.maxPriorityFeePerGas)),null!=u.from&&(s.from=u.from),null!=u.type&&(s.type=u.type),null!=u.accessList&&(s.accessList=kn(u.accessList)),null==s.gasLimit&&null!=t.gas){for(l=21e3,c=I(o),h=0;h<c.length;h++)l+=4,c[h]&&(l+=64);s.gasLimit=ne.from(t.gas).add(l)}return u.value&&((f=ne.from(u.value)).isZero()||t.payable||Pn.throwError("non-payable method cannot override value",A.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:i.value}),s.value=f),u.customData&&(s.customData=pe(u.customData)),u.ccipReadEnabled&&(s.ccipReadEnabled=!!u.ccipReadEnabled),delete i.nonce,delete i.gasLimit,delete i.gasPrice,delete i.from,delete i.value,delete i.type,delete i.accessList,delete i.maxFeePerGas,delete i.maxPriorityFeePerGas,delete i.customData,delete i.ccipReadEnabled,d=Object.keys(i).filter((function(e){return null!=i[e]})),d.length&&Pn.throwError("cannot override ".concat(d.map((function(e){return JSON.stringify(e)})).join(",")),A.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:d}),n.abrupt("return",s);case 36:case"end":return n.stop()}}),n)})))}function jn(e,t){var r=t.wait.bind(t);t.wait=function(t){return r(t).then((function(t){return t.events=t.logs.map((function(r){var n=ge(r),i=null;try{i=e.interface.parseLog(r)}catch(a){}return i&&(n.args=i.args,n.decode=function(t,r){return e.interface.decodeEventLog(i.eventFragment,t,r)},n.event=i.name,n.eventSignature=i.signature),n.removeListener=function(){return e.provider},n.getBlock=function(){return e.provider.getBlock(t.blockHash)},n.getTransaction=function(){return e.provider.getTransaction(t.transactionHash)},n.getTransactionReceipt=function(){return Promise.resolve(t)},n})),t}))}}function Nn(e,t,r){var n=e.signer||e.provider;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return Cn(this,void 0,void 0,(0,v.Z)().mark((function i(){var o,s,u,l,c;return(0,v.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(o=void 0,a.length!==t.inputs.length+1||"object"!==typeof a[a.length-1]){i.next=9;break}if(null==(s=pe(a.pop())).blockTag){i.next=7;break}return i.next=6,s.blockTag;case 6:o=i.sent;case 7:delete s.blockTag,a.push(s);case 9:if(null==e.deployTransaction){i.next=12;break}return i.next=12,e._deployed(o);case 12:return i.next=14,Un(e,t,a);case 14:return u=i.sent,i.next=17,n.call(u,o);case 17:return l=i.sent,i.prev=18,c=e.interface.decodeFunctionResult(t,l),r&&1===t.outputs.length&&(c=c[0]),i.abrupt("return",c);case 24:throw i.prev=24,i.t0=i.catch(18),i.t0.code===A.errors.CALL_EXCEPTION&&(i.t0.address=e.address,i.t0.args=a,i.t0.transaction=u),i.t0;case 28:case"end":return i.stop()}}),i,null,[[18,24]])})))}}function Bn(e,t,r){return t.constant?Nn(e,t,r):function(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Cn(this,void 0,void 0,(0,v.Z)().mark((function r(){var i,a;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.signer||Pn.throwError("sending a transaction requires a signer",A.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null==e.deployTransaction){r.next=4;break}return r.next=4,e._deployed();case 4:return r.next=6,Un(e,t,n);case 6:return i=r.sent,r.next=9,e.signer.sendTransaction(i);case 9:return a=r.sent,jn(e,a),r.abrupt("return",a);case 12:case"end":return r.stop()}}),r)})))}}(e,t)}function Zn(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map((function(e){return Array.isArray(e)?e.join("|"):e})).join(":"):""):"*"}var Wn=function(){function e(t,r){(0,_.Z)(this,e),ce(this,"tag",t),ce(this,"filter",r),this._listeners=[]}return(0,m.Z)(e,[{key:"addListener",value:function(e,t){this._listeners.push({listener:e,once:t})}},{key:"removeListener",value:function(e){var t=!1;this._listeners=this._listeners.filter((function(r){return!(!t&&r.listener===e)||(t=!0,!1)}))}},{key:"removeAllListeners",value:function(){this._listeners=[]}},{key:"listeners",value:function(){return this._listeners.map((function(e){return e.listener}))}},{key:"listenerCount",value:function(){return this._listeners.length}},{key:"run",value:function(e){var t=this,r=this.listenerCount();return this._listeners=this._listeners.filter((function(r){var n=e.slice();return setTimeout((function(){r.listener.apply(t,n)}),0),!r.once})),r}},{key:"prepareEvent",value:function(e){}},{key:"getEmit",value:function(e){return[e]}}]),e}(),Fn=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.call(this,"error",null)}return(0,m.Z)(r)}(Wn),zn=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n,i,a){var o;(0,_.Z)(this,r);var s={address:e},u=n.getEventTopic(i);return a?(u!==a[0]&&Pn.throwArgumentError("topic mismatch","topics",a),s.topics=a.slice()):s.topics=[u],o=t.call(this,Zn(s),s),ce((0,c.Z)(o),"address",e),ce((0,c.Z)(o),"interface",n),ce((0,c.Z)(o),"fragment",i),o}return(0,m.Z)(r,[{key:"prepareEvent",value:function(e){var t=this;(0,h.Z)((0,f.Z)(r.prototype),"prepareEvent",this).call(this,e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=function(e,r){return t.interface.decodeEventLog(t.fragment,e,r)};try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(n){e.args=null,e.decodeError=n}}},{key:"getEmit",value:function(e){var t=Ee(e.args);if(t.length)throw t[0].error;var r=(e.args||[]).slice();return r.push(e),r}}]),r}(Wn),Kn=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;return(0,_.Z)(this,r),i=t.call(this,"*",{address:e}),ce((0,c.Z)(i),"address",e),ce((0,c.Z)(i),"interface",n),i}return(0,m.Z)(r,[{key:"prepareEvent",value:function(e){var t=this;(0,h.Z)((0,f.Z)(r.prototype),"prepareEvent",this).call(this,e);try{var n=this.interface.parseLog(e);e.event=n.name,e.eventSignature=n.signature,e.decode=function(e,r){return t.interface.decodeEventLog(n.eventFragment,e,r)},e.args=n.args}catch(i){}}}]),r}(Wn),Hn=function(){function e(t,r,n){var i=this;(0,_.Z)(this,e),ce(this,"interface",he(this instanceof e?this.constructor:void 0,"getInterface")(r)),null==n?(ce(this,"provider",null),ce(this,"signer",null)):wr.isSigner(n)?(ce(this,"provider",n.provider||null),ce(this,"signer",n)):mr.isProvider(n)?(ce(this,"provider",n),ce(this,"signer",null)):Pn.throwArgumentError("invalid signer or provider","signerOrProvider",n),ce(this,"callStatic",{}),ce(this,"estimateGas",{}),ce(this,"functions",{}),ce(this,"populateTransaction",{}),ce(this,"filters",{});var a={};if(Object.keys(this.interface.events).forEach((function(e){var t=i.interface.events[e];ce(i.filters,e,(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return{address:i.address,topics:i.interface.encodeFilterTopics(t,r)}})),a[t.name]||(a[t.name]=[]),a[t.name].push(e)})),Object.keys(a).forEach((function(e){var t=a[e];1===t.length?ce(i.filters,e,i.filters[t[0]]):Pn.warn("Duplicate definition of ".concat(e," (").concat(t.join(", "),")"))})),ce(this,"_runningEvents",{}),ce(this,"_wrappedEmits",{}),null==t&&Pn.throwArgumentError("invalid contract address or ENS name","addressOrName",t),ce(this,"address",t),this.provider)ce(this,"resolvedAddress",In(this.provider,t));else try{ce(this,"resolvedAddress",Promise.resolve(He(t)))}catch(u){Pn.throwError("provider is required to use ENS name as contract address",A.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((function(e){}));var o={},s={};Object.keys(this.interface.functions).forEach((function(e){var t=i.interface.functions[e];if(s[e])Pn.warn("Duplicate ABI entry for ".concat(JSON.stringify(e)));else{s[e]=!0;var r=t.name;o["%".concat(r)]||(o["%".concat(r)]=[]),o["%".concat(r)].push(e),null==i[e]&&ce(i,e,Bn(i,t,!0)),null==i.functions[e]&&ce(i.functions,e,Bn(i,t,!1)),null==i.callStatic[e]&&ce(i.callStatic,e,Nn(i,t,!0)),null==i.populateTransaction[e]&&ce(i.populateTransaction,e,function(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Un(e,t,n)}}(i,t)),null==i.estimateGas[e]&&ce(i.estimateGas,e,function(e,t){var r=e.signer||e.provider;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return Cn(this,void 0,void 0,(0,v.Z)().mark((function n(){var a;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r||Pn.throwError("estimate require a provider or signer",A.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"}),n.next=3,Un(e,t,i);case 3:return a=n.sent,n.next=6,r.estimateGas(a);case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)})))}}(i,t))}})),Object.keys(o).forEach((function(e){var t=o[e];if(!(t.length>1)){e=e.substring(1);var r=t[0];try{null==i[e]&&ce(i,e,i[r])}catch(n){}null==i.functions[e]&&ce(i.functions,e,i.functions[r]),null==i.callStatic[e]&&ce(i.callStatic,e,i.callStatic[r]),null==i.populateTransaction[e]&&ce(i.populateTransaction,e,i.populateTransaction[r]),null==i.estimateGas[e]&&ce(i.estimateGas,e,i.estimateGas[r])}}))}return(0,m.Z)(e,[{key:"deployed",value:function(){return this._deployed()}},{key:"_deployed",value:function(e){var t=this;return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((function(){return t})):this._deployedPromise=this.provider.getCode(this.address,e).then((function(e){return"0x"===e&&Pn.throwError("contract not deployed",A.errors.UNSUPPORTED_OPERATION,{contractAddress:t.address,operation:"getDeployed"}),t}))),this._deployedPromise}},{key:"fallback",value:function(e){var t=this;this.signer||Pn.throwError("sending a transactions require a signer",A.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});var r=pe(e||{});return["from","to"].forEach((function(e){null!=r[e]&&Pn.throwError("cannot override "+e,A.errors.UNSUPPORTED_OPERATION,{operation:e})})),r.to=this.resolvedAddress,this.deployed().then((function(){return t.signer.sendTransaction(r)}))}},{key:"connect",value:function(e){"string"===typeof e&&(e=new Er(e,this.provider));var t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ce(t,"deployTransaction",this.deployTransaction),t}},{key:"attach",value:function(e){return new this.constructor(e,this.interface,this.signer||this.provider)}},{key:"_normalizeRunningEvent",value:function(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}},{key:"_getRunningEvent",value:function(e){if("string"===typeof e){if("error"===e)return this._normalizeRunningEvent(new Fn);if("event"===e)return this._normalizeRunningEvent(new Wn("event",null));if("*"===e)return this._normalizeRunningEvent(new Kn(this.address,this.interface));var t=this.interface.getEvent(e);return this._normalizeRunningEvent(new zn(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{var r=e.topics[0];if("string"!==typeof r)throw new Error("invalid topic");var n=this.interface.getEvent(r);return this._normalizeRunningEvent(new zn(this.address,this.interface,n,e.topics))}catch(a){}var i={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Wn(Zn(i),i))}return this._normalizeRunningEvent(new Kn(this.address,this.interface))}},{key:"_checkRunningEvents",value:function(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];var t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}},{key:"_wrapEvent",value:function(e,t,r){var n=this,i=ge(t);return i.removeListener=function(){r&&(e.removeListener(r),n._checkRunningEvents(e))},i.getBlock=function(){return n.provider.getBlock(t.blockHash)},i.getTransaction=function(){return n.provider.getTransaction(t.transactionHash)},i.getTransactionReceipt=function(){return n.provider.getTransactionReceipt(t.transactionHash)},e.prepareEvent(i),i}},{key:"_addEventListener",value:function(e,t,r){var n=this;if(this.provider||Pn.throwError("events require a provider or a signer with a provider",A.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){var i=function(r){var i=n._wrapEvent(e,r,t);if(null==i.decodeError)try{var a=e.getEmit(i);n.emit.apply(n,[e.filter].concat((0,l.Z)(a)))}catch(o){i.decodeError=o.error}null!=e.filter&&n.emit("event",i),null!=i.decodeError&&n.emit("error",i.decodeError,i)};this._wrappedEmits[e.tag]=i,null!=e.filter&&this.provider.on(e.filter,i)}}},{key:"queryFilter",value:function(e,t,r){var n=this,i=this._getRunningEvent(e),a=pe(i.filter);return"string"===typeof t&&N(t,32)?(null!=r&&Pn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),a.blockHash=t):(a.fromBlock=null!=t?t:0,a.toBlock=null!=r?r:"latest"),this.provider.getLogs(a).then((function(e){return e.map((function(e){return n._wrapEvent(i,e,null)}))}))}},{key:"on",value:function(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}},{key:"once",value:function(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}},{key:"emit",value:function(e){if(!this.provider)return!1;for(var t=this._getRunningEvent(e),r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=t.run(n)>0;return this._checkRunningEvents(t),a}},{key:"listenerCount",value:function(e){var t=this;return this.provider?null==e?Object.keys(this._runningEvents).reduce((function(e,r){return e+t._runningEvents[r].listenerCount()}),0):this._getRunningEvent(e).listenerCount():0}},{key:"listeners",value:function(e){var t=this;if(!this.provider)return[];if(null==e){var r=function(){var e=[];for(var r in t._runningEvents)t._runningEvents[r].listeners().forEach((function(t){e.push(t)}));return{v:e}}();if("object"===typeof r)return r.v}return this._getRunningEvent(e).listeners()}},{key:"removeAllListeners",value:function(e){if(!this.provider)return this;if(null==e){for(var t in this._runningEvents){var r=this._runningEvents[t];r.removeAllListeners(),this._checkRunningEvents(r)}return this}var n=this._getRunningEvent(e);return n.removeAllListeners(),this._checkRunningEvents(n),this}},{key:"off",value:function(e,t){if(!this.provider)return this;var r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}},{key:"removeListener",value:function(e,t){return this.off(e,t)}}],[{key:"getContractAddress",value:function(e){return Xe(e)}},{key:"getInterface",value:function(e){return fr.isInterface(e)?e:new fr(e)}},{key:"isIndexed",value:function(e){return lr.isIndexed(e)}}]),e}(),Gn=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r)}(Hn),Vn=function(){function e(t,r,n){(0,_.Z)(this,e);var i=null;"0x"!==(i="string"===typeof r?r:D(r)?Z(r):r&&"string"===typeof r.object?r.object:"!").substring(0,2)&&(i="0x"+i),(!N(i)||i.length%2)&&Pn.throwArgumentError("invalid bytecode","bytecode",r),n&&!wr.isSigner(n)&&Pn.throwArgumentError("invalid signer","signer",n),ce(this,"bytecode",i),ce(this,"interface",he(this instanceof e?this.constructor:void 0,"getInterface")(t)),ce(this,"signer",n||null)}return(0,m.Z)(e,[{key:"getDeployTransaction",value:function(){for(var e={},t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===this.interface.deploy.inputs.length+1&&"object"===typeof r[r.length-1])for(var i in e=pe(r.pop()))if(!Dn[i])throw new Error("unknown transaction override "+i);if(["data","from","to"].forEach((function(t){null!=e[t]&&Pn.throwError("cannot override "+t,A.errors.UNSUPPORTED_OPERATION,{operation:t})})),e.value){var a=ne.from(e.value);a.isZero()||this.interface.deploy.payable||Pn.throwError("non-payable constructor cannot override value",A.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:e.value})}return Pn.checkArgumentCount(r.length,this.interface.deploy.inputs.length," in Contract constructor"),e.data=Z(L([this.bytecode,this.interface.encodeDeploy(r)])),e}},{key:"deploy",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Cn(this,void 0,void 0,(0,v.Z)().mark((function e(){var r,n,i,a,o,s;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},t.length===this.interface.deploy.inputs.length+1&&(r=t.pop()),Pn.checkArgumentCount(t.length,this.interface.deploy.inputs.length," in Contract constructor"),e.next=5,Ln(this.signer,t,this.interface.deploy.inputs);case 5:return(n=e.sent).push(r),i=this.getDeployTransaction.apply(this,(0,l.Z)(n)),e.next=10,this.signer.sendTransaction(i);case 10:return a=e.sent,o=he(this.constructor,"getContractAddress")(a),jn(s=he(this.constructor,"getContract")(o,this.interface,this.signer),a),ce(s,"deployTransaction",a),e.abrupt("return",s);case 16:case"end":return e.stop()}}),e,this)})))}},{key:"attach",value:function(e){return this.constructor.getContract(e,this.interface,this.signer)}},{key:"connect",value:function(e){return new this.constructor(this.interface,this.bytecode,e)}}],[{key:"fromSolidity",value:function(e,t){null==e&&Pn.throwError("missing compiler output",A.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"===typeof e&&(e=JSON.parse(e));var r=e.abi,n=null;return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(r,n,t)}},{key:"getInterface",value:function(e){return Gn.getInterface(e)}},{key:"getContractAddress",value:function(e){return Xe(e)}},{key:"getContract",value:function(e,t,r){return new Gn(e,t,r)}}]),e}(),Xn=new A($),Yn={},qn=ne.from(0),$n=ne.from(-1);function Jn(e,t,r,n){var i={fault:t,operation:r};return void 0!==n&&(i.value=n),Xn.throwError(e,A.errors.NUMERIC_FAULT,i)}for(var Qn="0";Qn.length<256;)Qn+=Qn;function ei(e){if("number"!==typeof e)try{e=ne.from(e).toNumber()}catch(t){}return"number"===typeof e&&e>=0&&e<=256&&!(e%1)?"1"+Qn.substring(0,e):Xn.throwArgumentError("invalid decimal size","decimals",e)}function ti(e,t){null==t&&(t=0);var r=ei(t),n=(e=ne.from(e)).lt(qn);n&&(e=e.mul($n));for(var i=e.mod(r).toString();i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];var a=e.div(r).toString();return e=1===r.length?a:a+"."+i,n&&(e="-"+e),e}function ri(e,t){null==t&&(t=0);var r=ei(t);"string"===typeof e&&e.match(/^-?[0-9.]+$/)||Xn.throwArgumentError("invalid decimal value","value",e);var n="-"===e.substring(0,1);n&&(e=e.substring(1)),"."===e&&Xn.throwArgumentError("missing value","value",e);var i=e.split(".");i.length>2&&Xn.throwArgumentError("too many decimal points","value",e);var a=i[0],o=i[1];for(a||(a="0"),o||(o="0");"0"===o[o.length-1];)o=o.substring(0,o.length-1);for(o.length>r.length-1&&Jn("fractional component exceeds decimals","underflow","parseFixed"),""===o&&(o="0");o.length<r.length-1;)o+="0";var s=ne.from(a),u=ne.from(o),l=s.mul(r).add(u);return n&&(l=l.mul($n)),l}var ni=function(){function e(t,r,n,i){(0,_.Z)(this,e),t!==Yn&&Xn.throwError("cannot use FixedFormat constructor; use FixedFormat.from",A.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=ei(i),Object.freeze(this)}return(0,m.Z)(e,null,[{key:"from",value:function(t){if(t instanceof e)return t;"number"===typeof t&&(t="fixed128x".concat(t));var r=!0,n=128,i=18;if("string"===typeof t)if("fixed"===t);else if("ufixed"===t)r=!1;else{var a=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);a||Xn.throwArgumentError("invalid fixed format","format",t),r="u"!==a[1],n=parseInt(a[2]),i=parseInt(a[3])}else if(t){var o=function(e,r,n){return null==t[e]?n:(typeof t[e]!==r&&Xn.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e])};r=o("signed","boolean",r),n=o("width","number",n),i=o("decimals","number",i)}return n%8&&Xn.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&Xn.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new e(Yn,r,n,i)}}]),e}(),ii=function(){function e(t,r,n,i){(0,_.Z)(this,e),t!==Yn&&Xn.throwError("cannot use FixedNumber constructor; use FixedNumber.from",A.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}return(0,m.Z)(e,[{key:"_checkFormat",value:function(e){this.format.name!==e.format.name&&Xn.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}},{key:"addUnsafe",value:function(t){this._checkFormat(t);var r=ri(this._value,this.format.decimals),n=ri(t._value,t.format.decimals);return e.fromValue(r.add(n),this.format.decimals,this.format)}},{key:"subUnsafe",value:function(t){this._checkFormat(t);var r=ri(this._value,this.format.decimals),n=ri(t._value,t.format.decimals);return e.fromValue(r.sub(n),this.format.decimals,this.format)}},{key:"mulUnsafe",value:function(t){this._checkFormat(t);var r=ri(this._value,this.format.decimals),n=ri(t._value,t.format.decimals);return e.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}},{key:"divUnsafe",value:function(t){this._checkFormat(t);var r=ri(this._value,this.format.decimals),n=ri(t._value,t.format.decimals);return e.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}},{key:"floor",value:function(){var t=this.toString().split(".");1===t.length&&t.push("0");var r=e.from(t[0],this.format),n=!t[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(ai.toFormat(r.format))),r}},{key:"ceiling",value:function(){var t=this.toString().split(".");1===t.length&&t.push("0");var r=e.from(t[0],this.format),n=!t[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(ai.toFormat(r.format))),r}},{key:"round",value:function(t){null==t&&(t=0);var r=this.toString().split(".");if(1===r.length&&r.push("0"),(t<0||t>80||t%1)&&Xn.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;var n=e.from("1"+Qn.substring(0,t),this.format),i=oi.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}},{key:"isZero",value:function(){return"0.0"===this._value||"0"===this._value}},{key:"isNegative",value:function(){return"-"===this._value[0]}},{key:"toString",value:function(){return this._value}},{key:"toHexString",value:function(e){return null==e?this._hex:(e%8&&Xn.throwArgumentError("invalid byte width","width",e),G(ne.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString(),e/8))}},{key:"toUnsafeFloat",value:function(){return parseFloat(this.toString())}},{key:"toFormat",value:function(t){return e.fromString(this._value,t)}}],[{key:"fromValue",value:function(t,r,n){return null!=n||null==r||function(e){return null!=e&&(ne.isBigNumber(e)||"number"===typeof e&&e%1===0||"string"===typeof e&&!!e.match(/^-?[0-9]+$/)||N(e)||"bigint"===typeof e||D(e))}(r)||(n=r,r=null),null==r&&(r=0),null==n&&(n="fixed"),e.fromString(ti(t,r),ni.from(n))}},{key:"fromString",value:function(t,r){null==r&&(r="fixed");var n=ni.from(r),i=ri(t,n.decimals);!n.signed&&i.lt(qn)&&Jn("unsigned value cannot be negative","overflow","value",t);var a=null;a=n.signed?i.toTwos(n.width).toHexString():G(a=i.toHexString(),n.width/8);var o=ti(i,n.decimals);return new e(Yn,a,o,n)}},{key:"fromBytes",value:function(t,r){null==r&&(r="fixed");var n=ni.from(r);if(I(t).length>n.width/8)throw new Error("overflow");var i=ne.from(t);n.signed&&(i=i.fromTwos(n.width));var a=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=ti(i,n.decimals);return new e(Yn,a,o,n)}},{key:"from",value:function(t,r){if("string"===typeof t)return e.fromString(t,r);if(D(t))return e.fromBytes(t,r);try{return e.fromValue(t,0,r)}catch(n){if(n.code!==A.errors.INVALID_ARGUMENT)throw n}return Xn.throwArgumentError("invalid FixedNumber value","value",t)}},{key:"isFixedNumber",value:function(e){return!(!e||!e._isFixedNumber)}}]),e}(),ai=ii.from(1),oi=ii.from("0.5");function si(e){return"string"===typeof e&&(e=rt(e)),Oe(L([rt("\x19Ethereum Signed Message:\n"),rt(String(e.length)),e]))}var ui="hash/5.7.0",li=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},ci=new A(ui),hi=new Uint8Array(32);hi.fill(0);var fi=ne.from(-1),di=ne.from(0),pi=ne.from(1),_i=ne.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var mi=G(pi.toHexString(),32),vi=G(di.toHexString(),32),gi={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},yi=["name","version","chainId","verifyingContract","salt"];function bi(e){return function(t){return"string"!==typeof t&&ci.throwArgumentError("invalid domain value for ".concat(JSON.stringify(e)),"domain.".concat(e),t),t}}var wi={name:bi("name"),version:bi("version"),chainId:function(e){try{return ne.from(e).toString()}catch(t){}return ci.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return He(e).toLowerCase()}catch(t){}return ci.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{var t=I(e);if(32!==t.length)throw new Error("bad length");return Z(t)}catch(r){}return ci.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function Ei(e){var t=e.match(/^(u?)int(\d*)$/);if(t){var r=""===t[1],n=parseInt(t[2]||"256");(n%8!==0||n>256||t[2]&&t[2]!==String(n))&&ci.throwArgumentError("invalid numeric width","type",e);var i=_i.mask(r?n-1:n),a=r?i.add(pi).mul(fi):di;return function(t){var r=ne.from(t);return(r.lt(a)||r.gt(i))&&ci.throwArgumentError("value out-of-bounds for ".concat(e),"value",t),G(r.toTwos(256).toHexString(),32)}}var o=e.match(/^bytes(\d+)$/);if(o){var s=parseInt(o[1]);return(0===s||s>32||o[1]!==String(s))&&ci.throwArgumentError("invalid bytes width","type",e),function(t){return I(t).length!==s&&ci.throwArgumentError("invalid length for ".concat(e),"value",t),function(e){var t=I(e),r=t.length%32;return r?z([t,hi.slice(r)]):Z(t)}(t)}}switch(e){case"address":return function(e){return G(He(e),32)};case"bool":return function(e){return e?mi:vi};case"bytes":return function(e){return Oe(e)};case"string":return function(e){return ut(e)}}return null}function xi(e,t){return"".concat(e,"(").concat(t.map((function(e){var t=e.name;return e.type+" "+t})).join(","),")")}var ki,Ti=function(){function e(t){(0,_.Z)(this,e),ce(this,"types",Object.freeze(ge(t))),ce(this,"_encoderCache",{}),ce(this,"_types",{});var r={},n={},i={};Object.keys(t).forEach((function(e){r[e]={},n[e]=[],i[e]={}}));var a=function(e){var i={};t[e].forEach((function(a){i[a.name]&&ci.throwArgumentError("duplicate variable name ".concat(JSON.stringify(a.name)," in ").concat(JSON.stringify(e)),"types",t),i[a.name]=!0;var o=a.type.match(/^([^\x5b]*)(\x5b|$)/)[1];o===e&&ci.throwArgumentError("circular type reference to ".concat(JSON.stringify(o)),"types",t),Ei(o)||(n[o]||ci.throwArgumentError("unknown type ".concat(JSON.stringify(o)),"types",t),n[o].push(e),r[e][o]=!0)}))};for(var o in t)a(o);var s=Object.keys(n).filter((function(e){return 0===n[e].length}));for(var u in 0===s.length?ci.throwArgumentError("missing primary type","types",t):s.length>1&&ci.throwArgumentError("ambiguous primary types or unused types: ".concat(s.map((function(e){return JSON.stringify(e)})).join(", ")),"types",t),ce(this,"primaryType",s[0]),function e(a,o){o[a]&&ci.throwArgumentError("circular type reference to ".concat(JSON.stringify(a)),"types",t),o[a]=!0,Object.keys(r[a]).forEach((function(t){n[t]&&(e(t,o),Object.keys(o).forEach((function(e){i[e][t]=!0})))})),delete o[a]}(this.primaryType,{}),i){var l=Object.keys(i[u]);l.sort(),this._types[u]=xi(u,t[u])+l.map((function(e){return xi(e,t[e])})).join("")}}return(0,m.Z)(e,[{key:"getEncoder",value:function(e){var t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}},{key:"_getEncoder",value:function(e){var t=this,r=Ei(e);if(r)return r;var n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){var i=n[1],a=this.getEncoder(i),o=parseInt(n[3]);return function(e){o>=0&&e.length!==o&&ci.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);var r=e.map(a);return t._types[i]&&(r=r.map(Oe)),Oe(z(r))}}var s=this.types[e];if(s){var u=ut(this._types[e]);return function(e){var r=s.map((function(r){var n=r.name,i=r.type,a=t.getEncoder(i)(e[n]);return t._types[i]?Oe(a):a}));return r.unshift(u),z(r)}}return ci.throwArgumentError("unknown type: ".concat(e),"type",e)}},{key:"encodeType",value:function(e){var t=this._types[e];return t||ci.throwArgumentError("unknown type: ".concat(JSON.stringify(e)),"name",e),t}},{key:"encodeData",value:function(e,t){return this.getEncoder(e)(t)}},{key:"hashStruct",value:function(e,t){return Oe(this.encodeData(e,t))}},{key:"encode",value:function(e){return this.encodeData(this.primaryType,e)}},{key:"hash",value:function(e){return this.hashStruct(this.primaryType,e)}},{key:"_visit",value:function(e,t,r){var n=this;if(Ei(e))return r(e,t);var i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){var a=i[1],o=parseInt(i[3]);return o>=0&&t.length!==o&&ci.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map((function(e){return n._visit(a,e,r)}))}var s=this.types[e];return s?s.reduce((function(e,i){var a=i.name,o=i.type;return e[a]=n._visit(o,t[a],r),e}),{}):ci.throwArgumentError("unknown type: ".concat(e),"type",e)}},{key:"visit",value:function(e,t){return this._visit(this.primaryType,e,t)}}],[{key:"from",value:function(t){return new e(t)}},{key:"getPrimaryType",value:function(t){return e.from(t).primaryType}},{key:"hashStruct",value:function(t,r,n){return e.from(r).hashStruct(t,n)}},{key:"hashDomain",value:function(t){var r=[];for(var n in t){var i=gi[n];i||ci.throwArgumentError("invalid typed-data domain key: ".concat(JSON.stringify(n)),"domain",t),r.push({name:n,type:i})}return r.sort((function(e,t){return yi.indexOf(e.name)-yi.indexOf(t.name)})),e.hashStruct("EIP712Domain",{EIP712Domain:r},t)}},{key:"encode",value:function(t,r,n){return z(["0x1901",e.hashDomain(t),e.from(r).hash(n)])}},{key:"hash",value:function(t,r,n){return Oe(e.encode(t,r,n))}},{key:"resolveNames",value:function(t,r,n,i){return li(this,void 0,void 0,(0,v.Z)().mark((function a(){var o,s,u;return(0,v.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=pe(t),o={},t.verifyingContract&&!N(t.verifyingContract,20)&&(o[t.verifyingContract]="0x"),(s=e.from(r)).visit(n,(function(e,t){return"address"!==e||N(t,20)||(o[t]="0x"),t})),a.t0=(0,v.Z)().keys(o);case 6:if((a.t1=a.t0()).done){a.next=13;break}return u=a.t1.value,a.next=10,i(u);case 10:o[u]=a.sent,a.next=6;break;case 13:return t.verifyingContract&&o[t.verifyingContract]&&(t.verifyingContract=o[t.verifyingContract]),n=s.visit(n,(function(e,t){return"address"===e&&o[t]?o[t]:t})),a.abrupt("return",{domain:t,value:n});case 16:case"end":return a.stop()}}),a)})))}},{key:"getPayload",value:function(t,r,n){e.hashDomain(t);var i={},a=[];yi.forEach((function(e){var r=t[e];null!=r&&(i[e]=wi[e](r),a.push({name:e,type:gi[e]}))}));var o=e.from(r),s=pe(r);return s.EIP712Domain?ci.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):s.EIP712Domain=a,o.encode(n),{types:s,domain:i,primaryType:o.primaryType,message:o.visit(n,(function(e,t){if(e.match(/^bytes(\d*)/))return Z(I(t));if(e.match(/^u?int/))return ne.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!==typeof t&&ci.throwArgumentError("invalid string","value",t),t}return ci.throwArgumentError("unsupported type","type",e)}))}}}]),e}(),Mi=function(){function e(t){(0,_.Z)(this,e),ce(this,"alphabet",t),ce(this,"base",t.length),ce(this,"_alphabetMap",{}),ce(this,"_leader",t.charAt(0));for(var r=0;r<t.length;r++)this._alphabetMap[t.charAt(r)]=r}return(0,m.Z)(e,[{key:"encode",value:function(e){var t=I(e);if(0===t.length)return"";for(var r=[0],n=0;n<t.length;++n){for(var i=t[n],a=0;a<r.length;++a)i+=r[a]<<8,r[a]=i%this.base,i=i/this.base|0;for(;i>0;)r.push(i%this.base),i=i/this.base|0}for(var o="",s=0;0===t[s]&&s<t.length-1;++s)o+=this._leader;for(var u=r.length-1;u>=0;--u)o+=this.alphabet[r[u]];return o}},{key:"decode",value:function(e){if("string"!==typeof e)throw new TypeError("Expected String");var t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(var r=0;r<e.length;r++){var n=this._alphabetMap[e[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");for(var i=n,a=0;a<t.length;++a)i+=t[a]*this.base,t[a]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(var o=0;e[o]===this._leader&&o<e.length-1;++o)t.push(0);return I(new Uint8Array(t.reverse()))}}]),e}(),Ai=(new Mi("abcdefghijklmnopqrstuvwxyz234567"),new Mi("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"));!function(e){e.sha256="sha256",e.sha512="sha512"}(ki||(ki={}));var Oi=new A("sha2/5.7.0");function Si(e){return"0x"+kr().ripemd160().update(I(e)).digest("hex")}function Ri(e){return"0x"+kr().sha256().update(I(e)).digest("hex")}function Ci(e){return"0x"+kr().sha512().update(I(e)).digest("hex")}function Pi(e,t,r){return ki[e]||Oi.throwError("unsupported algorithm "+e,A.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+kr().hmac(kr()[e],I(t)).update(I(r)).digest("hex")}function Di(e,t,r,n,i){var a;e=I(e),t=I(t);var o,s,u=1,l=new Uint8Array(n),c=new Uint8Array(t.length+4);c.set(t);for(var h=1;h<=u;h++){c[t.length]=h>>24&255,c[t.length+1]=h>>16&255,c[t.length+2]=h>>8&255,c[t.length+3]=255&h;var f=I(Pi(i,e,c));a||(a=f.length,s=new Uint8Array(a),o=n-((u=Math.ceil(n/a))-1)*a),s.set(f);for(var d=1;d<r;d++){f=I(Pi(i,e,f));for(var p=0;p<a;p++)s[p]^=f[p]}var _=(h-1)*a,m=h===u?o:a;l.set(I(s).slice(0,m),_)}return Z(l)}var Ii=new A("wordlists/5.7.0"),Li=function(){function e(t){(0,_.Z)(this,e),Ii.checkAbstract(this instanceof e?this.constructor:void 0,e),ce(this,"locale",t)}return(0,m.Z)(e,[{key:"split",value:function(e){return e.toLowerCase().split(/ +/g)}},{key:"join",value:function(e){return e.join(" ")}}],[{key:"check",value:function(e){for(var t=[],r=0;r<2048;r++){var n=e.getWord(r);if(r!==e.getWordIndex(n))return"0x";t.push(n)}return ut(t.join("\n")+"\n")}},{key:"register",value:function(e,t){t||(t=e.locale)}}]),e}(),Ui=null;function ji(e){if(null==Ui&&(Ui="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==Li.check(e)))throw Ui=null,new Error("BIP39 Wordlist for en (English) FAILED")}var Ni=new(function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.call(this,"en")}return(0,m.Z)(r,[{key:"getWord",value:function(e){return ji(this),Ui[e]}},{key:"getWordIndex",value:function(e){return ji(this),Ui.indexOf(e)}}]),r}(Li));Li.register(Ni);var Bi={en:Ni},Zi=new A("hdnode/5.7.0"),Wi=ne.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Fi=rt("Bitcoin seed"),zi=2147483648;function Ki(e){return(1<<e)-1<<8-e}function Hi(e){return G(Z(e),32)}function Gi(e){return Ai.encode(L([e,F(Ri(Ri(e)),0,4)]))}function Vi(e){if(null==e)return Bi.en;if("string"===typeof e){var t=Bi[e];return null==t&&Zi.throwArgumentError("unknown locale","wordlist",e),t}return e}var Xi={},Yi="m/44'/60'/0'/0/0",qi=function(){function e(t,r,n,i,a,o,s,u){if((0,_.Z)(this,e),t!==Xi)throw new Error("HDNode constructor cannot be called directly");if(r){var l=new hn(r);ce(this,"privateKey",l.privateKey),ce(this,"publicKey",l.compressedPublicKey)}else ce(this,"privateKey",null),ce(this,"publicKey",Z(n));ce(this,"parentFingerprint",i),ce(this,"fingerprint",F(Si(Ri(this.publicKey)),0,4)),ce(this,"address",bn(this.publicKey)),ce(this,"chainCode",a),ce(this,"index",o),ce(this,"depth",s),null==u?(ce(this,"mnemonic",null),ce(this,"path",null)):"string"===typeof u?(ce(this,"mnemonic",null),ce(this,"path",u)):(ce(this,"mnemonic",u),ce(this,"path",u.path))}return(0,m.Z)(e,[{key:"extendedKey",get:function(){if(this.depth>=256)throw new Error("Depth too large!");return Gi(L([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",Z(this.depth),this.parentFingerprint,G(Z(this.index),4),this.chainCode,null!=this.privateKey?L(["0x00",this.privateKey]):this.publicKey]))}},{key:"neuter",value:function(){return new e(Xi,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}},{key:"_derive",value:function(t){if(t>4294967295)throw new Error("invalid index - "+String(t));var r=this.path;r&&(r+="/"+(2147483647&t));var n=new Uint8Array(37);if(t&zi){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(I(this.privateKey),1),r&&(r+="'")}else n.set(I(this.publicKey));for(var i=24;i>=0;i-=8)n[33+(i>>3)]=t>>24-i&255;var a=I(Pi(ki.sha512,this.chainCode,n)),o=a.slice(0,32),s=a.slice(32),u=null,l=null;this.privateKey?u=Hi(ne.from(o).add(this.privateKey).mod(Wi)):l=new hn(Z(o))._addPoint(this.publicKey);var c=r,h=this.mnemonic;return h&&(c=Object.freeze({phrase:h.phrase,path:r,locale:h.locale||"en"})),new e(Xi,u,l,this.fingerprint,Hi(s),t,this.depth+1,c)}},{key:"derivePath",value:function(e){var t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();for(var r=this,n=0;n<t.length;n++){var i=t[n];if(i.match(/^[0-9]+'$/)){var a=parseInt(i.substring(0,i.length-1));if(a>=zi)throw new Error("invalid path index - "+i);r=r._derive(zi+a)}else{if(!i.match(/^[0-9]+$/))throw new Error("invalid path component - "+i);var o=parseInt(i);if(o>=zi)throw new Error("invalid path index - "+i);r=r._derive(o)}}return r}}],[{key:"_fromSeed",value:function(t,r){var n=I(t);if(n.length<16||n.length>64)throw new Error("invalid seed");var i=I(Pi(ki.sha512,Fi,n));return new e(Xi,Hi(i.slice(0,32)),null,"0x00000000",Hi(i.slice(32)),0,0,r)}},{key:"fromMnemonic",value:function(t,r,n){return t=Qi(Ji(t,n=Vi(n)),n),e._fromSeed($i(t,r),{phrase:t,path:"m",locale:n.locale})}},{key:"fromSeed",value:function(t){return e._fromSeed(t,null)}},{key:"fromExtendedKey",value:function(t){var r=Ai.decode(t);82===r.length&&Gi(r.slice(0,78))===t||Zi.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");var n=r[4],i=Z(r.slice(5,9)),a=parseInt(Z(r.slice(9,13)).substring(2),16),o=Z(r.slice(13,45)),s=r.slice(45,78);switch(Z(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new e(Xi,null,Z(s),i,o,a,n,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new e(Xi,Z(s.slice(1)),null,i,o,a,n,null)}return Zi.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}]),e}();function $i(e,t){t||(t="");var r=rt("mnemonic"+t,qe.NFKD);return Di(rt(e,qe.NFKD),r,2048,64,"sha512")}function Ji(e,t){t=Vi(t),Zi.checkNormalize();var r=t.split(e);if(r.length%3!==0)throw new Error("invalid mnemonic");for(var n=I(new Uint8Array(Math.ceil(11*r.length/8))),i=0,a=0;a<r.length;a++){var o=t.getWordIndex(r[a].normalize("NFKD"));if(-1===o)throw new Error("invalid mnemonic");for(var s=0;s<11;s++)o&1<<10-s&&(n[i>>3]|=1<<7-i%8),i++}var u=32*r.length/3,l=Ki(r.length/3);if((I(Ri(n.slice(0,u/8)))[0]&l)!==(n[n.length-1]&l))throw new Error("invalid checksum");return Z(n.slice(0,u/8))}function Qi(e,t){if(t=Vi(t),(e=I(e)).length%4!==0||e.length<16||e.length>32)throw new Error("invalid entropy");for(var r=[0],n=11,i=0;i<e.length;i++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[i],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[i]>>8-n,r.push(e[i]&(1<<8-n)-1),n+=3);var a=e.length/4,o=I(Ri(e))[0]&Ki(a);return r[r.length-1]<<=a,r[r.length-1]|=o>>8-a,t.join(r.map((function(e){return t.getWord(e)})))}function ea(e,t){try{return Ji(e,t),!0}catch(r){}return!1}function ta(e){return("number"!==typeof e||e<0||e>=zi||e%1)&&Zi.throwArgumentError("invalid account index","index",e),"m/44'/60'/".concat(e,"'/0/0")}var ra=new A("random/5.7.0");var na=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}(),ia=na.crypto||na.msCrypto;function aa(e){(e<=0||e>1024||e%1||e!=e)&&ra.throwArgumentError("invalid length","length",e);var t=new Uint8Array(e);return ia.getRandomValues(t),I(t)}ia&&ia.getRandomValues||(ra.warn("WARNING: Missing strong random number source"),ia={getRandomValues:function(e){return ra.throwError("no secure random source avaialble",A.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var oa=r(468),sa=r.n(oa),ua=r(2065),la=r.n(ua);function ca(e){return"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),I(e)}function ha(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function fa(e){return"string"===typeof e?rt(e,qe.NFKC):I(e)}function da(e,t){for(var r=e,n=t.toLowerCase().split("/"),i=0;i<n.length;i++){var a=null;for(var o in r)if(o.toLowerCase()===n[i]){a=r[o];break}if(null===a)return null;r=a}return r}function pa(e){var t=I(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;var r=Z(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}var _a="json-wallets/5.7.0",ma=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},va=new A(_a);function ga(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}var ya=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r,[{key:"isKeystoreAccount",value:function(e){return!(!e||!e._isKeystoreAccount)}}]),r}(ye);function ba(e,t){var r=ca(da(e,"crypto/ciphertext"));if(Z(Oe(L([t.slice(16,32),r]))).substring(2)!==da(e,"crypto/mac").toLowerCase())throw new Error("invalid password");var n=function(e,t,r){if("aes-128-ctr"===da(e,"crypto/cipher")){var n=ca(da(e,"crypto/cipherparams/iv")),i=new(sa().Counter)(n);return I(new(sa().ModeOfOperation.ctr)(t,i).decrypt(r))}return null}(e,t.slice(0,16),r);n||va.throwError("unsupported cipher",A.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});var i=t.slice(32,64),a=bn(n);if(e.address){var o=e.address.toLowerCase();if("0x"!==o.substring(0,2)&&(o="0x"+o),He(o)!==a)throw new Error("address mismatch")}var s={_isKeystoreAccount:!0,address:a,privateKey:Z(n)};if("0.1"===da(e,"x-ethers/version")){var u=ca(da(e,"x-ethers/mnemonicCiphertext")),l=ca(da(e,"x-ethers/mnemonicCounter")),c=new(sa().Counter)(l),h=new(sa().ModeOfOperation.ctr)(i,c),f=da(e,"x-ethers/path")||Yi,d=da(e,"x-ethers/locale")||"en",p=I(h.decrypt(u));try{var _=Qi(p,d),m=qi.fromMnemonic(_,null,d).derivePath(f);if(m.privateKey!=s.privateKey)throw new Error("mnemonic mismatch");s.mnemonic=m.mnemonic}catch(v){if(v.code!==A.errors.INVALID_ARGUMENT||"wordlist"!==v.argument)throw v}}return new ya(s)}function wa(e,t,r,n,i){return I(Di(e,t,r,n,i))}function Ea(e,t,r,n,i){return Promise.resolve(wa(e,t,r,n,i))}function xa(e,t,r,n,i){var a=fa(t),o=da(e,"crypto/kdf");if(o&&"string"===typeof o){var s=function(e,t){return va.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===o.toLowerCase()){var u=ca(da(e,"crypto/kdfparams/salt")),l=parseInt(da(e,"crypto/kdfparams/n")),c=parseInt(da(e,"crypto/kdfparams/r")),h=parseInt(da(e,"crypto/kdfparams/p"));l&&c&&h||s("kdf",o),0!==(l&l-1)&&s("N",l);var f=parseInt(da(e,"crypto/kdfparams/dklen"));return 32!==f&&s("dklen",f),n(a,u,l,c,h,64,i)}if("pbkdf2"===o.toLowerCase()){var d=ca(da(e,"crypto/kdfparams/salt")),p=null,_=da(e,"crypto/kdfparams/prf");"hmac-sha256"===_?p="sha256":"hmac-sha512"===_?p="sha512":s("prf",_);var m=parseInt(da(e,"crypto/kdfparams/c")),v=parseInt(da(e,"crypto/kdfparams/dklen"));return 32!==v&&s("dklen",v),r(a,d,m,v,p)}}return va.throwArgumentError("unsupported key-derivation function","kdf",o)}var ka=new A(_a),Ta=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r,[{key:"isCrowdsaleAccount",value:function(e){return!(!e||!e._isCrowdsaleAccount)}}]),r}(ye);function Ma(e,t){var r=JSON.parse(e);t=fa(t);var n=He(da(r,"ethaddr")),i=ca(da(r,"encseed"));i&&i.length%16===0||ka.throwArgumentError("invalid encseed","json",e);for(var a=I(Di(t,t,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),s=i.slice(16),u=new(sa().ModeOfOperation.cbc)(a,o),l=sa().padding.pkcs7.strip(I(u.decrypt(s))),c="",h=0;h<l.length;h++)c+=String.fromCharCode(l[h]);var f=Oe(rt(c));return new Ta({_isCrowdsaleAccount:!0,address:n,privateKey:f})}function Aa(e){var t=null;try{t=JSON.parse(e)}catch(r){return!1}return t.encseed&&t.ethaddr}function Oa(e){var t=null;try{t=JSON.parse(e)}catch(r){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}function Sa(e){if(Aa(e))try{return He(JSON.parse(e).ethaddr)}catch(t){return null}if(Oa(e))try{return He(JSON.parse(e).address)}catch(t){return null}return null}function Ra(e,t,r){if(Aa(e)){r&&r(0);var n=Ma(e,t);return r&&r(1),Promise.resolve(n)}return Oa(e)?function(e,t,r){return ma(this,void 0,void 0,(0,v.Z)().mark((function n(){var i,a;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=JSON.parse(e),n.next=3,xa(i,t,Ea,la().scrypt,r);case 3:return a=n.sent,n.abrupt("return",ba(i,a));case 5:case"end":return n.stop()}}),n)})))}(e,t,r):Promise.reject(new Error("invalid JSON wallet"))}function Ca(e,t){if(Aa(e))return Ma(e,t);if(Oa(e))return function(e,t){var r=JSON.parse(e);return ba(r,xa(r,t,wa,la().syncScrypt))}(e,t);throw new Error("invalid JSON wallet")}var Pa=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Da=new A("wallet/5.7.0");var Ia=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i,a;if((0,_.Z)(this,r),i=t.call(this),null!=(a=e)&&N(a.privateKey,32)&&null!=a.address){var o=new hn(e.privateKey);if(ce((0,c.Z)(i),"_signingKey",(function(){return o})),ce((0,c.Z)(i),"address",bn(i.publicKey)),i.address!==He(e.address)&&Da.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){var t=e.mnemonic;return t&&t.phrase}(e)){var s=e.mnemonic;ce((0,c.Z)(i),"_mnemonic",(function(){return{phrase:s.phrase,path:s.path||Yi,locale:s.locale||"en"}}));var u=i.mnemonic;bn(qi.fromMnemonic(u.phrase,null,u.locale).derivePath(u.path).privateKey)!==i.address&&Da.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ce((0,c.Z)(i),"_mnemonic",(function(){return null}))}else{if(hn.isSigningKey(e))"secp256k1"!==e.curve&&Da.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ce((0,c.Z)(i),"_signingKey",(function(){return e}));else{"string"===typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);var l=new hn(e);ce((0,c.Z)(i),"_signingKey",(function(){return l}))}ce((0,c.Z)(i),"_mnemonic",(function(){return null})),ce((0,c.Z)(i),"address",bn(i.publicKey))}return n&&!mr.isProvider(n)&&Da.throwArgumentError("invalid provider","provider",n),ce((0,c.Z)(i),"provider",n||null),i}return(0,m.Z)(r,[{key:"mnemonic",get:function(){return this._mnemonic()}},{key:"privateKey",get:function(){return this._signingKey().privateKey}},{key:"publicKey",get:function(){return this._signingKey().publicKey}},{key:"getAddress",value:function(){return Promise.resolve(this.address)}},{key:"connect",value:function(e){return new r(this,e)}},{key:"signTransaction",value:function(e){var t=this;return fe(e).then((function(r){null!=r.from&&(He(r.from)!==t.address&&Da.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);var n=t._signingKey().signDigest(Oe(On(r)));return On(r,n)}))}},{key:"signMessage",value:function(e){return Pa(this,void 0,void 0,(0,v.Z)().mark((function t(){return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",X(this._signingKey().signDigest(si(e))));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"_signTypedData",value:function(e,t,r){return Pa(this,void 0,void 0,(0,v.Z)().mark((function n(){var i,a=this;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ti.resolveNames(e,t,r,(function(e){return null==a.provider&&Da.throwError("cannot resolve ENS names without a provider",A.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),a.provider.resolveName(e)}));case 2:return i=n.sent,n.abrupt("return",X(this._signingKey().signDigest(Ti.hash(i.domain,t,i.value))));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"encrypt",value:function(e,t,r){if("function"!==typeof t||r||(r=t,t={}),r&&"function"!==typeof r)throw new Error("invalid callback");return t||(t={}),function(e,t,r,n){try{if(He(e.address)!==bn(e.privateKey))throw new Error("address/privateKey mismatch");if(ga(e)){var i=e.mnemonic;if(qi.fromMnemonic(i.phrase,null,i.locale).derivePath(i.path||Yi).privateKey!=e.privateKey)throw new Error("mnemonic mismatch")}}catch(g){return Promise.reject(g)}"function"!==typeof r||n||(n=r,r={}),r||(r={});var a=I(e.privateKey),o=fa(t),s=null,u=null,l=null;if(ga(e)){var c=e.mnemonic;s=I(Ji(c.phrase,c.locale||"en")),u=c.path||Yi,l=c.locale||"en"}var h=r.client;h||(h="ethers.js");var f=null;f=r.salt?I(r.salt):aa(32);var d=null;if(r.iv){if(16!==(d=I(r.iv)).length)throw new Error("invalid iv")}else d=aa(16);var p=null;if(r.uuid){if(16!==(p=I(r.uuid)).length)throw new Error("invalid uuid")}else p=aa(16);var _=1<<17,m=8,v=1;return r.scrypt&&(r.scrypt.N&&(_=r.scrypt.N),r.scrypt.r&&(m=r.scrypt.r),r.scrypt.p&&(v=r.scrypt.p)),la().scrypt(o,f,_,m,v,64,n).then((function(t){var r=(t=I(t)).slice(0,16),n=t.slice(16,32),i=t.slice(32,64),o=new(sa().Counter)(d),c=I(new(sa().ModeOfOperation.ctr)(r,o).encrypt(a)),g=Oe(L([n,c])),y={address:e.address.substring(2).toLowerCase(),id:pa(p),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Z(d).substring(2)},ciphertext:Z(c).substring(2),kdf:"scrypt",kdfparams:{salt:Z(f).substring(2),n:_,dklen:32,p:v,r:m},mac:g.substring(2)}};if(s){var b=aa(16),w=new(sa().Counter)(b),E=I(new(sa().ModeOfOperation.ctr)(i,w).encrypt(s)),x=new Date,k=x.getUTCFullYear()+"-"+ha(x.getUTCMonth()+1,2)+"-"+ha(x.getUTCDate(),2)+"T"+ha(x.getUTCHours(),2)+"-"+ha(x.getUTCMinutes(),2)+"-"+ha(x.getUTCSeconds(),2)+".0Z";y["x-ethers"]={client:h,gethFilename:"UTC--"+k+"--"+y.address,mnemonicCounter:Z(b).substring(2),mnemonicCiphertext:Z(E).substring(2),path:u,locale:l,version:"0.1"}}return JSON.stringify(y)}))}(this,e,t,r)}}],[{key:"createRandom",value:function(e){var t=aa(16);e||(e={}),e.extraEntropy&&(t=I(F(Oe(L([t,e.extraEntropy])),0,16)));var n=Qi(t,e.locale);return r.fromMnemonic(n,e.path,e.locale)}},{key:"fromEncryptedJson",value:function(e,t,n){return Ra(e,t,n).then((function(e){return new r(e)}))}},{key:"fromEncryptedJsonSync",value:function(e,t){return new r(Ca(e,t))}},{key:"fromMnemonic",value:function(e,t,n){return t||(t=Yi),new r(qi.fromMnemonic(e,null,n).derivePath(t))}}]),r}(wr);function La(e,t){return wn(si(e),t)}function Ua(e,t,r,n){return wn(Ti.hash(e,t,r),n)}var ja="0x0000000000000000000000000000000000000000",Na="0x0000000000000000000000000000000000000000000000000000000000000000",Ba="\u039e",Za=new A("networks/5.7.0");function Wa(e){var t=function(t,r){null==r&&(r={});var n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(s){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(s){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(s){}if(t.PocketProvider&&"-"!==r.pocket){try{var i=new t.PocketProvider(e,r.pocket);i.network&&-1===["goerli","ropsten","rinkeby"].indexOf(i.network.name)&&n.push(i)}catch(s){}}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(s){}if(t.AnkrProvider&&"-"!==r.ankr)try{var a=new t.AnkrProvider(e,r.ankr);a.network&&-1===["ropsten"].indexOf(a.network.name)&&n.push(a)}catch(s){}if(0===n.length)return null;if(t.FallbackProvider){var o=1;return null!=r.quorum?o=r.quorum:"homestead"===e&&(o=2),new t.FallbackProvider(n,o)}return n[0]};return t.renetwork=function(e){return Wa(e)},t}function Fa(e,t){var r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return Fa(e,t)},r}var za={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Wa("homestead")},Ka={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Wa("ropsten")},Ha={chainId:63,name:"classicMordor",_defaultProvider:Fa("https://www.ethercluster.com/mordor","classicMordor")},Ga={unspecified:{chainId:0,name:"unspecified"},homestead:za,mainnet:za,morden:{chainId:2,name:"morden"},ropsten:Ka,testnet:Ka,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Wa("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Wa("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Wa("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:Fa("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Ha,classicTestnet:Ha,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Fa("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Wa("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Wa("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Va(e){if(null==e)return null;if("number"===typeof e){for(var t in Ga){var r=Ga[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"===typeof e){var n=Ga[e];return null==n?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}var i=Ga[e.name];if(!i)return"number"!==typeof e.chainId&&Za.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==i.chainId&&Za.throwArgumentError("network chainId mismatch","network",e);var a,o=e._defaultProvider||null;return null==o&&i._defaultProvider&&(o=(a=i._defaultProvider)&&"function"===typeof a.renetwork?i._defaultProvider.renetwork(e):i._defaultProvider),{name:e.name,chainId:i.chainId,ensAddress:e.ensAddress||i.ensAddress||null,_defaultProvider:o}}function Xa(e){e=atob(e);for(var t=[],r=0;r<e.length;r++)t.push(e.charCodeAt(r));return I(t)}function Ya(e){e=I(e);for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var qa=r(7762);function $a(e,t){null==t&&(t=1);var r=[],n=r.forEach;return function e(t,i){n.call(t,(function(t){i>0&&Array.isArray(t)?e(t,i-1):r.push(t)}))}(e,t),r}function Ja(e){return function(e){var t=0;return function(){return e[t++]}}(function(e){var t=0;function r(){return e[t++]<<8|e[t++]}for(var n=r(),i=1,a=[0,1],o=1;o<n;o++)a.push(i+=r());var s=r(),u=t;t+=s;var l=0,c=0;function h(){return 0==l&&(c=c<<8|e[t++],l=8),c>>--l&1}for(var f=Math.pow(2,31),d=f>>>1,p=d>>1,_=f-1,m=0,v=0;v<31;v++)m=m<<1|h();for(var g=[],y=0,b=f;;){for(var w=Math.floor(((m-y+1)*i-1)/b),E=0,x=n;x-E>1;){var k=E+x>>>1;w<a[k]?x=k:E=k}if(0==E)break;g.push(E);for(var T=y+Math.floor(b*a[E]/i),M=y+Math.floor(b*a[E+1]/i)-1;0==((T^M)&d);)m=m<<1&_|h(),T=T<<1&_,M=M<<1&_|1;for(;T&~M&p;)m=m&d|m<<1&_>>>1|h(),T=T<<1^d,M=(M^d)<<1|d|1;y=T,b=1+M-T}var A=n-4;return g.map((function(t){switch(t-A){case 3:return A+65792+(e[u++]<<16|e[u++]<<8|e[u++]);case 2:return A+256+(e[u++]<<8|e[u++]);case 1:return A+e[u++];default:return t-1}}))}(e))}function Qa(e){return 1&e?~e>>1:e>>1}function eo(e,t){for(var r=Array(e),n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function to(e,t){for(var r=Array(e),n=0,i=0;n<e;n++)r[n]=i+=Qa(t());return r}function ro(e,t){for(var r=eo(e(),e),n=e(),i=eo(n,e),a=function(e,t){for(var r=Array(e),n=0;n<e;n++)r[n]=1+t();return r}(n,e),o=0;o<n;o++)for(var s=0;s<a[o];s++)r.push(i[o]+s);return t?r.map((function(e){return t[e]})):r}function no(e,t,r){for(var n=Array(e).fill(void 0).map((function(){return[]})),i=0;i<t;i++)to(e,r).forEach((function(e,t){return n[t].push(e)}));return n}function io(e,t){var r=1+t(),n=t(),i=function(e){for(var t=[];;){var r=e();if(0==r)break;t.push(r)}return t}(t);return $a(no(i.length,1+e,t).map((function(e,t){var a=e[0],o=e.slice(1);return Array(i[t]).fill(void 0).map((function(e,t){var i=t*n;return[a+t*r,o.map((function(e){return e+i}))]}))})))}function ao(e,t){return no(1+t(),1+e,t).map((function(e){return[e[0],e.slice(1)]}))}var oo=Ja(Xa("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA==")),so=new Set(ro(oo)),uo=new Set(ro(oo)),lo=function(e){for(var t=[];;){var r=e();if(0==r)break;t.push(io(r,e))}for(;;){var n=e()-1;if(n<0)break;t.push(ao(n,e))}return function(e){for(var t={},r=0;r<e.length;r++){var n=e[r];t[n[0]]=n[1]}return t}($a(t))}(oo),co=function(e){var t=ro(e).sort((function(e,t){return e-t}));return function r(){var n=[];for(;;){var i=ro(e,t);if(0==i.length)break;n.push({set:new Set(i),node:r()})}n.sort((function(e,t){return t.set.size-e.set.size}));var a=e();return{branches:n,valid:a%3,fe0f:!!(1&(a=a/3|0)),save:1==(a>>=1),check:2==a}}()}(oo);function ho(e){return st(e)}function fo(e){return e.filter((function(e){return 65039!=e}))}function po(e){var t,r=(0,qa.Z)(e.split("."));try{for(r.s();!(t=r.n()).done;){var n=t.value,i=ho(n);try{for(var a=i.lastIndexOf(95)-1;a>=0;a--)if(95!==i[a])throw new Error("underscore only allowed at start");if(i.length>=4&&i.every((function(e){return e<128}))&&45===i[2]&&45===i[3])throw new Error("invalid label extension")}catch(o){throw new Error('Invalid label "'.concat(n,'": ').concat(o.message))}}}catch(o){r.e(o)}finally{r.f()}return e}function _o(e){return po(function(e,t){var r=ho(e).reverse(),n=[];for(;r.length;){var i=mo(r);if(i)n.push.apply(n,(0,l.Z)(t(i)));else{var a=r.pop();if(so.has(a))n.push(a);else if(!uo.has(a)){var o=lo[a];if(!o)throw new Error("Disallowed codepoint: 0x".concat(a.toString(16).toUpperCase()));n.push.apply(n,(0,l.Z)(o))}}}return po((s=String.fromCodePoint.apply(String,n),s.normalize("NFC")));var s}(e,fo))}function mo(e,t){var r,n,i,a=co,o=[],s=e.length;t&&(t.length=0);for(var u=function(){var u=e[--s];if(a=null===(r=a.branches.find((function(e){return e.set.has(u)})))||void 0===r?void 0:r.node,!a)return"break";if(a.save)i=u;else if(a.check&&u===i)return"break";o.push(u),a.fe0f&&(o.push(65039),s>0&&65039==e[s-1]&&s--),a.valid&&(n=o.slice(),2==a.valid&&n.splice(1,1),t&&t.push.apply(t,(0,l.Z)(e.slice(s).reverse())),e.length=s)};s;){if("break"===u())break}return n}var vo=new A(ui),go=new Uint8Array(32);function yo(e){if(0===e.length)throw new Error("invalid ENS name; empty component");return e}function bo(e){var t=rt(_o(e)),r=[];if(0===e.length)return r;for(var n=0,i=0;i<t.length;i++){46===t[i]&&(r.push(yo(t.slice(n,i))),n=i+1)}if(n>=t.length)throw new Error("invalid ENS name; empty component");return r.push(yo(t.slice(n))),r}function wo(e){try{return 0!==bo(e).length}catch(t){}return!1}function Eo(e){"string"!==typeof e&&vo.throwArgumentError("invalid ENS name; not a string","name",e);for(var t=go,r=bo(e);r.length;)t=Oe(L([t,Oe(r.pop())]));return Z(t)}function xo(e){return Z(L(bo(e).map((function(e){if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");var t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t}))))+"00"}go.fill(0);var ko=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};function To(e,t){return ko(this,void 0,void 0,(0,v.Z)().mark((function r(){var n,i,a,o,s;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return null==t&&(t={}),n={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0},!0!==t.skipFetchSetup&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),null!=t.fetchOptions&&((i=t.fetchOptions).mode&&(n.mode=i.mode),i.cache&&(n.cache=i.cache),i.credentials&&(n.credentials=i.credentials),i.redirect&&(n.redirect=i.redirect),i.referrer&&(n.referrer=i.referrer)),r.next=7,fetch(e,n);case 7:return a=r.sent,r.next=10,a.arrayBuffer();case 10:return o=r.sent,s={},a.headers.forEach?a.headers.forEach((function(e,t){s[t.toLowerCase()]=e})):a.headers.keys().forEach((function(e){s[e.toLowerCase()]=a.headers.get(e)})),r.abrupt("return",{headers:s,statusCode:a.status,statusMessage:a.statusText,body:I(new Uint8Array(o))});case 14:case"end":return r.stop()}}),r)})))}var Mo=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Ao=new A("web/5.7.0");function Oo(e){return new Promise((function(t){setTimeout(t,e)}))}function So(e,t){if(null==e)return null;if("string"===typeof e)return e;if(C(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return ot(e)}catch(r){}return Z(e)}return e}function Ro(e,t,r){var n="object"===typeof e&&null!=e.throttleLimit?e.throttleLimit:12;Ao.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);var i="object"===typeof e?e.throttleCallback:null,a="object"===typeof e&&"number"===typeof e.throttleSlotInterval?e.throttleSlotInterval:100;Ao.assertArgument(a>0&&a%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",a);var o="object"===typeof e&&!!e.errorPassThrough,s={},u=null,l={method:"GET"},c=!1,h=12e4;if("string"===typeof e)u=e;else if("object"===typeof e){if(null!=e&&null!=e.url||Ao.throwArgumentError("missing URL","connection.url",e),u=e.url,"number"===typeof e.timeout&&e.timeout>0&&(h=e.timeout),e.headers)for(var f in e.headers)s[f.toLowerCase()]={key:f,value:String(e.headers[f])},["if-none-match","if-modified-since"].indexOf(f.toLowerCase())>=0&&(c=!0);if(l.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==u.substring(0,6)&&!0!==e.allowInsecureAuthentication&&Ao.throwError("basic authentication requires a secure https url",A.errors.INVALID_ARGUMENT,{argument:"url",url:u,user:e.user,password:"[REDACTED]"});var d=e.user+":"+e.password;s.authorization={key:"Authorization",value:"Basic "+Ya(rt(d))}}null!=e.skipFetchSetup&&(l.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(l.fetchOptions=pe(e.fetchOptions))}var p=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),_=u?u.match(p):null;if(_)try{var m={statusCode:200,statusMessage:"OK",headers:{"content-type":_[1]},body:Xa(_[2])},g=m.body;return r&&(g=r(m.body,m)),Promise.resolve(g)}catch(E){Ao.throwError("processing response error",A.errors.SERVER_ERROR,{body:So(_[1],_[2]),error:E,requestBody:null,requestMethod:"GET",url:u})}t&&(l.method="POST",l.body=t,null==s["content-type"]&&(s["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==s["content-length"]&&(s["content-length"]={key:"Content-Length",value:String(t.length)}));var y={};Object.keys(s).forEach((function(e){var t=s[e];y[t.key]=t.value})),l.headers=y;var b=function(){var e=null;return{promise:new Promise((function(t,r){h&&(e=setTimeout((function(){null!=e&&(e=null,r(Ao.makeError("timeout",A.errors.TIMEOUT,{requestBody:So(l.body,y["content-type"]),requestMethod:l.method,timeout:h,url:u})))}),h))})),cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),w=function(){return Mo(this,void 0,void 0,(0,v.Z)().mark((function e(){var t,s,h,f,d,p,_,m,g,w;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<n)){e.next=65;break}return s=null,e.prev=3,e.next=6,To(u,l);case 6:if(s=e.sent,!(t<n)){e.next=28;break}if(301!==s.statusCode&&302!==s.statusCode){e.next=15;break}if(h=s.headers.location||"","GET"!==l.method||!h.match(/^https:/)){e.next=13;break}return u=s.headers.location,e.abrupt("continue",62);case 13:e.next=28;break;case 15:if(429!==s.statusCode){e.next=28;break}if(f=!0,!i){e.next=21;break}return e.next=20,i(t,u);case 20:f=e.sent;case 21:if(!f){e.next=28;break}return d=0,p=s.headers["retry-after"],d="string"===typeof p&&p.match(/^[1-9][0-9]*$/)?1e3*parseInt(p):a*parseInt(String(Math.random()*Math.pow(2,t))),e.next=27,Oo(d);case 27:return e.abrupt("continue",62);case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(3),null==(s=e.t0.response)&&(b.cancel(),Ao.throwError("missing response",A.errors.SERVER_ERROR,{requestBody:So(l.body,y["content-type"]),requestMethod:l.method,serverError:e.t0,url:u}));case 34:if(_=s.body,c&&304===s.statusCode?_=null:!o&&(s.statusCode<200||s.statusCode>=300)&&(b.cancel(),Ao.throwError("bad response",A.errors.SERVER_ERROR,{status:s.statusCode,headers:s.headers,body:So(_,s.headers?s.headers["content-type"]:null),requestBody:So(l.body,y["content-type"]),requestMethod:l.method,url:u})),!r){e.next=60;break}return e.prev=37,e.next=40,r(_,s);case 40:return m=e.sent,b.cancel(),e.abrupt("return",m);case 45:if(e.prev=45,e.t1=e.catch(37),!(e.t1.throttleRetry&&t<n)){e.next=58;break}if(g=!0,!i){e.next=53;break}return e.next=52,i(t,u);case 52:g=e.sent;case 53:if(!g){e.next=58;break}return w=a*parseInt(String(Math.random()*Math.pow(2,t))),e.next=57,Oo(w);case 57:return e.abrupt("continue",62);case 58:b.cancel(),Ao.throwError("processing response error",A.errors.SERVER_ERROR,{body:So(_,s.headers?s.headers["content-type"]:null),error:e.t1,requestBody:So(l.body,y["content-type"]),requestMethod:l.method,url:u});case 60:return b.cancel(),e.abrupt("return",_);case 62:t++,e.next=1;break;case 65:return e.abrupt("return",Ao.throwError("failed response",A.errors.SERVER_ERROR,{requestBody:So(l.body,y["content-type"]),requestMethod:l.method,url:u}));case 66:case"end":return e.stop()}}),e,null,[[3,30],[37,45]])})))}();return Promise.race([b.promise,w])}function Co(e,t,r){var n=null;if(null!=t){n=rt(t);var i="string"===typeof e?{url:e}:pe(e);if(i.headers)0!==Object.keys(i.headers).filter((function(e){return"content-type"===e.toLowerCase()})).length||(i.headers=pe(i.headers),i.headers["content-type"]="application/json");else i.headers={"content-type":"application/json"};e=i}return Ro(e,n,(function(e,t){var n=null;if(null!=e)try{n=JSON.parse(ot(e))}catch(i){Ao.throwError("invalid JSON",A.errors.SERVER_ERROR,{body:e,error:i})}return r&&(n=r(n,t)),n}))}function Po(e,t){return t||(t={}),null==(t=pe(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise((function(r,n){var i=null,a=!1,o=function(){return!a&&(a=!0,i&&clearTimeout(i),!0)};t.timeout&&(i=setTimeout((function(){o()&&n(new Error("timeout"))}),t.timeout));var s=t.retryLimit,u=0;!function i(){return e().then((function(e){if(void 0!==e)o()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!a){if(++u>s)return void(o()&&n(new Error("retry limit reached")));var l=t.interval*parseInt(String(Math.random()*Math.pow(2,u)));l<t.floor&&(l=t.floor),l>t.ceiling&&(l=t.ceiling),setTimeout(i,l)}return null}),(function(e){o()&&n(e)}))}()}))}var Do=r(1360),Io=r.n(Do),Lo="providers/5.7.0",Uo=new A(Lo),jo=function(){function e(){(0,_.Z)(this,e),this.formats=this.getDefaultFormats()}return(0,m.Z)(e,[{key:"getDefaultFormats",value:function(){var t=this,r={},n=this.address.bind(this),i=this.bigNumber.bind(this),a=this.blockTag.bind(this),o=this.data.bind(this),s=this.hash.bind(this),u=this.hex.bind(this),l=this.number.bind(this),c=this.type.bind(this);return r.transaction={hash:s,type:c,accessList:e.allowNull(this.accessList.bind(this),null),blockHash:e.allowNull(s,null),blockNumber:e.allowNull(l,null),transactionIndex:e.allowNull(l,null),confirmations:e.allowNull(l,null),from:n,gasPrice:e.allowNull(i),maxPriorityFeePerGas:e.allowNull(i),maxFeePerGas:e.allowNull(i),gasLimit:i,to:e.allowNull(n,null),value:i,nonce:l,data:o,r:e.allowNull(this.uint256),s:e.allowNull(this.uint256),v:e.allowNull(l),creates:e.allowNull(n,null),raw:e.allowNull(o)},r.transactionRequest={from:e.allowNull(n),nonce:e.allowNull(l),gasLimit:e.allowNull(i),gasPrice:e.allowNull(i),maxPriorityFeePerGas:e.allowNull(i),maxFeePerGas:e.allowNull(i),to:e.allowNull(n),value:e.allowNull(i),data:e.allowNull((function(e){return t.data(e,!0)})),type:e.allowNull(l),accessList:e.allowNull(this.accessList.bind(this),null)},r.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:s,address:n,topics:e.arrayOf(s),data:o,logIndex:l,blockHash:s},r.receipt={to:e.allowNull(this.address,null),from:e.allowNull(this.address,null),contractAddress:e.allowNull(n,null),transactionIndex:l,root:e.allowNull(u),gasUsed:i,logsBloom:e.allowNull(o),blockHash:s,transactionHash:s,logs:e.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:e.allowNull(l,null),cumulativeGasUsed:i,effectiveGasPrice:e.allowNull(i),status:e.allowNull(l),type:c},r.block={hash:e.allowNull(s),parentHash:s,number:l,timestamp:l,nonce:e.allowNull(u),difficulty:this.difficulty.bind(this),gasLimit:i,gasUsed:i,miner:e.allowNull(n),extraData:o,transactions:e.allowNull(e.arrayOf(s)),baseFeePerGas:e.allowNull(i)},r.blockWithTransactions=pe(r.block),r.blockWithTransactions.transactions=e.allowNull(e.arrayOf(this.transactionResponse.bind(this))),r.filter={fromBlock:e.allowNull(a,void 0),toBlock:e.allowNull(a,void 0),blockHash:e.allowNull(s,void 0),address:e.allowNull(n,void 0),topics:e.allowNull(this.topics.bind(this),void 0)},r.filterLog={blockNumber:e.allowNull(l),blockHash:e.allowNull(s),transactionIndex:l,removed:e.allowNull(this.boolean.bind(this)),address:n,data:e.allowFalsish(o,"0x"),topics:e.arrayOf(s),transactionHash:s,logIndex:l},r}},{key:"accessList",value:function(e){return kn(e||[])}},{key:"number",value:function(e){return"0x"===e?0:ne.from(e).toNumber()}},{key:"type",value:function(e){return"0x"===e||null==e?0:ne.from(e).toNumber()}},{key:"bigNumber",value:function(e){return ne.from(e)}},{key:"boolean",value:function(e){if("boolean"===typeof e)return e;if("string"===typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)}},{key:"hex",value:function(e,t){return"string"===typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),N(e))?e.toLowerCase():Uo.throwArgumentError("invalid hash","value",e)}},{key:"data",value:function(e,t){var r=this.hex(e,t);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}},{key:"address",value:function(e){return He(e)}},{key:"callAddress",value:function(e){if(!N(e,32))return null;var t=He(F(e,12));return t===ja?null:t}},{key:"contractAddress",value:function(e){return Xe(e)}},{key:"blockTag",value:function(e){if(null==e)return"latest";if("earliest"===e)return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if("number"===typeof e||N(e))return K(e);throw new Error("invalid blockTag")}},{key:"hash",value:function(e,t){var r=this.hex(e,t);return 32!==W(r)?Uo.throwArgumentError("invalid hash","value",e):r}},{key:"difficulty",value:function(e){if(null==e)return null;var t=ne.from(e);try{return t.toNumber()}catch(r){}return null}},{key:"uint256",value:function(e){if(!N(e))throw new Error("invalid uint256");return G(e,32)}},{key:"_block",value:function(t,r){null!=t.author&&null==t.miner&&(t.miner=t.author);var n=null!=t._difficulty?t._difficulty:t.difficulty,i=e.check(r,t);return i._difficulty=null==n?null:ne.from(n),i}},{key:"block",value:function(e){return this._block(e,this.formats.block)}},{key:"blockWithTransactions",value:function(e){return this._block(e,this.formats.blockWithTransactions)}},{key:"transactionRequest",value:function(t){return e.check(this.formats.transactionRequest,t)}},{key:"transactionResponse",value:function(t){null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&ne.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=this.contractAddress(t)),1!==t.type&&2!==t.type||null!=t.accessList||(t.accessList=[]);var r=e.check(this.formats.transaction,t);if(null!=t.chainId){var n=t.chainId;N(n)&&(n=ne.from(n).toNumber()),r.chainId=n}else{var i=t.networkId;null==i&&null==r.v&&(i=t.chainId),N(i)&&(i=ne.from(i).toNumber()),"number"!==typeof i&&null!=r.v&&((i=(r.v-35)/2)<0&&(i=0),i=parseInt(i)),"number"!==typeof i&&(i=0),r.chainId=i}return r.blockHash&&"x"===r.blockHash.replace(/0/g,"")&&(r.blockHash=null),r}},{key:"transaction",value:function(e){return Rn(e)}},{key:"receiptLog",value:function(t){return e.check(this.formats.receiptLog,t)}},{key:"receipt",value:function(t){var r=e.check(this.formats.receipt,t);if(null!=r.root)if(r.root.length<=4){var n=ne.from(r.root).toNumber();0===n||1===n?(null!=r.status&&r.status!==n&&Uo.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):Uo.throwArgumentError("invalid alt-root-status","value.root",r.root)}else 66!==r.root.length&&Uo.throwArgumentError("invalid root hash","value.root",r.root);return null!=r.status&&(r.byzantium=!0),r}},{key:"topics",value:function(e){var t=this;return Array.isArray(e)?e.map((function(e){return t.topics(e)})):null!=e?this.hash(e,!0):null}},{key:"filter",value:function(t){return e.check(this.formats.filter,t)}},{key:"filterLog",value:function(t){return e.check(this.formats.filterLog,t)}}],[{key:"check",value:function(e,t){var r={};for(var n in e)try{var i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(a){throw a.checkKey=n,a.checkValue=t[n],a}return r}},{key:"allowNull",value:function(e,t){return function(r){return null==r?t:e(r)}}},{key:"allowFalsish",value:function(e,t){return function(r){return r?e(r):t}}},{key:"arrayOf",value:function(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");var r=[];return t.forEach((function(t){r.push(e(t))})),r}}}]),e}();function No(e){return e&&"function"===typeof e.isCommunityResource}function Bo(e){return No(e)&&e.isCommunityResource()}var Zo=!1;function Wo(){Zo||(Zo=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Fo=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},zo=new A(Lo);function Ko(e){return null==e?"null":(32!==W(e)&&zo.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function Ho(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map((function(e){if(Array.isArray(e)){var t={};e.forEach((function(e){t[Ko(e)]=!0}));var r=Object.keys(t);return r.sort(),r.join("|")}return Ko(e)})).join("&")}function Go(e){if("string"===typeof e){if(32===W(e=e.toLowerCase()))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+Ho(e);if(_r.isForkEvent(e))throw zo.warn("not implemented"),new Error("not implemented");if(e&&"object"===typeof e)return"filter:"+(e.address||"*")+":"+Ho(e.topics||[])}throw new Error("invalid event - "+e)}function Vo(){return(new Date).getTime()}function Xo(e){return new Promise((function(t){setTimeout(t,e)}))}var Yo=["block","network","pending","poll"],qo=function(){function e(t,r,n){(0,_.Z)(this,e),ce(this,"tag",t),ce(this,"listener",r),ce(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}return(0,m.Z)(e,[{key:"event",get:function(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}},{key:"type",get:function(){return this.tag.split(":")[0]}},{key:"hash",get:function(){var e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}},{key:"filter",get:function(){var e=this.tag.split(":");if("filter"!==e[0])return null;var t,r=e[1],n=""===(t=e[2])?[]:t.split(/&/g).map((function(e){if(""===e)return[];var t=e.split("|").map((function(e){return"null"===e?null:e}));return 1===t.length?t[0]:t})),i={};return n.length>0&&(i.topics=n),r&&"*"!==r&&(i.address=r),i}},{key:"pollable",value:function(){return this.tag.indexOf(":")>=0||Yo.indexOf(this.tag)>=0}}]),e}(),$o={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Jo(e){return G(ne.from(e).toHexString(),32)}function Qo(e){return Ai.encode(L([e,F(Ri(Ri(e)),0,4)]))}var es=new RegExp("^(ipfs)://(.*)$","i"),ts=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),es,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function rs(e,t){try{return ot(ns(e,t))}catch(r){}return null}function ns(e,t){if("0x"===e)return null;var r=ne.from(F(e,t,t+32)).toNumber(),n=ne.from(F(e,r,r+32)).toNumber();return F(e,r+32,r+32+n)}function is(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):zo.throwArgumentError("unsupported IPFS format","link",e),"https://gateway.ipfs.io/ipfs/".concat(e)}function as(e){var t=I(e);if(t.length>32)throw new Error("internal; should not happen");var r=new Uint8Array(32);return r.set(t,32-t.length),r}function os(e){if(e.length%32===0)return e;var t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}function ss(e){for(var t=[],r=0,n=0;n<e.length;n++)t.push(null),r+=32;for(var i=0;i<e.length;i++){var a=I(e[i]);t[i]=as(r),t.push(as(a.length)),t.push(os(a)),r+=32+32*Math.ceil(a.length/32)}return z(t)}var us=function(){function e(t,r,n,i){(0,_.Z)(this,e),ce(this,"provider",t),ce(this,"name",n),ce(this,"address",t.formatter.address(r)),ce(this,"_resolvedAddress",i)}return(0,m.Z)(e,[{key:"supportsWildcard",value:function(){var e=this;return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((function(e){return ne.from(e).eq(1)})).catch((function(t){if(t.code===A.errors.CALL_EXCEPTION)return!1;throw e._supportsEip2544=null,t}))),this._supportsEip2544}},{key:"_fetch",value:function(e,t){return Fo(this,void 0,void 0,(0,v.Z)().mark((function r(){var n,i,a;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={to:this.address,ccipReadEnabled:!0,data:z([e,Eo(this.name),t||"0x"])},i=!1,r.next=4,this.supportsWildcard();case 4:if(!r.sent){r.next=7;break}i=!0,n.data=z(["0x9061b923",ss([xo(this.name),n.data])]);case 7:return r.prev=7,r.next=10,this.provider.call(n);case 10:return I(a=r.sent).length%32===4&&zo.throwError("resolver threw error",A.errors.CALL_EXCEPTION,{transaction:n,data:a}),i&&(a=ns(a,0)),r.abrupt("return",a);case 16:if(r.prev=16,r.t0=r.catch(7),r.t0.code!==A.errors.CALL_EXCEPTION){r.next=20;break}return r.abrupt("return",null);case 20:throw r.t0;case 21:case"end":return r.stop()}}),r,this,[[7,16]])})))}},{key:"_fetchBytes",value:function(e,t){return Fo(this,void 0,void 0,(0,v.Z)().mark((function r(){var n;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._fetch(e,t);case 2:if(null==(n=r.sent)){r.next=5;break}return r.abrupt("return",ns(n,0));case 5:return r.abrupt("return",null);case 6:case"end":return r.stop()}}),r,this)})))}},{key:"_getAddress",value:function(e,t){var r=$o[String(e)];if(null==r&&zo.throwError("unsupported coin type: ".concat(e),A.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(e,")")}),"eth"===r.ilk)return this.provider.formatter.address(t);var n=I(t);if(null!=r.p2pkh){var i=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(i){var a=parseInt(i[1],16);if(i[2].length===2*a&&a>=1&&a<=75)return Qo(L([[r.p2pkh],"0x"+i[2]]))}}if(null!=r.p2sh){var o=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(o){var s=parseInt(o[1],16);if(o[2].length===2*s&&s>=1&&s<=75)return Qo(L([[r.p2sh],"0x"+o[2]]))}}if(null!=r.prefix){var u=n[1],l=n[0];if(0===l?20!==u&&32!==u&&(l=-1):l=-1,l>=0&&n.length===2+u&&u>=1&&u<=75){var c=Io().toWords(n.slice(2));return c.unshift(l),Io().encode(r.prefix,c)}}return null}},{key:"getAddress",value:function(e){return Fo(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n,i;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e&&(e=60),60!==e){t.next=16;break}return t.prev=2,t.next=5,this._fetch("0x3b3b57de");case 5:if("0x"!==(r=t.sent)&&r!==Na){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",this.provider.formatter.callAddress(r));case 11:if(t.prev=11,t.t0=t.catch(2),t.t0.code!==A.errors.CALL_EXCEPTION){t.next=15;break}return t.abrupt("return",null);case 15:throw t.t0;case 16:return t.next=18,this._fetchBytes("0xf1cb7e06",Jo(e));case 18:if(null!=(n=t.sent)&&"0x"!==n){t.next=21;break}return t.abrupt("return",null);case 21:return null==(i=this._getAddress(e,n))&&zo.throwError("invalid or unsupported coin data",A.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(e,")"),coinType:e,data:n}),t.abrupt("return",i);case 24:case"end":return t.stop()}}),t,this,[[2,11]])})))}},{key:"getAvatar",value:function(){return Fo(this,void 0,void 0,(0,v.Z)().mark((function e(){var t,r,n,i,a,o,s,u,l,c,h,f,d,p,_,m;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{type:"name",content:this.name}],e.prev=1,e.next=4,this.getText("avatar");case 4:if(null!=(r=e.sent)){e.next=7;break}return e.abrupt("return",null);case 7:n=0;case 8:if(!(n<ts.length)){e.next=91;break}if(null!=(i=r.match(ts[n]))){e.next=12;break}return e.abrupt("continue",88);case 12:a=i[1].toLowerCase(),e.t0=a,e.next="https"===e.t0?16:"data"===e.t0?18:"ipfs"===e.t0?20:"erc721"===e.t0||"erc1155"===e.t0?22:88;break;case 16:return t.push({type:"url",content:r}),e.abrupt("return",{linkage:t,url:r});case 18:return t.push({type:"data",content:r}),e.abrupt("return",{linkage:t,url:r});case 20:return t.push({type:"ipfs",content:r}),e.abrupt("return",{linkage:t,url:is(r)});case 22:if(o="erc721"===a?"0xc87b56dd":"0x0e89341c",t.push({type:a,content:r}),e.t1=this._resolvedAddress,e.t1){e.next=29;break}return e.next=28,this.getAddress();case 28:e.t1=e.sent;case 29:if(s=e.t1,2===(u=(i[2]||"").split("/")).length){e.next=33;break}return e.abrupt("return",null);case 33:return e.next=35,this.provider.formatter.address(u[0]);case 35:if(l=e.sent,c=G(ne.from(u[1]).toHexString(),32),"erc721"!==a){e.next=48;break}return e.t2=this.provider.formatter,e.next=41,this.provider.call({to:l,data:z(["0x6352211e",c])});case 41:if(e.t3=e.sent,h=e.t2.callAddress.call(e.t2,e.t3),s===h){e.next=45;break}return e.abrupt("return",null);case 45:t.push({type:"owner",content:h}),e.next=57;break;case 48:if("erc1155"!==a){e.next=57;break}return e.t4=ne,e.next=52,this.provider.call({to:l,data:z(["0x00fdd58e",G(s,32),c])});case 52:if(e.t5=e.sent,!(f=e.t4.from.call(e.t4,e.t5)).isZero()){e.next=56;break}return e.abrupt("return",null);case 56:t.push({type:"balance",content:f.toString()});case 57:return d={to:this.provider.formatter.address(u[0]),data:z([o,c])},e.t6=rs,e.next=61,this.provider.call(d);case 61:if(e.t7=e.sent,null!=(p=(0,e.t6)(e.t7,0))){e.next=65;break}return e.abrupt("return",null);case 65:return t.push({type:"metadata-url-base",content:p}),"erc1155"===a&&(p=p.replace("{id}",c.substring(2)),t.push({type:"metadata-url-expanded",content:p})),p.match(/^ipfs:/i)&&(p=is(p)),t.push({type:"metadata-url",content:p}),e.next=71,Co(p);case 71:if(_=e.sent){e.next=74;break}return e.abrupt("return",null);case 74:if(t.push({type:"metadata",content:JSON.stringify(_)}),"string"===typeof(m=_.image)){e.next=78;break}return e.abrupt("return",null);case 78:if(!m.match(/^(https:\/\/|data:)/i)){e.next=81;break}e.next=86;break;case 81:if(null!=m.match(es)){e.next=84;break}return e.abrupt("return",null);case 84:t.push({type:"url-ipfs",content:m}),m=is(m);case 86:return t.push({type:"url",content:m}),e.abrupt("return",{linkage:t,url:m});case 88:n++,e.next=8;break;case 91:e.next=95;break;case 93:e.prev=93,e.t8=e.catch(1);case 95:return e.abrupt("return",null);case 96:case"end":return e.stop()}}),e,this,[[1,93]])})))}},{key:"getContentHash",value:function(){return Fo(this,void 0,void 0,(0,v.Z)().mark((function e(){var t,r,n,i,a,o,s,u,l;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchBytes("0xbc1c58d1");case 2:if(null!=(t=e.sent)&&"0x"!==t){e.next=5;break}return e.abrupt("return",null);case 5:if(!(r=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/))){e.next=10;break}if(n=parseInt(r[3],16),r[4].length!==2*n){e.next=10;break}return e.abrupt("return","ipfs://"+Ai.encode("0x"+r[1]));case 10:if(!(i=t.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/))){e.next=15;break}if(a=parseInt(i[3],16),i[4].length!==2*a){e.next=15;break}return e.abrupt("return","ipns://"+Ai.encode("0x"+i[1]));case 15:if(!(o=t.match(/^0xe40101fa011b20([0-9a-f]*)$/))){e.next=19;break}if(64!==o[1].length){e.next=19;break}return e.abrupt("return","bzz://"+o[1]);case 19:if(!(s=t.match(/^0x90b2c605([0-9a-f]*)$/))){e.next=25;break}if(68!==s[1].length){e.next=25;break}return u={"=":"","+":"-","/":"_"},l=Ya("0x"+s[1]).replace(/[=+\/]/g,(function(e){return u[e]})),e.abrupt("return","sia://"+l);case 25:return e.abrupt("return",zo.throwError("invalid or unsupported content hash data",A.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t}));case 26:case"end":return e.stop()}}),e,this)})))}},{key:"getText",value:function(e){return Fo(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=rt(e),(r=L([Jo(64),Jo(r.length),r])).length%32!==0&&(r=L([r,G("0x",32-e.length%32)])),t.next=5,this._fetchBytes("0x59d1d43c",Z(r));case 5:if(null!=(n=t.sent)&&"0x"!==n){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",ot(n));case 9:case"end":return t.stop()}}),t,this)})))}}]),e}(),ls=null,cs=1,hs=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e){var n;if((0,_.Z)(this,r),(n=t.call(this))._events=[],n._emitted={block:-2},n.disableCcipRead=!1,n.formatter=(this instanceof r?this.constructor:void 0).getFormatter(),ce((0,c.Z)(n),"anyNetwork","any"===e),n.anyNetwork&&(e=n.detectNetwork()),e instanceof Promise)n._networkPromise=e,e.catch((function(e){})),n._ready().catch((function(e){}));else{var i=he(this instanceof r?this.constructor:void 0,"getNetwork")(e);i?(ce((0,c.Z)(n),"_network",i),n.emit("network",i,null)):zo.throwArgumentError("invalid network","network",e)}return n._maxInternalBlockNumber=-1024,n._lastBlockNumber=-2,n._maxFilterBlockRange=10,n._pollingInterval=4e3,n._fastQueryDate=0,n}return(0,m.Z)(r,[{key:"_ready",value:function(){return Fo(this,void 0,void 0,(0,v.Z)().mark((function e(){var t;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this._network){e.next=17;break}if(t=null,!this._networkPromise){e.next=11;break}return e.prev=3,e.next=6,this._networkPromise;case 6:t=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:if(null!=t){e.next=15;break}return e.next=14,this.detectNetwork();case 14:t=e.sent;case 15:t||zo.throwError("no network detected",A.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:ce(this,"_network",t),this.emit("network",t,null));case 17:return e.abrupt("return",this._network);case 18:case"end":return e.stop()}}),e,this,[[3,9]])})))}},{key:"ready",get:function(){var e=this;return Po((function(){return e._ready().then((function(e){return e}),(function(e){if(e.code!==A.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}))}},{key:"ccipReadFetch",value:function(e,t,r){return Fo(this,void 0,void 0,(0,v.Z)().mark((function n(){var i,a,o,s,u,l,c,h,f;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.disableCcipRead&&0!==r.length){n.next=2;break}return n.abrupt("return",null);case 2:i=e.to.toLowerCase(),a=t.toLowerCase(),o=[],s=0;case 6:if(!(s<r.length)){n.next=22;break}return u=r[s],l=u.replace("{sender}",i).replace("{data}",a),c=u.indexOf("{data}")>=0?null:JSON.stringify({data:a,sender:i}),n.next=12,Co({url:l,errorPassThrough:!0},c,(function(e,t){return e.status=t.statusCode,e}));case 12:if(!(h=n.sent).data){n.next=15;break}return n.abrupt("return",h.data);case 15:if(f=h.message||"unknown error",!(h.status>=400&&h.status<500)){n.next=18;break}return n.abrupt("return",zo.throwError("response not found during CCIP fetch: ".concat(f),A.errors.SERVER_ERROR,{url:u,errorMessage:f}));case 18:o.push(f);case 19:s++,n.next=6;break;case 22:return n.abrupt("return",zo.throwError("error encountered during CCIP fetch: ".concat(o.map((function(e){return JSON.stringify(e)})).join(", ")),A.errors.SERVER_ERROR,{urls:r,errorMessages:o}));case 23:case"end":return n.stop()}}),n,this)})))}},{key:"_getInternalBlockNumber",value:function(e){return Fo(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n,i,a,o=this;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready();case 2:if(!(e>0)){t.next=20;break}case 3:if(!this._internalBlockNumber){t.next=20;break}return r=this._internalBlockNumber,t.prev=5,t.next=8,r;case 8:if(n=t.sent,!(Vo()-n.respTime<=e)){t.next=11;break}return t.abrupt("return",n.blockNumber);case 11:return t.abrupt("break",20);case 14:if(t.prev=14,t.t0=t.catch(5),this._internalBlockNumber!==r){t.next=18;break}return t.abrupt("break",20);case 18:t.next=3;break;case 20:return i=Vo(),a=fe({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((function(e){return null}),(function(e){return e}))}).then((function(e){var t=e.blockNumber,r=e.networkError;if(r)throw o._internalBlockNumber===a&&(o._internalBlockNumber=null),r;var n=Vo();return(t=ne.from(t).toNumber())<o._maxInternalBlockNumber&&(t=o._maxInternalBlockNumber),o._maxInternalBlockNumber=t,o._setFastBlockNumber(t),{blockNumber:t,reqTime:i,respTime:n}})),this._internalBlockNumber=a,a.catch((function(e){o._internalBlockNumber===a&&(o._internalBlockNumber=null)})),t.next=26,a;case 26:return t.abrupt("return",t.sent.blockNumber);case 27:case"end":return t.stop()}}),t,this,[[5,14]])})))}},{key:"poll",value:function(){return Fo(this,void 0,void 0,(0,v.Z)().mark((function e(){var t,r,n,i,a=this;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=cs++,r=[],n=null,e.prev=3,e.next=6,this._getInternalBlockNumber(100+this.pollingInterval/2);case 6:n=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),this.emit("error",e.t0),e.abrupt("return");case 13:if(this._setFastBlockNumber(n),this.emit("poll",t,n),n!==this._lastBlockNumber){e.next=18;break}return this.emit("didPoll",t),e.abrupt("return");case 18:if(-2===this._emitted.block&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)zo.warn("network block skew detected; skipping block events (emitted=".concat(this._emitted.block," blockNumber").concat(n,")")),this.emit("error",zo.makeError("network block skew detected",A.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(i=this._emitted.block+1;i<=n;i++)this.emit("block",i);return this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach((function(e){if("block"!==e){var t=a._emitted[e];"pending"!==t&&n-t>12&&delete a._emitted[e]}}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=n-1),this._events.forEach((function(e){switch(e.type){case"tx":var t=e.hash,i=a.getTransactionReceipt(t).then((function(e){return e&&null!=e.blockNumber?(a._emitted["t:"+t]=e.blockNumber,a.emit(t,e),null):null})).catch((function(e){a.emit("error",e)}));r.push(i);break;case"filter":if(!e._inflight){e._inflight=!0,-2===e._lastBlockNumber&&(e._lastBlockNumber=n-1);var o=e.filter;o.fromBlock=e._lastBlockNumber+1,o.toBlock=n;var s=o.toBlock-a._maxFilterBlockRange;s>o.fromBlock&&(o.fromBlock=s),o.fromBlock<0&&(o.fromBlock=0);var u=a.getLogs(o).then((function(t){e._inflight=!1,0!==t.length&&t.forEach((function(t){t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),a._emitted["b:"+t.blockHash]=t.blockNumber,a._emitted["t:"+t.transactionHash]=t.blockNumber,a.emit(o,t)}))})).catch((function(t){a.emit("error",t),e._inflight=!1}));r.push(u)}}})),this._lastBlockNumber=n,Promise.all(r).then((function(){a.emit("didPoll",t)})).catch((function(e){a.emit("error",e)})),e.abrupt("return");case 26:case"end":return e.stop()}}),e,this,[[3,9]])})))}},{key:"resetEventsBlock",value:function(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}},{key:"network",get:function(){return this._network}},{key:"detectNetwork",value:function(){return Fo(this,void 0,void 0,(0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo.throwError("provider does not support network detection",A.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"}));case 1:case"end":return e.stop()}}),e)})))}},{key:"getNetwork",value:function(){return Fo(this,void 0,void 0,(0,v.Z)().mark((function e(){var t,r,n;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready();case 2:return t=e.sent,e.next=5,this.detectNetwork();case 5:if(r=e.sent,t.chainId===r.chainId){e.next=23;break}if(!this.anyNetwork){e.next=20;break}return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,t),e.next=19,Xo(0);case 19:return e.abrupt("return",this._network);case 20:throw n=zo.makeError("underlying network changed",A.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:r}),this.emit("error",n),n;case 23:return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,this)})))}},{key:"blockNumber",get:function(){var e=this;return this._getInternalBlockNumber(100+this.pollingInterval/2).then((function(t){e._setFastBlockNumber(t)}),(function(e){})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}},{key:"polling",get:function(){return null!=this._poller},set:function(e){var t=this;e&&!this._poller?(this._poller=setInterval((function(){t.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((function(){t.poll(),t._bootstrapPoll=setTimeout((function(){t._poller||t.poll(),t._bootstrapPoll=null}),t.pollingInterval)}),0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}},{key:"pollingInterval",get:function(){return this._pollingInterval},set:function(e){var t=this;if("number"!==typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval((function(){t.poll()}),this._pollingInterval))}},{key:"_getFastBlockNumber",value:function(){var e=this,t=Vo();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then((function(t){return(null==e._fastBlockNumber||t>e._fastBlockNumber)&&(e._fastBlockNumber=t),e._fastBlockNumber}))),this._fastBlockNumberPromise}},{key:"_setFastBlockNumber",value:function(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=Vo(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}},{key:"waitForTransaction",value:function(e,t,r){return Fo(this,void 0,void 0,(0,v.Z)().mark((function n(){return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this._waitForTransaction(e,null==t?1:t,r||0,null));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"_waitForTransaction",value:function(e,t,r,n){return Fo(this,void 0,void 0,(0,v.Z)().mark((function i(){var a,o=this;return(0,v.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getTransactionReceipt(e);case 2:if(!(((a=i.sent)?a.confirmations:0)>=t)){i.next=5;break}return i.abrupt("return",a);case 5:return i.abrupt("return",new Promise((function(i,a){var s=[],u=!1,l=function(){return!!u||(u=!0,s.forEach((function(e){e()})),!1)},c=function(e){e.confirmations<t||l()||i(e)};if(o.on(e,c),s.push((function(){o.removeListener(e,c)})),n){var h=n.startBlock,f=null,d=function r(i){return Fo(o,void 0,void 0,(0,v.Z)().mark((function o(){var s=this;return(0,v.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!u){o.next=2;break}return o.abrupt("return");case 2:return o.next=4,Xo(1e3);case 4:this.getTransactionCount(n.from).then((function(o){return Fo(s,void 0,void 0,(0,v.Z)().mark((function s(){var c,d,p,_,m,g;return(0,v.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!u){s.next=2;break}return s.abrupt("return");case 2:if(!(o<=n.nonce)){s.next=6;break}h=i,s.next=41;break;case 6:return s.next=8,this.getTransaction(e);case 8:if(!(c=s.sent)||null==c.blockNumber){s.next=11;break}return s.abrupt("return");case 11:null==f&&(f=h-3)<n.startBlock&&(f=n.startBlock);case 12:if(!(f<=i)){s.next=41;break}if(!u){s.next=15;break}return s.abrupt("return");case 15:return s.next=17,this.getBlockWithTransactions(f);case 17:d=s.sent,p=0;case 19:if(!(p<d.transactions.length)){s.next=38;break}if((_=d.transactions[p]).hash!==e){s.next=23;break}return s.abrupt("return");case 23:if(_.from!==n.from||_.nonce!==n.nonce){s.next=35;break}if(!u){s.next=26;break}return s.abrupt("return");case 26:return s.next=28,this.waitForTransaction(_.hash,t);case 28:if(m=s.sent,!l()){s.next=31;break}return s.abrupt("return");case 31:return g="replaced",_.data===n.data&&_.to===n.to&&_.value.eq(n.value)?g="repriced":"0x"===_.data&&_.from===_.to&&_.value.isZero()&&(g="cancelled"),a(zo.makeError("transaction was replaced",A.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===g||"cancelled"===g,reason:g,replacement:this._wrapTransaction(_),hash:e,receipt:m})),s.abrupt("return");case 35:p++,s.next=19;break;case 38:f++,s.next=12;break;case 41:if(!u){s.next=43;break}return s.abrupt("return");case 43:this.once("block",r);case 44:case"end":return s.stop()}}),s,this)})))}),(function(e){u||s.once("block",r)}));case 5:case"end":return o.stop()}}),o,this)})))};if(u)return;o.once("block",d),s.push((function(){o.removeListener("block",d)}))}if("number"===typeof r&&r>0){var p=setTimeout((function(){l()||a(zo.makeError("timeout exceeded",A.errors.TIMEOUT,{timeout:r}))}),r);p.unref&&p.unref(),s.push((function(){clearTimeout(p)}))}})));case 6:case"end":return i.stop()}}),i,this)})))}},{key:"getBlockNumber",value:function(){return Fo(this,void 0,void 0,(0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._getInternalBlockNumber(0));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getGasPrice",value:function(){return Fo(this,void 0,void 0,(0,v.Z)().mark((function e(){var t;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetwork();case 2:return e.next=4,this.perform("getGasPrice",{});case 4:return t=e.sent,e.prev=5,e.abrupt("return",ne.from(t));case 9:return e.prev=9,e.t0=e.catch(5),e.abrupt("return",zo.throwError("bad result from backend",A.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e.t0}));case 12:case"end":return e.stop()}}),e,this,[[5,9]])})))}},{key:"getBalance",value:function(e,t){return Fo(this,void 0,void 0,(0,v.Z)().mark((function r(){var n,i;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,fe({address:this._getAddress(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("getBalance",n);case 7:return i=r.sent,r.prev=8,r.abrupt("return",ne.from(i));case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",zo.throwError("bad result from backend",A.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}},{key:"getTransactionCount",value:function(e,t){return Fo(this,void 0,void 0,(0,v.Z)().mark((function r(){var n,i;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,fe({address:this._getAddress(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("getTransactionCount",n);case 7:return i=r.sent,r.prev=8,r.abrupt("return",ne.from(i).toNumber());case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",zo.throwError("bad result from backend",A.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}},{key:"getCode",value:function(e,t){return Fo(this,void 0,void 0,(0,v.Z)().mark((function r(){var n,i;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,fe({address:this._getAddress(e),blockTag:this._getBlockTag(t)});case 4:return n=r.sent,r.next=7,this.perform("getCode",n);case 7:return i=r.sent,r.prev=8,r.abrupt("return",Z(i));case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",zo.throwError("bad result from backend",A.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}},{key:"getStorageAt",value:function(e,t,r){return Fo(this,void 0,void 0,(0,v.Z)().mark((function n(){var i,a;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getNetwork();case 2:return n.next=4,fe({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then((function(e){return K(e)}))});case 4:return i=n.sent,n.next=7,this.perform("getStorageAt",i);case 7:return a=n.sent,n.prev=8,n.abrupt("return",Z(a));case 12:return n.prev=12,n.t0=n.catch(8),n.abrupt("return",zo.throwError("bad result from backend",A.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:a,error:n.t0}));case 15:case"end":return n.stop()}}),n,this,[[8,12]])})))}},{key:"_wrapTransaction",value:function(e,t,r){var n=this;if(null!=t&&32!==W(t))throw new Error("invalid response - sendTransaction");var i=e;return null!=t&&e.hash!==t&&zo.throwError("Transaction hash mismatch from Provider.sendTransaction.",A.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),i.wait=function(t,i){return Fo(n,void 0,void 0,(0,v.Z)().mark((function n(){var a,o;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==t&&(t=1),null==i&&(i=0),a=void 0,0!==t&&null!=r&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r}),n.next=6,this._waitForTransaction(e.hash,t,i,a);case 6:if(null!=(o=n.sent)||0!==t){n.next=9;break}return n.abrupt("return",null);case 9:return this._emitted["t:"+e.hash]=o.blockNumber,0===o.status&&zo.throwError("transaction failed",A.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:o}),n.abrupt("return",o);case 12:case"end":return n.stop()}}),n,this)})))},i}},{key:"sendTransaction",value:function(e){return Fo(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n,i,a;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,Promise.resolve(e).then((function(e){return Z(e)}));case 4:return r=t.sent,null==(n=this.formatter.transaction(e)).confirmations&&(n.confirmations=0),t.next=9,this._getInternalBlockNumber(100+2*this.pollingInterval);case 9:return i=t.sent,t.prev=10,t.next=13,this.perform("sendTransaction",{signedTransaction:r});case 13:return a=t.sent,t.abrupt("return",this._wrapTransaction(n,a,i));case 17:throw t.prev=17,t.t0=t.catch(10),t.t0.transaction=n,t.t0.transactionHash=n.hash,t.t0;case 22:case"end":return t.stop()}}),t,this,[[10,17]])})))}},{key:"_getTransactionRequest",value:function(e){return Fo(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n,i=this;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return r=t.sent,n={},["from","to"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return e?i._getAddress(e):null})))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return e?ne.from(e):null})))})),["type"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return null!=e?e:null})))})),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach((function(e){null!=r[e]&&(n[e]=Promise.resolve(r[e]).then((function(e){return e?Z(e):null})))})),t.t0=this.formatter,t.next=12,fe(n);case 12:return t.t1=t.sent,t.abrupt("return",t.t0.transactionRequest.call(t.t0,t.t1));case 14:case"end":return t.stop()}}),t,this)})))}},{key:"_getFilter",value:function(e){return Fo(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n=this;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return e=t.sent,r={},null!=e.address&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach((function(t){null!=e[t]&&(r[t]=e[t])})),["fromBlock","toBlock"].forEach((function(t){null!=e[t]&&(r[t]=n._getBlockTag(e[t]))})),t.t0=this.formatter,t.next=10,fe(r);case 10:return t.t1=t.sent,t.abrupt("return",t.t0.filter.call(t.t0,t.t1));case 12:case"end":return t.stop()}}),t,this)})))}},{key:"_call",value:function(e,t,r){return Fo(this,void 0,void 0,(0,v.Z)().mark((function n(){var i,a,o,s,u,l,c,h,f,d,p,_,m,g,y;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r>=10&&zo.throwError("CCIP read exceeded maximum redirections",A.errors.SERVER_ERROR,{redirects:r,transaction:e}),i=e.to,n.next=4,this.perform("call",{transaction:e,blockTag:t});case 4:if(a=n.sent,!(r>=0&&"latest"===t&&null!=i&&"0x556f1830"===a.substring(0,10)&&W(a)%32===4)){n.next=31;break}for(n.prev=6,o=F(a,4),s=F(o,0,32),ne.from(s).eq(i)||zo.throwError("CCIP Read sender did not match",A.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),u=[],l=ne.from(F(o,32,64)).toNumber(),c=ne.from(F(o,l,l+32)).toNumber(),h=F(o,l+32),f=0;f<c;f++)null==(d=rs(h,32*f))&&zo.throwError("CCIP Read contained corrupt URL string",A.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),u.push(d);return p=ns(o,64),ne.from(F(o,100,128)).isZero()||zo.throwError("CCIP Read callback selector included junk",A.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),_=F(o,96,100),m=ns(o,128),n.next=21,this.ccipReadFetch(e,p,u);case 21:return null==(g=n.sent)&&zo.throwError("CCIP Read disabled or provided no URLs",A.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),y={to:i,data:z([_,ss([g,m])])},n.abrupt("return",this._call(y,t,r+1));case 27:if(n.prev=27,n.t0=n.catch(6),n.t0.code!==A.errors.SERVER_ERROR){n.next=31;break}throw n.t0;case 31:return n.prev=31,n.abrupt("return",Z(a));case 35:return n.prev=35,n.t1=n.catch(31),n.abrupt("return",zo.throwError("bad result from backend",A.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:a,error:n.t1}));case 38:case"end":return n.stop()}}),n,this,[[6,27],[31,35]])})))}},{key:"call",value:function(e,t){return Fo(this,void 0,void 0,(0,v.Z)().mark((function r(){var n;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,fe({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});case 4:return n=r.sent,r.abrupt("return",this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1));case 6:case"end":return r.stop()}}),r,this)})))}},{key:"estimateGas",value:function(e){return Fo(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,fe({transaction:this._getTransactionRequest(e)});case 4:return r=t.sent,t.next=7,this.perform("estimateGas",r);case 7:return n=t.sent,t.prev=8,t.abrupt("return",ne.from(n));case 12:return t.prev=12,t.t0=t.catch(8),t.abrupt("return",zo.throwError("bad result from backend",A.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:t.t0}));case 15:case"end":return t.stop()}}),t,this,[[8,12]])})))}},{key:"_getAddress",value:function(e){return Fo(this,void 0,void 0,(0,v.Z)().mark((function t(){var r;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return"string"!==typeof(e=t.sent)&&zo.throwArgumentError("invalid address or ENS name","name",e),t.next=6,this.resolveName(e);case 6:return null==(r=t.sent)&&zo.throwError("ENS name not configured",A.errors.UNSUPPORTED_OPERATION,{operation:"resolveName(".concat(JSON.stringify(e),")")}),t.abrupt("return",r);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"_getBlock",value:function(e,t){return Fo(this,void 0,void 0,(0,v.Z)().mark((function r(){var n,i,a=this;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,e;case 4:if(e=r.sent,n=-128,i={includeTransactions:!!t},!N(e,32)){r.next=11;break}i.blockHash=e,r.next=21;break;case 11:return r.prev=11,r.next=14,this._getBlockTag(e);case 14:i.blockTag=r.sent,N(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16)),r.next=21;break;case 18:r.prev=18,r.t0=r.catch(11),zo.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e);case 21:return r.abrupt("return",Po((function(){return Fo(a,void 0,void 0,(0,v.Z)().mark((function e(){var r,a,o,s,u,l,c=this;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.perform("getBlock",i);case 2:if(null!=(r=e.sent)){e.next=11;break}if(null==i.blockHash){e.next=7;break}if(null!=this._emitted["b:"+i.blockHash]){e.next=7;break}return e.abrupt("return",null);case 7:if(null==i.blockTag){e.next=10;break}if(!(n>this._emitted.block)){e.next=10;break}return e.abrupt("return",null);case 10:return e.abrupt("return",void 0);case 11:if(!t){e.next=34;break}a=null,o=0;case 14:if(!(o<r.transactions.length)){e.next=31;break}if(null!=(s=r.transactions[o]).blockNumber){e.next=20;break}s.confirmations=0,e.next=28;break;case 20:if(null!=s.confirmations){e.next=28;break}if(null!=a){e.next=25;break}return e.next=24,this._getInternalBlockNumber(100+2*this.pollingInterval);case 24:a=e.sent;case 25:(u=a-s.blockNumber+1)<=0&&(u=1),s.confirmations=u;case 28:o++,e.next=14;break;case 31:return(l=this.formatter.blockWithTransactions(r)).transactions=l.transactions.map((function(e){return c._wrapTransaction(e)})),e.abrupt("return",l);case 34:return e.abrupt("return",this.formatter.block(r));case 35:case"end":return e.stop()}}),e,this)})))}),{oncePoll:this}));case 22:case"end":return r.stop()}}),r,this,[[11,18]])})))}},{key:"getBlock",value:function(e){return this._getBlock(e,!1)}},{key:"getBlockWithTransactions",value:function(e){return this._getBlock(e,!0)}},{key:"getTransaction",value:function(e){return Fo(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n=this;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,e;case 4:return e=t.sent,r={transactionHash:this.formatter.hash(e,!0)},t.abrupt("return",Po((function(){return Fo(n,void 0,void 0,(0,v.Z)().mark((function t(){var n,i,a,o;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.perform("getTransaction",r);case 2:if(null!=(n=t.sent)){t.next=7;break}if(null!=this._emitted["t:"+e]){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",void 0);case 7:if(null!=(i=this.formatter.transactionResponse(n)).blockNumber){t.next=12;break}i.confirmations=0,t.next=19;break;case 12:if(null!=i.confirmations){t.next=19;break}return t.next=15,this._getInternalBlockNumber(100+2*this.pollingInterval);case 15:a=t.sent,(o=a-i.blockNumber+1)<=0&&(o=1),i.confirmations=o;case 19:return t.abrupt("return",this._wrapTransaction(i));case 20:case"end":return t.stop()}}),t,this)})))}),{oncePoll:this}));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getTransactionReceipt",value:function(e){return Fo(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n=this;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,e;case 4:return e=t.sent,r={transactionHash:this.formatter.hash(e,!0)},t.abrupt("return",Po((function(){return Fo(n,void 0,void 0,(0,v.Z)().mark((function t(){var n,i,a,o;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.perform("getTransactionReceipt",r);case 2:if(null!=(n=t.sent)){t.next=7;break}if(null!=this._emitted["t:"+e]){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",void 0);case 7:if(null!=n.blockHash){t.next=9;break}return t.abrupt("return",void 0);case 9:if(null!=(i=this.formatter.receipt(n)).blockNumber){t.next=14;break}i.confirmations=0,t.next=21;break;case 14:if(null!=i.confirmations){t.next=21;break}return t.next=17,this._getInternalBlockNumber(100+2*this.pollingInterval);case 17:a=t.sent,(o=a-i.blockNumber+1)<=0&&(o=1),i.confirmations=o;case 21:return t.abrupt("return",i);case 22:case"end":return t.stop()}}),t,this)})))}),{oncePoll:this}));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getLogs",value:function(e){return Fo(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,fe({filter:this._getFilter(e)});case 4:return r=t.sent,t.next=7,this.perform("getLogs",r);case 7:return(n=t.sent).forEach((function(e){null==e.removed&&(e.removed=!1)})),t.abrupt("return",jo.arrayOf(this.formatter.filterLog.bind(this.formatter))(n));case 10:case"end":return t.stop()}}),t,this)})))}},{key:"getEtherPrice",value:function(){return Fo(this,void 0,void 0,(0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetwork();case 2:return e.abrupt("return",this.perform("getEtherPrice",{}));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"_getBlockTag",value:function(e){return Fo(this,void 0,void 0,(0,v.Z)().mark((function t(){var r;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:if(!("number"===typeof(e=t.sent)&&e<0)){t.next=11;break}return e%1&&zo.throwArgumentError("invalid BlockTag","blockTag",e),t.next=7,this._getInternalBlockNumber(100+2*this.pollingInterval);case 7:return r=t.sent,(r+=e)<0&&(r=0),t.abrupt("return",this.formatter.blockTag(r));case 11:return t.abrupt("return",this.formatter.blockTag(e));case 12:case"end":return t.stop()}}),t,this)})))}},{key:"getResolver",value:function(e){return Fo(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n,i;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e;case 1:if(""!==r&&"."!==r){t.next=4;break}return t.abrupt("return",null);case 4:if("eth"===e||"eth"!==r){t.next=6;break}return t.abrupt("return",null);case 6:return t.next=8,this._getResolver(r,"getResolver");case 8:if(null==(n=t.sent)){t.next=19;break}if(i=new us(this,n,e),t.t0=r!==e,!t.t0){t.next=16;break}return t.next=15,i.supportsWildcard();case 15:t.t0=!t.sent;case 16:if(!t.t0){t.next=18;break}return t.abrupt("return",null);case 18:return t.abrupt("return",i);case 19:r=r.split(".").slice(1).join("."),t.next=1;break;case 22:case"end":return t.stop()}}),t,this)})))}},{key:"_getResolver",value:function(e,t){return Fo(this,void 0,void 0,(0,v.Z)().mark((function r(){var n,i;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return null==t&&(t="ENS"),r.next=3,this.getNetwork();case 3:return(n=r.sent).ensAddress||zo.throwError("network does not support ENS",A.errors.UNSUPPORTED_OPERATION,{operation:t,network:n.name}),r.prev=5,r.next=8,this.call({to:n.ensAddress,data:"0x0178b8bf"+Eo(e).substring(2)});case 8:return i=r.sent,r.abrupt("return",this.formatter.callAddress(i));case 12:r.prev=12,r.t0=r.catch(5);case 14:return r.abrupt("return",null);case 15:case"end":return r.stop()}}),r,this,[[5,12]])})))}},{key:"resolveName",value:function(e){return Fo(this,void 0,void 0,(0,v.Z)().mark((function t(){var r;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return e=t.sent,t.prev=3,t.abrupt("return",Promise.resolve(this.formatter.address(e)));case 7:if(t.prev=7,t.t0=t.catch(3),!N(e)){t.next=11;break}throw t.t0;case 11:return"string"!==typeof e&&zo.throwArgumentError("invalid ENS name","name",e),t.next=14,this.getResolver(e);case 14:if(r=t.sent){t.next=17;break}return t.abrupt("return",null);case 17:return t.next=19,r.getAddress();case 19:return t.abrupt("return",t.sent);case 20:case"end":return t.stop()}}),t,this,[[3,7]])})))}},{key:"lookupAddress",value:function(e){return Fo(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n,i;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return e=t.sent,e=this.formatter.address(e),r=e.substring(2).toLowerCase()+".addr.reverse",t.next=7,this._getResolver(r,"lookupAddress");case 7:if(null!=(n=t.sent)){t.next=10;break}return t.abrupt("return",null);case 10:return t.t0=rs,t.next=13,this.call({to:n,data:"0x691f3431"+Eo(r).substring(2)});case 13:return t.t1=t.sent,i=(0,t.t0)(t.t1,0),t.next=17,this.resolveName(i);case 17:if(t.sent==e){t.next=20;break}return t.abrupt("return",null);case 20:return t.abrupt("return",i);case 21:case"end":return t.stop()}}),t,this)})))}},{key:"getAvatar",value:function(e){return Fo(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n,i,a,o,s,u;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null,!N(e)){t.next=40;break}return n=this.formatter.address(e),i=n.substring(2).toLowerCase()+".addr.reverse",t.next=6,this._getResolver(i,"getAvatar");case 6:if(a=t.sent){t.next=9;break}return t.abrupt("return",null);case 9:return r=new us(this,a,i),t.prev=10,t.next=13,r.getAvatar();case 13:if(!(o=t.sent)){t.next=16;break}return t.abrupt("return",o.url);case 16:t.next=22;break;case 18:if(t.prev=18,t.t0=t.catch(10),t.t0.code===A.errors.CALL_EXCEPTION){t.next=22;break}throw t.t0;case 22:return t.prev=22,t.t1=rs,t.next=26,this.call({to:a,data:"0x691f3431"+Eo(i).substring(2)});case 26:return t.t2=t.sent,s=(0,t.t1)(t.t2,0),t.next=30,this.getResolver(s);case 30:r=t.sent,t.next=38;break;case 33:if(t.prev=33,t.t3=t.catch(22),t.t3.code===A.errors.CALL_EXCEPTION){t.next=37;break}throw t.t3;case 37:return t.abrupt("return",null);case 38:t.next=45;break;case 40:return t.next=42,this.getResolver(e);case 42:if(r=t.sent){t.next=45;break}return t.abrupt("return",null);case 45:return t.next=47,r.getAvatar();case 47:if(null!=(u=t.sent)){t.next=50;break}return t.abrupt("return",null);case 50:return t.abrupt("return",u.url);case 51:case"end":return t.stop()}}),t,this,[[10,18],[22,33]])})))}},{key:"perform",value:function(e,t){return zo.throwError(e+" not implemented",A.errors.NOT_IMPLEMENTED,{operation:e})}},{key:"_startEvent",value:function(e){this.polling=this._events.filter((function(e){return e.pollable()})).length>0}},{key:"_stopEvent",value:function(e){this.polling=this._events.filter((function(e){return e.pollable()})).length>0}},{key:"_addEventListener",value:function(e,t,r){var n=new qo(Go(e),t,r);return this._events.push(n),this._startEvent(n),this}},{key:"on",value:function(e,t){return this._addEventListener(e,t,!1)}},{key:"once",value:function(e,t){return this._addEventListener(e,t,!0)}},{key:"emit",value:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=!1,o=[],s=Go(e);return this._events=this._events.filter((function(e){return e.tag!==s||(setTimeout((function(){e.listener.apply(t,n)}),0),a=!0,!e.once||(o.push(e),!1))})),o.forEach((function(e){t._stopEvent(e)})),a}},{key:"listenerCount",value:function(e){if(!e)return this._events.length;var t=Go(e);return this._events.filter((function(e){return e.tag===t})).length}},{key:"listeners",value:function(e){if(null==e)return this._events.map((function(e){return e.listener}));var t=Go(e);return this._events.filter((function(e){return e.tag===t})).map((function(e){return e.listener}))}},{key:"off",value:function(e,t){var r=this;if(null==t)return this.removeAllListeners(e);var n=[],i=!1,a=Go(e);return this._events=this._events.filter((function(e){return e.tag!==a||e.listener!=t||(!!i||(i=!0,n.push(e),!1))})),n.forEach((function(e){r._stopEvent(e)})),this}},{key:"removeAllListeners",value:function(e){var t=this,r=[];if(null==e)r=this._events,this._events=[];else{var n=Go(e);this._events=this._events.filter((function(e){return e.tag!==n||(r.push(e),!1)}))}return r.forEach((function(e){t._stopEvent(e)})),this}}],[{key:"getFormatter",value:function(){return null==ls&&(ls=new jo),ls}},{key:"getNetwork",value:function(e){return Va(null==e?"homestead":e)}}]),r}(mr),fs=r(2963),ds=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},ps=new A(Lo),_s=["call","estimateGas"];function ms(e,t){if(null==e)return null;if("string"===typeof e.message&&e.message.match("reverted")){var r=N(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"===typeof e){for(var n in e){var i=ms(e[n],t);if(i)return i}return null}if("string"===typeof e)try{return ms(JSON.parse(e),t)}catch(a){}return null}function vs(e,t,r){var n=r.transaction||r.signedTransaction;if("call"===e){var i=ms(t,!0);if(i)return i.data;ps.throwError("missing revert data in call exception; Transaction reverted without a reason string",A.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if("estimateGas"===e){var a=ms(t.body,!1);null==a&&(a=ms(t,!1)),a&&ps.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",A.errors.UNPREDICTABLE_GAS_LIMIT,{reason:a.message,method:e,transaction:n,error:t})}var o=t.message;throw t.code===A.errors.SERVER_ERROR&&t.error&&"string"===typeof t.error.message?o=t.error.message:"string"===typeof t.body?o=t.body:"string"===typeof t.responseText&&(o=t.responseText),(o=(o||"").toLowerCase()).match(/insufficient funds|base fee exceeds gas limit/i)&&ps.throwError("insufficient funds for intrinsic transaction cost",A.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),o.match(/nonce (is )?too low/i)&&ps.throwError("nonce has already been used",A.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),o.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&ps.throwError("replacement fee too low",A.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),o.match(/only replay-protected/i)&&ps.throwError("legacy pre-eip-155 transactions not supported",A.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),_s.indexOf(e)>=0&&o.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&ps.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",A.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function gs(e){return new Promise((function(t){setTimeout(t,e)}))}function ys(e){if(e.error){var t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function bs(e){return e?e.toLowerCase():e}var ws={},Es=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n,i){var a;if((0,_.Z)(this,r),a=t.call(this),e!==ws)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");return ce((0,c.Z)(a),"provider",n),null==i&&(i=0),"string"===typeof i?(ce((0,c.Z)(a),"_address",a.provider.formatter.address(i)),ce((0,c.Z)(a),"_index",null)):"number"===typeof i?(ce((0,c.Z)(a),"_index",i),ce((0,c.Z)(a),"_address",null)):ps.throwArgumentError("invalid address or index","addressOrIndex",i),a}return(0,m.Z)(r,[{key:"connect",value:function(e){return ps.throwError("cannot alter JSON-RPC Signer connection",A.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}},{key:"connectUnchecked",value:function(){return new xs(ws,this.provider,this._address||this._index)}},{key:"getAddress",value:function(){var e=this;return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((function(t){return t.length<=e._index&&ps.throwError("unknown account #"+e._index,A.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),e.provider.formatter.address(t[e._index])}))}},{key:"sendUncheckedTransaction",value:function(e){var t=this;e=pe(e);var r=this.getAddress().then((function(e){return e&&(e=e.toLowerCase()),e}));if(null==e.gasLimit){var n=pe(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return null!=e.to&&(e.to=Promise.resolve(e.to).then((function(e){return ds(t,void 0,void 0,(0,v.Z)().mark((function t(){var r;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,this.provider.resolveName(e);case 4:return null==(r=t.sent)&&ps.throwArgumentError("provided ENS name resolves to null","tx.to",e),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})))}))),fe({tx:fe(e),sender:r}).then((function(r){var n=r.tx,i=r.sender;null!=n.from?n.from.toLowerCase()!==i&&ps.throwArgumentError("from address mismatch","transaction",e):n.from=i;var a=t.provider.constructor.hexlifyTransaction(n,{from:!0});return t.provider.send("eth_sendTransaction",[a]).then((function(e){return e}),(function(e){return"string"===typeof e.message&&e.message.match(/user denied/i)&&ps.throwError("user rejected transaction",A.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),vs("sendTransaction",e,a)}))}))}},{key:"signTransaction",value:function(e){return ps.throwError("signing transactions is unsupported",A.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}},{key:"sendTransaction",value:function(e){return ds(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n,i=this;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval);case 2:return r=t.sent,t.next=5,this.sendUncheckedTransaction(e);case 5:return n=t.sent,t.prev=6,t.next=9,Po((function(){return ds(i,void 0,void 0,(0,v.Z)().mark((function e(){var t;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.getTransaction(n);case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.abrupt("return",this.provider._wrapTransaction(t,n,r));case 6:case"end":return e.stop()}}),e,this)})))}),{oncePoll:this.provider});case 9:return t.abrupt("return",t.sent);case 12:throw t.prev=12,t.t0=t.catch(6),t.t0.transactionHash=n,t.t0;case 16:case"end":return t.stop()}}),t,this,[[6,12]])})))}},{key:"signMessage",value:function(e){return ds(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="string"===typeof e?rt(e):e,t.next=3,this.getAddress();case 3:return n=t.sent,t.prev=4,t.next=7,this.provider.send("personal_sign",[Z(r),n.toLowerCase()]);case 7:return t.abrupt("return",t.sent);case 10:throw t.prev=10,t.t0=t.catch(4),"string"===typeof t.t0.message&&t.t0.message.match(/user denied/i)&&ps.throwError("user rejected signing",A.errors.ACTION_REJECTED,{action:"signMessage",from:n,message:r}),t.t0;case 14:case"end":return t.stop()}}),t,this,[[4,10]])})))}},{key:"_legacySignMessage",value:function(e){return ds(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="string"===typeof e?rt(e):e,t.next=3,this.getAddress();case 3:return n=t.sent,t.prev=4,t.next=7,this.provider.send("eth_sign",[n.toLowerCase(),Z(r)]);case 7:return t.abrupt("return",t.sent);case 10:throw t.prev=10,t.t0=t.catch(4),"string"===typeof t.t0.message&&t.t0.message.match(/user denied/i)&&ps.throwError("user rejected signing",A.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,message:r}),t.t0;case 14:case"end":return t.stop()}}),t,this,[[4,10]])})))}},{key:"_signTypedData",value:function(e,t,r){return ds(this,void 0,void 0,(0,v.Z)().mark((function n(){var i,a,o=this;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ti.resolveNames(e,t,r,(function(e){return o.provider.resolveName(e)}));case 2:return i=n.sent,n.next=5,this.getAddress();case 5:return a=n.sent,n.prev=6,n.next=9,this.provider.send("eth_signTypedData_v4",[a.toLowerCase(),JSON.stringify(Ti.getPayload(i.domain,t,i.value))]);case 9:return n.abrupt("return",n.sent);case 12:throw n.prev=12,n.t0=n.catch(6),"string"===typeof n.t0.message&&n.t0.message.match(/user denied/i)&&ps.throwError("user rejected signing",A.errors.ACTION_REJECTED,{action:"_signTypedData",from:a,message:{domain:i.domain,types:t,value:i.value}}),n.t0;case 16:case"end":return n.stop()}}),n,this,[[6,12]])})))}},{key:"unlock",value:function(e){return ds(this,void 0,void 0,(0,v.Z)().mark((function t(){var r,n;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.provider,t.next=3,this.getAddress();case 3:return n=t.sent,t.abrupt("return",r.send("personal_unlockAccount",[n.toLowerCase(),e,null]));case 5:case"end":return t.stop()}}),t,this)})))}}]),r}(wr),xs=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r,[{key:"sendTransaction",value:function(e){var t=this;return this.sendUncheckedTransaction(e).then((function(e){return{hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:function(r){return t.provider.waitForTransaction(e,r)}}}))}}]),r}(Es),ks={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0},Ts=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;(0,_.Z)(this,r);var a=n;return null==a&&(a=new Promise((function(e,t){setTimeout((function(){i.detectNetwork().then((function(t){e(t)}),(function(e){t(e)}))}),0)}))),i=t.call(this,a),e||(e=he(i.constructor,"defaultUrl")()),ce((0,c.Z)(i),"connection","string"===typeof e?Object.freeze({url:e}):Object.freeze(pe(e))),i._nextId=42,i}return(0,m.Z)(r,[{key:"_cache",get:function(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}},{key:"detectNetwork",value:function(){var e=this;return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((function(){e._cache.detectNetwork=null}),0)),this._cache.detectNetwork}},{key:"_uncachedDetectNetwork",value:function(){return ds(this,void 0,void 0,(0,v.Z)().mark((function e(){var t,r;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gs(0);case 2:return t=null,e.prev=3,e.next=6,this.send("eth_chainId",[]);case 6:t=e.sent,e.next=19;break;case 9:return e.prev=9,e.t0=e.catch(3),e.prev=11,e.next=14,this.send("net_version",[]);case 14:t=e.sent,e.next=19;break;case 17:e.prev=17,e.t1=e.catch(11);case 19:if(null==t){e.next=28;break}return r=he(this.constructor,"getNetwork"),e.prev=21,e.abrupt("return",r(ne.from(t).toNumber()));case 25:return e.prev=25,e.t2=e.catch(21),e.abrupt("return",ps.throwError("could not detect network",A.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e.t2}));case 28:return e.abrupt("return",ps.throwError("could not detect network",A.errors.NETWORK_ERROR,{event:"noNetwork"}));case 29:case"end":return e.stop()}}),e,this,[[3,9],[11,17],[21,25]])})))}},{key:"getSigner",value:function(e){return new Es(ws,this,e)}},{key:"getUncheckedSigner",value:function(e){return this.getSigner(e).connectUnchecked()}},{key:"listAccounts",value:function(){var e=this;return this.send("eth_accounts",[]).then((function(t){return t.map((function(t){return e.formatter.address(t)}))}))}},{key:"send",value:function(e,t){var r=this,n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:ge(n),provider:this});var i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];var a=Co(this.connection,JSON.stringify(n),ys).then((function(e){return r.emit("debug",{action:"response",request:n,response:e,provider:r}),e}),(function(e){throw r.emit("debug",{action:"response",error:e,request:n,provider:r}),e}));return i&&(this._cache[e]=a,setTimeout((function(){r._cache[e]=null}),0)),a}},{key:"prepareRequest",value:function(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[bs(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[bs(t.address),t.blockTag]];case"getCode":return["eth_getCode",[bs(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[bs(t.address),G(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[he(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[he(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=bs(t.filter.address)),["eth_getLogs",[t.filter]]}return null}},{key:"perform",value:function(e,t){return ds(this,void 0,void 0,(0,v.Z)().mark((function r(){var n,i,a;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("call"!==e&&"estimateGas"!==e){r.next=8;break}if(!(n=t.transaction)||null==n.type||!ne.from(n.type).isZero()){r.next=8;break}if(null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas){r.next=8;break}return r.next=6,this.getFeeData();case 6:null==(i=r.sent).maxFeePerGas&&null==i.maxPriorityFeePerGas&&((t=pe(t)).transaction=pe(n),delete t.transaction.type);case 8:return null==(a=this.prepareRequest(e,t))&&ps.throwError(e+" not implemented",A.errors.NOT_IMPLEMENTED,{operation:e}),r.prev=10,r.next=13,this.send(a[0],a[1]);case 13:return r.abrupt("return",r.sent);case 16:return r.prev=16,r.t0=r.catch(10),r.abrupt("return",vs(e,r.t0,t));case 19:case"end":return r.stop()}}),r,this,[[10,16]])})))}},{key:"_startEvent",value:function(e){"pending"===e.tag&&this._startPending(),(0,h.Z)((0,f.Z)(r.prototype),"_startEvent",this).call(this,e)}},{key:"_startPending",value:function(){if(null==this._pendingFilter){var e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then((function(r){return function n(){e.send("eth_getFilterChanges",[r]).then((function(r){if(e._pendingFilter!=t)return null;var n=Promise.resolve();return r.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then((function(){return e.getTransaction(t).then((function(t){return e.emit("pending",t),null}))}))})),n.then((function(){return gs(1e3)}))})).then((function(){if(e._pendingFilter==t)return setTimeout((function(){n()}),0),null;e.send("eth_uninstallFilter",[r])})).catch((function(e){}))}(),r})).catch((function(e){}))}}},{key:"_stopEvent",value:function(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),(0,h.Z)((0,f.Z)(r.prototype),"_stopEvent",this).call(this,e)}}],[{key:"defaultUrl",value:function(){return"http://localhost:8545"}},{key:"hexlifyTransaction",value:function(e,t){var r=pe(ks);if(t)for(var n in t)t[n]&&(r[n]=!0);de(e,r);var i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(t){if(null!=e[t]){var r=K(ne.from(e[t]));"gasLimit"===t&&(t="gas"),i[t]=r}})),["from","to","data"].forEach((function(t){null!=e[t]&&(i[t]=Z(e[t]))})),e.accessList&&(i.accessList=kn(e.accessList)),i}}]),r}(hs),Ms=null;try{if(null==(Ms=WebSocket))throw new Error("inject please")}catch(hl){var As=new A(Lo);Ms=function(){As.throwError("WebSockets not supported in this environment",A.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var Os=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Ss=new A(Lo),Rs=1,Cs=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i,a;(0,_.Z)(this,r),"any"===n&&Ss.throwError("WebSocketProvider does not support 'any' network yet",A.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),(a="string"===typeof e?t.call(this,e,n):t.call(this,"_websocket",n))._pollingInterval=-1,a._wsReady=!1,ce((0,c.Z)(a),"_websocket","string"===typeof e?new Ms(a.connection.url):e),ce((0,c.Z)(a),"_requests",{}),ce((0,c.Z)(a),"_subs",{}),ce((0,c.Z)(a),"_subIds",{}),ce((0,c.Z)(a),"_detectNetwork",(0,h.Z)((i=(0,c.Z)(a),(0,f.Z)(r.prototype)),"detectNetwork",i).call(i)),a.websocket.onopen=function(){a._wsReady=!0,Object.keys(a._requests).forEach((function(e){a.websocket.send(a._requests[e].payload)}))},a.websocket.onmessage=function(e){var t=e.data,r=JSON.parse(t);if(null!=r.id){var n=String(r.id),i=a._requests[n];if(delete a._requests[n],void 0!==r.result)i.callback(null,r.result),a.emit("debug",{action:"response",request:JSON.parse(i.payload),response:r.result,provider:(0,c.Z)(a)});else{var o=null;r.error?(ce(o=new Error(r.error.message||"unknown error"),"code",r.error.code||null),ce(o,"response",t)):o=new Error("unknown error"),i.callback(o,void 0),a.emit("debug",{action:"response",error:o,request:JSON.parse(i.payload),provider:(0,c.Z)(a)})}}else if("eth_subscription"===r.method){var s=a._subs[r.params.subscription];s&&s.processFunc(r.params.result)}else console.warn("this should not happen")};var o=setInterval((function(){a.emit("poll")}),1e3);return o.unref&&o.unref(),(0,fs.Z)(a)}return(0,m.Z)(r,[{key:"websocket",get:function(){return this._websocket}},{key:"detectNetwork",value:function(){return this._detectNetwork}},{key:"pollingInterval",get:function(){return 0},set:function(e){Ss.throwError("cannot set polling interval on WebSocketProvider",A.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}},{key:"resetEventsBlock",value:function(e){Ss.throwError("cannot reset events block on WebSocketProvider",A.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}},{key:"poll",value:function(){return Os(this,void 0,void 0,(0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})))}},{key:"polling",set:function(e){e&&Ss.throwError("cannot set polling on WebSocketProvider",A.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}},{key:"send",value:function(e,t){var r=this,n=Rs++;return new Promise((function(i,a){var o=JSON.stringify({method:e,params:t,id:n,jsonrpc:"2.0"});r.emit("debug",{action:"request",request:JSON.parse(o),provider:r}),r._requests[String(n)]={callback:function(e,t){return e?a(e):i(t)},payload:o},r._wsReady&&r.websocket.send(o)}))}},{key:"_subscribe",value:function(e,t,r){return Os(this,void 0,void 0,(0,v.Z)().mark((function n(){var i,a,o=this;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==(i=this._subIds[e])&&(i=Promise.all(t).then((function(e){return o.send("eth_subscribe",e)})),this._subIds[e]=i),n.next=4,i;case 4:a=n.sent,this._subs[a]={tag:e,processFunc:r};case 6:case"end":return n.stop()}}),n,this)})))}},{key:"_startEvent",value:function(e){var t=this;switch(e.type){case"block":this._subscribe("block",["newHeads"],(function(e){var r=ne.from(e.number).toNumber();t._emitted.block=r,t.emit("block",r)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(function(e){t.emit("pending",e)}));break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],(function(r){null==r.removed&&(r.removed=!1),t.emit(e.filter,t.formatter.filterLog(r))}));break;case"tx":var r=function(e){var r=e.hash;t.getTransactionReceipt(r).then((function(e){e&&t.emit(r,e)}))};r(e),this._subscribe("tx",["newHeads"],(function(e){t._events.filter((function(e){return"tx"===e.type})).forEach(r)}));break;case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}},{key:"_stopEvent",value:function(e){var t=this,r=e.tag;if("tx"===e.type){if(this._events.filter((function(e){return"tx"===e.type})).length)return;r="tx"}else if(this.listenerCount(e.event))return;var n=this._subIds[r];n&&(delete this._subIds[r],n.then((function(e){t._subs[e]&&(delete t._subs[e],t.send("eth_unsubscribe",[e]))})))}},{key:"destroy",value:function(){return Os(this,void 0,void 0,(0,v.Z)().mark((function e(){var t=this;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.websocket.readyState!==Ms.CONNECTING){e.next=3;break}return e.next=3,new Promise((function(e){t.websocket.onopen=function(){e(!0)},t.websocket.onerror=function(){e(!1)}}));case 3:this.websocket.close(1e3);case 4:case"end":return e.stop()}}),e,this)})))}}],[{key:"defaultUrl",value:function(){return"ws://localhost:8546"}}]),r}(Ts),Ps=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Ds=new A(Lo),Is=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r,[{key:"detectNetwork",value:function(){var e=this,t=Object.create(null,{detectNetwork:{get:function(){return(0,h.Z)((0,f.Z)(r.prototype),"detectNetwork",e)}}});return Ps(this,void 0,void 0,(0,v.Z)().mark((function e(){var r;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(r=this.network)){e.next=7;break}return e.next=4,t.detectNetwork.call(this);case 4:(r=e.sent)||Ds.throwError("no network detected",A.errors.UNKNOWN_ERROR,{}),null==this._network&&(ce(this,"_network",r),this.emit("network",r,null));case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})))}}]),r}(Ts),Ls=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;(0,_.Z)(this,r),Ds.checkAbstract(this instanceof r?this.constructor:void 0,r),e=he(this instanceof r?this.constructor:void 0,"getNetwork")(e),n=he(this instanceof r?this.constructor:void 0,"getApiKey")(n);var a=he(this instanceof r?this.constructor:void 0,"getUrl")(e,n);return i=t.call(this,a,e),"string"===typeof n?ce((0,c.Z)(i),"apiKey",n):null!=n&&Object.keys(n).forEach((function(e){ce((0,c.Z)(i),e,n[e])})),i}return(0,m.Z)(r,[{key:"_startPending",value:function(){Ds.warn("WARNING: API provider does not support pending filters")}},{key:"isCommunityResource",value:function(){return!1}},{key:"getSigner",value:function(e){return Ds.throwError("API provider does not support signing",A.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}},{key:"listAccounts",value:function(){return Promise.resolve([])}}],[{key:"getApiKey",value:function(e){return e}},{key:"getUrl",value:function(e,t){return Ds.throwError("not implemented; sub-classes must override getUrl",A.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}]),r}(Is),Us=new A(Lo),js="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC",Ns=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;(0,_.Z)(this,r);var a=new Bs(e,n),o=a.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");return i=t.call(this,o,a.network),ce((0,c.Z)(i),"apiKey",a.apiKey),i}return(0,m.Z)(r,[{key:"isCommunityResource",value:function(){return this.apiKey===js}}]),r}(Cs),Bs=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r,[{key:"isCommunityResource",value:function(){return this.apiKey===js}}],[{key:"getWebSocketProvider",value:function(e,t){return new Ns(e,t)}},{key:"getApiKey",value:function(e){return null==e?js:(e&&"string"!==typeof e&&Us.throwArgumentError("invalid apiKey","apiKey",e),e)}},{key:"getUrl",value:function(e,t){var r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":r="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":r="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.alchemyapi.io/v2/";break;case"kovan":r="eth-kovan.alchemyapi.io/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":r="arb-rinkeby.g.alchemy.com/v2/";break;case"arbitrum-goerli":r="arb-goerli.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":r="opt-kovan.g.alchemy.com/v2/";break;case"optimism-goerli":r="opt-goerli.g.alchemy.com/v2/";break;default:Us.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:function(e,r){return t===js&&Wo(),Promise.resolve(!0)}}}}]),r}(Ls),Zs=new A(Lo),Ws="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function Fs(e){switch(e){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return Zs.throwArgumentError("unsupported network","name",e)}var zs=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r,[{key:"isCommunityResource",value:function(){return this.apiKey===Ws}}],[{key:"getApiKey",value:function(e){return null==e?Ws:e}},{key:"getUrl",value:function(e,t){null==t&&(t=Ws);var r={allowGzip:!0,url:"https://"+Fs(e.name)+t,throttleCallback:function(e,r){return t.apiKey===Ws&&Wo(),Promise.resolve(!0)}};return null!=t.projectSecret&&(r.user="",r.password=t.projectSecret),r}}]),r}(Ls),Ks=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Hs=new A(Lo),Gs=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r,[{key:"perform",value:function(e,t){var n=this,i=Object.create(null,{perform:{get:function(){return(0,h.Z)((0,f.Z)(r.prototype),"perform",n)}}});return Ks(this,void 0,void 0,(0,v.Z)().mark((function r(){var n;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("getBlockNumber"!==e){r.next=5;break}return r.next=3,i.perform.call(this,"getBlock",{blockTag:"latest"});case 3:return n=r.sent,r.abrupt("return",n.number);case 5:return r.abrupt("return",i.perform.call(this,e,t));case 6:case"end":return r.stop()}}),r,this)})))}}],[{key:"getApiKey",value:function(e){return null!=e&&Hs.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}},{key:"getUrl",value:function(e,t){var r=null;if("homestead"===e.name)r="https://cloudflare-eth.com/";else Hs.throwArgumentError("unsupported network","network",arguments[0]);return r}}]),r}(Ls),Vs=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Xs=new A(Lo);function Ys(e){var t={};for(var r in e)if(null!=e[r]){var n=e[r];"type"===r&&0===n||(n={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?K(Z(n)):"accessList"===r?"["+kn(n).map((function(e){return'{address:"'.concat(e.address,'",storageKeys:["').concat(e.storageKeys.join('","'),'"]}')})).join(",")+"]":Z(n),t[r]=n)}return t}function qs(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"string"!==typeof e.message||!e.message.match(/^OK/)){var t=new Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function $s(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){var t=new Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){var r=new Error("invalid response");throw r.result=JSON.stringify(e),r}if(e.error){var n=new Error(e.error.message||"unknown error");throw e.error.code&&(n.code=e.error.code),e.error.data&&(n.data=e.error.data),n}return e.result}function Js(e){if("pending"===e)throw new Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}function Qs(e,t,r){if("call"===e&&t.code===A.errors.SERVER_ERROR){var n=t.error;if(n&&(n.message.match(/reverted/i)||n.message.match(/VM execution error/i))){var i=n.data;if(i&&(i="0x"+i.replace(/^.*0x/i,"")),N(i))return i;Xs.throwError("missing revert data in call exception",A.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}var a=t.message;throw t.code===A.errors.SERVER_ERROR&&(t.error&&"string"===typeof t.error.message?a=t.error.message:"string"===typeof t.body?a=t.body:"string"===typeof t.responseText&&(a=t.responseText)),(a=(a||"").toLowerCase()).match(/insufficient funds/)&&Xs.throwError("insufficient funds for intrinsic transaction cost",A.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),a.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Xs.throwError("nonce has already been used",A.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),a.match(/another transaction with same nonce/)&&Xs.throwError("replacement fee too low",A.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),a.match(/execution failed due to an exception|execution reverted/)&&Xs.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",A.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}var eu=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;return(0,_.Z)(this,r),i=t.call(this,e),ce((0,c.Z)(i),"baseUrl",i.getBaseUrl()),ce((0,c.Z)(i),"apiKey",n||null),i}return(0,m.Z)(r,[{key:"getBaseUrl",value:function(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-kovan":return"https://api-kovan-optimistic.etherscan.io"}return Xs.throwArgumentError("unsupported network","network",this.network.name)}},{key:"getUrl",value:function(e,t){var r=Object.keys(t).reduce((function(e,r){var n=t[r];return null!=n&&(e+="&".concat(r,"=").concat(n)),e}),""),n=this.apiKey?"&apikey=".concat(this.apiKey):"";return"".concat(this.baseUrl,"/api?module=").concat(e).concat(r).concat(n)}},{key:"getPostUrl",value:function(){return"".concat(this.baseUrl,"/api")}},{key:"getPostData",value:function(e,t){return t.module=e,t.apikey=this.apiKey,t}},{key:"fetch",value:function(e,t,r){return Vs(this,void 0,void 0,(0,v.Z)().mark((function n(){var i,a,o,s,u,l,c=this;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r?this.getPostUrl():this.getUrl(e,t),a=r?this.getPostData(e,t):null,o="proxy"===e?$s:qs,this.emit("debug",{action:"request",request:i,provider:this}),s={url:i,throttleSlotInterval:1e3,throttleCallback:function(e,t){return c.isCommunityResource()&&Wo(),Promise.resolve(!0)}},u=null,a&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},u=Object.keys(a).map((function(e){return"".concat(e,"=").concat(a[e])})).join("&")),n.next=9,Co(s,u,o||$s);case 9:return l=n.sent,this.emit("debug",{action:"response",request:i,response:ge(l),provider:this}),n.abrupt("return",l);case 12:case"end":return n.stop()}}),n,this)})))}},{key:"detectNetwork",value:function(){return Vs(this,void 0,void 0,(0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.network);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"perform",value:function(e,t){var n=this,i=Object.create(null,{perform:{get:function(){return(0,h.Z)((0,f.Z)(r.prototype),"perform",n)}}});return Vs(this,void 0,void 0,(0,v.Z)().mark((function r(){var n,a,o,s,u,l,c,h,f;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=e,r.next="getBlockNumber"===r.t0?3:"getGasPrice"===r.t0?4:"getBalance"===r.t0?5:"getTransactionCount"===r.t0?6:"getCode"===r.t0?7:"getStorageAt"===r.t0?8:"sendTransaction"===r.t0?9:"getBlock"===r.t0?10:"getTransaction"===r.t0?13:"getTransactionReceipt"===r.t0?14:"call"===r.t0?15:"estimateGas"===r.t0?29:"getLogs"===r.t0?41:"getEtherPrice"===r.t0?65:72;break;case 3:return r.abrupt("return",this.fetch("proxy",{action:"eth_blockNumber"}));case 4:return r.abrupt("return",this.fetch("proxy",{action:"eth_gasPrice"}));case 5:return r.abrupt("return",this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag}));case 6:return r.abrupt("return",this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag}));case 7:return r.abrupt("return",this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag}));case 8:return r.abrupt("return",this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag}));case 9:return r.abrupt("return",this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch((function(e){return Qs("sendTransaction",e,t.signedTransaction)})));case 10:if(!t.blockTag){r.next=12;break}return r.abrupt("return",this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"}));case 12:throw new Error("getBlock by blockHash not implemented");case 13:return r.abrupt("return",this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash}));case 14:return r.abrupt("return",this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash}));case 15:if("latest"===t.blockTag){r.next=17;break}throw new Error("EtherscanProvider does not support blockTag for call");case 17:return(n=Ys(t.transaction)).module="proxy",n.action="eth_call",r.prev=20,r.next=23,this.fetch("proxy",n,!0);case 23:return r.abrupt("return",r.sent);case 26:return r.prev=26,r.t1=r.catch(20),r.abrupt("return",Qs("call",r.t1,t.transaction));case 29:return(a=Ys(t.transaction)).module="proxy",a.action="eth_estimateGas",r.prev=32,r.next=35,this.fetch("proxy",a,!0);case 35:return r.abrupt("return",r.sent);case 38:return r.prev=38,r.t2=r.catch(32),r.abrupt("return",Qs("estimateGas",r.t2,t.transaction));case 41:return o={action:"getLogs"},t.filter.fromBlock&&(o.fromBlock=Js(t.filter.fromBlock)),t.filter.toBlock&&(o.toBlock=Js(t.filter.toBlock)),t.filter.address&&(o.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&Xs.throwError("unsupported topic count",A.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length&&("string"===typeof(s=t.filter.topics[0])&&66===s.length||Xs.throwError("unsupported topic format",A.errors.UNSUPPORTED_OPERATION,{topic0:s}),o.topic0=s)),r.next=48,this.fetch("logs",o);case 48:u=r.sent,l={},c=0;case 51:if(!(c<u.length)){r.next=64;break}if(null==(h=u[c]).blockHash){r.next=55;break}return r.abrupt("continue",61);case 55:if(null!=l[h.blockNumber]){r.next=60;break}return r.next=58,this.getBlock(h.blockNumber);case 58:(f=r.sent)&&(l[h.blockNumber]=f.hash);case 60:h.blockHash=l[h.blockNumber];case 61:c++,r.next=51;break;case 64:return r.abrupt("return",u);case 65:if("homestead"===this.network.name){r.next=67;break}return r.abrupt("return",0);case 67:return r.t3=parseFloat,r.next=70,this.fetch("stats",{action:"ethprice"});case 70:return r.t4=r.sent.ethusd,r.abrupt("return",(0,r.t3)(r.t4));case 72:return r.abrupt("break",73);case 73:return r.abrupt("return",i.perform.call(this,e,t));case 74:case"end":return r.stop()}}),r,this,[[20,26],[32,38]])})))}},{key:"getHistory",value:function(e,t,r){return Vs(this,void 0,void 0,(0,v.Z)().mark((function n(){var i,a,o=this;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.resolveName(e);case 2:return n.t0=n.sent,n.t1=null==t?0:t,n.t2=null==r?99999999:r,i={action:"txlist",address:n.t0,startblock:n.t1,endblock:n.t2,sort:"asc"},n.next=8,this.fetch("account",i);case 8:return a=n.sent,n.abrupt("return",a.map((function(e){["contractAddress","to"].forEach((function(t){""==e[t]&&delete e[t]})),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);var t=o.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t})));case 10:case"end":return n.stop()}}),n,this)})))}},{key:"isCommunityResource",value:function(){return null==this.apiKey}}]),r}(hs);function tu(e){for(var t=(e=e.slice()).length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}var ru=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},nu=new A(Lo);function iu(){return(new Date).getTime()}function au(e){for(var t=null,r=0;r<e.length;r++){var n=e[r];if(null==n)return null;t?t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||null==t.ensAddress&&null==n.ensAddress)||nu.throwArgumentError("provider mismatch","networks",e):t=n}return t}function ou(e,t){e=e.slice().sort();var r=Math.floor(e.length/2);if(e.length%2)return e[r];var n=e[r-1],i=e[r];return null!=t&&Math.abs(n-i)>t?null:(n+i)/2}function su(e){if(null===e)return"null";if("number"===typeof e||"boolean"===typeof e)return JSON.stringify(e);if("string"===typeof e)return e;if(ne.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map((function(e){return su(e)})));if("object"===typeof e){var t=Object.keys(e);return t.sort(),"{"+t.map((function(t){var r=e[t];return r="function"===typeof r?"[function]":su(r),JSON.stringify(t)+":"+r})).join(",")+"}"}throw new Error("unknown value type: "+typeof e)}var uu=1;function lu(e){var t=null,r=null,n=new Promise((function(n){t=function(){r&&(clearTimeout(r),r=null),n()},r=setTimeout(t,e)}));return{cancel:t,getPromise:function(){return n},wait:function(e){return n=n.then(e)}}}var cu=[A.errors.CALL_EXCEPTION,A.errors.INSUFFICIENT_FUNDS,A.errors.NONCE_EXPIRED,A.errors.REPLACEMENT_UNDERPRICED,A.errors.UNPREDICTABLE_GAS_LIMIT],hu=["address","args","errorArgs","errorSignature","method","transaction"];function fu(e,t){var r={weight:e.weight};return Object.defineProperty(r,"provider",{get:function(){return e.provider}}),e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function du(e,t,r){var n=su;switch(t){case"getBlockNumber":return function(t){var r=t.map((function(e){return e.result})),n=ou(t.map((function(e){return e.result})),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=e._highestBlockNumber&&(e._highestBlockNumber=n),e._highestBlockNumber};case"getGasPrice":return function(e){var t=e.map((function(e){return e.result}));return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return ou(e.map((function(e){return e.result})))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(e){return null==e?null:((e=pe(e)).confirmations=-1,su(e))};break;case"getBlock":n=r.includeTransactions?function(e){return null==e?null:((e=pe(e)).transactions=e.transactions.map((function(e){return(e=pe(e)).confirmations=-1,e})),su(e))}:function(e){return null==e?null:su(e)};break;default:throw new Error("unknown method: "+t)}return function(e,t){return function(r){var n={};r.forEach((function(t){var r=e(t.result);n[r]||(n[r]={count:0,result:t.result}),n[r].count++}));for(var i=Object.keys(n),a=0;a<i.length;a++){var o=n[i[a]];if(o.count>=t)return o.result}}}(n,e.quorum)}function pu(e,t){return ru(this,void 0,void 0,(0,v.Z)().mark((function r(){var n;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(null!=(n=e.provider).blockNumber&&n.blockNumber>=t||-1===t)){r.next=3;break}return r.abrupt("return",n);case 3:return r.abrupt("return",Po((function(){return new Promise((function(r,i){setTimeout((function(){return n.blockNumber>=t?r(n):e.cancelled?r(null):r(void 0)}),0)}))}),{oncePoll:n}));case 4:case"end":return r.stop()}}),r)})))}function _u(e,t,r,n){return ru(this,void 0,void 0,(0,v.Z)().mark((function i(){var a,o;return(0,v.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:a=e.provider,i.t0=r,i.next="getBlockNumber"===i.t0||"getGasPrice"===i.t0?4:"getEtherPrice"===i.t0?5:"getBalance"===i.t0||"getTransactionCount"===i.t0||"getCode"===i.t0?8:"getStorageAt"===i.t0?13:"getBlock"===i.t0?18:"call"===i.t0||"estimateGas"===i.t0?23:"getTransaction"===i.t0||"getTransactionReceipt"===i.t0?30:"getLogs"===i.t0?31:37;break;case 4:return i.abrupt("return",a[r]());case 5:if(!a.getEtherPrice){i.next=7;break}return i.abrupt("return",a.getEtherPrice());case 7:return i.abrupt("break",37);case 8:if(!n.blockTag||!N(n.blockTag)){i.next=12;break}return i.next=11,pu(e,t);case 11:a=i.sent;case 12:return i.abrupt("return",a[r](n.address,n.blockTag||"latest"));case 13:if(!n.blockTag||!N(n.blockTag)){i.next=17;break}return i.next=16,pu(e,t);case 16:a=i.sent;case 17:return i.abrupt("return",a.getStorageAt(n.address,n.position,n.blockTag||"latest"));case 18:if(!n.blockTag||!N(n.blockTag)){i.next=22;break}return i.next=21,pu(e,t);case 21:a=i.sent;case 22:return i.abrupt("return",a[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash));case 23:if(!n.blockTag||!N(n.blockTag)){i.next=27;break}return i.next=26,pu(e,t);case 26:a=i.sent;case 27:if("call"!==r||!n.blockTag){i.next=29;break}return i.abrupt("return",a[r](n.transaction,n.blockTag));case 29:return i.abrupt("return",a[r](n.transaction));case 30:return i.abrupt("return",a[r](n.transactionHash));case 31:if(!((o=n.filter).fromBlock&&N(o.fromBlock)||o.toBlock&&N(o.toBlock))){i.next=36;break}return i.next=35,pu(e,t);case 35:a=i.sent;case 36:return i.abrupt("return",a.getLogs(o));case 37:return i.abrupt("return",nu.throwError("unknown method error",A.errors.UNKNOWN_ERROR,{method:r,params:n}));case 38:case"end":return i.stop()}}),i)})))}var mu=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;(0,_.Z)(this,r),0===e.length&&nu.throwArgumentError("missing providers","providers",e);var a=e.map((function(e,t){if(mr.isProvider(e)){var r=Bo(e)?2e3:750;return Object.freeze({provider:e,weight:1,stallTimeout:r,priority:1})}var n=pe(e);null==n.priority&&(n.priority=1),null==n.stallTimeout&&(n.stallTimeout=Bo(e)?2e3:750),null==n.weight&&(n.weight=1);var i=n.weight;return(i%1||i>512||i<1)&&nu.throwArgumentError("invalid weight; must be integer in [1, 512]","providers[".concat(t,"].weight"),i),Object.freeze(n)})),o=a.reduce((function(e,t){return e+t.weight}),0);null==n?n=o/2:n>o&&nu.throwArgumentError("quorum will always fail; larger than total weight","quorum",n);var s=au(a.map((function(e){return e.provider.network})));return null==s&&(s=new Promise((function(e,t){setTimeout((function(){i.detectNetwork().then(e,t)}),0)}))),i=t.call(this,s),ce((0,c.Z)(i),"providerConfigs",Object.freeze(a)),ce((0,c.Z)(i),"quorum",n),i._highestBlockNumber=-1,i}return(0,m.Z)(r,[{key:"detectNetwork",value:function(){return ru(this,void 0,void 0,(0,v.Z)().mark((function e(){var t;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.providerConfigs.map((function(e){return e.provider.getNetwork()})));case 2:return t=e.sent,e.abrupt("return",au(t));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"perform",value:function(e,t){return ru(this,void 0,void 0,(0,v.Z)().mark((function r(){var n,i,a,o,s,u,l,c,h,f,d=this;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("sendTransaction"!==e){r.next=13;break}return r.next=3,Promise.all(this.providerConfigs.map((function(e){return e.provider.sendTransaction(t.signedTransaction).then((function(e){return e.hash}),(function(e){return e}))})));case 3:n=r.sent,i=0;case 5:if(!(i<n.length)){r.next=12;break}if("string"!==typeof(a=n[i])){r.next=9;break}return r.abrupt("return",a);case 9:i++,r.next=5;break;case 12:throw n[0];case 13:if(-1!==this._highestBlockNumber||"getBlockNumber"===e){r.next=16;break}return r.next=16,this.getBlockNumber();case 16:o=du(this,e,t),(s=tu(this.providerConfigs.map(pe))).sort((function(e,t){return e.priority-t.priority})),u=this._highestBlockNumber,l=0,c=!0,h=(0,v.Z)().mark((function r(){var n,i,a,h,f,p,_;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(n=iu(),i=s.filter((function(e){return e.runner&&n-e.start<e.stallTimeout})).reduce((function(e,t){return e+t.weight}),0),a=function(){var r=s[l++],n=uu++;r.start=iu(),r.staller=lu(r.stallTimeout),r.staller.wait((function(){r.staller=null})),r.runner=_u(r,u,e,t).then((function(i){r.done=!0,r.result=i,d.listenerCount("debug")&&d.emit("debug",{action:"request",rid:n,backend:fu(r,iu()),request:{method:e,params:ge(t)},provider:d})}),(function(i){r.done=!0,r.error=i,d.listenerCount("debug")&&d.emit("debug",{action:"request",rid:n,backend:fu(r,iu()),request:{method:e,params:ge(t)},provider:d})})),d.listenerCount("debug")&&d.emit("debug",{action:"request",rid:n,backend:fu(r,null),request:{method:e,params:ge(t)},provider:d}),i+=r.weight};i<d.quorum&&l<s.length;)a();if(h=[],s.forEach((function(e){!e.done&&e.runner&&(h.push(e.runner),e.staller&&h.push(e.staller.getPromise()))})),!h.length){r.next=9;break}return r.next=9,Promise.race(h);case 9:if(!((f=s.filter((function(e){return e.done&&null==e.error}))).length>=d.quorum)){r.next=19;break}if(void 0===(p=o(f))){r.next=15;break}return s.forEach((function(e){e.staller&&e.staller.cancel(),e.cancelled=!0})),r.abrupt("return",{v:p});case 15:if(c){r.next=18;break}return r.next=18,lu(100).getPromise();case 18:c=!1;case 19:if(_=s.reduce((function(e,t){if(!t.done||null==t.error)return e;var r=t.error.code;return cu.indexOf(r)>=0&&(e[r]||(e[r]={error:t.error,weight:0}),e[r].weight+=t.weight),e}),{}),Object.keys(_).forEach((function(e){var t=_[e];if(!(t.weight<d.quorum)){s.forEach((function(e){e.staller&&e.staller.cancel(),e.cancelled=!0}));var r=t.error,n={};hu.forEach((function(e){null!=r[e]&&(n[e]=r[e])})),nu.throwError(r.reason||r.message,e,n)}})),0!==s.filter((function(e){return!e.done})).length){r.next=23;break}return r.abrupt("return","break");case 23:case"end":return r.stop()}}),r)}));case 23:return r.delegateYield(h(),"t0",25);case 25:if("break"!==(f=r.t0)){r.next=28;break}return r.abrupt("break",32);case 28:if("object"!==typeof f){r.next=30;break}return r.abrupt("return",f.v);case 30:r.next=23;break;case 32:return s.forEach((function(e){e.staller&&e.staller.cancel(),e.cancelled=!0})),r.abrupt("return",nu.throwError("failed to meet quorum",A.errors.SERVER_ERROR,{method:e,params:t,results:s.map((function(e){return fu(e)})),provider:this}));case 34:case"end":return r.stop()}}),r,this)})))}}]),r}(hs),vu=null,gu=new A(Lo),yu="84842078b09946638c03157f83405213",bu=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;(0,_.Z)(this,r);var a=new wu(e,n),o=a.connection;o.password&&gu.throwError("INFURA WebSocket project secrets unsupported",A.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});var s=o.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");return i=t.call(this,s,e),ce((0,c.Z)(i),"apiKey",a.projectId),ce((0,c.Z)(i),"projectId",a.projectId),ce((0,c.Z)(i),"projectSecret",a.projectSecret),i}return(0,m.Z)(r,[{key:"isCommunityResource",value:function(){return this.projectId===yu}}]),r}(Cs),wu=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r,[{key:"isCommunityResource",value:function(){return this.projectId===yu}}],[{key:"getWebSocketProvider",value:function(e,t){return new bu(e,t)}},{key:"getApiKey",value:function(e){var t={apiKey:yu,projectId:yu,projectSecret:null};return null==e||("string"===typeof e?t.projectId=e:null!=e.projectSecret?(gu.assertArgument("string"===typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),gu.assertArgument("string"===typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}},{key:"getUrl",value:function(e,t){var r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"ropsten":r="ropsten.infura.io";break;case"rinkeby":r="rinkeby.infura.io";break;case"kovan":r="kovan.infura.io";break;case"goerli":r="goerli.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-kovan":r="optimism-kovan.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":r="arbitrum-rinkeby.infura.io";break;default:gu.throwError("unsupported network",A.errors.INVALID_ARGUMENT,{argument:"network",value:e})}var n={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:function(e,r){return t.projectId===yu&&Wo(),Promise.resolve(!0)}};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n}}]),r}(Ls),Eu=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r,[{key:"send",value:function(e,t){var r=this,n={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);var i={request:n,resolve:null,reject:null},a=new Promise((function(e,t){i.resolve=e,i.reject=t}));return this._pendingBatch.push(i),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout((function(){var e=r._pendingBatch;r._pendingBatch=null,r._pendingBatchAggregator=null;var t=e.map((function(e){return e.request}));return r.emit("debug",{action:"requestBatch",request:ge(t),provider:r}),Co(r.connection,JSON.stringify(t)).then((function(n){r.emit("debug",{action:"response",request:t,response:n,provider:r}),e.forEach((function(e,t){var r=n[t];if(r.error){var i=new Error(r.error.message);i.code=r.error.code,i.data=r.error.data,e.reject(i)}else e.resolve(r.result)}))}),(function(n){r.emit("debug",{action:"response",error:n,request:t,provider:r}),e.forEach((function(e){e.reject(n)}))}))}),10)),a}}]),r}(Ts),xu=new A(Lo),ku=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r,null,[{key:"getApiKey",value:function(e){return e&&"string"!==typeof e&&xu.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"}},{key:"getUrl",value:function(e,t){xu.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");var r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:xu.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}]),r}(Ls),Tu=new A(Lo),Mu="62e1ad51b37b8e00394bda3b",Au=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,_.Z)(this,r),t.apply(this,arguments)}return(0,m.Z)(r,[{key:"isCommunityResource",value:function(){return this.applicationId===Mu}}],[{key:"getApiKey",value:function(e){var t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return null==e?t.applicationId=Mu:"string"===typeof e?t.applicationId=e:null!=e.applicationSecretKey?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:Tu.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}},{key:"getUrl",value:function(e,t){var r=null;switch(e?e.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:Tu.throwError("unsupported network",A.errors.INVALID_ARGUMENT,{argument:"network",value:e})}var n={headers:{},url:"https://".concat(r,"/v1/lb/").concat(t.applicationId)};return null!=t.applicationSecretKey&&(n.user="",n.password=t.applicationSecretKey),n}}]),r}(Ls),Ou=new A(Lo),Su=1;function Ru(e,t){var r="Web3LegacyFetcher";return function(e,n){var i=this,a={method:e,params:n,id:Su++,jsonrpc:"2.0"};return new Promise((function(e,n){i.emit("debug",{action:"request",fetcher:r,request:ge(a),provider:i}),t(a,(function(t,o){if(t)return i.emit("debug",{action:"response",fetcher:r,error:t,request:a,provider:i}),n(t);if(i.emit("debug",{action:"response",fetcher:r,request:a,response:o,provider:i}),o.error){var s=new Error(o.error.message);return s.code=o.error.code,s.data=o.error.data,n(s)}e(o.result)}))}))}}var Cu=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e,n){var i;(0,_.Z)(this,r),null==e&&Ou.throwArgumentError("missing provider","provider",e);var a=null,o=null,s=null;return"function"===typeof e?(a="unknown:",o=e):(!(a=e.host||e.path||"")&&e.isMetaMask&&(a="metamask"),s=e,e.request?(""===a&&(a="eip-1193:"),o=function(e){return function(t,r){var n=this;null==r&&(r=[]);var i={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:ge(i),provider:this}),e.request(i).then((function(e){return n.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,response:e,provider:n}),e}),(function(e){throw n.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,error:e,provider:n}),e}))}}(e)):e.sendAsync?o=Ru(0,e.sendAsync.bind(e)):e.send?o=Ru(0,e.send.bind(e)):Ou.throwArgumentError("unsupported provider","provider",e),a||(a="unknown:")),i=t.call(this,a,n),ce((0,c.Z)(i),"jsonRpcFetchFunc",o),ce((0,c.Z)(i),"provider",s),i}return(0,m.Z)(r,[{key:"send",value:function(e,t){return this.jsonRpcFetchFunc(e,t)}}]),r}(Ts),Pu=new A(Lo);function Du(e,t){if(null==e&&(e="homestead"),"string"===typeof e){var r=e.match(/^(ws|http)s?:/i);if(r)switch(r[1].toLowerCase()){case"http":case"https":return new Ts(e);case"ws":case"wss":return new Cs(e);default:Pu.throwArgumentError("unsupported URL scheme","network",e)}}var n=Va(e);return n&&n._defaultProvider||Pu.throwError("unsupported getDefaultProvider network",A.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),n._defaultProvider({FallbackProvider:mu,AlchemyProvider:Bs,AnkrProvider:zs,CloudflareProvider:Gs,EtherscanProvider:eu,InfuraProvider:wu,JsonRpcProvider:Ts,NodesmithProvider:ku,PocketProvider:Au,Web3Provider:Cu,IpcProvider:vu},t)}var Iu=new RegExp("^bytes([0-9]+)$"),Lu=new RegExp("^(u?int)([0-9]*)$"),Uu=new RegExp("^(.*)\\[([0-9]*)\\]$"),ju=new A("solidity/5.7.0");function Nu(e,t,r){switch(e){case"address":return r?j(t,32):I(t);case"string":return rt(t);case"bytes":return I(t);case"bool":return t=t?"0x01":"0x00",r?j(t,32):I(t)}var n=e.match(Lu);if(n){var i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||0===i||i>256)&&ju.throwArgumentError("invalid number type","type",e),r&&(i=256),j(t=ne.from(t).toTwos(i),i/8)}if(n=e.match(Iu)){var a=parseInt(n[1]);return(String(a)!==n[1]||0===a||a>32)&&ju.throwArgumentError("invalid bytes type","type",e),I(t).byteLength!==a&&ju.throwArgumentError("invalid value for ".concat(e),"value",t),r?I((t+"0000000000000000000000000000000000000000000000000000000000000000").substring(0,66)):t}if((n=e.match(Uu))&&Array.isArray(t)){var o=n[1];parseInt(n[2]||String(t.length))!=t.length&&ju.throwArgumentError("invalid array length for ".concat(e),"value",t);var s=[];return t.forEach((function(e){s.push(Nu(o,e,!0))})),L(s)}return ju.throwArgumentError("invalid type","type",e)}function Bu(e,t){e.length!=t.length&&ju.throwArgumentError("wrong number of values; expected ${ types.length }","values",t);var r=[];return e.forEach((function(e,n){r.push(Nu(e,t[n]))})),Z(L(r))}function Zu(e,t){return Oe(Bu(e,t))}function Wu(e,t){return Ri(Bu(e,t))}function Fu(e,t){t||(t=function(e){return[parseInt(e,16)]});var r=0,n={};return e.split(",").forEach((function(e){var i=e.split(":");r+=parseInt(i[0],16),n[r]=t(i[1])})),n}function zu(e){var t=0;return e.split(",").map((function(e){var r=e.split("-");return 1===r.length?r[1]="0":""===r[1]&&(r[1]="1"),{l:t+parseInt(r[0],16),h:t=parseInt(r[1],16)}}))}function Ku(e,t){for(var r=0,n=0;n<t.length;n++){var i=t[n];if(e>=(r+=i.l)&&e<=r+i.h&&(e-r)%(i.d||1)===0){if(i.e&&-1!==i.e.indexOf(e-r))continue;return i}}return null}var Hu=zu("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Gu="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((function(e){return parseInt(e,16)})),Vu=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Xu=Fu("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Yu=Fu("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),qu=Fu("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(e){if(e.length%4!==0)throw new Error("bad data");for(var t=[],r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t})),$u=zu("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Ju(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();var t,r=st(e);t=r.map((function(e){if(Gu.indexOf(e)>=0)return[];if(e>=65024&&e<=65039)return[];var t=function(e){var t=Ku(e,Vu);if(t)return[e+t.s];var r=Xu[e];if(r)return r;var n=Yu[e];return n?[e+n[0]]:qu[e]||null}(e);return t||[e]})),r=t.reduce((function(e,t){return t.forEach((function(t){e.push(t)})),e}),[]),(r=st(at(r),qe.NFKC)).forEach((function(e){if(Ku(e,$u))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),r.forEach((function(e){if(Ku(e,Hu))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));var n=at(r);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");return n}function Qu(e){var t=rt(e);if(t.length>31)throw new Error("bytes32 string must be less than 32 bytes");return Z(L([t,Na]).slice(0,32))}function el(e){var t=I(e);if(32!==t.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw new Error("invalid bytes32 string - no null terminator");for(var r=31;0===t[r-1];)r--;return ot(t.slice(0,r))}var tl=new A("units/5.7.0"),rl=["wei","kwei","mwei","gwei","szabo","finney","ether"];function nl(e){var t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&tl.throwArgumentError("invalid value","value",e);var r=t[0],n="";for("-"===r.substring(0,1)&&(n="-",r=r.substring(1));"0"===r.substring(0,1);)r=r.substring(1);""===r&&(r="0");var i="";for(2===t.length&&(i="."+(t[1]||"0"));i.length>2&&"0"===i[i.length-1];)i=i.substring(0,i.length-1);for(var a=[];r.length;){if(r.length<=3){a.unshift(r);break}var o=r.length-3;a.unshift(r.substring(o)),r=r.substring(0,o)}return n+a.join(",")+i}function il(e,t){if("string"===typeof t){var r=rl.indexOf(t);-1!==r&&(t=3*r)}return ti(e,null!=t?t:18)}function al(e,t){if("string"!==typeof e&&tl.throwArgumentError("value must be a string","value",e),"string"===typeof t){var r=rl.indexOf(t);-1!==r&&(t=3*r)}return ri(e,null!=t?t:18)}function ol(e){return il(e,18)}function sl(e){return al(e,18)}var ul="ethers/5.7.0",ll=new A(ul);try{var cl=window;null==cl._ethers&&(cl._ethers=u)}catch(hl){}},3125:function(e,t,r){var n=t;n.utils=r(9046),n.common=r(9684),n.sha=r(9194),n.ripemd=r(6645),n.hmac=r(3609),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},9684:function(e,t,r){"use strict";var n=r(9046),i=r(2325);function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=a,a.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},a.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},a.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,a=8;a<this.padLength;a++)n[i++]=0;return n}},3609:function(e,t,r){"use strict";var n=r(9046),i=r(2325);function a(e,t,r){if(!(this instanceof a))return new a(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=a,a.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},a.prototype.update=function(e,t){return this.inner.update(e,t),this},a.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},6645:function(e,t,r){"use strict";var n=r(9046),i=r(9684),a=n.rotl32,o=n.sum32,s=n.sum32_3,u=n.sum32_4,l=i.BlockHash;function c(){if(!(this instanceof c))return new c;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function f(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function d(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(c,l),t.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],l=this.h[3],c=this.h[4],g=r,y=n,b=i,w=l,E=c,x=0;x<80;x++){var k=o(a(u(r,h(x,n,i,l),e[p[x]+t],f(x)),m[x]),c);r=c,c=l,l=a(i,10),i=n,n=k,k=o(a(u(g,h(79-x,y,b,w),e[_[x]+t],d(x)),v[x]),E),g=E,E=w,w=a(b,10),b=y,y=k}k=s(this.h[1],i,w),this.h[1]=s(this.h[2],l,E),this.h[2]=s(this.h[3],c,g),this.h[3]=s(this.h[4],r,y),this.h[4]=s(this.h[0],n,b),this.h[0]=k},c.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},9194:function(e,t,r){"use strict";t.sha1=r(7361),t.sha224=r(7753),t.sha256=r(6966),t.sha384=r(1233),t.sha512=r(9063)},7361:function(e,t,r){"use strict";var n=r(9046),i=r(9684),a=r(4343),o=n.rotl32,s=n.sum32,u=n.sum32_5,l=a.ft_1,c=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(f,c),e.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=o(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],a=this.h[1],c=this.h[2],f=this.h[3],d=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),_=u(o(i,5),l(p,a,c,f),d,r[n],h[p]);d=f,f=c,c=o(a,30),a=i,i=_}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],a),this.h[2]=s(this.h[2],c),this.h[3]=s(this.h[3],f),this.h[4]=s(this.h[4],d)},f.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},7753:function(e,t,r){"use strict";var n=r(9046),i=r(6966);function a(){if(!(this instanceof a))return new a;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(a,i),e.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},6966:function(e,t,r){"use strict";var n=r(9046),i=r(9684),a=r(4343),o=r(2325),s=n.sum32,u=n.sum32_4,l=n.sum32_5,c=a.ch32,h=a.maj32,f=a.s0_256,d=a.s1_256,p=a.g0_256,_=a.g1_256,m=i.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}n.inherits(g,m),e.exports=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=u(_(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],a=this.h[1],m=this.h[2],v=this.h[3],g=this.h[4],y=this.h[5],b=this.h[6],w=this.h[7];for(o(this.k.length===r.length),n=0;n<r.length;n++){var E=l(w,d(g),c(g,y,b),this.k[n],r[n]),x=s(f(i),h(i,a,m));w=b,b=y,y=g,g=s(v,E),v=m,m=a,a=i,i=s(E,x)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],a),this.h[2]=s(this.h[2],m),this.h[3]=s(this.h[3],v),this.h[4]=s(this.h[4],g),this.h[5]=s(this.h[5],y),this.h[6]=s(this.h[6],b),this.h[7]=s(this.h[7],w)},g.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},1233:function(e,t,r){"use strict";var n=r(9046),i=r(9063);function a(){if(!(this instanceof a))return new a;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(a,i),e.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},9063:function(e,t,r){"use strict";var n=r(9046),i=r(9684),a=r(2325),o=n.rotr64_hi,s=n.rotr64_lo,u=n.shr64_hi,l=n.shr64_lo,c=n.sum64,h=n.sum64_hi,f=n.sum64_lo,d=n.sum64_4_hi,p=n.sum64_4_lo,_=n.sum64_5_hi,m=n.sum64_5_lo,v=i.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function y(){if(!(this instanceof y))return new y;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}function b(e,t,r,n,i){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function w(e,t,r,n,i,a){var o=t&n^~t&a;return o<0&&(o+=4294967296),o}function E(e,t,r,n,i){var a=e&r^e&i^r&i;return a<0&&(a+=4294967296),a}function x(e,t,r,n,i,a){var o=t&n^t&a^n&a;return o<0&&(o+=4294967296),o}function k(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}function T(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function M(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}function A(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function O(e,t){var r=o(e,t,1)^o(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function S(e,t){var r=s(e,t,1)^s(e,t,8)^l(e,t,7);return r<0&&(r+=4294967296),r}function R(e,t){var r=o(e,t,19)^o(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}function C(e,t){var r=s(e,t,19)^s(t,e,29)^l(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(y,v),e.exports=y,y.blockSize=1024,y.outSize=512,y.hmacStrength=192,y.padLength=128,y.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=R(r[n-4],r[n-3]),a=C(r[n-4],r[n-3]),o=r[n-14],s=r[n-13],u=O(r[n-30],r[n-29]),l=S(r[n-30],r[n-29]),c=r[n-32],h=r[n-31];r[n]=d(i,a,o,s,u,l,c,h),r[n+1]=p(i,a,o,s,u,l,c,h)}},y.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],u=this.h[4],l=this.h[5],d=this.h[6],p=this.h[7],v=this.h[8],g=this.h[9],y=this.h[10],O=this.h[11],S=this.h[12],R=this.h[13],C=this.h[14],P=this.h[15];a(this.k.length===r.length);for(var D=0;D<r.length;D+=2){var I=C,L=P,U=M(v,g),j=A(v,g),N=b(v,g,y,O,S),B=w(v,g,y,O,S,R),Z=this.k[D],W=this.k[D+1],F=r[D],z=r[D+1],K=_(I,L,U,j,N,B,Z,W,F,z),H=m(I,L,U,j,N,B,Z,W,F,z);I=k(n,i),L=T(n,i),U=E(n,i,o,s,u),j=x(n,i,o,s,u,l);var G=h(I,L,U,j),V=f(I,L,U,j);C=S,P=R,S=y,R=O,y=v,O=g,v=h(d,p,K,H),g=f(p,p,K,H),d=u,p=l,u=o,l=s,o=n,s=i,n=h(K,H,G,V),i=f(K,H,G,V)}c(this.h,0,n,i),c(this.h,2,o,s),c(this.h,4,u,l),c(this.h,6,d,p),c(this.h,8,v,g),c(this.h,10,y,O),c(this.h,12,S,R),c(this.h,14,C,P)},y.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},4343:function(e,t,r){"use strict";var n=r(9046).rotr32;function i(e,t,r){return e&t^~e&r}function a(e,t,r){return e&t^e&r^t&r}function o(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?o(t,r,n):2===e?a(t,r,n):void 0},t.ch32=i,t.maj32=a,t.p32=o,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},9046:function(e,t,r){"use strict";var n=r(2325),i=r(2534);function a(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function u(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):a(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=s(e[r].toString(16));return t},t.htonl=o,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=o(i)),r+=u(i.toString(16))}return r},t.zero2=s,t.zero8=u,t.join32=function(e,t,r,i){var a=r-t;n(a%4===0);for(var o=new Array(a/4),s=0,u=t;s<o.length;s++,u+=4){var l;l="big"===i?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],o[s]=l>>>0}return o},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var a=e[n];"big"===t?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=255&a):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=255&a)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],a=n+e[t+1]>>>0,o=(a<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=a},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,a,o,s){var u=0,l=t;return u+=(l=l+n>>>0)<t?1:0,u+=(l=l+a>>>0)<a?1:0,e+r+i+o+(u+=(l=l+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,a,o,s){return t+n+a+s>>>0},t.sum64_5_hi=function(e,t,r,n,i,a,o,s,u,l){var c=0,h=t;return c+=(h=h+n>>>0)<t?1:0,c+=(h=h+a>>>0)<a?1:0,c+=(h=h+s>>>0)<s?1:0,e+r+i+o+u+(c+=(h=h+l>>>0)<l?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,a,o,s,u,l){return t+n+a+s+l>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},4038:function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,l=u>>1,c=-7,h=r?i-1:0,f=r?-1:1,d=e[t+h];for(h+=f,a=d&(1<<-c)-1,d>>=-c,c+=s;c>0;a=256*a+e[t+h],h+=f,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+e[t+h],h+=f,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),a-=l}return(d?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,p=n?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(o++,u/=2),o+h>=c?(s=0,o=c):o+h>=1?(s=(t*u-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[r+d]=255&o,d+=p,o/=256,l-=8);e[r+d-p]|=128*_}},2534:function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},7898:function(e,t,r){var n,i=r(1426);!function(){"use strict";var a="input is invalid type",o="object"===typeof window,s=o?window:{};s.JS_SHA3_NO_WINDOW&&(o=!1);var u=!o&&"object"===typeof self;!s.JS_SHA3_NO_NODE_JS&&"object"===typeof i&&i.versions&&i.versions.node?s=r.g:u&&(s=self);var l=!s.JS_SHA3_NO_COMMON_JS&&e.exports,c=r.amdO,h=!s.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,f="0123456789abcdef".split(""),d=[4,1024,262144,67108864],p=[0,8,16,24],_=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],m=[224,256,384,512],v=[128,256],g=["hex","buffer","arrayBuffer","array","digest"],y={128:168,256:136};!s.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!h||!s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var b=function(e,t,r){return function(n){return new L(e,t,e).update(n)[r]()}},w=function(e,t,r){return function(n,i){return new L(e,t,i).update(n)[r]()}},E=function(e,t,r){return function(t,n,i,a){return A["cshake"+e].update(t,n,i,a)[r]()}},x=function(e,t,r){return function(t,n,i,a){return A["kmac"+e].update(t,n,i,a)[r]()}},k=function(e,t,r,n){for(var i=0;i<g.length;++i){var a=g[i];e[a]=t(r,n,a)}return e},T=function(e,t){var r=b(e,t,"hex");return r.create=function(){return new L(e,t,e)},r.update=function(e){return r.create().update(e)},k(r,b,e,t)},M=[{name:"keccak",padding:[1,256,65536,16777216],bits:m,createMethod:T},{name:"sha3",padding:[6,1536,393216,100663296],bits:m,createMethod:T},{name:"shake",padding:[31,7936,2031616,520093696],bits:v,createMethod:function(e,t){var r=w(e,t,"hex");return r.create=function(r){return new L(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},k(r,w,e,t)}},{name:"cshake",padding:d,bits:v,createMethod:function(e,t){var r=y[e],n=E(e,0,"hex");return n.create=function(n,i,a){return i||a?new L(e,t,n).bytepad([i,a],r):A["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},k(n,E,e,t)}},{name:"kmac",padding:d,bits:v,createMethod:function(e,t){var r=y[e],n=x(e,0,"hex");return n.create=function(n,i,a){return new U(e,t,i).bytepad(["KMAC",a],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},k(n,x,e,t)}}],A={},O=[],S=0;S<M.length;++S)for(var R=M[S],C=R.bits,P=0;P<C.length;++P){var D=R.name+"_"+C[P];if(O.push(D),A[D]=R.createMethod(C[P],R.padding),"sha3"!==R.name){var I=R.name+C[P];O.push(I),A[I]=A[D]}}function L(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function U(e,t,r){L.call(this,e,t,r)}L.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(a);if(null===e)throw new Error(a);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!h||!ArrayBuffer.isView(e)))throw new Error(a);t=!0}for(var n,i,o=this.blocks,s=this.byteCount,u=e.length,l=this.blockCount,c=0,f=this.s;c<u;){if(this.reset)for(this.reset=!1,o[0]=this.block,n=1;n<l+1;++n)o[n]=0;if(t)for(n=this.start;c<u&&n<s;++c)o[n>>2]|=e[c]<<p[3&n++];else for(n=this.start;c<u&&n<s;++c)(i=e.charCodeAt(c))<128?o[n>>2]|=i<<p[3&n++]:i<2048?(o[n>>2]|=(192|i>>6)<<p[3&n++],o[n>>2]|=(128|63&i)<<p[3&n++]):i<55296||i>=57344?(o[n>>2]|=(224|i>>12)<<p[3&n++],o[n>>2]|=(128|i>>6&63)<<p[3&n++],o[n>>2]|=(128|63&i)<<p[3&n++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++c)),o[n>>2]|=(240|i>>18)<<p[3&n++],o[n>>2]|=(128|i>>12&63)<<p[3&n++],o[n>>2]|=(128|i>>6&63)<<p[3&n++],o[n>>2]|=(128|63&i)<<p[3&n++]);if(this.lastByteIndex=n,n>=s){for(this.start=n-s,this.block=o[l],n=0;n<l;++n)f[n]^=o[n];j(f),this.reset=!0}else this.start=n}return this},L.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},L.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(a);if(null===e)throw new Error(a);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!h||!ArrayBuffer.isView(e)))throw new Error(a);t=!0}var n=0,i=e.length;if(t)n=i;else for(var o=0;o<e.length;++o){var s=e.charCodeAt(o);s<128?n+=1:s<2048?n+=2:s<55296||s>=57344?n+=3:(s=65536+((1023&s)<<10|1023&e.charCodeAt(++o)),n+=4)}return n+=this.encode(8*n),this.update(e),n},L.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,a=[];return a.length=i,this.update(a),this},L.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];j(n)}},L.prototype.toString=L.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,a=0,o=0,s="";o<n;){for(a=0;a<t&&o<n;++a,++o)e=r[a],s+=f[e>>4&15]+f[15&e]+f[e>>12&15]+f[e>>8&15]+f[e>>20&15]+f[e>>16&15]+f[e>>28&15]+f[e>>24&15];o%t===0&&(j(r),a=0)}return i&&(e=r[a],s+=f[e>>4&15]+f[15&e],i>1&&(s+=f[e>>12&15]+f[e>>8&15]),i>2&&(s+=f[e>>20&15]+f[e>>16&15])),s},L.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,a=0,o=0,s=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(s);for(var u=new Uint32Array(e);o<n;){for(a=0;a<t&&o<n;++a,++o)u[o]=r[a];o%t===0&&j(r)}return i&&(u[a]=r[a],e=e.slice(0,s)),e},L.prototype.buffer=L.prototype.arrayBuffer,L.prototype.digest=L.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,a=this.extraBytes,o=0,s=0,u=[];s<i;){for(o=0;o<r&&s<i;++o,++s)e=s<<2,t=n[o],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;s%r===0&&j(n)}return a&&(e=s<<2,t=n[o],u[e]=255&t,a>1&&(u[e+1]=t>>8&255),a>2&&(u[e+2]=t>>16&255)),u},U.prototype=new L,U.prototype.finalize=function(){return this.encode(this.outputBits,!0),L.prototype.finalize.call(this)};var j=function(e){var t,r,n,i,a,o,s,u,l,c,h,f,d,p,m,v,g,y,b,w,E,x,k,T,M,A,O,S,R,C,P,D,I,L,U,j,N,B,Z,W,F,z,K,H,G,V,X,Y,q,$,J,Q,ee,te,re,ne,ie,ae,oe,se,ue,le,ce;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],l=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],t=(f=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|s>>>31),r=(d=e[9]^e[19]^e[29]^e[39]^e[49])^(s<<1|o>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(u<<1|l>>>31),r=a^(l<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=o^(c<<1|h>>>31),r=s^(h<<1|c>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(f<<1|d>>>31),r=l^(d<<1|f>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=c^(i<<1|a>>>31),r=h^(a<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,p=e[0],m=e[1],V=e[11]<<4|e[10]>>>28,X=e[10]<<4|e[11]>>>28,S=e[20]<<3|e[21]>>>29,R=e[21]<<3|e[20]>>>29,se=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,z=e[40]<<18|e[41]>>>14,K=e[41]<<18|e[40]>>>14,L=e[2]<<1|e[3]>>>31,U=e[3]<<1|e[2]>>>31,v=e[13]<<12|e[12]>>>20,g=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,q=e[23]<<10|e[22]>>>22,C=e[33]<<13|e[32]>>>19,P=e[32]<<13|e[33]>>>19,le=e[42]<<2|e[43]>>>30,ce=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,j=e[14]<<6|e[15]>>>26,N=e[15]<<6|e[14]>>>26,y=e[25]<<11|e[24]>>>21,b=e[24]<<11|e[25]>>>21,$=e[34]<<15|e[35]>>>17,J=e[35]<<15|e[34]>>>17,D=e[45]<<29|e[44]>>>3,I=e[44]<<29|e[45]>>>3,T=e[6]<<28|e[7]>>>4,M=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,B=e[26]<<25|e[27]>>>7,Z=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,E=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,H=e[8]<<27|e[9]>>>5,G=e[9]<<27|e[8]>>>5,A=e[18]<<20|e[19]>>>12,O=e[19]<<20|e[18]>>>12,ae=e[29]<<7|e[28]>>>25,oe=e[28]<<7|e[29]>>>25,W=e[38]<<8|e[39]>>>24,F=e[39]<<8|e[38]>>>24,x=e[48]<<14|e[49]>>>18,k=e[49]<<14|e[48]>>>18,e[0]=p^~v&y,e[1]=m^~g&b,e[10]=T^~A&S,e[11]=M^~O&R,e[20]=L^~j&B,e[21]=U^~N&Z,e[30]=H^~V&Y,e[31]=G^~X&q,e[40]=te^~ne&ae,e[41]=re^~ie&oe,e[2]=v^~y&w,e[3]=g^~b&E,e[12]=A^~S&C,e[13]=O^~R&P,e[22]=j^~B&W,e[23]=N^~Z&F,e[32]=V^~Y&$,e[33]=X^~q&J,e[42]=ne^~ae&se,e[43]=ie^~oe&ue,e[4]=y^~w&x,e[5]=b^~E&k,e[14]=S^~C&D,e[15]=R^~P&I,e[24]=B^~W&z,e[25]=Z^~F&K,e[34]=Y^~$&Q,e[35]=q^~J&ee,e[44]=ae^~se&le,e[45]=oe^~ue&ce,e[6]=w^~x&p,e[7]=E^~k&m,e[16]=C^~D&T,e[17]=P^~I&M,e[26]=W^~z&L,e[27]=F^~K&U,e[36]=$^~Q&H,e[37]=J^~ee&G,e[46]=se^~le&te,e[47]=ue^~ce&re,e[8]=x^~p&v,e[9]=k^~m&g,e[18]=D^~T&A,e[19]=I^~M&O,e[28]=z^~L&j,e[29]=K^~U&N,e[38]=Q^~H&V,e[39]=ee^~G&X,e[48]=le^~te&ne,e[49]=ce^~re&ie,e[0]^=_[n],e[1]^=_[n+1]};if(l)e.exports=A;else{for(S=0;S<O.length;++S)s[O[S]]=A[O[S]];c&&(void 0===(n=function(){return A}.call(t,r,t,e))||(e.exports=n))}}()},2325:function(e){function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},1426:function(e){var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,u=[],l=!1,c=-1;function h(){l&&s&&(l=!1,s.length?u=s.concat(u):c=-1,u.length&&f())}function f(){if(!l){var e=o(h);l=!0;for(var t=u.length;t;){for(s=u,u=[];++c<t;)s&&s[c].run();c=-1,t=u.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new d(e,t)),1!==u.length||l||o(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},4463:function(e,t,r){"use strict";var n=r(2791),i=r(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function _(e,t,r,n,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new _(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new _(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new _(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new _(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new _(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new _(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new _(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new _(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new _(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function y(e,t,r,n){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,g);m[t]=new _(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,g);m[t]=new _(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,g);m[t]=new _(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new _(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new _(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var U,j=Object.assign;function N(e){if(void 0===U)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var B=!1;function Z(e,t){if(!e||B)return"";B=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=n.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?N(e):""}function W(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=Z(e.type,!1);case 11:return e=Z(e.type.render,!1);case 1:return e=Z(e.type,!0);default:return""}}function F(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case T:return"Profiler";case k:return"StrictMode";case S:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case M:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:F(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return F(e(t))}catch(r){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=H(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var r=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function q(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=K(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function J(e,t){$(e,t);var r=K(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&X(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+K(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(te(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:K(r)}}function ae(e,t){var r=K(t.value),n=K(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function _e(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=_e(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,xe=null,ke=null;function Te(e){if(e=yi(e)){if("function"!==typeof Ee)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function Me(e){xe?ke?ke.push(e):ke=[e]:xe=e}function Ae(){if(xe){var e=xe,t=ke;if(ke=xe=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Oe(e,t){return e(t)}function Se(){}var Re=!1;function Ce(e,t,r){if(Re)return e(t,r);Re=!0;try{return Oe(e,t,r)}finally{Re=!1,(null!==xe||null!==ke)&&(Se(),Ae())}}function Pe(e,t){var r=e.stateNode;if(null===r)return null;var n=wi(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var De=!1;if(c)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){De=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ce){De=!1}function Le(e,t,r,n,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(c){this.onError(c)}}var Ue=!1,je=null,Ne=!1,Be=null,Ze={onError:function(e){Ue=!0,je=e}};function We(e,t,r,n,i,a,o,s,u){Ue=!1,je=null,Le.apply(Ze,arguments)}function Fe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Fe(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Fe(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Ke(i),e;if(o===n)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,u=i.child;u;){if(u===r){s=!0,r=i,n=o;break}if(u===n){s=!0,n=i,r=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===r){s=!0,r=o,n=i;break}if(u===n){s=!0,n=o,r=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ve=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,qe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Qe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,rt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&r;if(0!==o){var s=o&~i;0!==s?n=ht(s):0!==(a&=o)&&(n=ht(a))}else 0!==(o=r&~i)?n=ht(o):0!==a&&(n=ht(a));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&i)&&((i=n&-n)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-ot(t)),n|=e[r],t&=~i;return n}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function _t(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=r}function gt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,xt,kt,Tt,Mt=!1,At=[],Ot=null,St=null,Rt=null,Ct=new Map,Pt=new Map,Dt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":St=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ut(e,t,r,n,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&Et(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var r=Fe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=ze(r)))return e.blockedOn=t,void Tt(e.priority,(function(){xt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=yi(r))&&Et(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);be=n,r.target.dispatchEvent(n),be=null,t.shift()}return!0}function Bt(e,t,r){Nt(e)&&r.delete(t)}function Zt(){Mt=!1,null!==Ot&&Nt(Ot)&&(Ot=null),null!==St&&Nt(St)&&(St=null),null!==Rt&&Nt(Rt)&&(Rt=null),Ct.forEach(Bt),Pt.forEach(Bt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,Mt||(Mt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Zt)))}function Ft(e){function t(t){return Wt(t,e)}if(0<At.length){Wt(At[0],e);for(var r=1;r<At.length;r++){var n=At[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Ot&&Wt(Ot,e),null!==St&&Wt(St,e),null!==Rt&&Wt(Rt,e),Ct.forEach(t),Pt.forEach(t),r=0;r<Dt.length;r++)(n=Dt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Dt.length&&null===(r=Dt[0]).blockedOn;)jt(r),null===r.blockedOn&&Dt.shift()}var zt=b.ReactCurrentBatchConfig,Kt=!0;function Ht(e,t,r,n){var i=yt,a=zt.transition;zt.transition=null;try{yt=1,Vt(e,t,r,n)}finally{yt=i,zt.transition=a}}function Gt(e,t,r,n){var i=yt,a=zt.transition;zt.transition=null;try{yt=4,Vt(e,t,r,n)}finally{yt=i,zt.transition=a}}function Vt(e,t,r,n){if(Kt){var i=Yt(e,t,r,n);if(null===i)Kn(e,t,n,Xt,r),Lt(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return Ot=Ut(Ot,e,t,r,n,i),!0;case"dragenter":return St=Ut(St,e,t,r,n,i),!0;case"mouseover":return Rt=Ut(Rt,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ct.set(a,Ut(Ct.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Ut(Pt.get(a)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(Lt(e,n),4&t&&-1<It.indexOf(e)){for(;null!==i;){var a=yi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,r,n))&&Kn(e,t,n,Xt,r),a===i)break;i=a}null!==i&&n.stopPropagation()}else Kn(e,t,n,null,r)}}var Xt=null;function Yt(e,t,r,n){if(Xt=null,null!==(e=gi(e=we(n))))if(null===(t=Fe(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Qt=null;function er(){if(Qt)return Qt;var e,t,r=Jt,n=r.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<n&&r[e]===i[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===i[a-t];t++);return Qt=i.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ir(e){function t(t,r,n,i,a){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ar,or,sr,ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lr=ir(ur),cr=j({},ur,{view:0,detail:0}),hr=ir(cr),fr=j({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&"mousemove"===e.type?(ar=e.screenX-sr.screenX,or=e.screenY-sr.screenY):or=ar=0,sr=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:or}}),dr=ir(fr),pr=ir(j({},fr,{dataTransfer:0})),_r=ir(j({},cr,{relatedTarget:0})),mr=ir(j({},ur,{animationName:0,elapsedTime:0,pseudoElement:0})),vr=j({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gr=ir(vr),yr=ir(j({},ur,{data:0})),br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Er[e])&&!!t[e]}function kr(){return xr}var Tr=j({},cr,{key:function(e){if(e.key){var t=br[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mr=ir(Tr),Ar=ir(j({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Or=ir(j({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr})),Sr=ir(j({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rr=j({},fr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cr=ir(Rr),Pr=[9,13,27,32],Dr=c&&"CompositionEvent"in window,Ir=null;c&&"documentMode"in document&&(Ir=document.documentMode);var Lr=c&&"TextEvent"in window&&!Ir,Ur=c&&(!Dr||Ir&&8<Ir&&11>=Ir),jr=String.fromCharCode(32),Nr=!1;function Br(e,t){switch(e){case"keyup":return-1!==Pr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wr=!1;var Fr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fr[e.type]:"textarea"===t}function Kr(e,t,r,n){Me(n),0<(t=Gn(t,"onChange")).length&&(r=new lr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hr=null,Gr=null;function Vr(e){Nn(e,0)}function Xr(e){if(V(bi(e)))return e}function Yr(e,t){if("change"===e)return t}var qr=!1;if(c){var $r;if(c){var Jr="oninput"in document;if(!Jr){var Qr=document.createElement("div");Qr.setAttribute("oninput","return;"),Jr="function"===typeof Qr.oninput}$r=Jr}else $r=!1;qr=$r&&(!document.documentMode||9<document.documentMode)}function en(){Hr&&(Hr.detachEvent("onpropertychange",tn),Gr=Hr=null)}function tn(e){if("value"===e.propertyName&&Xr(Gr)){var t=[];Kr(t,Gr,e,we(e)),Ce(Vr,t)}}function rn(e,t,r){"focusin"===e?(en(),Gr=r,(Hr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xr(Gr)}function an(e,t){if("click"===e)return Xr(t)}function on(e,t){if("input"===e||"change"===e)return Xr(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function un(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!h.call(t,i)||!sn(e[i],t[i]))return!1}return!0}function ln(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cn(e,t){var r,n=ln(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ln(n)}}function hn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fn(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=X((e=t.contentWindow).document)}return t}function dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=fn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hn(r.ownerDocument.documentElement,r)){if(null!==n&&dn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=void 0===n.end?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=cn(r,a);var o=cn(r,n);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _n=c&&"documentMode"in document&&11>=document.documentMode,mn=null,vn=null,gn=null,yn=!1;function bn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;yn||null==mn||mn!==X(n)||("selectionStart"in(n=mn)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},gn&&un(gn,n)||(gn=n,0<(n=Gn(vn,"onSelect")).length&&(t=new lr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=mn)))}function wn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var En={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},xn={},kn={};function Tn(e){if(xn[e])return xn[e];if(!En[e])return e;var t,r=En[e];for(t in r)if(r.hasOwnProperty(t)&&t in kn)return xn[e]=r[t];return e}c&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);var Mn=Tn("animationend"),An=Tn("animationiteration"),On=Tn("animationstart"),Sn=Tn("transitionend"),Rn=new Map,Cn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){Rn.set(e,t),u(t,[e])}for(var Dn=0;Dn<Cn.length;Dn++){var In=Cn[Dn];Pn(In.toLowerCase(),"on"+(In[0].toUpperCase()+In.slice(1)))}Pn(Mn,"onAnimationEnd"),Pn(An,"onAnimationIteration"),Pn(On,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(Sn,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ln="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Un=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ln));function jn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,i,o,s,u,l){if(We.apply(this,arguments),Ue){if(!Ue)throw Error(a(198));var c=je;Ue=!1,je=null,Ne||(Ne=!0,Be=c)}}(n,t,void 0,e),e.currentTarget=null}function Nn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jn(i,s,l),a=u}else for(o=0;o<n.length;o++){if(u=(s=n[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jn(i,s,l),a=u}}}if(Ne)throw e=Be,Ne=!1,Be=null,e}function Bn(e,t){var r=t[_i];void 0===r&&(r=t[_i]=new Set);var n=e+"__bubble";r.has(n)||(zn(t,e,2,!1),r.add(n))}function Zn(e,t,r){var n=0;t&&(n|=4),zn(r,e,n,t)}var Wn="_reactListening"+Math.random().toString(36).slice(2);function Fn(e){if(!e[Wn]){e[Wn]=!0,o.forEach((function(t){"selectionchange"!==t&&(Un.has(t)||Zn(t,!1,e),Zn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wn]||(t[Wn]=!0,Zn("selectionchange",!1,t))}}function zn(e,t,r,n){switch(qt(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=Vt}r=i.bind(null,t,r,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Kn(e,t,r,n,i){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var s=n.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=n.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){n=a=o;continue e}s=s.parentNode}}n=n.return}Ce((function(){var n=a,i=we(r),o=[];e:{var s=Rn.get(e);if(void 0!==s){var u=lr,l=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":u=Mr;break;case"focusin":l="focus",u=_r;break;case"focusout":l="blur",u=_r;break;case"beforeblur":case"afterblur":u=_r;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Or;break;case Mn:case An:case On:u=mr;break;case Sn:u=Sr;break;case"scroll":u=hr;break;case"wheel":u=Cr;break;case"copy":case"cut":case"paste":u=gr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Ar}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=n;null!==p;){var _=(d=p).stateNode;if(5===d.tag&&null!==_&&(d=_,null!==f&&(null!=(_=Pe(p,f))&&c.push(Hn(p,_,d)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,r,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===be||!(l=r.relatedTarget||r.fromElement)||!gi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=n,null!==(l=(l=r.relatedTarget||r.toElement)?gi(l):null)&&(l!==(h=Fe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=n),u!==l)){if(c=dr,_="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Ar,_="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:bi(u),d=null==l?s:bi(l),(s=new c(_,p+"leave",u,r,i)).target=h,s.relatedTarget=d,_=null,gi(i)===n&&((c=new c(f,p+"enter",l,r,i)).target=d,c.relatedTarget=h,_=c),h=_,u&&l)e:{for(f=l,p=0,d=c=u;d;d=Vn(d))p++;for(d=0,_=f;_;_=Vn(_))d++;for(;0<p-d;)c=Vn(c),p--;for(;0<d-p;)f=Vn(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Vn(c),f=Vn(f)}c=null}else c=null;null!==u&&Xn(o,s,u,c,!1),null!==l&&null!==h&&Xn(o,h,l,c,!0)}if("select"===(u=(s=n?bi(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yr;else if(zr(s))if(qr)m=on;else{m=nn;var v=rn}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=an);switch(m&&(m=m(e,n))?Kr(o,m,r,i):(v&&v(e,s,n),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=n?bi(n):window,e){case"focusin":(zr(v)||"true"===v.contentEditable)&&(mn=v,vn=n,gn=null);break;case"focusout":gn=vn=mn=null;break;case"mousedown":yn=!0;break;case"contextmenu":case"mouseup":case"dragend":yn=!1,bn(o,r,i);break;case"selectionchange":if(_n)break;case"keydown":case"keyup":bn(o,r,i)}var g;if(Dr)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Wr?Br(e,r)&&(y="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(y="onCompositionStart");y&&(Ur&&"ko"!==r.locale&&(Wr||"onCompositionStart"!==y?"onCompositionEnd"===y&&Wr&&(g=er()):(Jt="value"in($t=i)?$t.value:$t.textContent,Wr=!0)),0<(v=Gn(n,y)).length&&(y=new yr(y,e,null,r,i),o.push({event:y,listeners:v}),g?y.data=g:null!==(g=Zr(r))&&(y.data=g))),(g=Lr?function(e,t){switch(e){case"compositionend":return Zr(t);case"keypress":return 32!==t.which?null:(Nr=!0,jr);case"textInput":return(e=t.data)===jr&&Nr?null:e;default:return null}}(e,r):function(e,t){if(Wr)return"compositionend"===e||!Dr&&Br(e,t)?(e=er(),Qt=Jt=$t=null,Wr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ur&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Gn(n,"onBeforeInput")).length&&(i=new yr("onBeforeInput","beforeinput",null,r,i),o.push({event:i,listeners:n}),i.data=g))}Nn(o,t)}))}function Hn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gn(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,r))&&n.unshift(Hn(e,a,i)),null!=(a=Pe(e,t))&&n.push(Hn(e,a,i))),e=e.return}return n}function Vn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xn(e,t,r,n,i){for(var a=t._reactName,o=[];null!==r&&r!==n;){var s=r,u=s.alternate,l=s.stateNode;if(null!==u&&u===n)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Pe(r,a))&&o.unshift(Hn(r,u,s)):i||null!=(u=Pe(r,a))&&o.push(Hn(r,u,s))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var Yn=/\r\n?/g,qn=/\u0000|\uFFFD/g;function $n(e){return("string"===typeof e?e:""+e).replace(Yn,"\n").replace(qn,"")}function Jn(e,t,r){if(t=$n(t),$n(e)!==t&&r)throw Error(a(425))}function Qn(){}var ei=null,ti=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ni="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ni;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return e.removeChild(i),void Ft(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);Ft(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,_i="__reactEvents$"+hi,mi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function gi(e){var t=e[fi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pi]||r[fi]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ci(e);null!==e;){if(r=e[fi])return r;e=ci(e)}return t}r=(e=r).parentNode}return null}function yi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var Ei=[],xi=-1;function ki(e){return{current:e}}function Ti(e){0>xi||(e.current=Ei[xi],Ei[xi]=null,xi--)}function Mi(e,t){xi++,Ei[xi]=e.current,e.current=t}var Ai={},Oi=ki(Ai),Si=ki(!1),Ri=Ai;function Ci(e,t){var r=e.type.contextTypes;if(!r)return Ai;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in r)a[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ti(Si),Ti(Oi)}function Ii(e,t,r){if(Oi.current!==Ai)throw Error(a(168));Mi(Oi,t),Mi(Si,r)}function Li(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return j({},r,n)}function Ui(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Ri=Oi.current,Mi(Oi,e),Mi(Si,Si.current),!0}function ji(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=Li(e,t,Ri),n.__reactInternalMemoizedMergedChildContext=e,Ti(Si),Ti(Oi),Mi(Oi,e)):Ti(Si),Mi(Si,r)}var Ni=null,Bi=!1,Zi=!1;function Wi(e){null===Ni?Ni=[e]:Ni.push(e)}function Fi(){if(!Zi&&null!==Ni){Zi=!0;var e=0,t=yt;try{var r=Ni;for(yt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Ni=null,Bi=!1}catch(i){throw null!==Ni&&(Ni=Ni.slice(e+1)),Ve(Qe,Fi),i}finally{yt=t,Zi=!1}}return null}var zi=[],Ki=0,Hi=null,Gi=0,Vi=[],Xi=0,Yi=null,qi=1,$i="";function Ji(e,t){zi[Ki++]=Gi,zi[Ki++]=Hi,Hi=e,Gi=t}function Qi(e,t,r){Vi[Xi++]=qi,Vi[Xi++]=$i,Vi[Xi++]=Yi,Yi=e;var n=qi;e=$i;var i=32-ot(n)-1;n&=~(1<<i),r+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,qi=1<<32-ot(t)+i|r<<i|n,$i=a+e}else qi=1<<a|r<<i|n,$i=e}function ea(e){null!==e.return&&(Ji(e,1),Qi(e,1,0))}function ta(e){for(;e===Hi;)Hi=zi[--Ki],zi[Ki]=null,Gi=zi[--Ki],zi[Ki]=null;for(;e===Yi;)Yi=Vi[--Xi],Vi[Xi]=null,$i=Vi[--Xi],Vi[Xi]=null,qi=Vi[--Xi],Vi[Xi]=null}var ra=null,na=null,ia=!1,aa=null;function oa(e,t){var r=Cl(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function sa(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,na=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,na=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Yi?{id:qi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Cl(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ra=e,na=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=na;if(t){var r=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(r.nextSibling);var n=ra;t&&sa(e,t)?oa(n,r):(e.flags=-4097&e.flags|2,ia=!1,ra=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,ra=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function ha(e){if(e!==ra)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=na)){if(ua(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){na=li(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}na=null}}else na=ra?li(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=na;e;)e=li(e.nextSibling)}function da(){na=ra=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var _a=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var r in t=j({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var va=ki(null),ga=null,ya=null,ba=null;function wa(){ba=ya=ga=null}function Ea(e){var t=va.current;Ti(va),e._currentValue=t}function xa(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ka(e,t){ga=e,ba=ya=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ya){if(null===ga)throw Error(a(308));ya=e,ga.dependencies={lanes:0,firstContext:e}}else ya=ya.next=e;return t}var Ma=null;function Aa(e){null===Ma?Ma=[e]:Ma.push(e)}function Oa(e,t,r,n){var i=t.interleaved;return null===i?(r.next=r,Aa(t)):(r.next=i.next,i.next=r),t.interleaved=r,Sa(e,n)}function Sa(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ra=!1;function Ca(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ia(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Ou)){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Sa(e,r)}return null===(i=n.interleaved)?(t.next=t,Aa(n)):(t.next=i.next,i.next=t),n.interleaved=t,Sa(e,r)}function La(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,gt(e,r)}}function Ua(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?i=a=o:a=a.next=o,r=r.next}while(null!==r);null===a?i=a=t:a=a.next=t}else i=a=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ja(e,t,r,n){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var h=i.baseState;for(o=0,c=l=u=null,s=a;;){var f=s.lane,d=s.eventTime;if((n&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,_=s;switch(f=t,d=r,_.tag){case 1:if("function"===typeof(p=_.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=_.payload)?p.call(d,h,f):p)||void 0===f)break e;h=j({},h,f);break e;case 2:Ra=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=h):c=c.next=d,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Uu|=o,e.lanes=o,e.memoizedState=h}}function Na(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(a(191,i));i.call(n)}}}var Ba=(new n.Component).refs;function Za(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:j({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var Wa={isMounted:function(e){return!!(e=e._reactInternals)&&Fe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=el(),i=tl(e),a=Da(n,i);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Ia(e,a,i))&&(rl(t,e,i,n),La(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=el(),i=tl(e),a=Da(n,i);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Ia(e,a,i))&&(rl(t,e,i,n),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=el(),n=tl(e),i=Da(r,n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ia(e,i,n))&&(rl(t,e,n,r),La(t,e,n))}};function Fa(e,t,r,n,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!un(r,n)||!un(i,a))}function za(e,t,r){var n=!1,i=Ai,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(i=Pi(t)?Ri:Oi.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ci(e,i):Ai),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Wa,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Wa.enqueueReplaceState(t,t.state,null)}function Ha(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=Ba,Ca(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ta(a):(a=Pi(t)?Ri:Oi.current,i.context=Ci(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Za(e,t,a,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Wa.enqueueReplaceState(i,i.state,null),ja(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var i=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ba&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function Va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,r,n){return null===t||6!==t.tag?((t=jl(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function l(e,t,r,n){var a=r.type;return a===x?h(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Xa(a)===t.type)?((n=i(t,r.props)).ref=Ga(e,t,r),n.return=e,n):((n=Il(r.type,r.key,r.props,null,e.mode,n)).ref=Ga(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Nl(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function h(e,t,r,n,a){return null===t||7!==t.tag?((t=Ll(r,e.mode,n,a)).return=e,t):((t=i(t,r)).return=e,t)}function f(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jl(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Il(t.type,t.key,t.props,null,e.mode,r)).ref=Ga(e,null,t),r.return=e,r;case E:return(t=Nl(t,e.mode,r)).return=e,t;case P:return f(e,(0,t._init)(t._payload),r)}if(te(t)||L(t))return(t=Ll(t,e.mode,r,null)).return=e,t;Va(e,t)}return null}function d(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==i?null:u(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===i?l(e,t,r,n):null;case E:return r.key===i?c(e,t,r,n):null;case P:return d(e,t,(i=r._init)(r._payload),n)}if(te(r)||L(r))return null!==i?null:h(e,t,r,n,null);Va(e,r)}return null}function p(e,t,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n)return u(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return l(t,e=e.get(null===n.key?r:n.key)||null,n,i);case E:return c(t,e=e.get(null===n.key?r:n.key)||null,n,i);case P:return p(e,t,r,(0,n._init)(n._payload),i)}if(te(n)||L(n))return h(t,e=e.get(r)||null,n,i,null);Va(t,n)}return null}function _(i,a,s,u){for(var l=null,c=null,h=a,_=a=0,m=null;null!==h&&_<s.length;_++){h.index>_?(m=h,h=null):m=h.sibling;var v=d(i,h,s[_],u);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,_),null===c?l=v:c.sibling=v,c=v,h=m}if(_===s.length)return r(i,h),ia&&Ji(i,_),l;if(null===h){for(;_<s.length;_++)null!==(h=f(i,s[_],u))&&(a=o(h,a,_),null===c?l=h:c.sibling=h,c=h);return ia&&Ji(i,_),l}for(h=n(i,h);_<s.length;_++)null!==(m=p(h,i,_,s[_],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?_:m.key),a=o(m,a,_),null===c?l=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),ia&&Ji(i,_),l}function m(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var h=c=null,_=s,m=s=0,v=null,g=u.next();null!==_&&!g.done;m++,g=u.next()){_.index>m?(v=_,_=null):v=_.sibling;var y=d(i,_,g.value,l);if(null===y){null===_&&(_=v);break}e&&_&&null===y.alternate&&t(i,_),s=o(y,s,m),null===h?c=y:h.sibling=y,h=y,_=v}if(g.done)return r(i,_),ia&&Ji(i,m),c;if(null===_){for(;!g.done;m++,g=u.next())null!==(g=f(i,g.value,l))&&(s=o(g,s,m),null===h?c=g:h.sibling=g,h=g);return ia&&Ji(i,m),c}for(_=n(i,_);!g.done;m++,g=u.next())null!==(g=p(_,i,m,g.value,l))&&(e&&null!==g.alternate&&_.delete(null===g.key?m:g.key),s=o(g,s,m),null===h?c=g:h.sibling=g,h=g);return e&&_.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),c}return function e(n,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===x){if(7===c.tag){r(n,c.sibling),(a=i(c,o.props.children)).return=n,n=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&Xa(l)===c.type){r(n,c.sibling),(a=i(c,o.props)).ref=Ga(n,c,o),a.return=n,n=a;break e}r(n,c);break}t(n,c),c=c.sibling}o.type===x?((a=Ll(o.props.children,n.mode,u,o.key)).return=n,n=a):((u=Il(o.type,o.key,o.props,null,n.mode,u)).ref=Ga(n,a,o),u.return=n,n=u)}return s(n);case E:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){r(n,a.sibling),(a=i(a,o.children||[])).return=n,n=a;break e}r(n,a);break}t(n,a),a=a.sibling}(a=Nl(o,n.mode,u)).return=n,n=a}return s(n);case P:return e(n,a,(c=o._init)(o._payload),u)}if(te(o))return _(n,a,o,u);if(L(o))return m(n,a,o,u);Va(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(r(n,a.sibling),(a=i(a,o)).return=n,n=a):(r(n,a),(a=jl(o,n.mode,u)).return=n,n=a),s(n)):r(n,a)}}var qa=Ya(!0),$a=Ya(!1),Ja={},Qa=ki(Ja),eo=ki(Ja),to=ki(Ja);function ro(e){if(e===Ja)throw Error(a(174));return e}function no(e,t){switch(Mi(to,t),Mi(eo,e),Mi(Qa,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Qa),Mi(Qa,t)}function io(){Ti(Qa),Ti(eo),Ti(to)}function ao(e){ro(to.current);var t=ro(Qa.current),r=ue(t,e.type);t!==r&&(Mi(eo,e),Mi(Qa,r))}function oo(e){eo.current===e&&(Ti(Qa),Ti(eo))}var so=ki(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,_o=null,mo=null,vo=null,go=!1,yo=!1,bo=0,wo=0;function Eo(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function ko(e,t,r,n,i,o){if(po=o,_o=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:us,e=r(n,i),yo){o=0;do{if(yo=!1,bo=0,25<=o)throw Error(a(301));o+=1,vo=mo=null,t.updateQueue=null,ho.current=ls,e=r(n,i)}while(yo)}if(ho.current=os,t=null!==mo&&null!==mo.next,po=0,vo=mo=_o=null,go=!1,t)throw Error(a(300));return e}function To(){var e=0!==bo;return bo=0,e}function Mo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?_o.memoizedState=vo=e:vo=vo.next=e,vo}function Ao(){if(null===mo){var e=_o.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===vo?_o.memoizedState:vo.next;if(null!==t)vo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===vo?_o.memoizedState=vo=e:vo=vo.next=e}return vo}function Oo(e,t){return"function"===typeof t?t(e):t}function So(e){var t=Ao(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=mo,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(null!==i){o=i.next,n=n.baseState;var u=s=null,l=null,c=o;do{var h=c.lane;if((po&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=n):l=l.next=f,_o.lanes|=h,Uu|=h}c=c.next}while(null!==c&&c!==o);null===l?s=n:l.next=u,sn(n,t.memoizedState)||(bs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(null!==(e=r.interleaved)){i=e;do{o=i.lane,_o.lanes|=o,Uu|=o,i=i.next}while(i!==e)}else null===i&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ro(e){var t=Ao(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sn(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Co(){}function Po(e,t){var r=_o,n=Ao(),i=t(),o=!sn(n.memoizedState,i);if(o&&(n.memoizedState=i,bs=!0),n=n.queue,Ko(Lo.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(r.flags|=2048,Bo(9,Io.bind(null,r,n,i,t),void 0,null),null===Su)throw Error(a(349));0!==(30&po)||Do(r,t,i)}return i}function Do(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=_o.updateQueue)?(t={lastEffect:null,stores:null},_o.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Io(e,t,r,n){t.value=r,t.getSnapshot=n,Uo(t)&&jo(e)}function Lo(e,t,r){return r((function(){Uo(t)&&jo(e)}))}function Uo(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch(n){return!0}}function jo(e){var t=Sa(e,1);null!==t&&rl(t,e,1,-1)}function No(e){var t=Mo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:e},t.queue=e,e=e.dispatch=rs.bind(null,_o,e),[t.memoizedState,e]}function Bo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=_o.updateQueue)?(t={lastEffect:null,stores:null},_o.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Zo(){return Ao().memoizedState}function Wo(e,t,r,n){var i=Mo();_o.flags|=e,i.memoizedState=Bo(1|t,r,void 0,void 0===n?null:n)}function Fo(e,t,r,n){var i=Ao();n=void 0===n?null:n;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==n&&xo(n,o.deps))return void(i.memoizedState=Bo(t,r,a,n))}_o.flags|=e,i.memoizedState=Bo(1|t,r,a,n)}function zo(e,t){return Wo(8390656,8,e,t)}function Ko(e,t){return Fo(2048,8,e,t)}function Ho(e,t){return Fo(4,2,e,t)}function Go(e,t){return Fo(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Fo(4,4,Vo.bind(null,t,e),r)}function Yo(){}function qo(e,t){var r=Ao();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&xo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function $o(e,t){var r=Ao();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&xo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Jo(e,t,r){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=r):(sn(r,t)||(r=_t(),_o.lanes|=r,Uu|=r,e.baseState=!0),t)}function Qo(e,t){var r=yt;yt=0!==r&&4>r?r:4,e(!0);var n=fo.transition;fo.transition={};try{e(!1),t()}finally{yt=r,fo.transition=n}}function es(){return Ao().memoizedState}function ts(e,t,r){var n=tl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ns(e))is(t,r);else if(null!==(r=Oa(e,t,r,n))){rl(r,e,n,el()),as(r,t,n)}}function rs(e,t,r){var n=tl(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ns(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,sn(s,o)){var u=t.interleaved;return null===u?(i.next=i,Aa(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(r=Oa(e,t,i,n))&&(rl(r,e,n,i=el()),as(r,t,n))}}function ns(e){var t=e.alternate;return e===_o||null!==t&&t===_o}function is(e,t){yo=go=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function as(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,gt(e,r)}}var os={readContext:Ta,useCallback:Eo,useContext:Eo,useEffect:Eo,useImperativeHandle:Eo,useInsertionEffect:Eo,useLayoutEffect:Eo,useMemo:Eo,useReducer:Eo,useRef:Eo,useState:Eo,useDebugValue:Eo,useDeferredValue:Eo,useTransition:Eo,useMutableSource:Eo,useSyncExternalStore:Eo,useId:Eo,unstable_isNewReconciler:!1},ss={readContext:Ta,useCallback:function(e,t){return Mo().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:zo,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Wo(4194308,4,Vo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Wo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wo(4,2,e,t)},useMemo:function(e,t){var r=Mo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Mo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ts.bind(null,_o,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Mo().memoizedState=e},useState:No,useDebugValue:Yo,useDeferredValue:function(e){return Mo().memoizedState=e},useTransition:function(){var e=No(!1),t=e[0];return e=Qo.bind(null,e[1]),Mo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=_o,i=Mo();if(ia){if(void 0===r)throw Error(a(407));r=r()}else{if(r=t(),null===Su)throw Error(a(349));0!==(30&po)||Do(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,n,o,e),[e]),n.flags|=2048,Bo(9,Io.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Mo(),t=Su.identifierPrefix;if(ia){var r=$i;t=":"+t+"R"+(r=(qi&~(1<<32-ot(qi)-1)).toString(32)+r),0<(r=bo++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ta,useCallback:qo,useContext:Ta,useEffect:Ko,useImperativeHandle:Xo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:$o,useReducer:So,useRef:Zo,useState:function(){return So(Oo)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(Ao(),mo.memoizedState,e)},useTransition:function(){return[So(Oo)[0],Ao().memoizedState]},useMutableSource:Co,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ta,useCallback:qo,useContext:Ta,useEffect:Ko,useImperativeHandle:Xo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:$o,useReducer:Ro,useRef:Zo,useState:function(){return Ro(Oo)},useDebugValue:Yo,useDeferredValue:function(e){var t=Ao();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(Oo)[0],Ao().memoizedState]},useMutableSource:Co,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var r="",n=t;do{r+=W(n),n=n.return}while(n);var i=r}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,r){(r=Da(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ku||(Ku=!0,Hu=n),fs(0,t)},r}function _s(e,t,r){(r=Da(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){fs(0,t),"function"!==typeof n&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function ms(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new ds;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Tl.bind(null,e,t,r),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,r,n,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Da(-1,1)).tag=2,Ia(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=b.ReactCurrentOwner,bs=!1;function ws(e,t,r,n){t.child=null===e?$a(t,null,r,n):qa(t,e.child,r,n)}function Es(e,t,r,n,i){r=r.render;var a=t.ref;return ka(t,i),n=ko(e,t,r,n,a,i),r=To(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function xs(e,t,r,n,i){if(null===e){var a=r.type;return"function"!==typeof a||Pl(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Il(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ks(e,t,a,n,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((r=null!==(r=r.compare)?r:un)(o,n)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Dl(a,n)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,r,n,i){if(null!==e){var a=e.memoizedProps;if(un(a,n)&&e.ref===t.ref){if(bs=!1,t.pendingProps=n=a,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return As(e,t,r,n,i)}function Ts(e,t,r){var n=t.pendingProps,i=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mi(Du,Pu),Pu|=r;else{if(0===(1073741824&r))return e=null!==a?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mi(Du,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==a?a.baseLanes:r,Mi(Du,Pu),Pu|=n}else null!==a?(n=a.baseLanes|r,t.memoizedState=null):n=r,Mi(Du,Pu),Pu|=n;return ws(e,t,i,r),t.child}function Ms(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,r,n,i){var a=Pi(r)?Ri:Oi.current;return a=Ci(t,a),ka(t,i),r=ko(e,t,r,n,a,i),n=To(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Os(e,t,r,n,i){if(Pi(r)){var a=!0;Ui(t)}else a=!1;if(ka(t,i),null===t.stateNode)zs(e,t),za(t,r,n),Ha(t,r,n,i),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=r.contextType;"object"===typeof l&&null!==l?l=Ta(l):l=Ci(t,l=Pi(r)?Ri:Oi.current);var c=r.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||u!==l)&&Ka(t,o,n,l),Ra=!1;var f=t.memoizedState;o.state=f,ja(t,n,o,i),u=t.memoizedState,s!==n||f!==u||Si.current||Ra?("function"===typeof c&&(Za(t,r,c,n),u=t.memoizedState),(s=Ra||Fa(t,r,s,n,f,u,l))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=l,n=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Pa(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ma(t.type,s),o.props=l,h=t.pendingProps,f=o.context,"object"===typeof(u=r.contextType)&&null!==u?u=Ta(u):u=Ci(t,u=Pi(r)?Ri:Oi.current);var d=r.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&Ka(t,o,n,u),Ra=!1,f=t.memoizedState,o.state=f,ja(t,n,o,i);var p=t.memoizedState;s!==h||f!==p||Si.current||Ra?("function"===typeof d&&(Za(t,r,d,n),p=t.memoizedState),(l=Ra||Fa(t,r,l,n,f,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=u,n=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Ss(e,t,r,n,a,i)}function Ss(e,t,r,n,i,a){Ms(e,t);var o=0!==(128&t.flags);if(!n&&!o)return i&&ji(t,r,!1),Ks(e,t,a);n=t.stateNode,ys.current=t;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=n.state,i&&ji(t,r,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Ii(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ii(0,t.context,!1),no(e,t.containerInfo)}function Cs(e,t,r,n,i){return da(),pa(i),t.flags|=256,ws(e,t,r,n),t.child}var Ps,Ds,Is,Ls={dehydrated:null,treeContext:null,retryLane:0};function Us(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,r){var n,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((n=u)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Mi(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ul(u,i,0,null),e=Ll(e,i,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Us(r),t.memoizedState=Ls,e):Ns(t,u));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,i,o,s){if(r)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,n=hs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=Ul({mode:"visible",children:n.children},i,0,null),(o=Ll(o,i,s,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&qa(t,e.child,null,s),t.child.memoizedState=Us(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var u=n.dgst;return n=u,Bs(e,t,s,n=hs(o=Error(a(419)),n,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(n=Su)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(n.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Sa(e,i),rl(n,e,i,-1))}return _l(),Bs(e,t,s,n=hs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Al.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,na=li(i.nextSibling),ra=t,ia=!0,aa=null,null!==e&&(Vi[Xi++]=qi,Vi[Xi++]=$i,Vi[Xi++]=Yi,qi=e.id,$i=e.overflow,Yi=t),(t=Ns(t,n.children)).flags|=4096,t)}(e,t,u,i,n,o,r);if(s){s=i.fallback,u=t.mode,n=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==n?s=Dl(n,s):(s=Ll(s,u,r,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Us(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~r,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Dl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=r),i.return=t,i.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Ns(e,t){return(t=Ul({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,r,n){return null!==n&&pa(n),qa(t,e.child,null,r),(e=Ns(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Zs(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),xa(e.return,t,r)}function Ws(e,t,r,n,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Fs(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(ws(e,t,n.children,r),0!==(2&(n=so.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zs(e,r,t);else if(19===e.tag)Zs(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Mi(so,n),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===uo(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Ws(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Ws(t,!0,r,null,a);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Uu|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Dl(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Dl(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Hs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Vs(e,t,r){var n=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Pi(t.type)&&Di(),Gs(t),null;case 3:return n=t.stateNode,io(),Ti(Si),Ti(Oi),co(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),Gs(t),null;case 5:oo(t);var i=ro(to.current);if(r=t.type,null!==e&&null!=t.stateNode)Ds(e,t,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=ro(Qa.current),ha(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[fi]=t,n[di]=o,e=0!==(1&t.mode),r){case"dialog":Bn("cancel",n),Bn("close",n);break;case"iframe":case"object":case"embed":Bn("load",n);break;case"video":case"audio":for(i=0;i<Ln.length;i++)Bn(Ln[i],n);break;case"source":Bn("error",n);break;case"img":case"image":case"link":Bn("error",n),Bn("load",n);break;case"details":Bn("toggle",n);break;case"input":q(n,o),Bn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Bn("invalid",n);break;case"textarea":ie(n,o),Bn("invalid",n)}for(var u in ge(r,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?n.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jn(n.textContent,l,e),i=["children",l]):"number"===typeof l&&n.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jn(n.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Bn("scroll",n)}switch(r){case"input":G(n),Q(n,o,!0);break;case"textarea":G(n),oe(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=Qn)}n=i,t.updateQueue=n,null!==n&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),"select"===r&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[fi]=t,e[di]=n,Ps(e,t),t.stateNode=e;e:{switch(u=ye(r,n),r){case"dialog":Bn("cancel",e),Bn("close",e),i=n;break;case"iframe":case"object":case"embed":Bn("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ln.length;i++)Bn(Ln[i],e);i=n;break;case"source":Bn("error",e),i=n;break;case"img":case"image":case"link":Bn("error",e),Bn("load",e),i=n;break;case"details":Bn("toggle",e),i=n;break;case"input":q(e,n),i=Y(e,n),Bn("invalid",e);break;case"option":default:i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=j({},n,{value:void 0}),Bn("invalid",e);break;case"textarea":ie(e,n),i=ne(e,n),Bn("invalid",e)}for(o in ge(r,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==r||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Bn("scroll",e):null!=c&&y(e,o,c,u))}switch(r){case"input":G(e),Q(e,n,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+K(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?re(e,!!n.multiple,o,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Qn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Is(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));if(r=ro(to.current),ro(Qa.current),ha(t)){if(n=t.stateNode,r=t.memoizedProps,n[fi]=t,(o=n.nodeValue!==r)&&null!==(e=ra))switch(e.tag){case 3:Jn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[fi]=t,t.stateNode=n}return Gs(t),null;case 13:if(Ti(so),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==na&&0!==(1&t.mode)&&0===(128&t.flags))fa(),da(),t.flags|=98560,o=!1;else if(o=ha(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(ol(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Iu&&(Iu=3):_l())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),null===e&&Fn(t.stateNode.containerInfo),Gs(t),null;case 10:return Ea(t.type._context),Gs(t),null;case 19:if(Ti(so),null===(o=t.memoizedState))return Gs(t),null;if(n=0!==(128&t.flags),null===(u=o.rendering))if(n)Hs(o,!1);else{if(0!==Iu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Hs(o,!1),null!==(n=u.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Mi(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>Fu&&(t.flags|=128,n=!0,Hs(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=uo(u))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*$e()-o.renderingStartTime>Fu&&1073741824!==r&&(t.flags|=128,n=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(r=o.last)?r.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,r=so.current,Mi(so,n?1&r|2:1&r),t):(Gs(t),null);case 22:case 23:return hl(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Xs(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(Si),Ti(Oi),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(so),null;case 4:return io(),null;case 10:return Ea(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Ps=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ds=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ro(Qa.current);var a,o=null;switch(r){case"input":i=Y(e,i),n=Y(e,n),o=[];break;case"select":i=j({},i,{value:void 0}),n=j({},n,{value:void 0}),o=[];break;case"textarea":i=ne(e,i),n=ne(e,n),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(e.onclick=Qn)}for(c in ge(r,n),r=null,i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(u=null!=i?i[c]:void 0,n.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(o||(o=[]),o.push(c,r)),r=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Bn("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Is=function(e,t,r,n){r!==n&&(t.flags|=4)};var Ys=!1,qs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function Qs(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){kl(e,t,n)}else r.current=null}function eu(e,t,r){try{r()}catch(n){kl(e,t,n)}}var tu=!1;function ru(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,r,a)}i=i.next}while(i!==n)}}function nu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function iu(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[_i],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Qn));else if(4!==n&&null!==(e=e.child))for(uu(e,t,r),e=e.sibling;null!==e;)uu(e,t,r),e=e.sibling}function lu(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(lu(e,t,r),e=e.sibling;null!==e;)lu(e,t,r),e=e.sibling}var cu=null,hu=!1;function fu(e,t,r){for(r=r.child;null!==r;)du(e,t,r),r=r.sibling}function du(e,t,r){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,r)}catch(s){}switch(r.tag){case 5:qs||Qs(r,t);case 6:var n=cu,i=hu;cu=null,fu(e,t,r),hu=i,null!==(cu=n)&&(hu?(e=cu,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):cu.removeChild(r.stateNode));break;case 18:null!==cu&&(hu?(e=cu,r=r.stateNode,8===e.nodeType?ui(e.parentNode,r):1===e.nodeType&&ui(e,r),Ft(e)):ui(cu,r.stateNode));break;case 4:n=cu,i=hu,cu=r.stateNode.containerInfo,hu=!0,fu(e,t,r),cu=n,hu=i;break;case 0:case 11:case 14:case 15:if(!qs&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(r,t,o),i=i.next}while(i!==n)}fu(e,t,r);break;case 1:if(!qs&&(Qs(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){kl(r,t,s)}fu(e,t,r);break;case 21:fu(e,t,r);break;case 22:1&r.mode?(qs=(n=qs)||null!==r.memoizedState,fu(e,t,r),qs=n):fu(e,t,r);break;default:fu(e,t,r)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new $s),t.forEach((function(t){var n=Ol.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function _u(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,hu=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===cu)throw Error(a(160));du(o,s,i),cu=null,hu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){kl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_u(t,e),vu(e),4&n){try{ru(3,e,e.return),nu(3,e)}catch(m){kl(e,e.return,m)}try{ru(5,e,e.return)}catch(m){kl(e,e.return,m)}}break;case 1:_u(t,e),vu(e),512&n&&null!==r&&Qs(r,r.return);break;case 5:if(_u(t,e),vu(e),512&n&&null!==r&&Qs(r,r.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){kl(e,e.return,m)}}if(4&n&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==r?r.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&$(i,o),ye(u,s);var c=ye(u,o);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];"style"===h?me(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):y(i,h,f,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?re(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?re(i,!!o.multiple,o.defaultValue,!0):re(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){kl(e,e.return,m)}}break;case 6:if(_u(t,e),vu(e),4&n){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){kl(e,e.return,m)}}break;case 3:if(_u(t,e),vu(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Ft(t.containerInfo)}catch(m){kl(e,e.return,m)}break;case 4:default:_u(t,e),vu(e);break;case 13:_u(t,e),vu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Wu=$e())),4&n&&pu(e);break;case 22:if(h=null!==r&&null!==r.memoizedState,1&e.mode?(qs=(c=qs)||h,_u(t,e),qs=c):_u(t,e),vu(e),8192&n){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Js=e,h=e.child;null!==h;){for(f=Js=h;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:Qs(d,d.return);var _=d.stateNode;if("function"===typeof _.componentWillUnmount){n=d,r=d.return;try{t=n,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(m){kl(n,r,m)}}break;case 5:Qs(d,d.return);break;case 22:if(null!==d.memoizedState){wu(f);continue}}null!==p?(p.return=d,Js=p):wu(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=_e("display",s))}catch(m){kl(e,e.return,m)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){kl(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_u(t,e),vu(e),4&n&&pu(e);case 21:}}function vu(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(ou(r)){var n=r;break e}r=r.return}throw Error(a(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(fe(i,""),n.flags&=-33),lu(e,su(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){kl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,r){Js=e,yu(e,t,r)}function yu(e,t,r){for(var n=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&n){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||qs;s=Ys;var l=qs;if(Ys=o,(qs=u)&&!l)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?Eu(i):null!==u?(u.return=o,Js=u):Eu(i);for(;null!==a;)Js=a,yu(a,t,r),a=a.sibling;Js=i,Ys=s,qs=l}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):bu(e)}}function bu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:qs||nu(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!qs)if(null===r)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ma(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Na(t,o,n);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Na(t,s,r)}break;case 5:var u=t.stateNode;if(null===r&&4&t.flags){r=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Ft(f)}}}break;default:throw Error(a(163))}qs||512&t.flags&&iu(t)}catch(d){kl(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(r=t.sibling)){r.return=t.return,Js=r;break}Js=t.return}}function wu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Js=r;break}Js=t.return}}function Eu(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nu(4,t)}catch(u){kl(t,r,u)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var i=t.return;try{n.componentDidMount()}catch(u){kl(t,i,u)}}var a=t.return;try{iu(t)}catch(u){kl(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){kl(t,o,u)}}}catch(u){kl(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var xu,ku=Math.ceil,Tu=b.ReactCurrentDispatcher,Mu=b.ReactCurrentOwner,Au=b.ReactCurrentBatchConfig,Ou=0,Su=null,Ru=null,Cu=0,Pu=0,Du=ki(0),Iu=0,Lu=null,Uu=0,ju=0,Nu=0,Bu=null,Zu=null,Wu=0,Fu=1/0,zu=null,Ku=!1,Hu=null,Gu=null,Vu=!1,Xu=null,Yu=0,qu=0,$u=null,Ju=-1,Qu=0;function el(){return 0!==(6&Ou)?$e():-1!==Ju?Ju:Ju=$e()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Ou)&&0!==Cu?Cu&-Cu:null!==_a.transition?(0===Qu&&(Qu=_t()),Qu):0!==(e=yt)?e:e=void 0===(e=window.event)?16:qt(e.type)}function rl(e,t,r,n){if(50<qu)throw qu=0,$u=null,Error(a(185));vt(e,r,n),0!==(2&Ou)&&e===Su||(e===Su&&(0===(2&Ou)&&(ju|=r),4===Iu&&sl(e,Cu)),nl(e,n),1===r&&0===Ou&&0===(1&t.mode)&&(Fu=$e()+500,Bi&&Fi()))}function nl(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&r)&&0===(s&n)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var n=ft(e,e===Su?Cu:0);if(0===n)null!==r&&Xe(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Xe(r),1===t)0===e.tag?function(e){Bi=!0,Wi(e)}(ul.bind(null,e)):Wi(ul.bind(null,e)),oi((function(){0===(6&Ou)&&Fi()})),r=null;else{switch(bt(n)){case 1:r=Qe;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Sl(r,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function il(e,t){if(Ju=-1,Qu=0,0!==(6&Ou))throw Error(a(327));var r=e.callbackNode;if(El()&&e.callbackNode!==r)return null;var n=ft(e,e===Su?Cu:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=ml(e,n);else{t=n;var i=Ou;Ou|=2;var o=pl();for(Su===e&&Cu===t||(zu=null,Fu=$e()+500,fl(e,t));;)try{gl();break}catch(u){dl(e,u)}wa(),Tu.current=o,Ou=i,null!==Ru?t=0:(Su=null,Cu=0,t=Iu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(n=i,t=al(e,i))),1===t)throw r=Lu,fl(e,0),sl(e,n),nl(e,$e()),r;if(6===t)sl(e,n);else{if(i=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!sn(a(),i))return!1}catch(s){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,n))&&(0!==(o=pt(e))&&(n=o,t=al(e,o))),1===t))throw r=Lu,fl(e,0),sl(e,n),nl(e,$e()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e,Zu,zu);break;case 3:if(sl(e,n),(130023424&n)===n&&10<(t=Wu+500-$e())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ni(wl.bind(null,e,Zu,zu),t);break}wl(e,Zu,zu);break;case 4:if(sl(e,n),(4194240&n)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-ot(n);o=1<<s,(s=t[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=$e()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ku(n/1960))-n)){e.timeoutHandle=ni(wl.bind(null,e,Zu,zu),n);break}wl(e,Zu,zu);break;default:throw Error(a(329))}}}return nl(e,$e()),e.callbackNode===r?il.bind(null,e):null}function al(e,t){var r=Bu;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Zu,Zu=r,null!==t&&ol(t)),e}function ol(e){null===Zu?Zu=e:Zu.push.apply(Zu,e)}function sl(e,t){for(t&=~Nu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function ul(e){if(0!==(6&Ou))throw Error(a(327));El();var t=ft(e,0);if(0===(1&t))return nl(e,$e()),null;var r=ml(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=al(e,n))}if(1===r)throw r=Lu,fl(e,0),sl(e,t),nl(e,$e()),r;if(6===r)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Zu,zu),nl(e,$e()),null}function ll(e,t){var r=Ou;Ou|=1;try{return e(t)}finally{0===(Ou=r)&&(Fu=$e()+500,Bi&&Fi())}}function cl(e){null!==Xu&&0===Xu.tag&&0===(6&Ou)&&El();var t=Ou;Ou|=1;var r=Au.transition,n=yt;try{if(Au.transition=null,yt=1,e)return e()}finally{yt=n,Au.transition=r,0===(6&(Ou=t))&&Fi()}}function hl(){Pu=Du.current,Ti(Du)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ii(r)),null!==Ru)for(r=Ru.return;null!==r;){var n=r;switch(ta(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Di();break;case 3:io(),Ti(Si),Ti(Oi),co();break;case 5:oo(n);break;case 4:io();break;case 13:case 19:Ti(so);break;case 10:Ea(n.type._context);break;case 22:case 23:hl()}r=r.return}if(Su=e,Ru=e=Dl(e.current,null),Cu=Pu=t,Iu=0,Lu=null,Nu=ju=Uu=0,Zu=Bu=null,null!==Ma){for(t=0;t<Ma.length;t++)if(null!==(n=(r=Ma[t]).interleaved)){r.interleaved=null;var i=n.next,a=r.pending;if(null!==a){var o=a.next;a.next=i,n.next=o}r.pending=n}Ma=null}return e}function dl(e,t){for(;;){var r=Ru;try{if(wa(),ho.current=os,go){for(var n=_o.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}go=!1}if(po=0,vo=mo=_o=null,yo=!1,bo=0,Mu.current=null,null===r||null===r.return){Iu=1,Lu=t,Ru=null;break}e:{var o=e,s=r.return,u=r,l=t;if(t=Cu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,c,t),l=c;var _=(t=p).updateQueue;if(null===_){var m=new Set;m.add(l),t.updateQueue=m}else _.add(l);break e}if(0===(1&t)){ms(o,c,t),_l();break e}l=Error(a(426))}else if(ia&&1&u.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),gs(v,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Iu&&(Iu=2),null===Bu?Bu=[o]:Bu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ua(o,ps(0,l,t));break e;case 1:u=l;var g=o.type,y=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Gu||!Gu.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t,Ua(o,_s(o,u,t));break e}}o=o.return}while(null!==o)}bl(r)}catch(b){t=b,Ru===r&&null!==r&&(Ru=r=r.return);continue}break}}function pl(){var e=Tu.current;return Tu.current=os,null===e?os:e}function _l(){0!==Iu&&3!==Iu&&2!==Iu||(Iu=4),null===Su||0===(268435455&Uu)&&0===(268435455&ju)||sl(Su,Cu)}function ml(e,t){var r=Ou;Ou|=2;var n=pl();for(Su===e&&Cu===t||(zu=null,fl(e,t));;)try{vl();break}catch(i){dl(e,i)}if(wa(),Ou=r,Tu.current=n,null!==Ru)throw Error(a(261));return Su=null,Cu=0,Iu}function vl(){for(;null!==Ru;)yl(Ru)}function gl(){for(;null!==Ru&&!Ye();)yl(Ru)}function yl(e){var t=xu(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?bl(e):Ru=t,Mu.current=null}function bl(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Vs(r,t,Pu)))return void(Ru=r)}else{if(null!==(r=Xs(r,t)))return r.flags&=32767,void(Ru=r);if(null===e)return Iu=6,void(Ru=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Iu&&(Iu=5)}function wl(e,t,r){var n=yt,i=Au.transition;try{Au.transition=null,yt=1,function(e,t,r,n){do{El()}while(null!==Xu);if(0!==(6&Ou))throw Error(a(327));r=e.finishedWork;var i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ot(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}(e,o),e===Su&&(Ru=Su=null,Cu=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Vu||(Vu=!0,Sl(tt,(function(){return El(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=Au.transition,Au.transition=null;var s=yt;yt=1;var u=Ou;Ou|=4,Mu.current=null,function(e,t){if(ei=Kt,dn(e=fn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(w){r=null;break e}var s=0,u=-1,l=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==r||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==n&&3!==f.nodeType||(l=s+n),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===r&&++c===i&&(u=s),d===o&&++h===n&&(l=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}r=-1===u||-1===l?null:{start:u,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ti={focusedElem:e,selectionRange:r},Kt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var _=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==_){var m=_.memoizedProps,v=_.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),v);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){kl(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}_=tu,tu=!1}(e,r),mu(r,e),pn(ti),Kt=!!ei,ti=ei=null,e.current=r,gu(r,e,i),qe(),Ou=u,yt=s,Au.transition=o}else e.current=r;if(Vu&&(Vu=!1,Xu=e,Yu=i),0===(o=e.pendingLanes)&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nl(e,$e()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n((i=t[r]).value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Hu,Hu=null,e;0!==(1&Yu)&&0!==e.tag&&El(),0!==(1&(o=e.pendingLanes))?e===$u?qu++:(qu=0,$u=e):qu=0,Fi()}(e,t,r,n)}finally{Au.transition=i,yt=n}return null}function El(){if(null!==Xu){var e=bt(Yu),t=Au.transition,r=yt;try{if(Au.transition=null,yt=16>e?16:e,null===Xu)var n=!1;else{if(e=Xu,Xu=null,Yu=0,0!==(6&Ou))throw Error(a(331));var i=Ou;for(Ou|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Js=c;null!==Js;){var h=Js;switch(h.tag){case 0:case 11:case 15:ru(8,h,o)}var f=h.child;if(null!==f)f.return=h,Js=f;else for(;null!==Js;){var d=(h=Js).sibling,p=h.return;if(au(h),h===c){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var _=o.alternate;if(null!==_){var m=_.child;if(null!==m){_.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Js=g;break e}Js=o.return}}var y=e.current;for(Js=y;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=y;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:nu(9,u)}}catch(E){kl(u,u.return,E)}if(u===s){Js=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Js=w;break e}Js=u.return}}if(Ou=i,Fi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(E){}n=!0}return n}finally{yt=r,Au.transition=t}}return!1}function xl(e,t,r){e=Ia(e,t=ps(0,t=cs(r,t),1),1),t=el(),null!==e&&(vt(e,1,t),nl(e,t))}function kl(e,t,r){if(3===e.tag)xl(e,e,r);else for(;null!==t;){if(3===t.tag){xl(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Gu||!Gu.has(n))){t=Ia(t,e=_s(t,e=cs(r,e),1),1),e=el(),null!==t&&(vt(t,1,e),nl(t,e));break}}t=t.return}}function Tl(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&r,Su===e&&(Cu&r)===r&&(4===Iu||3===Iu&&(130023424&Cu)===Cu&&500>$e()-Wu?fl(e,0):Nu|=r),nl(e,t)}function Ml(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var r=el();null!==(e=Sa(e,t))&&(vt(e,t,r),nl(e,r))}function Al(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Ml(e,r)}function Ol(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(a(314))}null!==n&&n.delete(t),Ml(e,r)}function Sl(e,t){return Ve(e,t)}function Rl(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cl(e,t,r,n){return new Rl(e,t,r,n)}function Pl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var r=e.alternate;return null===r?((r=Cl(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Il(e,t,r,n,i,o){var s=2;if(n=e,"function"===typeof e)Pl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Ll(r.children,i,o,t);case k:s=8,i|=8;break;case T:return(e=Cl(12,r,t,2|i)).elementType=T,e.lanes=o,e;case S:return(e=Cl(13,r,t,i)).elementType=S,e.lanes=o,e;case R:return(e=Cl(19,r,t,i)).elementType=R,e.lanes=o,e;case D:return Ul(r,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case M:s=10;break e;case A:s=9;break e;case O:s=11;break e;case C:s=14;break e;case P:s=16,n=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Cl(s,r,t,i)).elementType=e,t.type=n,t.lanes=o,t}function Ll(e,t,r,n){return(e=Cl(7,e,n,t)).lanes=r,e}function Ul(e,t,r,n){return(e=Cl(22,e,n,t)).elementType=D,e.lanes=r,e.stateNode={isHidden:!1},e}function jl(e,t,r){return(e=Cl(6,e,null,t)).lanes=r,e}function Nl(e,t,r){return(t=Cl(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bl(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zl(e,t,r,n,i,a,o,s,u){return e=new Bl(e,t,r,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Cl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ca(a),e}function Wl(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function Fl(e){if(!e)return Ai;e:{if(Fe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var r=e.type;if(Pi(r))return Li(e,r,t)}return t}function zl(e,t,r,n,i,a,o,s,u){return(e=Zl(r,n,!0,e,0,a,0,s,u)).context=Fl(null),r=e.current,(a=Da(n=el(),i=tl(r))).callback=void 0!==t&&null!==t?t:null,Ia(r,a,i),e.current.lanes=i,vt(e,i,n),nl(e,n),e}function Kl(e,t,r,n){var i=t.current,a=el(),o=tl(i);return r=Fl(r),null===t.context?t.context=r:t.pendingContext=r,(t=Da(a,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Ia(i,t,o))&&(rl(e,i,o,a),La(e,i,o)),o}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Vl(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}xu=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Si.current)bs=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return bs=!1,function(e,t,r){switch(t.tag){case 3:Rs(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Ui(t);break;case 4:no(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Mi(va,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Mi(so,1&so.current),t.flags|=128,null):0!==(r&t.child.childLanes)?js(e,t,r):(Mi(so,1&so.current),null!==(e=Ks(e,t,r))?e.sibling:null);Mi(so,1&so.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Fs(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mi(so,so.current),n)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,r)}return Ks(e,t,r)}(e,t,r);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Qi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;zs(e,t),e=t.pendingProps;var i=Ci(t,Oi.current);ka(t,r),i=ko(null,t,n,e,i,r);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(n)?(o=!0,Ui(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ca(t),i.updater=Wa,t.stateNode=i,i._reactInternals=t,Ha(t,n,e,r),t=Ss(null,t,n,!0,o,r)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,n=(i=n._init)(n._payload),t.type=n,i=t.tag=function(e){if("function"===typeof e)return Pl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===C)return 14}return 2}(n),e=ma(n,e),i){case 0:t=As(null,t,n,e,r);break e;case 1:t=Os(null,t,n,e,r);break e;case 11:t=Es(null,t,n,e,r);break e;case 14:t=xs(null,t,n,ma(n.type,e),r);break e}throw Error(a(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,As(e,t,n,i=t.elementType===n?i:ma(n,i),r);case 1:return n=t.type,i=t.pendingProps,Os(e,t,n,i=t.elementType===n?i:ma(n,i),r);case 3:e:{if(Rs(t),null===e)throw Error(a(387));n=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),ja(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cs(e,t,n,r,i=cs(Error(a(423)),t));break e}if(n!==i){t=Cs(e,t,n,r,i=cs(Error(a(424)),t));break e}for(na=li(t.stateNode.containerInfo.firstChild),ra=t,ia=!0,aa=null,r=$a(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(da(),n===i){t=Ks(e,t,r);break e}ws(e,t,n,r)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ri(n,i)?s=null:null!==o&&ri(n,o)&&(t.flags|=32),Ms(e,t),ws(e,t,s,r),t.child;case 6:return null===e&&la(t),null;case 13:return js(e,t,r);case 4:return no(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=qa(t,null,n,r):ws(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,Es(e,t,n,i=t.elementType===n?i:ma(n,i),r);case 7:return ws(e,t,t.pendingProps,r),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Mi(va,n._currentValue),n._currentValue=s,null!==o)if(sn(o.value,s)){if(o.children===i.children&&!Si.current){t=Ks(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===n){if(1===o.tag){(l=Da(-1,r&-r)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),xa(o.return,r,t),u.lanes|=r;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=r,null!==(u=s.alternate)&&(u.lanes|=r),xa(s,r,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ka(t,r),n=n(i=Ta(i)),t.flags|=1,ws(e,t,n,r),t.child;case 14:return i=ma(n=t.type,t.pendingProps),xs(e,t,n,i=ma(n.type,i),r);case 15:return ks(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ma(n,i),zs(e,t),t.tag=1,Pi(n)?(e=!0,Ui(t)):e=!1,ka(t,r),za(t,n,i),Ha(t,n,i,r),Ss(null,t,n,!0,e,r);case 19:return Fs(e,t,r);case 22:return Ts(e,t,r)}throw Error(a(156,t.tag))};var Xl="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function ql(e){this._internalRoot=e}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ql(){}function ec(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hl(o);s.call(e)}}Kl(t,o,e,i)}else o=function(e,t,r,n,i){if(i){if("function"===typeof n){var a=n;n=function(){var e=Hl(o);a.call(e)}}var o=zl(t,n,e,0,null,!1,0,"",Ql);return e._reactRootContainer=o,e[pi]=o.current,Fn(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof n){var s=n;n=function(){var e=Hl(u);s.call(e)}}var u=Zl(e,0,!1,null,0,!1,0,"",Ql);return e._reactRootContainer=u,e[pi]=u.current,Fn(8===e.nodeType?e.parentNode:e),cl((function(){Kl(t,u,r,n)})),u}(r,t,e,i,n);return Hl(o)}ql.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kl(e,t,null,null)},ql.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Kl(null,e,null,null)})),t[pi]=null}},ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dt.length&&0!==t&&t<Dt[r].priority;r++);Dt.splice(r,0,e),0===r&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ht(t.pendingLanes);0!==r&&(gt(t,1|r),nl(t,$e()),0===(6&Ou)&&(Fu=$e()+500,Fi()))}break;case 13:cl((function(){var t=Sa(e,1);if(null!==t){var r=el();rl(t,e,1,r)}})),Vl(e,1)}},Et=function(e){if(13===e.tag){var t=Sa(e,134217728);if(null!==t)rl(t,e,134217728,el());Vl(e,134217728)}},xt=function(e){if(13===e.tag){var t=tl(e),r=Sa(e,t);if(null!==r)rl(r,e,t,el());Vl(e,t)}},kt=function(){return yt},Tt=function(e,t){var r=yt;try{return yt=e,t()}finally{yt=r}},Ee=function(e,t,r){switch(t){case"input":if(J(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=wi(n);if(!i)throw Error(a(90));V(n),J(n,i)}}}break;case"textarea":ae(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Oe=ll,Se=cl;var tc={usingClientEntryPoint:!1,Events:[yi,bi,wi,Me,Ae,ll]},rc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nc={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(nc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$l(t))throw Error(a(200));return Wl(e,t,null,r)},t.createRoot=function(e,t){if(!$l(e))throw Error(a(299));var r=!1,n="",i=Xl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Zl(e,1,!1,null,0,r,0,n,i),e[pi]=t.current,Fn(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,r){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!$l(e))throw Error(a(405));var n=null!=r&&r.hydratedSources||null,i=!1,o="",s=Xl;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=zl(t,null,e,1,null!=r?r:null,i,0,o,s),e[pi]=t.current,Fn(e),n)for(e=0;e<n.length;e++)i=(i=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new ql(t)},t.render=function(e,t,r){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Jl(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,r,!1,n)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,r){"use strict";var n=r(4164);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},4164:function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(4463)},6374:function(e,t,r){"use strict";var n=r(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,a={},l=null,c=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,n)&&!u.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,m={};function v(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}function g(){}function y(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var b=y.prototype=new g;b.constructor=y,_(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,x={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!k.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:r,type:e,key:o,ref:s,props:a,_owner:x.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var A=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case n:u=!0}}if(u)return o=o(u=e),e=""===a?"."+O(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),S(o,t,i,"",(function(e){return e}))):null!=o&&(M(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(A,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+O(s=e[l],l);u+=S(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=S(s=s.value,t,i,c=a+O(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,r){if(null==e)return e;var n=[],i=0;return S(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function C(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},I={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:R,forEach:function(e,t,r){R(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!M(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=y,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=_({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)E.call(t,l)&&!k.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:r,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,r){return P.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,r){return P.current.useReducer(e,t,r)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return P.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,r){"use strict";e.exports=r(9117)},184:function(e,t,r){"use strict";e.exports=r(6374)},6813:function(e,t){"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(!(0<a(i,t)))break e;e[n]=t,e[r]=i,r=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,o=i>>>1;n<o;){var s=2*(n+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,r))l<i&&0>a(c,u)?(e[n]=c,e[l]=r,n=l):(e[n]=u,e[s]=r,n=s);else{if(!(l<i&&0>a(c,r)))break e;e[n]=c,e[l]=r,n=l}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],h=1,f=null,d=3,p=!1,_=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=n(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,r(l,t)}t=n(c)}}function w(e){if(m=!1,b(e),!_)if(null!==n(l))_=!0,D(E);else{var t=n(c);null!==t&&I(w,t.startTime-e)}}function E(e,r){_=!1,m&&(m=!1,g(M),M=-1),p=!0;var a=d;try{for(b(r),f=n(l);null!==f&&(!(f.expirationTime>r)||e&&!S());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?f.callback=s:f===n(l)&&i(l),b(r)}else i(l);f=n(l)}if(null!==f)var u=!0;else{var h=n(c);null!==h&&I(w,h.startTime-r),u=!1}return u}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,k=!1,T=null,M=-1,A=5,O=-1;function S(){return!(t.unstable_now()-O<A)}function R(){if(null!==T){var e=t.unstable_now();O=e;var r=!0;try{r=T(!0,e)}finally{r?x():(k=!1,T=null)}}else k=!1}if("function"===typeof y)x=function(){y(R)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,P=C.port2;C.port1.onmessage=R,x=function(){P.postMessage(null)}}else x=function(){v(R,0)};function D(e){T=e,k||(k=!0,x())}function I(e,r){M=v((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,D(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var r=d;d=t;try{return e()}finally{d=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=d;d=e;try{return t()}finally{d=r}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,r(c,e),null===n(l)&&e===n(c)&&(m?(g(M),M=-1):m=!0,I(w,a-o))):(e.sortIndex=s,r(l,e),_||p||(_=!0,D(E))),e},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(e){var t=d;return function(){var r=d;d=t;try{return e.apply(this,arguments)}finally{d=r}}}},5296:function(e,t,r){"use strict";e.exports=r(6813)},2065:function(e){"use strict";!function(t){var r=2147483647;function n(e){var t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),r=1779033703,n=3144134277,i=1013904242,a=2773480762,o=1359893119,s=2600822924,u=528734635,l=1541459225,c=new Uint32Array(64);function h(e){for(var h=0,f=e.length;f>=64;){var d=r,p=n,_=i,m=a,v=o,g=s,y=u,b=l,w=void 0,E=void 0,x=void 0,k=void 0,T=void 0;for(E=0;E<16;E++)x=h+4*E,c[E]=(255&e[x])<<24|(255&e[x+1])<<16|(255&e[x+2])<<8|255&e[x+3];for(E=16;E<64;E++)k=((w=c[E-2])>>>17|w<<15)^(w>>>19|w<<13)^w>>>10,T=((w=c[E-15])>>>7|w<<25)^(w>>>18|w<<14)^w>>>3,c[E]=(k+c[E-7]|0)+(T+c[E-16]|0)|0;for(E=0;E<64;E++)k=(((v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&g^~v&y)|0)+(b+(t[E]+c[E]|0)|0)|0,T=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&p^d&_^p&_)|0,b=y,y=g,g=v,v=m+k|0,m=_,_=p,p=d,d=k+T|0;r=r+d|0,n=n+p|0,i=i+_|0,a=a+m|0,o=o+v|0,s=s+g|0,u=u+y|0,l=l+b|0,h+=64,f-=64}}h(e);var f,d=e.length%64,p=e.length/536870912|0,_=e.length<<3,m=d<56?56:120,v=e.slice(e.length-d,e.length);for(v.push(128),f=d+1;f<m;f++)v.push(0);return v.push(p>>>24&255),v.push(p>>>16&255),v.push(p>>>8&255),v.push(p>>>0&255),v.push(_>>>24&255),v.push(_>>>16&255),v.push(_>>>8&255),v.push(_>>>0&255),h(v),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255,l>>>24&255,l>>>16&255,l>>>8&255,l>>>0&255]}function i(e,t,r){e=e.length<=64?e:n(e);var i,a=64+t.length+4,o=new Array(a),s=new Array(64),u=[];for(i=0;i<64;i++)o[i]=54;for(i=0;i<e.length;i++)o[i]^=e[i];for(i=0;i<t.length;i++)o[64+i]=t[i];for(i=a-4;i<a;i++)o[i]=0;for(i=0;i<64;i++)s[i]=92;for(i=0;i<e.length;i++)s[i]^=e[i];function l(){for(var e=a-1;e>=a-4;e--){if(o[e]++,o[e]<=255)return;o[e]=0}}for(;r>=32;)l(),u=u.concat(n(s.concat(n(o)))),r-=32;return r>0&&(l(),u=u.concat(n(s.concat(n(o))).slice(0,r))),u}function a(e,t,r,n,i){var a;for(l(e,16*(2*r-1),i,0,16),a=0;a<2*r;a++)u(e,16*a,i,16),s(i,n),l(i,0,e,t+16*a,16);for(a=0;a<r;a++)l(e,t+2*a*16,e,16*a,16);for(a=0;a<r;a++)l(e,t+16*(2*a+1),e,16*(a+r),16)}function o(e,t){return e<<t|e>>>32-t}function s(e,t){l(e,0,t,0,16);for(var r=8;r>0;r-=2)t[4]^=o(t[0]+t[12],7),t[8]^=o(t[4]+t[0],9),t[12]^=o(t[8]+t[4],13),t[0]^=o(t[12]+t[8],18),t[9]^=o(t[5]+t[1],7),t[13]^=o(t[9]+t[5],9),t[1]^=o(t[13]+t[9],13),t[5]^=o(t[1]+t[13],18),t[14]^=o(t[10]+t[6],7),t[2]^=o(t[14]+t[10],9),t[6]^=o(t[2]+t[14],13),t[10]^=o(t[6]+t[2],18),t[3]^=o(t[15]+t[11],7),t[7]^=o(t[3]+t[15],9),t[11]^=o(t[7]+t[3],13),t[15]^=o(t[11]+t[7],18),t[1]^=o(t[0]+t[3],7),t[2]^=o(t[1]+t[0],9),t[3]^=o(t[2]+t[1],13),t[0]^=o(t[3]+t[2],18),t[6]^=o(t[5]+t[4],7),t[7]^=o(t[6]+t[5],9),t[4]^=o(t[7]+t[6],13),t[5]^=o(t[4]+t[7],18),t[11]^=o(t[10]+t[9],7),t[8]^=o(t[11]+t[10],9),t[9]^=o(t[8]+t[11],13),t[10]^=o(t[9]+t[8],18),t[12]^=o(t[15]+t[14],7),t[13]^=o(t[12]+t[15],9),t[14]^=o(t[13]+t[12],13),t[15]^=o(t[14]+t[13],18);for(var n=0;n<16;++n)e[n]+=t[n]}function u(e,t,r,n){for(var i=0;i<n;i++)r[i]^=e[t+i]}function l(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}function c(e){if(!e||"number"!==typeof e.length)return!1;for(var t=0;t<e.length;t++){var r=e[t];if("number"!==typeof r||r%1||r<0||r>=256)return!1}return!0}function h(e,t){if("number"!==typeof e||e%1)throw new Error("invalid "+t);return e}function f(e,t,n,o,s,f,d){if(n=h(n,"N"),o=h(o,"r"),s=h(s,"p"),f=h(f,"dkLen"),0===n||0!==(n&n-1))throw new Error("N must be power of 2");if(n>r/128/o)throw new Error("N too large");if(o>r/128/s)throw new Error("r too large");if(!c(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!c(t))throw new Error("salt must be an array or buffer");t=Array.prototype.slice.call(t);for(var p=i(e,t,128*s*o),_=new Uint32Array(32*s*o),m=0;m<_.length;m++){var v=4*m;_[m]=(255&p[v+3])<<24|(255&p[v+2])<<16|(255&p[v+1])<<8|(255&p[v+0])<<0}var g,y,b=new Uint32Array(64*o),w=new Uint32Array(32*o*n),E=32*o,x=new Uint32Array(16),k=new Uint32Array(16),T=s*n*2,M=0,A=null,O=!1,S=0,R=0,C=d?parseInt(1e3/o):4294967295,P="undefined"!==typeof setImmediate?setImmediate:setTimeout,D=function t(){if(O)return d(new Error("cancelled"),M/T);var r;switch(S){case 0:l(_,y=32*R*o,b,0,E),S=1,g=0;case 1:(r=n-g)>C&&(r=C);for(var c=0;c<r;c++)l(b,0,w,(g+c)*E,E),a(b,E,o,x,k);if(g+=r,M+=r,d){var h=parseInt(1e3*M/T);if(h!==A){if(O=d(null,M/T))break;A=h}}if(g<n)break;g=0,S=2;case 2:(r=n-g)>C&&(r=C);for(var m=0;m<r;m++){var v=b[16*(2*o-1)]&n-1;u(w,v*E,b,E),a(b,E,o,x,k)}if(g+=r,M+=r,d){var D=parseInt(1e3*M/T);if(D!==A){if(O=d(null,M/T))break;A=D}}if(g<n)break;if(l(b,0,_,y,E),++R<s){S=0;break}p=[];for(var I=0;I<_.length;I++)p.push(_[I]>>0&255),p.push(_[I]>>8&255),p.push(_[I]>>16&255),p.push(_[I]>>24&255);var L=i(e,p,f);return d&&d(null,1,L),L}d&&P(t)};if(!d)for(;;){var I=D();if(void 0!=I)return I}D()}var d={scrypt:function(e,t,r,n,i,a,o){return new Promise((function(s,u){var l=0;o&&o(0),f(e,t,r,n,i,a,(function(e,t,r){if(e)u(e);else if(r)o&&1!==l&&o(1),s(new Uint8Array(r));else if(o&&t!==l)return l=t,o(t)}))}))},syncScrypt:function(e,t,r,n,i,a){return new Uint8Array(f(e,t,r,n,i,a))}};e.exports=d}()},5087:function(e,t,r){var n;if("object"===typeof globalThis)n=globalThis;else try{n=r(4210)}catch(s){}finally{if(n||"undefined"===typeof window||(n=window),!n)throw new Error("Could not determine global this")}var i=n.WebSocket||n.MozWebSocket,a=r(1496);function o(e,t){return t?new i(e,t):new i(e)}i&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(o,e,{get:function(){return i[e]}})})),e.exports={w3cwebsocket:i?o:null,version:a}},1496:function(e,t,r){e.exports=r(9794).version},6601:function(){},6594:function(e,t,r){"use strict";function n(e){this.wrapped=e}r.d(t,{Z:function(){return n}})},907:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:function(){return n}})},7326:function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:function(){return n}})},1441:function(e,t,r){"use strict";function n(e,t){var r={},n=!1;function i(r,i){return n=!0,i=new Promise((function(t){t(e[r](i))})),{done:!1,value:t(i)}}return r["undefined"!==typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},r.next=function(e){return n?(n=!1,e):i("next",e)},"function"===typeof e.throw&&(r.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"===typeof e.return&&(r.return=function(e){return n?(n=!1,e):i("return",e)}),r}r.d(t,{Z:function(){return n}})},6296:function(e,t,r){"use strict";function n(e){var t,r,n,a=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);a--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new i(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function i(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return i=function(e){this.s=e,this.n=e.next},i.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new i(e)}r.d(t,{Z:function(){return n}})},5861:function(e,t,r){"use strict";function n(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void r(l)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,u,"next",e)}function u(e){n(o,i,a,s,u,"throw",e)}s(void 0)}))}}r.d(t,{Z:function(){return i}})},6420:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(6594);function i(e){return new n.Z(e)}},5671:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{Z:function(){return n}})},3144:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.d(t,{Z:function(){return i}})},7762:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(181);function i(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=(0,n.Z)(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}},9388:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(1120),i=r(8814),a=r(2963);function o(e){var t=(0,i.Z)();return function(){var r,i=(0,n.Z)(e);if(t){var o=(0,n.Z)(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return(0,a.Z)(this,r)}}},4942:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:function(){return n}})},8301:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(8415);function i(){return i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var i=(0,n.Z)(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}},i.apply(this,arguments)}},1120:function(e,t,r){"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{Z:function(){return n}})},136:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,n.Z)(e,t)}},8814:function(e,t,r){"use strict";function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}r.d(t,{Z:function(){return n}})},1413:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(4942);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},2963:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(1002),i=r(7326);function a(e,t){if(t&&("object"===(0,n.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},4165:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(1002);function i(){i=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new T(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return A()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=E(o,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,o),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f={};function d(){}function p(){}function _(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(M([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=_.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(a,o,s,u){var l=h(e[a],e,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==(0,n.Z)(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,u)}))}u(l.arg)}var a;this._invoke=function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=h(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function M(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=_,l(y,"constructor",_),l(_,"constructor",p),p.displayName=l(_,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,u,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new w(c(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),l(y,u,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=M,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:M(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}},9611:function(e,t,r){"use strict";function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,{Z:function(){return n}})},885:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}(e,t)||(0,n.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},8415:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(1120);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,n.Z)(e)););return e}},2982:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(907);var i=r(181);function a(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{Z:function(){return n}})},181:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(907);function i(e,t){if(e){if("string"===typeof e)return(0,n.Z)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.Z)(e,t):void 0}}},608:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(6594);function i(e){var t,r;function i(t,r){try{var o=e[t](r),s=o.value,u=s instanceof n.Z;Promise.resolve(u?s.wrapped:s).then((function(e){u?i("return"===t?"return":"next",e):a(o.done?"return":"normal",e)}),(function(e){i("throw",e)}))}catch(l){a("throw",l)}}function a(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?i(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise((function(a,o){var s={key:e,arg:n,resolve:a,reject:o,next:null};r?r=r.next=s:(t=r=s,i(e,n))}))},"function"!==typeof e.return&&(this.return=void 0)}function a(e){return function(){return new i(e.apply(this,arguments))}}i.prototype["function"===typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)}},8737:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(1120),i=r(9611);var a=r(8814);function o(e,t,r){return o=(0,a.Z)()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&(0,i.Z)(a,r.prototype),a},o.apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return o(e,arguments,(0,n.Z)(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(a,e)},s(e)}},4630:function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{xk:function(){return Web3Storage}});var C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2982),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(7326),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(885),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1413),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3144),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5671),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(136),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9388),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapNativeSuper_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(8737),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4942),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(7762),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5861),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4165),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncGeneratorDelegate_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1441),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(6420),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(608),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6296),_resolvers;function getIterator(e){if("function"==typeof e.next)return e;if("function"==typeof e[Symbol.iterator])return e[Symbol.iterator]();if("function"==typeof e[Symbol.asyncIterator])return e[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function defer(){var e,t;return{promise:new Promise((function(r,n){t=r,e=n})),reject:e,resolve:t}}function _transform(e,t,r){var n=getIterator(r),i=[],a=[],o=!1,s=!1,u=0,l=null;function c(){for(;a.length>0&&i.length>0;){(0,a.shift().resolve)({done:!1,value:i.shift()})}for(;a.length>0&&0===u&&o;){var e=a.shift(),t=e.resolve,r=e.reject;l?(r(l),l=null):t({done:!0,value:void 0})}}function h(){return f.apply(this,arguments)}function f(){return f=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function r(){var a,f,d;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!o){r.next=4;break}c(),r.next=19;break;case 4:if(s||u+i.length>=e){r.next=19;break}return s=!0,u++,r.prev=6,r.next=9,n.next();case 9:a=r.sent,f=a.done,d=a.value,f?(o=!0,u--,c()):function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(r){var n;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(r);case 3:n=e.sent,i.push(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o=!0,l=e.t0;case 10:u--,c(),h();case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()(d),r.next=18;break;case 15:r.prev=15,r.t0=r.catch(6),o=!0,u--,l=r.t0,c();case 18:s=!1,h();case 19:case"end":return r.stop()}}),r,null,[[6,15]])}))),f.apply(this,arguments)}var d=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__.Z)({next:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){var t,r;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==i.length){e.next=3;break}return t=defer(),e.abrupt("return",(a.push(t),h(),t.promise));case 3:return r=i.shift(),e.abrupt("return",(h(),{done:!1,value:r}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},Symbol.asyncIterator,(function(){return d}));return d}function transform(e,t,r){return void 0===t?function(t,r){return r?transform(e,t,r):transform(e,t)}:void 0===r?function(r){return transform(e,t,r)}:_transform(e,t,r)}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}var pRetry$2={exports:{}},retry$2={};function RetryOperation(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},RetryOperation.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1)}var n=this;return this._timer=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r),this._options.unref&&this._timer.unref(),!0},RetryOperation.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},RetryOperation.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},RetryOperation.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},RetryOperation.prototype.start=RetryOperation.prototype.try,RetryOperation.prototype.errors=function(){return this._errors},RetryOperation.prototype.attempts=function(){return this._attempts},RetryOperation.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],a=i.message,o=(e[a]||0)+1;e[a]=o,o>=r&&(t=i,r=o)}return t},function(e){var t=retry_operation;e.operation=function(r){var n=e.timeouts(r);return new t(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},e.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<t.retries;i++)n.push(this.createTimeout(i,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(i,t)),n.sort((function(e,t){return e-t})),n},e.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return Math.min(n,t.maxTimeout)},e.wrap=function(t,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var i in n=[],t)"function"==typeof t[i]&&n.push(i);for(var a=0;a<n.length;a++){var o=n[a],s=t[o];t[o]=function(n){var i=e.operation(r),a=Array.prototype.slice.call(arguments,1),o=a.pop();a.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),o.apply(this,arguments))})),i.attempt((function(){n.apply(t,a)}))}.bind(t,s),t[o].options=r}}}(retry$2);var retry$1=retry$2,retry=retry$1,networkErrorMsgs=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"],AbortError=function(e){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__.Z)(r,e);var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_5__.Z)(r);function r(e){var n;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,r),n=t.call(this),e instanceof Error?(n.originalError=e,e=e.message):(n.originalError=new Error(e),n.originalError.stack=n.stack),n.name="AbortError",n.message=e,n}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(r)}((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapNativeSuper_js__WEBPACK_IMPORTED_MODULE_8__.Z)(Error)),decorateErrorWithCounts=function(e,t,r){var n=r.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=n,e},isNetworkError=function(e){return networkErrorMsgs.includes(e)},pRetry=function(e,t){return new Promise((function(r,n){t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)({onFailedAttempt:function(){},retries:10},t);var i=retry.operation(t);i.attempt(function(){var a=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function a(o){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.t0=r,a.next=4,e(o);case 4:a.t1=a.sent,(0,a.t0)(a.t1),a.next=30;break;case 8:if(a.prev=8,a.t2=a.catch(0),a.t2 instanceof Error){a.next=12;break}return a.abrupt("return",void n(new TypeError('Non-error was thrown: "'.concat(a.t2,'". You should only throw errors.'))));case 12:if(!(a.t2 instanceof AbortError)){a.next=16;break}i.stop(),n(a.t2.originalError),a.next=30;break;case 16:if(!(a.t2 instanceof TypeError)||isNetworkError(a.t2.message)){a.next=20;break}i.stop(),n(a.t2),a.next=30;break;case 20:return decorateErrorWithCounts(a.t2,o,t),a.prev=21,a.next=24,t.onFailedAttempt(a.t2);case 24:a.next=29;break;case 26:return a.prev=26,a.t3=a.catch(21),a.abrupt("return",void n(a.t3));case 29:i.retry(a.t2)||n(i.mainError());case 30:case"end":return a.stop()}}),a,null,[[0,8],[21,26]])})));return function(e){return a.apply(this,arguments)}}())}))};pRetry$2.exports=pRetry,pRetry$2.exports.default=pRetry;var AbortError_1=pRetry$2.exports.AbortError=AbortError,pRetry$1=pRetry$2.exports,last=function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i,a,o,s,u;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,i=!1,e.prev=2,o=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t);case 4:return e.next=6,o.next();case 6:if(!(n=!(s=e.sent).done)){e.next=12;break}u=s.value,r=u;case 9:n=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),i=!0,a=e.t0;case 18:if(e.prev=18,e.prev=19,!n||null==o.return){e.next=23;break}return e.next=23,o.return();case 23:if(e.prev=23,!i){e.next=26;break}throw a;case 26:return e.finish(23);case 27:return e.finish(18);case 28:return e.abrupt("return",r);case 29:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])})));return function(t){return e.apply(this,arguments)}}(),itLast=last,itPipe={exports:{}},rawPipe=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(;r.length;)e=r.shift()(e);return e},isIterable$1=function(e){return e&&("function"==typeof e[Symbol.asyncIterator]||"function"==typeof e[Symbol.iterator]||"function"==typeof e.next)},isDuplex=function(e){return e&&"function"==typeof e.sink&&isIterable$1(e.source)},duplexPipelineFn=function(e){return function(t){return e.sink(t),e.source}},pipe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(isDuplex(t[0])){var n=t[0];t[0]=function(){return n.source}}else if(isIterable$1(t[0])){var i=t[0];t[0]=function(){return i}}if(t.length>1&&isDuplex(t[t.length-1])&&(t[t.length-1]=t[t.length-1].sink),t.length>2)for(var a=1;a<t.length-1;a++)isDuplex(t[a])&&(t[a]=duplexPipelineFn(t[a]));return rawPipe.apply(void 0,t)};itPipe.exports=pipe,itPipe.exports.pipe=pipe,itPipe.exports.rawPipe=rawPipe,itPipe.exports.isIterable=isIterable$1,itPipe.exports.isDuplex=isDuplex;var pipe$1=itPipe.exports,encode_1$1=encode$8,MSB$3=128,REST$3=127,MSBALL$1=~REST$3,INT$1=Math.pow(2,31);function encode$8(e,t,r){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw encode$8.bytes=0,new RangeError("Could not encode varint");t=t||[];for(var n=r=r||0;e>=INT$1;)t[r++]=255&e|MSB$3,e/=128;for(;e&MSBALL$1;)t[r++]=255&e|MSB$3,e>>>=7;return t[r]=0|e,encode$8.bytes=r-n+1,t}var decode$a=read$1,MSB$2=128,REST$2=127;function read$1(e,t){var r,n=0,i=0,a=t=t||0,o=e.length;do{if(a>=o||i>49)throw read$1.bytes=0,new RangeError("Could not decode varint");r=e[a++],n+=i<28?(r&REST$2)<<i:(r&REST$2)*Math.pow(2,i),i+=7}while(r>=MSB$2);return read$1.bytes=a-t,n}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$1=function(e){return e<N1$1?1:e<N2$1?2:e<N3$1?3:e<N4$1?4:e<N5$1?5:e<N6$1?6:e<N7$1?7:e<N8$1?8:e<N9$1?9:10},varint$1={encode:encode_1$1,decode:decode$a,encodingLength:length$1},encode_1=encode$7,MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);function encode$7(e,t,r){t=t||[];for(var n=r=r||0;e>=INT;)t[r++]=255&e|MSB,e/=128;for(;e&MSBALL;)t[r++]=255&e|MSB,e>>>=7;return t[r]=0|e,encode$7.bytes=r-n+1,t}var decode$9=read,MSB$1=128,REST$1=127;function read(e,t){var r,n=0,i=0,a=t=t||0,o=e.length;do{if(a>=o)throw read.bytes=0,new RangeError("Could not decode varint");r=e[a++],n+=i<28?(r&REST$1)<<i:(r&REST$1)*Math.pow(2,i),i+=7}while(r>=MSB$1);return read.bytes=a-t,n}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(e){return e<N1?1:e<N2?2:e<N3?3:e<N4?4:e<N5?5:e<N6?6:e<N7?7:e<N8?8:e<N9?9:10},varint={encode:encode_1,decode:decode$9,encodingLength:length},_brrp_varint=varint,decode$8=function(e){return[_brrp_varint.decode(e),_brrp_varint.decode.bytes]},encodeTo=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _brrp_varint.encode(e,t,r),t},encodingLength=function(e){return _brrp_varint.encodingLength(e)},empty=new Uint8Array(0),fromHex=function(e){var t=e.match(/../g);return t?new Uint8Array(t.map((function(e){return parseInt(e,16)}))):empty},equals$2=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},coerce=function(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},fromString$3=function(e){return(new TextEncoder).encode(e)},toString$1=function(e){return(new TextDecoder).decode(e)},create$4=function(e,t){var r=t.byteLength,n=encodingLength(e),i=n+encodingLength(r),a=new Uint8Array(i+r);return encodeTo(e,a,0),encodeTo(r,a,n),a.set(t,i),new Digest(e,r,t,a)},decode$7=function(e){var t=coerce(e),r=decode$8(t),n=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(r,2),i=n[0],a=n[1],o=decode$8(t.subarray(a)),s=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(o,2),u=s[0],l=s[1],c=t.subarray(a+l);if(c.byteLength!==u)throw new Error("Incorrect length");return new Digest(i,u,c,t)},equals$1=function(e,t){return e===t||e.code===t.code&&e.size===t.size&&equals$2(e.bytes,t.bytes)},Digest=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)((function e(t,r,n,i){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this.code=t,this.size=r,this.digest=n,this.bytes=i}));function base(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),o=a.charCodeAt(0);if(255!==r[o])throw new TypeError(a+" is ambiguous");r[o]=i}var s=e.length,u=e.charAt(0),l=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var a=(e.length-t)*l+1>>>0,o=new Uint8Array(a);e[t];){var c=r[e.charCodeAt(t)];if(255===c)return;for(var h=0,f=a-1;(0!==c||h<i)&&-1!==f;f--,h++)c+=s*o[f]>>>0,o[f]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var d=a-i;d!==a&&0===o[d];)d++;for(var p=new Uint8Array(n+(a-d)),_=n;d!==a;)p[_++]=o[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,a=t.length;i!==a&&0===t[i];)i++,r++;for(var o=(a-i)*c+1>>>0,l=new Uint8Array(o);i!==a;){for(var h=t[i],f=0,d=o-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*l[d]>>>0,l[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw new Error("Non-zero carry");n=f,i++}for(var p=o-n;p!==o&&0===l[p];)p++;for(var _=u.repeat(r);p<o;++p)_+=e.charAt(l[p]);return _},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error("Non-".concat(t," character"))}}}var src$2=base,_brrp__multiformats_scope_baseX=src$2,Encoder=function(){function e(t,r,n){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this.name=t,this.prefix=r,this.baseEncode=n}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"encode",value:function(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}]),e}(),Decoder=function(){function e(t,r,n){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this.name=t,this.prefix=r,this.baseDecode=n}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"decode",value:function(e){if("string"==typeof e){if(e[0]===this.prefix)return this.baseDecode(e.slice(1));throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix))}throw Error("Can only multibase decode strings")}},{key:"or",value:function(e){return _or(this,e)}}]),e}(),ComposedDecoder=function(){function e(t){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this.decoders=t}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"or",value:function(e){return _or(this,e)}},{key:"decode",value:function(e){var t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}]),e}(),_or=function(e,t){return new ComposedDecoder((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)({},e.decoders||(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},e.prefix,e)),t.decoders||(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},t.prefix,t)))},Codec=function(){function e(t,r,n,i){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Encoder(t,r,n),this.decoder=new Decoder(t,r,i)}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"encode",value:function(e){return this.encoder.encode(e)}},{key:"decode",value:function(e){return this.decoder.decode(e)}}]),e}(),from$1=function(e){var t=e.name,r=e.prefix,n=e.encode,i=e.decode;return new Codec(t,r,n,i)},baseX=function(e){var t=e.prefix,r=e.name,n=e.alphabet,i=_brrp__multiformats_scope_baseX(n,r),a=i.encode,o=i.decode;return from$1({prefix:t,name:r,encode:a,decode:function(e){return coerce(o(e))}})},decode$6=function(e,t,r,n){for(var i={},a=0;a<t.length;++a)i[t[a]]=a;for(var o=e.length;"="===e[o-1];)--o;for(var s=new Uint8Array(o*r/8|0),u=0,l=0,c=0,h=0;h<o;++h){var f=i[e[h]];if(void 0===f)throw new SyntaxError("Non-".concat(n," character"));l=l<<r|f,(u+=r)>=8&&(u-=8,s[c++]=255&l>>u)}if(u>=r||255&l<<8-u)throw new SyntaxError("Unexpected end of data");return s},encode$6=function(e,t,r){for(var n="="===t[t.length-1],i=(1<<r)-1,a="",o=0,s=0,u=0;u<e.length;++u)for(s=s<<8|e[u],o+=8;o>r;)a+=t[i&s>>(o-=r)];if(o&&(a+=t[i&s<<r-o]),n)for(;a.length*r&7;)a+="=";return a},rfc4648=function(e){var t=e.name,r=e.prefix,n=e.bitsPerChar,i=e.alphabet;return from$1({prefix:r,name:t,encode:function(e){return encode$6(e,i,n)},decode:function(e){return decode$6(e,i,n,t)}})},base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze({__proto__:null,base58btc:base58btc,base58flickr:base58flickr}),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze({__proto__:null,base32:base32,base32upper:base32upper,base32pad:base32pad,base32padupper:base32padupper,base32hex:base32hex,base32hexupper:base32hexupper,base32hexpad:base32hexpad,base32hexpadupper:base32hexpadupper,base32z:base32z}),CID=function(e,t){function r(e,t,n,i){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,r),this.code=t,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly$1,version:readonly$1,multihash:readonly$1,bytes:readonly$1,_baseCache:hidden,asCID:hidden})}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(r,[{key:"toV0",value:function(){if(0===this.version)return this;var e=this.code,t=this.multihash;if(e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return r.createV0(t)}},{key:"toV1",value:function(){switch(this.version){case 0:var e=this.multihash,t=e.code,n=e.digest,i=create$4(t,n);return r.createV1(this.code,i);case 1:return this;default:throw Error("Can not convert CID version ".concat(this.version," to version 0. This is a bug please report"))}}},{key:"equals",value:function(e){return e&&this.code===e.code&&this.version===e.version&&equals$1(this.multihash,e.multihash)}},{key:"toString",value:function(e){var t=this.bytes,r=this.version,n=this._baseCache;return 0===r?toStringV0(t,n,e||base58btc.encoder):toStringV1(t,n,e||base32.encoder)}},{key:"toJSON",value:function(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}},{key:e,get:function(){return"CID"}},{key:t,value:function(){return"CID("+this.toString()+")"}},{key:"toBaseEncodedString",get:function(){throw new Error("Deprecated, use .toString()")}},{key:"codec",get:function(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}},{key:"buffer",get:function(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}},{key:"multibaseName",get:function(){throw new Error('"multibaseName" property is deprecated')}},{key:"prefix",get:function(){throw new Error('"prefix" property is deprecated')}}],[{key:"isCID",value:function(e){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!(!e||!e[cidSymbol]&&e.asCID!==e)}},{key:"asCID",value:function(e){if(e instanceof r)return e;if(null!=e&&e.asCID===e){var t=e.version,n=e.code,i=e.multihash;return new r(t,n,i,e.bytes||encodeCID(t,n,i.bytes))}if(null!=e&&!0===e[cidSymbol]){var a=e.version,o=e.multihash,s=e.code,u=decode$7(o);return r.create(a,s,u)}return null}},{key:"create",value:function(e,t,n){if("number"!=typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==DAG_PB_CODE)throw new Error("Version 0 CID must use dag-pb (code: ".concat(DAG_PB_CODE,") block encoding"));return new r(e,t,n,n.bytes);case 1:return new r(e,t,n,encodeCID(e,t,n.bytes));default:throw new Error("Invalid version")}}},{key:"createV0",value:function(e){return r.create(0,DAG_PB_CODE,e)}},{key:"createV1",value:function(e,t){return r.create(1,e,t)}},{key:"decode",value:function(e){var t=r.decodeFirst(e),n=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(t,2),i=n[0];if(n[1].length)throw new Error("Incorrect length");return i}},{key:"decodeFirst",value:function(e){var t=r.inspectBytes(e),n=t.size-t.multihashSize,i=coerce(e.subarray(n,n+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");var a=i.subarray(t.multihashSize-t.digestSize),o=new Digest(t.multihashCode,t.digestSize,a,i);return[0===t.version?r.createV0(o):r.createV1(t.codec,o),e.subarray(t.size)]}},{key:"inspectBytes",value:function(e){var t=0,r=function(){var r=decode$8(e.subarray(t)),n=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(r,2),i=n[0],a=n[1];return t+=a,i},n=r(),i=DAG_PB_CODE;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw new RangeError("Invalid CID version ".concat(n));var a=t,o=r(),s=r(),u=t+s;return{version:n,codec:i,multihashCode:o,digestSize:s,multihashSize:u-a,size:u}}},{key:"parse",value:function(e,t){var n=parseCIDtoBytes(e,t),i=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(n,2),a=i[0],o=i[1],s=r.decode(o);return s._baseCache.set(a,e),s}}]),r}(Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom")),parseCIDtoBytes=function(e,t){switch(e[0]){case"Q":var r=t||base58btc;return[base58btc.prefix,r.decode("".concat(base58btc.prefix).concat(e))];case base58btc.prefix:var n=t||base58btc;return[base58btc.prefix,n.decode(e)];case base32.prefix:var i=t||base32;return[base32.prefix,i.decode(e)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},toStringV0=function(e,t,r){var n=r.prefix;if(n!==base58btc.prefix)throw Error("Cannot string encode V0 in ".concat(r.name," encoding"));var i=t.get(n);if(null==i){var a=r.encode(e).slice(1);return t.set(n,a),a}return i},toStringV1=function(e,t,r){var n=r.prefix,i=t.get(n);if(null==i){var a=r.encode(e);return t.set(n,a),a}return i},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=function(e,t,r){var n=encodingLength(e),i=n+encodingLength(t),a=new Uint8Array(i+r.byteLength);return encodeTo(e,a,0),encodeTo(t,a,n),a.set(r,i),a},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly$1={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version="0.0.0-dev",deprecate=function(e,t){if(!e.test(version))throw new Error(t);console.warn(t)},IS_CID_DEPRECATION="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n",typeofs=["string","number","bigint","symbol"],objectTypeNames=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";var t=typeof e;return typeofs.includes(t)?t:"function"===t?"Function":Array.isArray(e)?"Array":isBuffer$1(e)?"Buffer":getObjectType(e)||"Object"}function isBuffer$1(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function getObjectType(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(objectTypeNames.includes(t))return t}var Type=function(){function e(t,r,n){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this.major=t,this.majorEncoded=t<<5,this.name=r,this.terminal=n}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"toString",value:function(){return"Type[".concat(this.major,"].").concat(this.name)}},{key:"compare",value:function(e){return this.major<e.major?-1:this.major>e.major?1:0}}]),e}();Type.uint=new Type(0,"uint",!0),Type.negint=new Type(1,"negint",!0),Type.bytes=new Type(2,"bytes",!0),Type.string=new Type(3,"string",!0),Type.array=new Type(4,"array",!1),Type.map=new Type(5,"map",!1),Type.tag=new Type(6,"tag",!1),Type.float=new Type(7,"float",!0),Type.false=new Type(7,"false",!0),Type.true=new Type(7,"true",!0),Type.null=new Type(7,"null",!0),Type.undefined=new Type(7,"undefined",!0),Type.break=new Type(7,"break",!0);var Token=function(){function e(t,r,n){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this.type=t,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"toString",value:function(){return"Token[".concat(this.type,"].").concat(this.value)}}]),e}(),useBuffer=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,textDecoder$1=new TextDecoder,textEncoder$2=new TextEncoder;function isBuffer(e){return useBuffer&&globalThis.Buffer.isBuffer(e)}function asU8A(e){return e instanceof Uint8Array?isBuffer(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}var toString=useBuffer?function(e,t,r){return r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):utf8Slice(e,t,r)}:function(e,t,r){return r-t>64?textDecoder$1.decode(e.subarray(t,r)):utf8Slice(e,t,r)},fromString$2=useBuffer?function(e){return e.length>64?globalThis.Buffer.from(e):utf8ToBytes(e)}:function(e){return e.length>64?textEncoder$2.encode(e):utf8ToBytes(e)},fromArray=function(e){return Uint8Array.from(e)},slice=useBuffer?function(e,t,r){return isBuffer(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r)}:function(e,t,r){return e.slice(t,r)},concat$2=useBuffer?function(e,t){return e=e.map((function(e){return e instanceof Uint8Array?e:globalThis.Buffer.from(e)})),asU8A(globalThis.Buffer.concat(e,t))}:function(e,t){var r,n=new Uint8Array(t),i=0,a=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;i+o.length>n.length&&(o=o.subarray(0,n.length-i)),n.set(o,i),i+=o.length}}catch(s){a.e(s)}finally{a.f()}return n},alloc=useBuffer?function(e){return globalThis.Buffer.allocUnsafe(e)}:function(e){return new Uint8Array(e)};function compare(e,t){if(isBuffer(e)&&isBuffer(t))return e.compare(t);for(var r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function utf8ToBytes(e){for(var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=e.length,i=null,a=[],o=0;o<n;++o){if((t=e.charCodeAt(o))>55295&&t<57344){if(!i){if(t>56319){(r-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(r-=3)>-1&&a.push(239,191,189);continue}i=t;continue}if(t<56320){(r-=3)>-1&&a.push(239,191,189),i=t;continue}t=65536+(i-55296<<10|t-56320)}else i&&(r-=3)>-1&&a.push(239,191,189);if(i=null,t<128){if((r-=1)<0)break;a.push(t)}else if(t<2048){if((r-=2)<0)break;a.push(t>>6|192,63&t|128)}else if(t<65536){if((r-=3)<0)break;a.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;a.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return a}function utf8Slice(e,t,r){for(var n=[];t<r;){var i=e[t],a=null,o=i>239?4:i>223?3:i>191?2:1;if(t+o<=r){var s=void 0,u=void 0,l=void 0,c=void 0;switch(o){case 1:i<128&&(a=i);break;case 2:128==(192&(s=e[t+1]))&&((c=(31&i)<<6|63&s)>127&&(a=c));break;case 3:s=e[t+1],u=e[t+2],128==(192&s)&&128==(192&u)&&((c=(15&i)<<12|(63&s)<<6|63&u)>2047&&(c<55296||c>57343)&&(a=c));break;case 4:s=e[t+1],u=e[t+2],l=e[t+3],128==(192&s)&&128==(192&u)&&128==(192&l)&&((c=(15&i)<<18|(63&s)<<12|(63&u)<<6|63&l)>65535&&c<1114112&&(a=c))}}null===a?(a=65533,o=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),t+=o}return decodeCodePointsArray(n)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){var t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}var defaultChunkSize=256,Bl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultChunkSize;(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"reset",value:function(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}},{key:"push",value:function(e){var t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){var r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){var n=t.length-(this.maxCursor-this.cursor)-1;n<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,n),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=alloc(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}},{key:"toBytes",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(1===this.chunks.length){var r=this.chunks[0];t&&this.cursor>r.length/2?(e=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):e=slice(r,0,this.cursor)}else e=concat$2(this.chunks,this.cursor);return t&&this.reset(),e}}]),e}(),decodeErrPrefix="CBOR decode error:",encodeErrPrefix="CBOR encode error:";function assertEnoughData(e,t,r){if(e.length-t<r)throw new Error("".concat(decodeErrPrefix," not enough data for type"))}var uintBoundaries=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8(e,t,r){assertEnoughData(e,t,1);var n=e[t];if(!0===r.strict&&n<uintBoundaries[0])throw new Error("".concat(decodeErrPrefix," integer encoded in more bytes than necessary (strict decode)"));return n}function readUint16(e,t,r){assertEnoughData(e,t,2);var n=e[t]<<8|e[t+1];if(!0===r.strict&&n<uintBoundaries[1])throw new Error("".concat(decodeErrPrefix," integer encoded in more bytes than necessary (strict decode)"));return n}function readUint32(e,t,r){assertEnoughData(e,t,4);var n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===r.strict&&n<uintBoundaries[2])throw new Error("".concat(decodeErrPrefix," integer encoded in more bytes than necessary (strict decode)"));return n}function readUint64(e,t,r){assertEnoughData(e,t,8);var n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],a=(BigInt(n)<<BigInt(32))+BigInt(i);if(!0===r.strict&&a<uintBoundaries[3])throw new Error("".concat(decodeErrPrefix," integer encoded in more bytes than necessary (strict decode)"));if(a<=Number.MAX_SAFE_INTEGER)return Number(a);if(!0===r.allowBigInt)return a;throw new Error("".concat(decodeErrPrefix," integers outside of the safe integer range are not supported"))}function decodeUint8(e,t,r,n){return new Token(Type.uint,readUint8(e,t+1,n),2)}function decodeUint16(e,t,r,n){return new Token(Type.uint,readUint16(e,t+1,n),3)}function decodeUint32(e,t,r,n){return new Token(Type.uint,readUint32(e,t+1,n),5)}function decodeUint64(e,t,r,n){return new Token(Type.uint,readUint64(e,t+1,n),9)}function encodeUint(e,t){return encodeUintValue(e,0,t.value)}function encodeUintValue(e,t,r){if(r<uintBoundaries[0]){var n=Number(r);e.push([t|n])}else if(r<uintBoundaries[1]){var i=Number(r);e.push([24|t,i])}else if(r<uintBoundaries[2]){var a=Number(r);e.push([25|t,a>>>8,255&a])}else if(r<uintBoundaries[3]){var o=Number(r);e.push([26|t,o>>>24&255,o>>>16&255,o>>>8&255,255&o])}else{var s=BigInt(r);if(!(s<uintBoundaries[4]))throw new Error("".concat(decodeErrPrefix," encountered BigInt larger than allowable range"));var u=[27|t,0,0,0,0,0,0,0],l=Number(s&BigInt(4294967295)),c=Number(s>>BigInt(32)&BigInt(4294967295));u[8]=255&l,l>>=8,u[7]=255&l,l>>=8,u[6]=255&l,l>>=8,u[5]=255&l,u[4]=255&c,c>>=8,u[3]=255&c,c>>=8,u[2]=255&c,c>>=8,u[1]=255&c,e.push(u)}}function decodeNegint8(e,t,r,n){return new Token(Type.negint,-1-readUint8(e,t+1,n),2)}function decodeNegint16(e,t,r,n){return new Token(Type.negint,-1-readUint16(e,t+1,n),3)}function decodeNegint32(e,t,r,n){return new Token(Type.negint,-1-readUint32(e,t+1,n),5)}encodeUint.encodedSize=function(e){return encodeUintValue.encodedSize(e.value)},encodeUintValue.encodedSize=function(e){return e<uintBoundaries[0]?1:e<uintBoundaries[1]?2:e<uintBoundaries[2]?3:e<uintBoundaries[3]?5:9},encodeUint.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};var neg1b=BigInt(-1),pos1b=BigInt(1);function decodeNegint64(e,t,r,n){var i=readUint64(e,t+1,n);if("bigint"!=typeof i){var a=-1-i;if(a>=Number.MIN_SAFE_INTEGER)return new Token(Type.negint,a,9)}if(!0!==n.allowBigInt)throw new Error("".concat(decodeErrPrefix," integers outside of the safe integer range are not supported"));return new Token(Type.negint,neg1b-BigInt(i),9)}function encodeNegint(e,t){var r=t.value,n="bigint"==typeof r?r*neg1b-pos1b:-1*r-1;encodeUintValue(e,t.type.majorEncoded,n)}function toToken$3(e,t,r,n){assertEnoughData(e,t,r+n);var i=slice(e,t+r,t+r+n);return new Token(Type.bytes,i,r+n)}function decodeBytesCompact(e,t,r,n){return toToken$3(e,t,1,r)}function decodeBytes8(e,t,r,n){return toToken$3(e,t,2,readUint8(e,t+1,n))}function decodeBytes16(e,t,r,n){return toToken$3(e,t,3,readUint16(e,t+1,n))}function decodeBytes32(e,t,r,n){return toToken$3(e,t,5,readUint32(e,t+1,n))}function decodeBytes64(e,t,r,n){var i=readUint64(e,t+1,n);if("bigint"==typeof i)throw new Error("".concat(decodeErrPrefix," 64-bit integer bytes lengths not supported"));return toToken$3(e,t,9,i)}function tokenBytes(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===Type.string?fromString$2(e.value):e.value),e.encodedBytes}function encodeBytes(e,t){var r=tokenBytes(t);encodeUintValue(e,t.type.majorEncoded,r.length),e.push(r)}function compareBytes(e,t){return e.length<t.length?-1:e.length>t.length?1:compare(e,t)}function toToken$2(e,t,r,n,i){var a=r+n;assertEnoughData(e,t,a);var o=new Token(Type.string,toString(e,t+r,t+a),a);return!0===i.retainStringBytes&&(o.byteValue=slice(e,t+r,t+a)),o}function decodeStringCompact(e,t,r,n){return toToken$2(e,t,1,r,n)}function decodeString8(e,t,r,n){return toToken$2(e,t,2,readUint8(e,t+1,n),n)}function decodeString16(e,t,r,n){return toToken$2(e,t,3,readUint16(e,t+1,n),n)}function decodeString32(e,t,r,n){return toToken$2(e,t,5,readUint32(e,t+1,n),n)}function decodeString64(e,t,r,n){var i=readUint64(e,t+1,n);if("bigint"==typeof i)throw new Error("".concat(decodeErrPrefix," 64-bit integer string lengths not supported"));return toToken$2(e,t,9,i,n)}encodeNegint.encodedSize=function(e){var t=e.value,r="bigint"==typeof t?t*neg1b-pos1b:-1*t-1;return r<uintBoundaries[0]?1:r<uintBoundaries[1]?2:r<uintBoundaries[2]?3:r<uintBoundaries[3]?5:9},encodeNegint.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},encodeBytes.encodedSize=function(e){var t=tokenBytes(e);return encodeUintValue.encodedSize(t.length)+t.length},encodeBytes.compareTokens=function(e,t){return compareBytes(tokenBytes(e),tokenBytes(t))};var encodeString=encodeBytes;function toToken$1(e,t,r,n){return new Token(Type.array,n,r)}function decodeArrayCompact(e,t,r,n){return toToken$1(e,t,1,r)}function decodeArray8(e,t,r,n){return toToken$1(e,t,2,readUint8(e,t+1,n))}function decodeArray16(e,t,r,n){return toToken$1(e,t,3,readUint16(e,t+1,n))}function decodeArray32(e,t,r,n){return toToken$1(e,t,5,readUint32(e,t+1,n))}function decodeArray64(e,t,r,n){var i=readUint64(e,t+1,n);if("bigint"==typeof i)throw new Error("".concat(decodeErrPrefix," 64-bit integer array lengths not supported"));return toToken$1(e,t,9,i)}function decodeArrayIndefinite(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("".concat(decodeErrPrefix," indefinite length items not allowed"));return toToken$1(e,t,1,1/0)}function encodeArray(e,t){encodeUintValue(e,Type.array.majorEncoded,t.value)}function toToken(e,t,r,n){return new Token(Type.map,n,r)}function decodeMapCompact(e,t,r,n){return toToken(e,t,1,r)}function decodeMap8(e,t,r,n){return toToken(e,t,2,readUint8(e,t+1,n))}function decodeMap16(e,t,r,n){return toToken(e,t,3,readUint16(e,t+1,n))}function decodeMap32(e,t,r,n){return toToken(e,t,5,readUint32(e,t+1,n))}function decodeMap64(e,t,r,n){var i=readUint64(e,t+1,n);if("bigint"==typeof i)throw new Error("".concat(decodeErrPrefix," 64-bit integer map lengths not supported"));return toToken(e,t,9,i)}function decodeMapIndefinite(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("".concat(decodeErrPrefix," indefinite length items not allowed"));return toToken(e,t,1,1/0)}function encodeMap(e,t){encodeUintValue(e,Type.map.majorEncoded,t.value)}function decodeTagCompact(e,t,r,n){return new Token(Type.tag,r,1)}function decodeTag8(e,t,r,n){return new Token(Type.tag,readUint8(e,t+1,n),2)}function decodeTag16(e,t,r,n){return new Token(Type.tag,readUint16(e,t+1,n),3)}function decodeTag32(e,t,r,n){return new Token(Type.tag,readUint32(e,t+1,n),5)}function decodeTag64(e,t,r,n){return new Token(Type.tag,readUint64(e,t+1,n),9)}function encodeTag(e,t){encodeUintValue(e,Type.tag.majorEncoded,t.value)}encodeArray.compareTokens=encodeUint.compareTokens,encodeArray.encodedSize=function(e){return encodeUintValue.encodedSize(e.value)},encodeMap.compareTokens=encodeUint.compareTokens,encodeMap.encodedSize=function(e){return encodeUintValue.encodedSize(e.value)},encodeTag.compareTokens=encodeUint.compareTokens,encodeTag.encodedSize=function(e){return encodeUintValue.encodedSize(e.value)};var MINOR_FALSE=20,MINOR_TRUE=21,MINOR_NULL=22,MINOR_UNDEFINED=23;function decodeUndefined(e,t,r,n){if(!1===n.allowUndefined)throw new Error("".concat(decodeErrPrefix," undefined values are not supported"));return!0===n.coerceUndefinedToNull?new Token(Type.null,null,1):new Token(Type.undefined,void 0,1)}function decodeBreak(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("".concat(decodeErrPrefix," indefinite length items not allowed"));return new Token(Type.break,void 0,1)}function createToken(e,t,r){if(r){if(!1===r.allowNaN&&Number.isNaN(e))throw new Error("".concat(decodeErrPrefix," NaN values are not supported"));if(!1===r.allowInfinity&&(e===1/0||e===-1/0))throw new Error("".concat(decodeErrPrefix," Infinity values are not supported"))}return new Token(Type.float,e,t)}function decodeFloat16(e,t,r,n){return createToken(readFloat16(e,t+1),3,n)}function decodeFloat32(e,t,r,n){return createToken(readFloat32(e,t+1),5,n)}function decodeFloat64(e,t,r,n){return createToken(readFloat64(e,t+1),9,n)}function encodeFloat(e,t,r){var n=t.value;if(!1===n)e.push([Type.float.majorEncoded|MINOR_FALSE]);else if(!0===n)e.push([Type.float.majorEncoded|MINOR_TRUE]);else if(null===n)e.push([Type.float.majorEncoded|MINOR_NULL]);else if(void 0===n)e.push([Type.float.majorEncoded|MINOR_UNDEFINED]);else{var i=!1;r&&!0===r.float64||(encodeFloat16(n),n===readFloat16(ui8a,1)||Number.isNaN(n)?(ui8a[0]=249,e.push(ui8a.slice(0,3)),i=!0):(encodeFloat32(n),n===readFloat32(ui8a,1)&&(ui8a[0]=250,e.push(ui8a.slice(0,5)),i=!0))),i||(encodeFloat64(n),readFloat64(ui8a,1),ui8a[0]=251,e.push(ui8a.slice(0,9)))}}encodeFloat.encodedSize=function(e,t){var r=e.value;if(!1===r||!0===r||null==r)return 1;if(!t||!0!==t.float64){encodeFloat16(r);var n=readFloat16(ui8a,1);if(r===n||Number.isNaN(r))return 3;if(encodeFloat32(r),r===(n=readFloat32(ui8a,1)))return 5}return 9};var buffer$1=new ArrayBuffer(9),dataView=new DataView(buffer$1,1),ui8a=new Uint8Array(buffer$1,0);function encodeFloat16(e){if(e===1/0)dataView.setUint16(0,31744,!1);else if(e===-1/0)dataView.setUint16(0,64512,!1);else if(Number.isNaN(e))dataView.setUint16(0,32256,!1);else{dataView.setFloat32(0,e);var t=dataView.getUint32(0),r=(2139095040&t)>>23,n=8388607&t;if(255===r)dataView.setUint16(0,31744,!1);else if(0===r)dataView.setUint16(0,(2147483648&e)>>16|n>>13,!1);else{var i=r-127;i<-24?dataView.setUint16(0,0):i<-14?dataView.setUint16(0,(2147483648&t)>>16|1<<24+i,!1):dataView.setUint16(0,(2147483648&t)>>16|i+15<<10|n>>13,!1)}}}function readFloat16(e,t){if(e.length-t<2)throw new Error("".concat(decodeErrPrefix," not enough data for float16"));var r=(e[t]<<8)+e[t+1];if(31744===r)return 1/0;if(64512===r)return-1/0;if(32256===r)return NaN;var n,i=r>>10&31,a=1023&r;return n=0===i?a*Math.pow(2,-24):31!==i?(a+1024)*Math.pow(2,i-25):0===a?1/0:NaN,32768&r?-n:n}function encodeFloat32(e){dataView.setFloat32(0,e,!1)}function readFloat32(e,t){if(e.length-t<4)throw new Error("".concat(decodeErrPrefix," not enough data for float32"));var r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function encodeFloat64(e){dataView.setFloat64(0,e,!1)}function readFloat64(e,t){if(e.length-t<8)throw new Error("".concat(decodeErrPrefix," not enough data for float64"));var r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}function invalidMinor(e,t,r){throw new Error("".concat(decodeErrPrefix," encountered invalid minor (").concat(r,") for major ").concat(e[t]>>>5))}function errorer(e){return function(){throw new Error("".concat(decodeErrPrefix," ").concat(e))}}encodeFloat.compareTokens=encodeUint.compareTokens;for(var jump=[],e=0;e<=23;e++)jump[e]=invalidMinor;jump[24]=decodeUint8,jump[25]=decodeUint16,jump[26]=decodeUint32,jump[27]=decodeUint64,jump[28]=invalidMinor,jump[29]=invalidMinor,jump[30]=invalidMinor,jump[31]=invalidMinor;for(var _e27=32;_e27<=55;_e27++)jump[_e27]=invalidMinor;jump[56]=decodeNegint8,jump[57]=decodeNegint16,jump[58]=decodeNegint32,jump[59]=decodeNegint64,jump[60]=invalidMinor,jump[61]=invalidMinor,jump[62]=invalidMinor,jump[63]=invalidMinor;for(var _e28=64;_e28<=87;_e28++)jump[_e28]=decodeBytesCompact;jump[88]=decodeBytes8,jump[89]=decodeBytes16,jump[90]=decodeBytes32,jump[91]=decodeBytes64,jump[92]=invalidMinor,jump[93]=invalidMinor,jump[94]=invalidMinor,jump[95]=errorer("indefinite length bytes/strings are not supported");for(var _e29=96;_e29<=119;_e29++)jump[_e29]=decodeStringCompact;jump[120]=decodeString8,jump[121]=decodeString16,jump[122]=decodeString32,jump[123]=decodeString64,jump[124]=invalidMinor,jump[125]=invalidMinor,jump[126]=invalidMinor,jump[127]=errorer("indefinite length bytes/strings are not supported");for(var _e30=128;_e30<=151;_e30++)jump[_e30]=decodeArrayCompact;jump[152]=decodeArray8,jump[153]=decodeArray16,jump[154]=decodeArray32,jump[155]=decodeArray64,jump[156]=invalidMinor,jump[157]=invalidMinor,jump[158]=invalidMinor,jump[159]=decodeArrayIndefinite;for(var _e31=160;_e31<=183;_e31++)jump[_e31]=decodeMapCompact;jump[184]=decodeMap8,jump[185]=decodeMap16,jump[186]=decodeMap32,jump[187]=decodeMap64,jump[188]=invalidMinor,jump[189]=invalidMinor,jump[190]=invalidMinor,jump[191]=decodeMapIndefinite;for(var _e32=192;_e32<=215;_e32++)jump[_e32]=decodeTagCompact;jump[216]=decodeTag8,jump[217]=decodeTag16,jump[218]=decodeTag32,jump[219]=decodeTag64,jump[220]=invalidMinor,jump[221]=invalidMinor,jump[222]=invalidMinor,jump[223]=invalidMinor;for(var _e33=224;_e33<=243;_e33++)jump[_e33]=errorer("simple values are not supported");jump[244]=invalidMinor,jump[245]=invalidMinor,jump[246]=invalidMinor,jump[247]=decodeUndefined,jump[248]=errorer("simple values are not supported"),jump[249]=decodeFloat16,jump[250]=decodeFloat32,jump[251]=decodeFloat64,jump[252]=invalidMinor,jump[253]=invalidMinor,jump[254]=invalidMinor,jump[255]=decodeBreak;for(var quick=[],_e34=0;_e34<24;_e34++)quick[_e34]=new Token(Type.uint,_e34,1);for(var _e35=-1;_e35>=-24;_e35--)quick[31-_e35]=new Token(Type.negint,_e35,1);function quickEncodeToken(e){switch(e.type){case Type.false:return fromArray([244]);case Type.true:return fromArray([245]);case Type.null:return fromArray([246]);case Type.bytes:return e.value.length?void 0:fromArray([64]);case Type.string:return""===e.value?fromArray([96]):void 0;case Type.array:return 0===e.value?fromArray([128]):void 0;case Type.map:return 0===e.value?fromArray([160]):void 0;case Type.uint:return e.value<24?fromArray([Number(e.value)]):void 0;case Type.negint:if(e.value>=-24)return fromArray([31-Number(e.value)])}}quick[64]=new Token(Type.bytes,new Uint8Array(0),1),quick[96]=new Token(Type.string,"",1),quick[128]=new Token(Type.array,0,1),quick[160]=new Token(Type.map,0,1),quick[244]=new Token(Type.false,!1,1),quick[245]=new Token(Type.true,!0,1),quick[246]=new Token(Type.null,null,1);var defaultEncodeOptions={float64:!1,mapSorter:mapSorter,quickEncodeToken:quickEncodeToken};function makeCborEncoders(){var e=[];return e[Type.uint.major]=encodeUint,e[Type.negint.major]=encodeNegint,e[Type.bytes.major]=encodeBytes,e[Type.string.major]=encodeString,e[Type.array.major]=encodeArray,e[Type.map.major]=encodeMap,e[Type.tag.major]=encodeTag,e[Type.float.major]=encodeFloat,e}var cborEncoders=makeCborEncoders(),buf=new Bl,Ref=function(){function e(t,r){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this.obj=t,this.parent=r}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"includes",value:function(e){var t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}}],[{key:"createCheck",value:function(t,r){if(t&&t.includes(r))throw new Error("".concat(encodeErrPrefix," object contains circular references"));return new e(r,t)}}]),e}(),simpleTokens={null:new Token(Type.null,null),undefined:new Token(Type.undefined,void 0),true:new Token(Type.true,!0),false:new Token(Type.false,!1),emptyArray:new Token(Type.array,0),emptyMap:new Token(Type.map,0)},typeEncoders={number:function(e,t,r,n){return Number.isInteger(e)&&Number.isSafeInteger(e)?new Token(e>=0?Type.uint:Type.negint,e):new Token(Type.float,e)},bigint:function(e,t,r,n){return e>=BigInt(0)?new Token(Type.uint,e):new Token(Type.negint,e)},Uint8Array:function(e,t,r,n){return new Token(Type.bytes,e)},string:function(e,t,r,n){return new Token(Type.string,e)},boolean:function(e,t,r,n){return e?simpleTokens.true:simpleTokens.false},null:function(e,t,r,n){return simpleTokens.null},undefined:function(e,t,r,n){return simpleTokens.undefined},ArrayBuffer:function(e,t,r,n){return new Token(Type.bytes,new Uint8Array(e))},DataView:function(e,t,r,n){return new Token(Type.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array:function(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[simpleTokens.emptyArray,new Token(Type.break)]:simpleTokens.emptyArray;n=Ref.createCheck(n,e);var i,a=[],o=0,s=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(e);try{for(s.s();!(i=s.n()).done;){var u=i.value;a[o++]=objectToTokens(u,r,n)}}catch(l){s.e(l)}finally{s.f()}return r.addBreakTokens?[new Token(Type.array,e.length),a,new Token(Type.break)]:[new Token(Type.array,e.length),a]},Object:function(e){function t(t,r,n,i){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t,r,n){var i="Object"!==t,a=i?e.keys():Object.keys(e),o=i?e.size:a.length;if(!o)return!0===r.addBreakTokens?[simpleTokens.emptyMap,new Token(Type.break)]:simpleTokens.emptyMap;n=Ref.createCheck(n,e);var s,u=[],l=0,c=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(a);try{for(c.s();!(s=c.n()).done;){var h=s.value;u[l++]=[objectToTokens(h,r,n),objectToTokens(i?e.get(h):e[h],r,n)]}}catch(f){c.e(f)}finally{c.f()}return sortMapEntries(u,r),r.addBreakTokens?[new Token(Type.map,o),u,new Token(Type.break)]:[new Token(Type.map,o),u]}))};typeEncoders.Map=typeEncoders.Object,typeEncoders.Buffer=typeEncoders.Uint8Array;var _iterator50=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)("Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" ")),_step50;try{for(_iterator50.s();!(_step50=_iterator50.n()).done;){var e=_step50.value;typeEncoders["".concat(e,"Array")]=typeEncoders.DataView}}catch(err){_iterator50.e(err)}finally{_iterator50.f()}function objectToTokens(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=is(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||typeEncoders[n];if("function"==typeof i){var a=i(e,n,t,r);if(null!=a)return a}var o=typeEncoders[n];if(!o)throw new Error("".concat(encodeErrPrefix," unsupported type: ").concat(n));return o(e,n,t,r)}function sortMapEntries(e,t){t.mapSorter&&e.sort(t.mapSorter)}function mapSorter(e,t){var r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);var i=r.type.major,a=cborEncoders[i].compareTokens(r,n);return 0===a&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),a}function tokensToEncoded(e,t,r,n){if(Array.isArray(t)){var i,a=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(t);try{for(a.s();!(i=a.n()).done;){tokensToEncoded(e,i.value,r,n)}}catch(err){a.e(err)}finally{a.f()}}else r[t.type.major](e,t,n)}function encodeCustom(e,t,r){var n=objectToTokens(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){var i=r.quickEncodeToken(n);if(i)return i;var a=t[n.type.major];if(a.encodedSize){var o=a.encodedSize(n,r),s=new Bl(o);if(a(s,n,r),1!==s.chunks.length)throw new Error("Unexpected error: pre-calculated length for ".concat(n," was wrong"));return asU8A(s.chunks[0])}}return buf.reset(),tokensToEncoded(buf,n,t,r),buf.toBytes(!0)}function encode$5(e,t){return t=Object.assign({},defaultEncodeOptions,t),encodeCustom(e,cborEncoders,t)}var defaultDecodeOptions={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},Tokeniser=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this.pos=0,this.data=t,this.options=r}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"done",value:function(){return this.pos>=this.data.length}},{key:"next",value:function(){var e=this.data[this.pos],t=quick[e];if(void 0===t){var r=jump[e];if(!r)throw new Error("".concat(decodeErrPrefix," no decoder for major type ").concat(e>>>5," (byte 0x").concat(e.toString(16).padStart(2,"0"),")"));var n=31&e;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}}]),e}(),DONE=Symbol.for("DONE"),BREAK=Symbol.for("BREAK");function tokenToArray(e,t,r){for(var n=[],i=0;i<e.value;i++){var a=tokensToObject(t,r);if(a===BREAK){if(e.value===1/0)break;throw new Error("".concat(decodeErrPrefix," got unexpected break to lengthed array"))}if(a===DONE)throw new Error("".concat(decodeErrPrefix," found array but not enough entries (got ").concat(i,", expected ").concat(e.value,")"));n[i]=a}return n}function tokenToMap(e,t,r){for(var n=!0===r.useMaps,i=n?void 0:{},a=n?new Map:void 0,o=0;o<e.value;o++){var s=tokensToObject(t,r);if(s===BREAK){if(e.value===1/0)break;throw new Error("".concat(decodeErrPrefix," got unexpected break to lengthed map"))}if(s===DONE)throw new Error("".concat(decodeErrPrefix," found map but not enough entries (got ").concat(o," [no key], expected ").concat(e.value,")"));if(!0!==n&&"string"!=typeof s)throw new Error("".concat(decodeErrPrefix," non-string keys not supported (got ").concat(typeof s,")"));var u=tokensToObject(t,r);if(u===DONE)throw new Error("".concat(decodeErrPrefix," found map but not enough entries (got ").concat(o," [no value], expected ").concat(e.value,")"));n?a.set(s,u):i[s]=u}return n?a:i}function tokensToObject(e,t){if(e.done())return DONE;var r=e.next();if(r.type===Type.break)return BREAK;if(r.type.terminal)return r.value;if(r.type===Type.array)return tokenToArray(r,e,t);if(r.type===Type.map)return tokenToMap(r,e,t);if(r.type===Type.tag){if(t.tags&&"function"==typeof t.tags[r.value]){var n=tokensToObject(e,t);return t.tags[r.value](n)}throw new Error("".concat(decodeErrPrefix," tag not supported (").concat(r.value,")"))}throw new Error("unsupported")}function decode$5(e,t){if(!(e instanceof Uint8Array))throw new Error("".concat(decodeErrPrefix," data to decode must be a Uint8Array"));var r=(t=Object.assign({},defaultDecodeOptions,t)).tokenizer||new Tokeniser(e,t),n=tokensToObject(r,t);if(n===DONE)throw new Error("".concat(decodeErrPrefix," did not find any content to decode"));if(n===BREAK)throw new Error("".concat(decodeErrPrefix," got unexpected break"));if(!r.done())throw new Error("".concat(decodeErrPrefix," too many terminals, data makes no sense"));return n}var CID_CBOR_TAG$2=42;function cidEncoder$1(e){if(e.asCID!==e)return null;var t=CID.asCID(e);if(!t)return null;var r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new Token(Type.tag,CID_CBOR_TAG$2),new Token(Type.bytes,r)]}function undefinedEncoder$1(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder$1(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var encodeOptions$1={float64:!0,typeEncoders:{Object:cidEncoder$1,undefined:undefinedEncoder$1,number:numberEncoder$1}};function cidDecoder$2(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode(e.subarray(1))}var decodeOptions$2={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions$2.tags[CID_CBOR_TAG$2]=cidDecoder$2;var encode$4=function(e){return encode$5(e,encodeOptions$1)},decode$4=function(e){return decode$5(e,decodeOptions$2)},CIDV0_BYTES={SHA2_256:18,LENGTH:32,DAG_PB:112};function readVarint(e){return _readVarint.apply(this,arguments)}function _readVarint(){return _readVarint=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.upTo(8);case 2:return r=e.sent,n=varint$1.decode(r),e.abrupt("return",(t.seek(varint$1.decode.bytes),n));case 5:case"end":return e.stop()}}),e)}))),_readVarint.apply(this,arguments)}function readHeader(e){return _readHeader.apply(this,arguments)}function _readHeader(){return _readHeader=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,readVarint(t);case 2:if(0!==(r=e.sent)){e.next=5;break}throw new Error("Invalid CAR header (zero length)");case 5:return e.next=7,t.exactly(r);case 7:if(n=e.sent,t.seek(r),null!=(i=decode$4(n))&&!Array.isArray(i)&&"object"==typeof i){e.next=12;break}throw new Error("Invalid CAR header format");case 12:if(1===i.version){e.next=16;break}if("string"!=typeof i.version){e.next=15;break}throw new Error('Invalid CAR version: "'.concat(i.version,'"'));case 15:throw new Error("Invalid CAR version: ".concat(i.version));case 16:if(Array.isArray(i.roots)){e.next=18;break}throw new Error("Invalid CAR header format");case 18:if(!Object.keys(i).filter((function(e){return"roots"!==e&&"version"!==e})).length){e.next=20;break}throw new Error("Invalid CAR header format");case 20:return e.abrupt("return",i);case 21:case"end":return e.stop()}}),e)}))),_readHeader.apply(this,arguments)}function readMultihash(e){return _readMultihash.apply(this,arguments)}function _readMultihash(){return _readMultihash=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i,a,o;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.upTo(8);case 2:return r=e.sent,varint$1.decode(r),n=varint$1.decode.bytes,i=varint$1.decode(r.subarray(varint$1.decode.bytes)),a=n+varint$1.decode.bytes+i,e.next=9,t.exactly(a);case 9:return o=e.sent,e.abrupt("return",(t.seek(a),o));case 11:case"end":return e.stop()}}),e)}))),_readMultihash.apply(this,arguments)}function readCid(e){return _readCid.apply(this,arguments)}function _readCid(){return _readCid=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i,a,o,s,u;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.exactly(2);case 2:if((r=e.sent)[0]!==CIDV0_BYTES.SHA2_256||r[1]!==CIDV0_BYTES.LENGTH){e.next=10;break}return e.next=6,t.exactly(34);case 6:return n=e.sent,t.seek(34),i=decode$7(n),e.abrupt("return",CID.create(0,CIDV0_BYTES.DAG_PB,i));case 10:return e.next=12,readVarint(t);case 12:if(1===(a=e.sent)){e.next=15;break}throw new Error("Unexpected CID version (".concat(a,")"));case 15:return e.next=17,readVarint(t);case 17:return o=e.sent,e.next=20,readMultihash(t);case 20:return s=e.sent,u=decode$7(s),e.abrupt("return",CID.create(a,o,u));case 23:case"end":return e.stop()}}),e)}))),_readCid.apply(this,arguments)}function readBlockHead(e){return _readBlockHead.apply(this,arguments)}function _readBlockHead(){return _readBlockHead=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pos,e.next=3,readVarint(t);case 3:if(0!==(n=e.sent)){e.next=6;break}throw new Error("Invalid CAR section (zero length)");case 6:return n+=t.pos-r,e.next=9,readCid(t);case 9:return e.t0=e.sent,e.t1=n,e.t2=n-(t.pos-r),e.abrupt("return",{cid:e.t0,length:e.t1,blockLength:e.t2});case 13:case"end":return e.stop()}}),e)}))),_readBlockHead.apply(this,arguments)}function readBlock(e){return _readBlock.apply(this,arguments)}function _readBlock(){return _readBlock=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i,a;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,readBlockHead(t);case 2:return r=e.sent,n=r.cid,i=r.blockLength,e.next=7,t.exactly(i);case 7:return a=e.sent,e.abrupt("return",(t.seek(i),{bytes:a,cid:n}));case 9:case"end":return e.stop()}}),e)}))),_readBlock.apply(this,arguments)}function readBlockIndex(e){return _readBlockIndex.apply(this,arguments)}function _readBlockIndex(){return _readBlockIndex=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i,a,o,s;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pos,e.next=3,readBlockHead(t);case 3:return n=e.sent,i=n.cid,a=n.length,o=n.blockLength,s={cid:i,length:a,blockLength:o,offset:r,blockOffset:t.pos},e.abrupt("return",(t.seek(s.blockLength),s));case 9:case"end":return e.stop()}}),e)}))),_readBlockIndex.apply(this,arguments)}function createDecoder(e){var t=readHeader(e);return{header:function(){return t},blocks:function(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function r(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(t);case 2:return r.next=4,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(e.upTo(8));case 4:if(r.t0=r.sent.length,!(r.t0>0)){r.next=12;break}return r.next=8,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(readBlock(e));case 8:return r.next=10,r.sent;case 10:r.next=2;break;case 12:case"end":return r.stop()}}),r)})))()},blocksIndex:function(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function r(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(t);case 2:return r.next=4,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(e.upTo(8));case 4:if(r.t0=r.sent.length,!(r.t0>0)){r.next=12;break}return r.next=8,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(readBlockIndex(e));case 8:return r.next=10,r.sent;case 10:r.next=2;break;case 12:case"end":return r.stop()}}),r)})))()}}}function bytesReader(e){var t=0;return{upTo:function(){var r=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function r(n){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",e.subarray(t,t+Math.min(n,e.length-t)));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),exactly:function(r){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function n(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r>e.length-t)){n.next=2;break}throw new Error("Unexpected end of data");case 2:return n.abrupt("return",e.subarray(t,t+r));case 3:case"end":return n.stop()}}),n)})))()},seek:function(e){t+=e},get pos(){return t}}}function chunkReader(e){var t=0,r=0,n=0,i=new Uint8Array(0),a=function(){var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(a){var o,s,u,l,c,h;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=i.length-n,o=[i.subarray(n)];case 2:if(!(r<a)){t.next=11;break}return t.next=5,e();case 5:if(null!=(s=t.sent)){t.next=8;break}return t.abrupt("break",11);case 8:r<0?s.length>r&&o.push(s.subarray(-r)):o.push(s),r+=s.length;case 9:t.next=2;break;case 11:for(i=new Uint8Array(o.reduce((function(e,t){return e+t.length}),0)),u=0,l=0,c=o;l<c.length;l++)h=c[l],i.set(h,u),u+=h.length;n=0;case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{upTo:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.length-n<t,!e.t0){e.next=4;break}return e.next=4,a(t);case 4:return e.abrupt("return",i.subarray(n,n+Math.min(i.length-n,t)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),exactly:function(e){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=i.length-n<e,!t.t0){t.next=4;break}return t.next=4,a(e);case 4:if(!(i.length-n<e)){t.next=6;break}throw new Error("Unexpected end of data");case 6:return t.abrupt("return",i.subarray(n,n+e));case 7:case"end":return t.stop()}}),t)})))()},seek:function(e){t+=e,n+=e},get pos(){return t}}}function asyncIterableReader(e){var t=e[Symbol.asyncIterator]();return chunkReader((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){var r;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.next();case 2:return r=e.sent,e.abrupt("return",r.done?null:r.value);case 4:case"end":return e.stop()}}),e)}))))}var CarReader=function(){function e(t,r,n){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this._version=t,this._roots=r,this._blocks=n,this._keys=n.map((function(e){return e.cid.toString()}))}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"version",get:function(){return this._version}},{key:"getRoots",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._roots);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"has",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._keys.indexOf(t.toString())>-1);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._keys.indexOf(t.toString()),e.abrupt("return",r>-1?this._blocks[r]:void 0);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"blocks",value:function(){var e=this;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(){var r,n,i;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(e._blocks),t.prev=1,r.s();case 3:if((n=r.n()).done){t.next=9;break}return i=n.value,t.next=7,i;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r.e(t.t0);case 14:return t.prev=14,r.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})))()}},{key:"cids",value:function(){var e=this;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(){var r,n,i;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(e._blocks),t.prev=1,r.s();case 3:if((n=r.n()).done){t.next=9;break}return i=n.value,t.next=7,i.cid;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r.e(t.t0);case 14:return t.prev=14,r.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})))()}}],[{key:"fromBytes",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array){e.next=2;break}throw new TypeError("fromBytes() requires a Uint8Array");case 2:return e.abrupt("return",decodeReaderComplete(bytesReader(t)));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fromIterable",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"function"==typeof t[Symbol.asyncIterator]){e.next=2;break}throw new TypeError("fromIterable() requires an async iterable");case 2:return e.abrupt("return",decodeReaderComplete(asyncIterableReader(t)));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function decodeReaderComplete(e){return _decodeReaderComplete.apply(this,arguments)}function _decodeReaderComplete(){return _decodeReaderComplete=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i,a,o,s,u,l,c,h,f;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createDecoder(t),e.next=3,r.header();case 3:n=e.sent,i=n.version,a=n.roots,o=[],s=!1,u=!1,e.prev=9,c=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(r.blocks());case 11:return e.next=13,c.next();case 13:if(!(s=!(h=e.sent).done)){e.next=19;break}f=h.value,o.push(f);case 16:s=!1,e.next=11;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(9),u=!0,l=e.t0;case 25:if(e.prev=25,e.prev=26,!s||null==c.return){e.next=30;break}return e.next=30,c.return();case 30:if(e.prev=30,!u){e.next=33;break}throw l;case 33:return e.finish(30);case 34:return e.finish(25);case 35:return e.abrupt("return",new CarReader(i,a,o));case 36:case"end":return e.stop()}}),e,null,[[9,21,25,35],[26,,30,34]])}))),_decodeReaderComplete.apply(this,arguments)}var CarIteratorBase=function(){function e(t,r,n){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this._version=t,this._roots=r,this._iterable=n,this._decoded=!1}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"version",get:function(){return this._version}},{key:"getRoots",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._roots);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),CarBlockIterator=function(e,t){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__.Z)(n,e);var r=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_5__.Z)(n);function n(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,n),r.apply(this,arguments)}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(n,[{key:t,value:function(){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}}],[{key:"fromBytes",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,i,a,o;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_fromBytes2(t);case 2:return r=e.sent,i=r.version,a=r.roots,o=r.iterator,e.abrupt("return",new n(i,a,o));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fromIterable",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,i,a,o;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_fromIterable2(t);case 2:return r=e.sent,i=r.version,a=r.roots,o=r.iterator,e.abrupt("return",new n(i,a,o));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(CarIteratorBase,Symbol.asyncIterator);function _fromBytes2(e){return _fromBytes4.apply(this,arguments)}function _fromBytes4(){return _fromBytes4=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array){e.next=2;break}throw new TypeError("fromBytes() requires a Uint8Array");case 2:return e.abrupt("return",decodeIterator(bytesReader(t)));case 3:case"end":return e.stop()}}),e)}))),_fromBytes4.apply(this,arguments)}function _fromIterable2(e){return _fromIterable4.apply(this,arguments)}function _fromIterable4(){return _fromIterable4=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"function"==typeof t[Symbol.asyncIterator]){e.next=2;break}throw new TypeError("fromIterable() requires an async iterable");case 2:return e.abrupt("return",decodeIterator(asyncIterableReader(t)));case 3:case"end":return e.stop()}}),e)}))),_fromIterable4.apply(this,arguments)}function decodeIterator(e){return _decodeIterator.apply(this,arguments)}function _decodeIterator(){return _decodeIterator=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i,a;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=createDecoder(t),e.next=3,r.header();case 3:return n=e.sent,i=n.version,a=n.roots,e.abrupt("return",{version:i,roots:a,iterator:r.blocks()});case 7:case"end":return e.stop()}}),e)}))),_decodeIterator.apply(this,arguments)}function createHeader(e){var t=encode$4({version:1,roots:e}),r=varint$1.encode(t.length),n=new Uint8Array(r.length+t.length);return n.set(r,0),n.set(t,r.length),n}function createEncoder(e){return{setRoots:function(t){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function r(){var n;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=createHeader(t),r.next=3,e.write(n);case 3:case"end":return r.stop()}}),r)})))()},writeBlock:function(t){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function r(){var n,i;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.cid,i=t.bytes,r.next=3,e.write(new Uint8Array(varint$1.encode(n.bytes.length+i.length)));case 3:return r.next=5,e.write(n.bytes);case 5:if(r.t0=i.length,!r.t0){r.next=9;break}return r.next=9,e.write(i);case 9:case"end":return r.stop()}}),r)})))()},close:function(){var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.end());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}function noop$1(){}function create$3(){var e=[],t=null,r=noop$1,n=!1,i=null,a=noop$1,o=function(){return t||(t=new Promise((function(e){r=function(){t=null,r=noop$1,e()}}))),t},s={write:function(t){e.push(t);var r=o();return a(),r},end:function(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){var t;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,t=o(),e.abrupt("return",(a(),t));case 3:case"end":return e.stop()}}),e)})))()}},u={next:function(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(){var o;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.shift(),t.abrupt("return",o?(0===e.length&&r(),{done:!1,value:o}):n?(r(),{done:!0,value:void 0}):(i||(i=new Promise((function(e){a=function(){return i=null,a=noop$1,e(u.next())}}))),i));case 2:case"end":return t.stop()}}),t)})))()}};return{writer:s,iterator:u}}var CarWriter=function(){function e(t,r){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this._encoder=r,this._mutex=r.setRoots(t),this._ended=!1}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"put",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n=this;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bytes instanceof Uint8Array&&t.cid){e.next=2;break}throw new TypeError("Can only write {cid, bytes} objects");case 2:if(!this._ended){e.next=4;break}throw new Error("Already closed");case 4:if(r=CID.asCID(t.cid)){e.next=7;break}throw new TypeError("Can only write {cid, bytes} objects");case 7:return e.abrupt("return",(this._mutex=this._mutex.then((function(){return n._encoder.writeBlock({cid:r,bytes:t.bytes})})),this._mutex));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"close",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ended){e.next=2;break}throw new Error("Already closed");case 2:return e.next=4,this._mutex;case 4:return this._ended=!0,e.abrupt("return",this._encoder.close());case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"create",value:function(t){t=toRoots(t);var r=encodeWriter(),n=r.encoder,i=r.iterator;return{writer:new e(t,n),out:new CarWriterOut(i)}}},{key:"createAppender",value:function(){var t=encodeWriter(),r=t.encoder,n=t.iterator;return r.setRoots=function(){return Promise.resolve()},{writer:new e([],r),out:new CarWriterOut(n)}}},{key:"updateRootsInBytes",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n,i;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bytesReader(t),e.next=3,readHeader(n);case 3:if(i=createHeader(r),n.pos===i.length){e.next=6;break}throw new Error("updateRoots() can only overwrite a header of the same length (old header is ".concat(n.pos," bytes, new header is ").concat(i.length," bytes)"));case 6:return e.abrupt("return",(t.set(i,0),t));case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),CarWriterOut=function(e){function t(e){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,t),this._iterator=e}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(t,[{key:e,value:function(){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}]),t}(Symbol.asyncIterator);function encodeWriter(){var e=create$3(),t=e.writer,r=e.iterator;return{encoder:createEncoder(t),iterator:r}}function toRoots(e){if(void 0===e)return[];if(!Array.isArray(e)){var t=CID.asCID(e);if(!t)throw new TypeError("roots must be a single CID or an array of CIDs");return[t]}var r,n=[],i=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=CID.asCID(a);if(!o)throw new TypeError("roots must be a single CID or an array of CIDs");n.push(o)}}catch(err){i.e(err)}finally{i.f()}return n}function batch$1(e){return _batch$.apply(this,arguments)}function _batch$(){return _batch$=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i,a,o,s,u,l,c=arguments;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=c.length>1&&void 0!==c[1]?c[1]:1,n=[],r<1&&(r=1),i=!1,a=!1,e.prev=5,s=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t);case 7:return e.next=9,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(s.next());case 9:if(!(i=!(u=e.sent).done)){e.next=21;break}l=u.value,n.push(l);case 12:if(!(n.length>=r)){e.next=18;break}return e.next=15,n.slice(0,r);case 15:n=n.slice(r);case 16:e.next=12;break;case 18:i=!1,e.next=7;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(5),a=!0,o=e.t0;case 27:if(e.prev=27,e.prev=28,!i||null==s.return){e.next=32;break}return e.next=32,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(s.return());case 32:if(e.prev=32,!a){e.next=35;break}throw o;case 35:return e.finish(32);case 36:return e.finish(27);case 37:if(!n.length){e.next=43;break}return e.next=40,n.slice(0,r);case 40:n=n.slice(r);case 41:e.next=37;break;case 43:case"end":return e.stop()}}),e,null,[[5,23,27,37],[28,,32,36]])}))),_batch$.apply(this,arguments)}var itBatch=batch$1,batch=itBatch;function parallelBatch(e){return _parallelBatch.apply(this,arguments)}function _parallelBatch(){return _parallelBatch=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i,a,o,s,u,l,c,h,f=arguments;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=f.length>1&&void 0!==f[1]?f[1]:1,n=!1,i=!1,e.prev=3,o=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(batch(t,r));case 5:return e.next=7,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(o.next());case 7:if(!(n=!(s=e.sent).done)){e.next=25;break}u=s.value,l=u.map((function(e){return e().then((function(e){return{ok:!0,value:e}}),(function(e){return{ok:!1,err:e}}))})),c=0;case 11:if(!(c<l.length)){e.next=22;break}return e.next=14,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(l[c]);case 14:if((h=e.sent).ok){e.next=17;break}throw h.err;case 17:return e.next=19,h.value;case 19:c++,e.next=11;break;case 22:n=!1,e.next=5;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(3),i=!0,a=e.t0;case 31:if(e.prev=31,e.prev=32,!n||null==o.return){e.next=36;break}return e.next=36,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(o.return());case 36:if(e.prev=36,!i){e.next=39;break}throw a;case 39:return e.finish(36);case 40:return e.finish(31);case 41:case"end":return e.stop()}}),e,null,[[3,27,31,41],[32,,36,40]])}))),_parallelBatch.apply(this,arguments)}var itParallelBatch=parallelBatch,isPlainObj=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype},isOptionObject=isPlainObj,hasOwnProperty=Object.prototype.hasOwnProperty,propertyIsEnumerable=Object.propertyIsEnumerable,defineProperty=function(e,t,r){return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})},globalThis$1=commonjsGlobal,defaultMergeOptions={concatArrays:!1,ignoreUndefined:!1},getEnumerableOwnPropertyKeys=function(e){var t=[];for(var r in e)hasOwnProperty.call(e,r)&&t.push(r);if(Object.getOwnPropertySymbols){var n,i=Object.getOwnPropertySymbols(e),a=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(i);try{for(a.s();!(n=a.n()).done;){var o=n.value;propertyIsEnumerable.call(e,o)&&t.push(o)}}catch(err){a.e(err)}finally{a.f()}}return t};function clone(e){return Array.isArray(e)?cloneArray(e):isOptionObject(e)?cloneOptionObject(e):e}function cloneArray(e){var t=e.slice(0,0);return getEnumerableOwnPropertyKeys(e).forEach((function(r){defineProperty(t,r,clone(e[r]))})),t}function cloneOptionObject(e){var t=null===Object.getPrototypeOf(e)?Object.create(null):{};return getEnumerableOwnPropertyKeys(e).forEach((function(r){defineProperty(t,r,clone(e[r]))})),t}var mergeKeys=function(e,t,r,n){return r.forEach((function(r){void 0===t[r]&&n.ignoreUndefined||(r in e&&e[r]!==Object.getPrototypeOf(e)?defineProperty(e,r,merge(e[r],t[r],n)):defineProperty(e,r,clone(t[r])))})),e},concatArrays=function(e,t,r){var n=e.slice(0,0),i=0;return[e,t].forEach((function(t){for(var a=[],o=0;o<t.length;o++)hasOwnProperty.call(t,o)&&(a.push(String(o)),defineProperty(n,i++,t===e?t[o]:clone(t[o])));n=mergeKeys(n,t,getEnumerableOwnPropertyKeys(t).filter((function(e){return!a.includes(e)})),r)})),n};function merge(e,t,r){return r.concatArrays&&Array.isArray(e)&&Array.isArray(t)?concatArrays(e,t,r):isOptionObject(t)&&isOptionObject(e)?mergeKeys(e,t,getEnumerableOwnPropertyKeys(t),r):clone(t)}var mergeOptions=function(){for(var e=merge(clone(defaultMergeOptions),this!==globalThis$1&&this||{},defaultMergeOptions),t={_:{}},r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];for(var a=0,o=n;a<o.length;a++){var s=o[a];if(void 0!==s){if(!isOptionObject(s))throw new TypeError("`"+s+"` is not an Option Object");t=merge(t,{_:s},e)}}return t._},from=function(e){var t=e.name,r=e.code,n=e.encode;return new Hasher(t,r,n)},Hasher=function(){function e(t,r,n){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this.name=t,this.code=r,this.encode=n}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"digest",value:function(e){var t=this;if(e instanceof Uint8Array){var r=this.encode(e);return r instanceof Uint8Array?create$4(this.code,r):r.then((function(e){return create$4(t.code,e)}))}throw Error("Unknown type, must be binary type")}}]),e}(),sha=function(e){return function(){var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(r){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Uint8Array,t.next=3,crypto.subtle.digest(e,r);case 3:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},sha256=from({name:"sha2-256",code:18,encode:sha("SHA-256")}),sha512=from({name:"sha2-512",code:19,encode:sha("SHA-512")}),sha2=Object.freeze({__proto__:null,sha256:sha256,sha512:sha512}),murmurHash3js={exports:{}},module,exports;module=murmurHash3js,exports=murmurHash3js.exports,function(e,t){var r={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function n(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function i(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function a(e,t){return e<<t|e>>>32-t}function o(e){return e=i(e^=e>>>16,2246822507),(e=i(e^=e>>>13,3266489909))^e>>>16}function s(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function u(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function l(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function c(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function h(e,t){return[e[0]^t[0],e[1]^t[1]]}function f(e){return e=h(e,[0,e[0]>>>1]),e=h(e=u(e,[4283543511,3981806797]),[0,e[0]>>>1]),h(e=u(e,[3301882366,444984403]),[0,e[0]>>>1])}r.x86.hash32=function(e,s){if(r.inputValidation&&!n(e))return t;s=s||0;for(var u=e.length%4,l=e.length-u,c=s,h=0,f=3432918353,d=461845907,p=0;p<l;p+=4)h=i(h=e[p]|e[p+1]<<8|e[p+2]<<16|e[p+3]<<24,f),h=i(h=a(h,15),d),c=i(c=a(c^=h,13),5)+3864292196;switch(h=0,u){case 3:h^=e[p+2]<<16;case 2:h^=e[p+1]<<8;case 1:h=i(h^=e[p],f),c^=h=i(h=a(h,15),d)}return(c=o(c^=e.length))>>>0},r.x86.hash128=function(e,s){if(r.inputValidation&&!n(e))return t;s=s||0;for(var u=e.length%16,l=e.length-u,c=s,h=s,f=s,d=s,p=0,_=0,m=0,v=0,g=597399067,y=2869860233,b=951274213,w=2716044179,E=0;E<l;E+=16)p=e[E]|e[E+1]<<8|e[E+2]<<16|e[E+3]<<24,_=e[E+4]|e[E+5]<<8|e[E+6]<<16|e[E+7]<<24,m=e[E+8]|e[E+9]<<8|e[E+10]<<16|e[E+11]<<24,v=e[E+12]|e[E+13]<<8|e[E+14]<<16|e[E+15]<<24,p=a(p=i(p,g),15),c=a(c^=p=i(p,y),19),c=i(c+=h,5)+1444728091,_=a(_=i(_,y),16),h=a(h^=_=i(_,b),17),h=i(h+=f,5)+197830471,m=a(m=i(m,b),17),f=a(f^=m=i(m,w),15),f=i(f+=d,5)+2530024501,v=a(v=i(v,w),18),d=a(d^=v=i(v,g),13),d=i(d+=c,5)+850148119;switch(p=0,_=0,m=0,v=0,u){case 15:v^=e[E+14]<<16;case 14:v^=e[E+13]<<8;case 13:v=i(v^=e[E+12],w),d^=v=i(v=a(v,18),g);case 12:m^=e[E+11]<<24;case 11:m^=e[E+10]<<16;case 10:m^=e[E+9]<<8;case 9:m=i(m^=e[E+8],b),f^=m=i(m=a(m,17),w);case 8:_^=e[E+7]<<24;case 7:_^=e[E+6]<<16;case 6:_^=e[E+5]<<8;case 5:_=i(_^=e[E+4],y),h^=_=i(_=a(_,16),b);case 4:p^=e[E+3]<<24;case 3:p^=e[E+2]<<16;case 2:p^=e[E+1]<<8;case 1:p=i(p^=e[E],g),c^=p=i(p=a(p,15),y)}return c^=e.length,c+=h^=e.length,c+=f^=e.length,h+=c+=d^=e.length,f+=c,d+=c,c=o(c),c+=h=o(h),c+=f=o(f),h+=c+=d=o(d),f+=c,d+=c,("00000000"+(c>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)},r.x64.hash128=function(e,i){if(r.inputValidation&&!n(e))return t;i=i||0;for(var a=e.length%16,o=e.length-a,d=[0,i],p=[0,i],_=[0,0],m=[0,0],v=[2277735313,289559509],g=[1291169091,658871167],y=0;y<o;y+=16)_=[e[y+4]|e[y+5]<<8|e[y+6]<<16|e[y+7]<<24,e[y]|e[y+1]<<8|e[y+2]<<16|e[y+3]<<24],m=[e[y+12]|e[y+13]<<8|e[y+14]<<16|e[y+15]<<24,e[y+8]|e[y+9]<<8|e[y+10]<<16|e[y+11]<<24],_=l(_=u(_,v),31),d=s(d=l(d=h(d,_=u(_,g)),27),p),d=s(u(d,[0,5]),[0,1390208809]),m=l(m=u(m,g),33),p=s(p=l(p=h(p,m=u(m,v)),31),d),p=s(u(p,[0,5]),[0,944331445]);switch(_=[0,0],m=[0,0],a){case 15:m=h(m,c([0,e[y+14]],48));case 14:m=h(m,c([0,e[y+13]],40));case 13:m=h(m,c([0,e[y+12]],32));case 12:m=h(m,c([0,e[y+11]],24));case 11:m=h(m,c([0,e[y+10]],16));case 10:m=h(m,c([0,e[y+9]],8));case 9:m=u(m=h(m,[0,e[y+8]]),g),p=h(p,m=u(m=l(m,33),v));case 8:_=h(_,c([0,e[y+7]],56));case 7:_=h(_,c([0,e[y+6]],48));case 6:_=h(_,c([0,e[y+5]],40));case 5:_=h(_,c([0,e[y+4]],32));case 4:_=h(_,c([0,e[y+3]],24));case 3:_=h(_,c([0,e[y+2]],16));case 2:_=h(_,c([0,e[y+1]],8));case 1:_=u(_=h(_,[0,e[y]]),v),d=h(d,_=u(_=l(_,31),g))}return d=s(d=h(d,[0,e.length]),p=h(p,[0,e.length])),p=s(p,d),d=s(d=f(d),p=f(p)),p=s(p,d),("00000000"+(d[0]>>>0).toString(16)).slice(-8)+("00000000"+(d[1]>>>0).toString(16)).slice(-8)+("00000000"+(p[0]>>>0).toString(16)).slice(-8)+("00000000"+(p[1]>>>0).toString(16)).slice(-8)},module.exports&&(exports=module.exports=r),exports.murmurHash3=r}();var murmurhash3jsRevisited=murmurHash3js.exports;function fromNumberTo32BitBuf(e){for(var t=new Array(4),r=0;r<4;r++)t[r]=255&e,e>>=8;return new Uint8Array(t)}from({name:"murmur3-32",code:35,encode:function(e){return fromNumberTo32BitBuf(murmurhash3jsRevisited.x86.hash32(e))}});var murmur3128=from({name:"murmur3-128",code:34,encode:function(e){return fromHex(murmurhash3jsRevisited.x64.hash128(e))}});function hamtHashFn(e){return _hamtHashFn.apply(this,arguments)}function _hamtHashFn(){return _hamtHashFn=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,murmur3128.encode(t);case 2:return e.abrupt("return",e.sent.slice(0,8).reverse());case 3:case"end":return e.stop()}}),e)}))),_hamtHashFn.apply(this,arguments)}var defaultOptions={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,hasher:sha256,leafType:"file",cidVersion:0,progress:function(){return function(){}},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,recursive:!1,hidden:!1,timeout:void 0,hamtHashFn:hamtHashFn,hamtHashCode:34,hamtBucketBits:8},defaultOptions$1=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return mergeOptions.bind({ignoreUndefined:!0})(defaultOptions,e)};function assign(e,t){for(var r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}function createError(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r||(r={}),"object"==typeof t&&(r=t,t=""),t&&(r.code=t);try{return assign(e,r)}catch(t){r.message=e.message,r.stack=e.stack;var n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(e)),assign(new n,r)}}var errCode=createError,indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(e,t){for(var r=new Array(arguments.length-1),n=0,i=2,a=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,o){r[n]=function(e){if(a)if(a=!1,e)o(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){a&&(a=!1,o(e))}}))}var base64$3={};!function(e){var t=base64$3;t.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var r=new Array(64),n=new Array(123),i=0;i<64;)n[r[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;t.encode=function(e,t,n){for(var i,a=null,o=[],s=0,u=0;t<n;){var l=e[t++];switch(u){case 0:o[s++]=r[l>>2],i=(3&l)<<4,u=1;break;case 1:o[s++]=r[i|l>>4],i=(15&l)<<2,u=2;break;case 2:o[s++]=r[i|l>>6],o[s++]=r[63&l],u=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0)}return u&&(o[s++]=r[i],o[s++]=61,1===u&&(o[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var a="invalid encoding";t.decode=function(e,t,r){for(var i,o=r,s=0,u=0;u<e.length;){var l=e.charCodeAt(u++);if(61===l&&s>1)break;if(void 0===(l=n[l]))throw Error(a);switch(s){case 0:i=l,s=1;break;case 1:t[r++]=i<<2|(48&l)>>4,i=l,s=2;break;case 2:t[r++]=(15&i)<<4|(60&l)>>2,i=l,s=3;break;case 3:t[r++]=(3&i)<<6|l,s=0}}if(1===s)throw Error(a);return r-o},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}();var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},EventEmitter.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},EventEmitter.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this};var float=factory(factory);function factory(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function a(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:a,e.writeFloatBE=n?a:i,e.readFloatLE=n?o:s,e.readFloatBE=n?s:o}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var a=Math.floor(Math.log(t)/Math.LN2);e((i<<31|a+127<<23|8388607&Math.round(t*Math.pow(2,-a)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),i=2*(n>>31)+1,a=n>>>23&255,o=8388607&n;return 255===a?o?NaN:i*(1/0):0===a?1401298464324817e-60*i*o:i*Math.pow(2,a-150)*(o+8388608)}e.writeFloatLE=t.bind(null,writeUintLE),e.writeFloatBE=t.bind(null,writeUintBE),e.readFloatLE=r.bind(null,readUintLE),e.readFloatBE=r.bind(null,readUintBE)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function a(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:a,e.writeDoubleBE=n?a:i,e.readDoubleLE=n?o:s,e.readDoubleBE=n?s:o}():function(){function t(e,t,r,n,i,a){var o=n<0?1:0;if(o&&(n=-n),0===n)e(0,i,a+t),e(1/n>0?0:2147483648,i,a+r);else if(isNaN(n))e(0,i,a+t),e(2146959360,i,a+r);else if(n>17976931348623157e292)e(0,i,a+t),e((o<<31|2146435072)>>>0,i,a+r);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,i,a+t),e((o<<31|s/4294967296)>>>0,i,a+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=n*Math.pow(2,-u))>>>0,i,a+t),e((o<<31|u+1023<<20|1048576*s&1048575)>>>0,i,a+r)}}}function r(e,t,r,n,i){var a=e(n,i+t),o=e(n,i+r),s=2*(o>>31)+1,u=o>>>20&2047,l=4294967296*(1048575&o)+a;return 2047===u?l?NaN:s*(1/0):0===u?5e-324*s*l:s*Math.pow(2,u-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,writeUintLE,0,4),e.writeDoubleBE=t.bind(null,writeUintBE,4,0),e.readDoubleLE=r.bind(null,readUintLE,0,4),e.readDoubleBE=r.bind(null,readUintBE,4,0)}(),e}function writeUintLE(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function writeUintBE(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function readUintLE(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function readUintBE(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}var utf8$2={};!function(e){var t=utf8$2;t.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},t.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,a=[],o=0;t<r;)(n=e[t++])<128?a[o++]=n:n>191&&n<224?a[o++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,a[o++]=55296+(n>>10),a[o++]=56320+(1023&n)):a[o++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,a.slice(0,o))),i.join("")):String.fromCharCode.apply(String,a.slice(0,o))},t.write=function(e,t,r){for(var n,i,a=r,o=0;o<e.length;++o)(n=e.charCodeAt(o))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(o+1)))?(n=65536+((1023&n)<<10)+(1023&i),++o,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-a}}();var pool_1=pool;function pool(e,t,r){var n=r||8192,i=n>>>1,a=null,o=n;return function(r){if(r<1||r>i)return e(r);o+r>n&&(a=e(n),o=0);var s=t.call(a,o,o+=r);return 7&o&&(o=1+(7|o)),s}}var longbits=LongBits$2,util$5=minimal$1;function LongBits$2(e,t){this.lo=e>>>0,this.hi=t>>>0}var zero=LongBits$2.zero=new LongBits$2(0,0);zero.toNumber=function(){return 0},zero.zzEncode=zero.zzDecode=function(){return this},zero.length=function(){return 1};var zeroHash=LongBits$2.zeroHash="\0\0\0\0\0\0\0\0";LongBits$2.fromNumber=function(e){if(0===e)return zero;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new LongBits$2(r,n)},LongBits$2.from=function(e){if("number"==typeof e)return LongBits$2.fromNumber(e);if(util$5.isString(e)){if(!util$5.Long)return LongBits$2.fromNumber(parseInt(e,10));e=util$5.Long.fromString(e)}return e.low||e.high?new LongBits$2(e.low>>>0,e.high>>>0):zero},LongBits$2.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},LongBits$2.prototype.toLong=function(e){return util$5.Long?new util$5.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var charCodeAt=String.prototype.charCodeAt;LongBits$2.fromHash=function(e){return e===zeroHash?zero:new LongBits$2((charCodeAt.call(e,0)|charCodeAt.call(e,1)<<8|charCodeAt.call(e,2)<<16|charCodeAt.call(e,3)<<24)>>>0,(charCodeAt.call(e,4)|charCodeAt.call(e,5)<<8|charCodeAt.call(e,6)<<16|charCodeAt.call(e,7)<<24)>>>0)},LongBits$2.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},LongBits$2.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},LongBits$2.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},LongBits$2.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10},function(e){var t=minimal$1;function r(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function n(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&r(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}t.asPromise=aspromise,t.base64=base64$3,t.EventEmitter=eventemitter,t.float=float,t.inquire=inquire_1,t.utf8=utf8$2,t.pool=pool_1,t.LongBits=longbits,t.isNode=Boolean(void 0!==commonjsGlobal&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),t.global=t.isNode&&commonjsGlobal||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||commonjsGlobal,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isObject=function(e){return e&&"object"==typeof e},t.isset=t.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},t.Buffer=function(){try{var e=t.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(e){return"number"==typeof e?t.Buffer?t._Buffer_allocUnsafe(e):new t.Array(e):t.Buffer?t._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},t.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(e){return e?t.LongBits.from(e).toHash():t.LongBits.zeroHash},t.longFromHash=function(e,r){var n=t.LongBits.fromHash(e);return t.Long?t.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))},t.merge=r,t.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},t.newError=n,t.ProtocolError=n("ProtocolError"),t.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},t.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var e=t.Buffer;e?(t._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},t._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):t._Buffer_from=t._Buffer_allocUnsafe=null}}();var writer=Writer$1,util$4=minimal$1,BufferWriter$1,LongBits$1=util$4.LongBits,base64$2=util$4.base64,utf8$1=util$4.utf8;function Op(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function noop(){}function State(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$2=function(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};function writeByte(e,t,r){t[r]=255&e}function writeVarint32(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function VarintOp(e,t){this.len=e,this.next=void 0,this.val=t}function writeVarint64(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function writeFixed32(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}Writer$1.create=create$2(),Writer$1.alloc=function(e){return new util$4.Array(e)},util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray)),Writer$1.prototype._push=function(e,t,r){return this.tail=this.tail.next=new Op(e,t,r),this.len+=t,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer$1.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},Writer$1.prototype.int32=function(e){return e<0?this._push(writeVarint64,10,LongBits$1.fromNumber(e)):this.uint32(e)},Writer$1.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},Writer$1.prototype.uint64=function(e){var t=LongBits$1.from(e);return this._push(writeVarint64,t.length(),t)},Writer$1.prototype.int64=Writer$1.prototype.uint64,Writer$1.prototype.sint64=function(e){var t=LongBits$1.from(e).zzEncode();return this._push(writeVarint64,t.length(),t)},Writer$1.prototype.bool=function(e){return this._push(writeByte,1,e?1:0)},Writer$1.prototype.fixed32=function(e){return this._push(writeFixed32,4,e>>>0)},Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32,Writer$1.prototype.fixed64=function(e){var t=LongBits$1.from(e);return this._push(writeFixed32,4,t.lo)._push(writeFixed32,4,t.hi)},Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64,Writer$1.prototype.float=function(e){return this._push(util$4.float.writeFloatLE,4,e)},Writer$1.prototype.double=function(e){return this._push(util$4.float.writeDoubleLE,8,e)};var writeBytes=util$4.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};Writer$1.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(writeByte,1,0);if(util$4.isString(e)){var r=Writer$1.alloc(t=base64$2.length(e));base64$2.decode(e,r,0),e=r}return this.uint32(t)._push(writeBytes,t,e)},Writer$1.prototype.string=function(e){var t=utf8$1.length(e);return t?this.uint32(t)._push(utf8$1.write,t,e):this._push(writeByte,1,0)},Writer$1.prototype.fork=function(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer$1.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer$1.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},Writer$1.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},Writer$1._configure=function(e){BufferWriter$1=e,Writer$1.create=create$2(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=minimal$1;function BufferWriter(){Writer.call(this)}function writeStringBuffer(e,t,r){e.length<40?util$3.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&"set"===util$3.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},BufferWriter.prototype.bytes=function(e){util$3.isString(e)&&(e=util$3._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(BufferWriter.writeBytesBuffer,t,e),this},BufferWriter.prototype.string=function(e){var t=util$3.Buffer.byteLength(e);return this.uint32(t),t&&this._push(writeStringBuffer,t,e),this},BufferWriter._configure();var reader=Reader$1,util$2=minimal$1,BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Reader$1(e){this.buf=e,this.pos=0,this.len=e.length}var create_array="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")},create$1=function(){return util$2.Buffer?function(e){return(Reader$1.create=function(e){return util$2.Buffer.isBuffer(e)?new BufferReader$1(e):create_array(e)})(e)}:create_array},value;function readLongVarint(){var e=new LongBits(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function readFixed32_end(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.create=create$1(),Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice,Reader$1.prototype.uint32=(value=4294967295,function(){if(value=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return value;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return value}),Reader$1.prototype.int32=function(){return 0|this.uint32()},Reader$1.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},Reader$1.prototype.bool=function(){return 0!==this.uint32()},Reader$1.prototype.fixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.sfixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.float=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},Reader$1.prototype.double=function(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},Reader$1.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw indexOutOfRange(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},Reader$1.prototype.string=function(){var e=this.bytes();return utf8.read(e,0,e.length)},Reader$1.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw indexOutOfRange(this)}while(128&this.buf[this.pos++]);return this},Reader$1.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},Reader$1._configure=function(e){BufferReader$1=e,Reader$1.create=create$1(),BufferReader$1._configure();var t=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[t](!1)},uint64:function(){return readLongVarint.call(this)[t](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[t](!1)},fixed64:function(){return readFixed64.call(this)[t](!0)},sfixed64:function(){return readFixed64.call(this)[t](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=minimal$1;function BufferReader(e){Reader.call(this,e)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)},BufferReader.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},BufferReader._configure();var rpc={},service=Service,util=minimal$1;function Service(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function e(t,r,n,i,a){if(!i)throw TypeError("request must be specified");var o=this;if(!a)return util.asPromise(e,o,t,r,n,i);if(o.rpcImpl)try{return o.rpcImpl(t,r[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,r){if(e)return o.emit("error",e,t),a(e);if(null!==r){if(!(r instanceof n))try{r=n[o.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return o.emit("error",e,t),a(e)}return o.emit("data",r,t),a(null,r)}o.end(!0)}))}catch(e){return o.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},Service.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},function(e){e.Service=service}(rpc);var roots={};!function(e){var t=indexMinimal;function r(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}t.build="minimal",t.Writer=writer,t.BufferWriter=writer_buffer,t.Reader=reader,t.BufferReader=reader_buffer,t.util=minimal$1,t.rpc=rpc,t.roots=roots,t.configure=r,r()}();var minimal=indexMinimal,$Reader=minimal.Reader,$Writer=minimal.Writer,$util=minimal.util,$root=minimal.roots["ipfs-unixfs"]||(minimal.roots["ipfs-unixfs"]={}),Data=$root.Data=function(){function e(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Type=0,e.prototype.Data=$util.newBuffer([]),e.prototype.filesize=$util.Long?$util.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=$util.emptyArray,e.prototype.hashType=$util.Long?$util.Long.fromBits(0,0,!0):0,e.prototype.fanout=$util.Long?$util.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(e,t){if(t||(t=$Writer.create()),t.uint32(8).int32(e.Type),null!=e.Data&&Object.hasOwnProperty.call(e,"Data")&&t.uint32(18).bytes(e.Data),null!=e.filesize&&Object.hasOwnProperty.call(e,"filesize")&&t.uint32(24).uint64(e.filesize),null!=e.blocksizes&&e.blocksizes.length)for(var r=0;r<e.blocksizes.length;++r)t.uint32(32).uint64(e.blocksizes[r]);return null!=e.hashType&&Object.hasOwnProperty.call(e,"hashType")&&t.uint32(40).uint64(e.hashType),null!=e.fanout&&Object.hasOwnProperty.call(e,"fanout")&&t.uint32(48).uint64(e.fanout),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(56).uint32(e.mode),null!=e.mtime&&Object.hasOwnProperty.call(e,"mtime")&&$root.UnixTime.encode(e.mtime,t.uint32(66).fork()).ldelim(),t},e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.Data;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;case 3:n.filesize=e.uint64();break;case 4:if(n.blocksizes&&n.blocksizes.length||(n.blocksizes=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)n.blocksizes.push(e.uint64());else n.blocksizes.push(e.uint64());break;case 5:n.hashType=e.uint64();break;case 6:n.fanout=e.uint64();break;case 7:n.mode=e.uint32();break;case 8:n.mtime=$root.UnixTime.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Type"))throw $util.ProtocolError("missing required 'Type'",{instance:n});return n},e.fromObject=function(e){if(e instanceof $root.Data)return e;var t=new $root.Data;switch(e.Type){case"Raw":case 0:t.Type=0;break;case"Directory":case 1:t.Type=1;break;case"File":case 2:t.Type=2;break;case"Metadata":case 3:t.Type=3;break;case"Symlink":case 4:t.Type=4;break;case"HAMTShard":case 5:t.Type=5}if(null!=e.Data&&("string"==typeof e.Data?$util.base64.decode(e.Data,t.Data=$util.newBuffer($util.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),null!=e.filesize&&($util.Long?(t.filesize=$util.Long.fromValue(e.filesize)).unsigned=!0:"string"==typeof e.filesize?t.filesize=parseInt(e.filesize,10):"number"==typeof e.filesize?t.filesize=e.filesize:"object"==typeof e.filesize&&(t.filesize=new $util.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");t.blocksizes=[];for(var r=0;r<e.blocksizes.length;++r)$util.Long?(t.blocksizes[r]=$util.Long.fromValue(e.blocksizes[r])).unsigned=!0:"string"==typeof e.blocksizes[r]?t.blocksizes[r]=parseInt(e.blocksizes[r],10):"number"==typeof e.blocksizes[r]?t.blocksizes[r]=e.blocksizes[r]:"object"==typeof e.blocksizes[r]&&(t.blocksizes[r]=new $util.LongBits(e.blocksizes[r].low>>>0,e.blocksizes[r].high>>>0).toNumber(!0))}if(null!=e.hashType&&($util.Long?(t.hashType=$util.Long.fromValue(e.hashType)).unsigned=!0:"string"==typeof e.hashType?t.hashType=parseInt(e.hashType,10):"number"==typeof e.hashType?t.hashType=e.hashType:"object"==typeof e.hashType&&(t.hashType=new $util.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),null!=e.fanout&&($util.Long?(t.fanout=$util.Long.fromValue(e.fanout)).unsigned=!0:"string"==typeof e.fanout?t.fanout=parseInt(e.fanout,10):"number"==typeof e.fanout?t.fanout=e.fanout:"object"==typeof e.fanout&&(t.fanout=new $util.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),null!=e.mode&&(t.mode=e.mode>>>0),null!=e.mtime){if("object"!=typeof e.mtime)throw TypeError(".Data.mtime: object expected");t.mtime=$root.UnixTime.fromObject(e.mtime)}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.blocksizes=[]),t.defaults){if(r.Type=t.enums===String?"Raw":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=$util.newBuffer(r.Data))),$util.Long){var n=new $util.Long(0,0,!0);r.filesize=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.filesize=t.longs===String?"0":0;$util.Long?(n=new $util.Long(0,0,!0),r.hashType=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.hashType=t.longs===String?"0":0,$util.Long?(n=new $util.Long(0,0,!0),r.fanout=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.fanout=t.longs===String?"0":0,r.mode=0,r.mtime=null}if(null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?$root.Data.DataType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?$util.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),null!=e.filesize&&e.hasOwnProperty("filesize")&&("number"==typeof e.filesize?r.filesize=t.longs===String?String(e.filesize):e.filesize:r.filesize=t.longs===String?$util.Long.prototype.toString.call(e.filesize):t.longs===Number?new $util.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){r.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)"number"==typeof e.blocksizes[i]?r.blocksizes[i]=t.longs===String?String(e.blocksizes[i]):e.blocksizes[i]:r.blocksizes[i]=t.longs===String?$util.Long.prototype.toString.call(e.blocksizes[i]):t.longs===Number?new $util.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0):e.blocksizes[i]}return null!=e.hashType&&e.hasOwnProperty("hashType")&&("number"==typeof e.hashType?r.hashType=t.longs===String?String(e.hashType):e.hashType:r.hashType=t.longs===String?$util.Long.prototype.toString.call(e.hashType):t.longs===Number?new $util.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),null!=e.fanout&&e.hasOwnProperty("fanout")&&("number"==typeof e.fanout?r.fanout=t.longs===String?String(e.fanout):e.fanout:r.fanout=t.longs===String?$util.Long.prototype.toString.call(e.fanout):t.longs===Number?new $util.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),null!=e.mode&&e.hasOwnProperty("mode")&&(r.mode=e.mode),null!=e.mtime&&e.hasOwnProperty("mtime")&&(r.mtime=$root.UnixTime.toObject(e.mtime,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},e.DataType=function(){var e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),e}();$root.UnixTime=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Seconds=$util.Long?$util.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(e,t){return t||(t=$Writer.create()),t.uint32(8).int64(e.Seconds),null!=e.FractionalNanoseconds&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&t.uint32(21).fixed32(e.FractionalNanoseconds),t},e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.UnixTime;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Seconds=e.int64();break;case 2:n.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Seconds"))throw $util.ProtocolError("missing required 'Seconds'",{instance:n});return n},e.fromObject=function(e){if(e instanceof $root.UnixTime)return e;var t=new $root.UnixTime;return null!=e.Seconds&&($util.Long?(t.Seconds=$util.Long.fromValue(e.Seconds)).unsigned=!1:"string"==typeof e.Seconds?t.Seconds=parseInt(e.Seconds,10):"number"==typeof e.Seconds?t.Seconds=e.Seconds:"object"==typeof e.Seconds&&(t.Seconds=new $util.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),null!=e.FractionalNanoseconds&&(t.FractionalNanoseconds=e.FractionalNanoseconds>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if($util.Long){var n=new $util.Long(0,0,!1);r.Seconds=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.Seconds=t.longs===String?"0":0;r.FractionalNanoseconds=0}return null!=e.Seconds&&e.hasOwnProperty("Seconds")&&("number"==typeof e.Seconds?r.Seconds=t.longs===String?String(e.Seconds):e.Seconds:r.Seconds=t.longs===String?$util.Long.prototype.toString.call(e.Seconds):t.longs===Number?new $util.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),null!=e.FractionalNanoseconds&&e.hasOwnProperty("FractionalNanoseconds")&&(r.FractionalNanoseconds=e.FractionalNanoseconds),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},e}(),$root.Metadata=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.MimeType="",e.encode=function(e,t){return t||(t=$Writer.create()),null!=e.MimeType&&Object.hasOwnProperty.call(e,"MimeType")&&t.uint32(10).string(e.MimeType),t},e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.Metadata;e.pos<r;){var i=e.uint32();i>>>3==1?n.MimeType=e.string():e.skipType(7&i)}return n},e.fromObject=function(e){if(e instanceof $root.Metadata)return e;var t=new $root.Metadata;return null!=e.MimeType&&(t.MimeType=String(e.MimeType)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.MimeType=""),null!=e.MimeType&&e.hasOwnProperty("MimeType")&&(r.MimeType=e.MimeType),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},e}();var PBData=Data,types=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],dirTypes=["directory","hamt-sharded-directory"],DEFAULT_FILE_MODE=parseInt("0644",8),DEFAULT_DIRECTORY_MODE=parseInt("0755",8);function parseMode(e){if(null!=e)return"number"==typeof e?4095&e:"0"===(e=e.toString()).substring(0,1)?4095&parseInt(e,8):4095&parseInt(e,10)}function parseMtime(e){if(null!=e){var t;if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){var r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:1e3*(r-1e3*n)}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw errCode(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}}var UnixFS=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"file"};(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e);var r=t.type,n=t.data,i=t.blockSizes,a=t.hashType,o=t.fanout,s=t.mtime,u=t.mode;if(r&&!types.includes(r))throw errCode(new Error("Type: "+r+" is not valid"),"ERR_INVALID_TYPE");this.type=r||"file",this.data=n,this.hashType=a,this.fanout=o,this.blockSizes=i||[],this._originalMode=0,this.mode=parseMode(u),s&&(this.mtime=parseMtime(s),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"mode",get:function(){return this._mode},set:function(e){this._mode=this.isDirectory()?DEFAULT_DIRECTORY_MODE:DEFAULT_FILE_MODE;var t=parseMode(e);void 0!==t&&(this._mode=t)}},{key:"isDirectory",value:function(){return Boolean(this.type&&dirTypes.includes(this.type))}},{key:"addBlockSize",value:function(e){this.blockSizes.push(e)}},{key:"removeBlockSize",value:function(e){this.blockSizes.splice(e,1)}},{key:"fileSize",value:function(){if(this.isDirectory())return 0;var e=0;return this.blockSizes.forEach((function(t){e+=t})),this.data&&(e+=this.data.length),e}},{key:"marshal",value:function(){var e;switch(this.type){case"raw":e=PBData.DataType.Raw;break;case"directory":e=PBData.DataType.Directory;break;case"file":e=PBData.DataType.File;break;case"metadata":e=PBData.DataType.Metadata;break;case"symlink":e=PBData.DataType.Symlink;break;case"hamt-sharded-directory":e=PBData.DataType.HAMTShard;break;default:throw errCode(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}var t,r,n=this.data;if(this.data&&this.data.length||(n=void 0),null!=this.mode&&((t=4294963200&this._originalMode|(parseMode(this.mode)||0))!==DEFAULT_FILE_MODE||this.isDirectory()||(t=void 0),t===DEFAULT_DIRECTORY_MODE&&this.isDirectory()&&(t=void 0)),null!=this.mtime){var i=parseMtime(this.mtime);i&&(0===(r={Seconds:i.secs,FractionalNanoseconds:i.nsecs}).FractionalNanoseconds&&delete r.FractionalNanoseconds)}var a={Type:e,Data:n,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:t,mtime:r};return PBData.encode(a).finish()}}],[{key:"unmarshal",value:function(t){var r=PBData.decode(t),n=PBData.toObject(r,{defaults:!1,arrays:!0,longs:Number,objects:!1}),i=new e({type:types[n.Type],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:n.mtime?{secs:n.mtime.Seconds,nsecs:n.mtime.FractionalNanoseconds}:void 0});return i._originalMode=n.mode||0,i}}]),e}(),textDecoder=new TextDecoder;function decodeVarint(e,t){for(var r=0,n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");var i=e[t++];if(r+=n<28?(127&i)<<n:(127&i)*Math.pow(2,n),i<128)break}return[r,t]}function decodeBytes(e,t){var r,n=decodeVarint(e,t),i=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(n,2);r=i[0];var a=(t=i[1])+r;if(r<0||a<0)throw new Error("protobuf: invalid length");if(a>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,a),a]}function decodeKey(e,t){var r,n,i;return r=decodeVarint(e,t),[7&(i=(n=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(r,2))[0]),i>>3,t=n[1]]}function decodeLink(e){for(var t={},r=e.length,n=0;n<r;){var i,a,o,s;if(i=decodeKey(e,n),o=(a=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(i,3))[0],s=a[1],n=a[2],1===s){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==o)throw new Error("protobuf: (PBLink) wrong wireType (".concat(o,") for Hash"));if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");var u=decodeBytes(e,n),l=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(u,2);t.Hash=l[0],n=l[1]}else if(2===s){var c,h;if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==o)throw new Error("protobuf: (PBLink) wrong wireType (".concat(o,") for Name"));if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");var f;c=decodeBytes(e,n),f=(h=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(c,2))[0],n=h[1],t.Name=textDecoder.decode(f)}else{if(3!==s)throw new Error("protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ".concat(s));if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==o)throw new Error("protobuf: (PBLink) wrong wireType (".concat(o,") for Tsize"));var d=decodeVarint(e,n),p=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(d,2);t.Tsize=p[0],n=p[1]}}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}function decodeNode(e){for(var t,r,n=e.length,i=0,a=!1;i<n;){var o,s,u,l;if(o=decodeKey(e,i),u=(s=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(o,3))[0],l=s[1],i=s[2],2!==u)throw new Error("protobuf: (PBNode) invalid wireType, expected 2, got ".concat(u));if(1===l){var c,h;if(r)throw new Error("protobuf: (PBNode) duplicate Data section");c=decodeBytes(e,i),r=(h=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(c,2))[0],i=h[1],t&&(a=!0)}else{if(2!==l)throw new Error("protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ".concat(l));var f,d;if(a)throw new Error("protobuf: (PBNode) duplicate Links section");var p;t||(t=[]),f=decodeBytes(e,i),p=(d=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(f,2))[0],i=d[1],t.push(decodeLink(p))}}if(i>n)throw new Error("protobuf: (PBNode) unexpected end of data");var _={};return r&&(_.Data=r),_.Links=t||[],_}var textEncoder$1=new TextEncoder,maxInt32=Math.pow(2,32),maxUInt32=Math.pow(2,31);function encodeLink(e,t){var r=t.length;if("number"==typeof e.Tsize){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");t[r=encodeVarint(t,r,e.Tsize)-1]=24}if("string"==typeof e.Name){var n=textEncoder$1.encode(e.Name);r-=n.length,t.set(n,r),t[r=encodeVarint(t,r,n.length)-1]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),t[r=encodeVarint(t,r,e.Hash.length)-1]=10),t.length-r}function encodeNode(e){var t=sizeNode(e),r=new Uint8Array(t),n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),r[n=encodeVarint(r,n,e.Data.length)-1]=10),e.Links)for(var i=e.Links.length-1;i>=0;i--){var a=encodeLink(e.Links[i],r.subarray(0,n));r[n=encodeVarint(r,n-=a,a)-1]=18}return r}function sizeLink(e){var t=0;if(e.Hash){var r=e.Hash.length;t+=1+r+sov(r)}if("string"==typeof e.Name){var n=textEncoder$1.encode(e.Name).length;t+=1+n+sov(n)}return"number"==typeof e.Tsize&&(t+=1+sov(e.Tsize)),t}function sizeNode(e){var t=0;if(e.Data){var r=e.Data.length;t+=1+r+sov(r)}if(e.Links){var n,i=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(e.Links);try{for(i.s();!(n=i.n()).done;){var a=sizeLink(n.value);t+=1+a+sov(a)}}catch(err){i.e(err)}finally{i.f()}}return t}function encodeVarint(e,t,r){for(var n=t-=sov(r);r>=maxUInt32;)e[t++]=127&r|128,r/=128;for(;r>=128;)e[t++]=127&r|128,r>>>=7;return e[t]=r,n}function sov(e){return e%2==0&&e++,Math.floor((len64(e)+6)/7)}function len64(e){var t=0;return e>=maxInt32&&(e=Math.floor(e/maxInt32),t=32),e>=65536&&(e>>>=16,t+=16),e>=256&&(e>>>=8,t+=8),t+len8tab[e]}var len8tab=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties=["Data","Links"],pbLinkProperties=["Hash","Name","Tsize"],textEncoder=new TextEncoder;function linkComparator(e,t){if(e===t)return 0;for(var r=e.Name?textEncoder.encode(e.Name):[],n=t.Name?textEncoder.encode(t.Name):[],i=r.length,a=n.length,o=0,s=Math.min(i,a);o<s;++o)if(r[o]!==n[o]){i=r[o],a=n[o];break}return i<a?-1:a<i?1:0}function hasOnlyProperties(e,t){return!Object.keys(e).some((function(e){return!t.includes(e)}))}function asLink(e){if("object"==typeof e.asCID){var t=CID.asCID(e);if(!t)throw new TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!=typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");var r={};if(e.Hash){var n=CID.asCID(e.Hash);try{n||("string"==typeof e.Hash?n=CID.parse(e.Hash):e.Hash instanceof Uint8Array&&(n=CID.decode(e.Hash)))}catch(e){throw new TypeError("Invalid DAG-PB form: ".concat(e.message))}n&&(r.Hash=n)}if(!r.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof e.Name&&(r.Name=e.Name),"number"==typeof e.Tsize&&(r.Tsize=e.Tsize),r}function prepare(e){if((e instanceof Uint8Array||"string"==typeof e)&&(e={Data:e}),"object"!=typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");var t={};if(void 0!==e.Data)if("string"==typeof e.Data)t.Data=textEncoder.encode(e.Data);else{if(!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=e.Data}if(void 0!==e.Links){if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form");t.Links=e.Links.map(asLink),t.Links.sort(linkComparator)}else t.Links=[];return t}function validate(e){if(!e||"object"!=typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties(e,pbNodeProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==e.Data&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(var t=0;t<e.Links.length;t++){var r=e.Links[t];if(!r||"object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!hasOnlyProperties(r,pbLinkProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==r.Name&&"string"!=typeof r.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==r.Tsize&&("number"!=typeof r.Tsize||r.Tsize%1!=0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&-1===linkComparator(r,e.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function createNode(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return prepare({Data:e,Links:t})}function createLink(e,t,r){return asLink({Hash:r,Name:e,Tsize:t})}var name$3="dag-pb",code$5=112;function encode$3(e){validate(e);var t={};return e.Links&&(t.Links=e.Links.map((function(e){var t={};return e.Hash&&(t.Hash=e.Hash.bytes),void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),e.Data&&(t.Data=e.Data),encodeNode(t)}function decode$3(e){var t=decodeNode(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map((function(e){var t={};try{t.Hash=CID.decode(e.Hash)}catch(e){}if(!t.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),r}var pb=Object.freeze({__proto__:null,name:name$3,code:code$5,encode:encode$3,decode:decode$3,prepare:prepare,validate:validate,createNode:createNode,createLink:createLink}),persist=function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n){var i,a;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.codec||(n.codec=pb),n.hasher||(n.hasher=sha256),void 0===n.cidVersion&&(n.cidVersion=1),n.codec===pb&&n.hasher!==sha256&&(n.cidVersion=1),e.next=3,n.hasher.digest(t);case 3:if(i=e.sent,a=CID.create(n.cidVersion,n.codec.code,i),e.t0=n.onlyHash,e.t0){e.next=9;break}return e.next=9,r.put(a,t,{signal:n.signal});case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),dirBuilder=function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n){var i,a;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new UnixFS({type:"directory",mtime:t.mtime,mode:t.mode}),a=encode$3(prepare({Data:i.marshal()})),e.next=3,persist(a,r,n);case 3:return e.t0=e.sent,e.t1=t.path,e.t2=i,e.t3=a.length,e.abrupt("return",{cid:e.t0,path:e.t1,unixfs:e.t2,size:e.t3});case 8:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),name$2="raw",code$4=85,encode$2=function(e){return coerce(e)},decode$2=function(e){return coerce(e)},raw=Object.freeze({__proto__:null,name:name$2,code:code$4,encode:encode$2,decode:decode$2}),all=function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i,a,o,s,u;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=!1,i=!1,e.prev=3,o=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t);case 5:return e.next=7,o.next();case 7:if(!(n=!(s=e.sent).done)){e.next=13;break}u=s.value,r.push(u);case 10:n=!1,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),i=!0,a=e.t0;case 19:if(e.prev=19,e.prev=20,!n||null==o.return){e.next=24;break}return e.next=24,o.return();case 24:if(e.prev=24,!i){e.next=27;break}throw a;case 27:return e.finish(24);case 28:return e.finish(19);case 29:return e.abrupt("return",r);case 30:case"end":return e.stop()}}),e,null,[[3,15,19,29],[20,,24,28]])})));return function(t){return e.apply(this,arguments)}}(),itAll=all;function flat(e,t){return _flat.apply(this,arguments)}function _flat(){return _flat=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,itAll(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)}))),_flat.apply(this,arguments)}function balanced(e,t,r){return reduceToParents(e,t,r)}function reduceToParents(e,t,r){return _reduceToParents.apply(this,arguments)}function _reduceToParents(){return _reduceToParents=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n){var i,a,o,s,u,l,c;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],a=!1,o=!1,e.prev=3,u=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(itBatch(t,n.maxChildrenPerNode));case 5:return e.next=7,u.next();case 7:if(!(a=!(l=e.sent).done)){e.next=17;break}return c=l.value,e.t0=i,e.next=12,r(c);case 12:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 14:a=!1,e.next=5;break;case 17:e.next=23;break;case 19:e.prev=19,e.t2=e.catch(3),o=!0,s=e.t2;case 23:if(e.prev=23,e.prev=24,!a||null==u.return){e.next=28;break}return e.next=28,u.return();case 28:if(e.prev=28,!o){e.next=31;break}throw s;case 31:return e.finish(28);case 32:return e.finish(23);case 33:return e.abrupt("return",i.length>1?reduceToParents(i,r,n):i[0]);case 34:case"end":return e.stop()}}),e,null,[[3,19,23,33],[24,,28,32]])}))),_reduceToParents.apply(this,arguments)}function trickleStream(e,t,r){return _trickleStream.apply(this,arguments)}function _trickleStream(){return _trickleStream=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n){var i,a,o,s,u,l,c,h,f,d;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Root(n.layerRepeat),a=0,o=1,s=i,u=!1,l=!1,e.prev=4,h=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(itBatch(t,n.maxChildrenPerNode));case 6:return e.next=8,h.next();case 8:if(!(u=!(f=e.sent).done)){e.next=26;break}if(d=f.value,e.t0=s.isFull(),!e.t0){e.next=22;break}if(e.t1=s!==i,!e.t1){e.next=19;break}return e.t2=i,e.next=17,s.reduce(r);case 17:e.t3=e.sent,e.t2.addChild.call(e.t2,e.t3);case 19:a&&a%n.layerRepeat==0&&o++,s=new SubTree(o,n.layerRepeat,a),a++;case 22:s.append(d);case 23:u=!1,e.next=6;break;case 26:e.next=32;break;case 28:e.prev=28,e.t4=e.catch(4),l=!0,c=e.t4;case 32:if(e.prev=32,e.prev=33,!u||null==h.return){e.next=37;break}return e.next=37,h.return();case 37:if(e.prev=37,!l){e.next=40;break}throw c;case 40:return e.finish(37);case 41:return e.finish(32);case 42:if(e.t5=s&&s!==i,!e.t5){e.next=49;break}return e.t6=i,e.next=47,s.reduce(r);case 47:e.t7=e.sent,e.t6.addChild.call(e.t6,e.t7);case 49:return e.abrupt("return",i.reduce(r));case 50:case"end":return e.stop()}}),e,null,[[4,28,32,42],[33,,37,41]])}))),_trickleStream.apply(this,arguments)}var SubTree=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this.maxDepth=t,this.layerRepeat=r,this.currentDepth=1,this.iteration=n,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:t,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"isFull",value:function(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;var e=this._findParent(this.node,this.currentDepth);return!e||(this._addNextNodeToParent(e),!1)}},{key:"_addNextNodeToParent",value:function(e){this.parent=e;var t={children:[],depth:e.depth+1,parent:e,maxDepth:this.maxDepth,maxChildren:Math.floor(e.children.length/this.layerRepeat)*this.layerRepeat};e.children.push(t),this.currentDepth=t.depth,this.node=t}},{key:"append",value:function(e){this.node.data=e}},{key:"reduce",value:function(e){return this._reduce(this.root,e)}},{key:"_reduce",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n,i=this;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],e.t0=t.children.length,!e.t0){e.next=6;break}return e.next=5,Promise.all(t.children.filter((function(e){return e.data})).map((function(e){return i._reduce(e,r)})));case 5:n=e.sent;case 6:return e.abrupt("return",r((t.data||[]).concat(n)));case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_findParent",value:function(e,t){var r=e.parent;if(r&&0!==r.depth)return r.children.length!==r.maxChildren&&r.maxChildren?r:this._findParent(r,t)}}]),e}(),Root=function(e){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__.Z)(r,e);var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_5__.Z)(r);function r(e){var n;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,r),(n=t.call(this,0,e)).root.depth=0,n.currentDepth=1,n}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(r,[{key:"addChild",value:function(e){this.root.children.push(e)}},{key:"reduce",value:function(e){return e((this.root.data||[]).concat(this.root.children))}}]),r}(SubTree);function bufferImporter(e,t,r){return _bufferImporter.apply(this,arguments)}function _bufferImporter(){return _bufferImporter=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n){var i,a,o,s,u,l;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!1,a=!1,e.prev=2,s=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){var i;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.value,e.next=3,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){var a,o;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.progress(i.length,t.path),o={codec:pb,cidVersion:n.cidVersion,hasher:n.hasher,onlyHash:n.onlyHash},n.rawLeaves?(o.codec=raw,o.cidVersion=1):(a=new UnixFS({type:n.leafType,data:i,mtime:t.mtime,mode:t.mode}),i=encode$3({Data:a.marshal(),Links:[]})),e.next=5,persist(i,r,o);case 5:return e.t0=e.sent,e.t1=a,e.t2=i.length,e.abrupt("return",{cid:e.t0,unixfs:e.t1,size:e.t2});case 9:case"end":return e.stop()}}),e)})));case 3:case"end":return e.stop()}}),e)})),u=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t.content);case 5:return e.next=7,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(u.next());case 7:if(!(i=!(l=e.sent).done)){e.next=12;break}return e.delegateYield(s(),"t0",9);case 9:i=!1,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t1=e.catch(2),a=!0,o=e.t1;case 18:if(e.prev=18,e.prev=19,!i||null==u.return){e.next=23;break}return e.next=23,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(u.return());case 23:if(e.prev=23,!a){e.next=26;break}throw o;case 26:return e.finish(23);case 27:return e.finish(18);case 28:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])}))),_bufferImporter.apply(this,arguments)}var dagBuilders={flat:flat,balanced:balanced,trickle:trickleStream};function buildFileBatch(e,t,r){return _buildFileBatch.apply(this,arguments)}function _buildFileBatch(){return _buildFileBatch=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n){var i,a,o,s,u,l,c,h,f;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=-1,a="function"==typeof n.bufferImporter?n.bufferImporter:bufferImporter,s=!1,u=!1,e.prev=4,c=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(itParallelBatch(a(t,r,n),n.blockWriteConcurrency));case 6:return e.next=8,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(c.next());case 8:if(!(s=!(h=e.sent).done)){e.next=25;break}if(f=h.value,0===++o){e.next=21;break}if(e.t0=1===o&&i,!e.t0){e.next=17;break}return e.next=16,i;case 16:i=null;case 17:return e.next=19,f;case 19:e.next=22;break;case 21:i=f;case 22:s=!1,e.next=6;break;case 25:e.next=31;break;case 27:e.prev=27,e.t1=e.catch(4),u=!0,l=e.t1;case 31:if(e.prev=31,e.prev=32,!s||null==c.return){e.next=36;break}return e.next=36,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(c.return());case 36:if(e.prev=36,!u){e.next=39;break}throw l;case 39:return e.finish(36);case 40:return e.finish(31);case 41:if(e.t2=i,!e.t2){e.next=46;break}return i.single=!0,e.next=46,i;case 46:case"end":return e.stop()}}),e,null,[[4,27,31,41],[32,,36,40]])}))),_buildFileBatch.apply(this,arguments)}var reduce=function(e,t,r){return function(){var n=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function n(i){var a,o,s,u,l,c;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(1!==i.length||!i[0].single||!r.reduceSingleLeafToSelf){n.next=13;break}if((a=i[0]).cid.code!==code$4||void 0===e.mtime&&void 0===e.mode){n.next=12;break}return n.next=5,t.get(a.cid);case 5:return o=n.sent,a.unixfs=new UnixFS({type:"file",mtime:e.mtime,mode:e.mode,data:o}),o=encode$3(prepare({Data:a.unixfs.marshal()})),n.next=10,persist(o,t,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)({},r),{},{codec:pb,hasher:r.hasher,cidVersion:r.cidVersion}));case 10:a.cid=n.sent,a.size=o.length;case 12:return n.abrupt("return",{cid:a.cid,path:e.path,unixfs:a.unixfs,size:a.size});case 13:return s=new UnixFS({type:"file",mtime:e.mtime,mode:e.mode}),u=i.filter((function(e){return!(e.cid.code!==code$4||!e.size)||!(!e.unixfs||e.unixfs.data||!e.unixfs.fileSize())||Boolean(e.unixfs&&e.unixfs.data&&e.unixfs.data.length)})).map((function(e){return e.cid.code===code$4?(s.addBlockSize(e.size),{Name:"",Tsize:e.size,Hash:e.cid}):(e.unixfs&&e.unixfs.data?s.addBlockSize(e.unixfs.data.length):s.addBlockSize(e.unixfs&&e.unixfs.fileSize()||0),{Name:"",Tsize:e.size,Hash:e.cid})})),l={Data:s.marshal(),Links:u},c=encode$3(prepare(l)),n.next=16,persist(c,t,r);case 16:return n.t0=n.sent,n.t1=e.path,n.t2=s,n.t3=c.length+l.Links.reduce((function(e,t){return e+t.Tsize}),0),n.abrupt("return",{cid:n.t0,path:n.t1,unixfs:n.t2,size:n.t3});case 21:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()};function fileBuilder(e,t,r){var n=dagBuilders[r.strategy];if(!n)throw errCode(new Error("Unknown importer build strategy name: ".concat(r.strategy)),"ERR_BAD_STRATEGY");return n(buildFileBatch(e,t,r),reduce(e,t,r),r)}var buffer={},base64Js={};base64Js.byteLength=byteLength,base64Js.toByteArray=toByteArray,base64Js.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code$3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code$3.length;i<len;++i)lookup[i]=code$3[i],revLookup[code$3.charCodeAt(i)]=i;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function byteLength(e){var t=getLens(e),r=t[0],n=t[1];return 3*(r+n)/4-n}function _byteLength(e,t,r){return 3*(t+r)/4-r}function toByteArray(e){var t,r,n=getLens(e),i=n[0],a=n[1],o=new Arr(_byteLength(e,i,a)),s=0,u=a>0?i-4:i;for(r=0;r<u;r+=4)t=revLookup[e.charCodeAt(r)]<<18|revLookup[e.charCodeAt(r+1)]<<12|revLookup[e.charCodeAt(r+2)]<<6|revLookup[e.charCodeAt(r+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=255&t;return 2===a&&(t=revLookup[e.charCodeAt(r)]<<2|revLookup[e.charCodeAt(r+1)]>>4,o[s++]=255&t),1===a&&(t=revLookup[e.charCodeAt(r)]<<10|revLookup[e.charCodeAt(r+1)]<<4|revLookup[e.charCodeAt(r+2)]>>2,o[s++]=t>>8&255,o[s++]=255&t),o}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[63&e]}function encodeChunk(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(tripletToBase64(n));return i.join("")}function fromByteArray(e){for(var t,r=e.length,n=r%3,i=[],a=16383,o=0,s=r-n;o<s;o+=a)i.push(encodeChunk(e,o,o+a>s?s:o+a));return 1===n?(t=e[r-1],i.push(lookup[t>>2]+lookup[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(lookup[t>>10]+lookup[t>>4&63]+lookup[t<<2&63]+"=")),i.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;var ieee754={read:function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,l=u>>1,c=-7,h=r?i-1:0,f=r?-1:1,d=e[t+h];for(h+=f,a=d&(1<<-c)-1,d>>=-c,c+=s;c>0;a=256*a+e[t+h],h+=f,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+e[t+h],h+=f,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),a-=l}return(d?-1:1)*o*Math.pow(2,a-n)},write:function(e,t,r,n,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,p=n?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(o++,u/=2),o+h>=c?(s=0,o=c):o+h>=1?(s=(t*u-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[r+d]=255&o,d+=p,o/=256,l-=8);e[r+d-p]|=128*_}};!function(e){var t=base64Js,r=ieee754,n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},e.INSPECT_MAX_BYTES=50;var i=2147483647;function a(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return s(e,t,r)}function s(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|d(e,t),n=a(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(V(e,Uint8Array)){var t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return c(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(V(e,ArrayBuffer)||e&&V(e.buffer,ArrayBuffer))return h(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(V(e,SharedArrayBuffer)||e&&V(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return o.from(n,t,r);var i=function(e){if(o.isBuffer(e)){var t=0|f(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||X(e.length)?a(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return u(e),a(e<0?0:0|f(e))}function c(e){for(var t=e.length<0?0:0|f(e.length),r=a(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,o.prototype),n}function f(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function d(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||V(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(e).length;default:if(i)return n?-1:K(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return M(this,t,r);case"latin1":case"binary":return A(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function _(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var a,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(a=r;a<s;a++)if(l(e,a)===l(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var h=!0,f=0;f<u;f++)if(l(e,a+f)!==l(t,f)){h=!1;break}if(h)return a}return-1}function g(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a,o=t.length;for(n>o/2&&(n=o/2),a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(X(s))return a;e[r+a]=s}return a}function y(e,t,r,n){return G(K(t,e.length-r),e,r,n)}function b(e,t,r,n){return G(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return G(H(t),e,r,n)}function E(e,t,r,n){return G(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function x(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function k(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=r){var u=void 0,l=void 0,c=void 0,h=void 0;switch(s){case 1:a<128&&(o=a);break;case 2:128==(192&(u=e[i+1]))&&((h=(31&a)<<6|63&u)>127&&(o=h));break;case 3:u=e[i+1],l=e[i+2],128==(192&u)&&128==(192&l)&&((h=(15&a)<<12|(63&u)<<6|63&l)>2047&&(h<55296||h>57343)&&(o=h));break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128==(192&u)&&128==(192&l)&&128==(192&c)&&((h=(15&a)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&h<1114112&&(o=h))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}(n)}e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(t,r),42===t.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return s(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},o.allocUnsafe=function(e){return l(e)},o.allocUnsafeSlow=function(e){return l(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(V(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),V(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(V(a,Uint8Array))i+a.length>n.length?(o.isBuffer(a)||(a=o.from(a)),a.copy(n,i)):Uint8Array.prototype.set.call(n,a,i);else{if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i)}i+=a.length}return n},o.byteLength=d,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):p.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(e,t,r,n,i){if(V(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),u=Math.min(a,s),l=this.slice(n,i),c=e.slice(t,r),h=0;h<u;++h)if(l[h]!==c[h]){a=l[h],s=c[h];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return y(this,e,t,r);case"ascii":case"latin1":case"binary":return b(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function M(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function A(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function O(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=Y[e[a]];return i}function S(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length-1;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,r,n,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n,i){Z(t,n,i,e,r,7);var a=Number(t&BigInt(4294967295));e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function D(e,t,r,n,i){Z(t,n,i,e,r,7);var a=Number(t&BigInt(4294967295));e[r+7]=a,a>>=8,e[r+6]=a,a>>=8,e[r+5]=a,a>>=8,e[r+4]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function I(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,n,i,a){return t=+t,n>>>=0,a||I(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function U(e,t,n,i,a){return t=+t,n>>>=0,a||I(e,0,n,8),r.write(e,t,n,i,52,8),n+8}o.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=q((function(e){W(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);var n=t+256*this[++e]+65536*this[++e]+this[++e]*Math.pow(2,24),i=this[++e]+256*this[++e]+65536*this[++e]+r*Math.pow(2,24);return BigInt(n)+(BigInt(i)<<BigInt(32))})),o.prototype.readBigUInt64BE=q((function(e){W(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);var n=t*Math.pow(2,24)+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*Math.pow(2,24)+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},o.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=q((function(e){W(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);var n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*Math.pow(2,24))})),o.prototype.readBigInt64BE=q((function(e){W(e>>>=0,"offset");var t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);var n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+65536*this[++e]+256*this[++e]+r)})),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),r.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),r.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),r.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),r.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||C(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||C(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=q((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),o.prototype.writeBigUInt64BE=q((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);C(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);C(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=q((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),o.prototype.writeBigInt64BE=q((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),o.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},o.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var s=o.isBuffer(e)?e:o.from(e,n),u=s.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=s[a%u]}return this};var j={};function N(e,t,r){j[e]=function(r){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__.Z)(i,r);var n=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_5__.Z)(i);function i(){var r;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,i),r=n.call(this),Object.defineProperty((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_14__.Z)(r),"message",{value:t.apply((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_14__.Z)(r),arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(e,"]"),r.stack,delete r.name,r}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(i,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),i}(r)}function B(e){for(var t="",r=e.length,n="-"===e[0]?1:0;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function Z(e,t,r,n,i,a){if(e>r||e<t){var o,s="bigint"==typeof t?"n":"";throw o=a>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(a+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(a+1)-1).concat(s,") and < 2 ** ").concat(8*(a+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(r).concat(s),new j.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,r){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||F(t,e.length-(r+1))}(n,i,a)}function W(e,t){if("number"!=typeof e)throw new j.ERR_INVALID_ARG_TYPE(t,"number",e)}function F(e,t,r){if(Math.floor(e)!==e)throw W(e,r),new j.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}N("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),N("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),N("ERR_OUT_OF_RANGE",(function(e,t,r){var n='The value of "'.concat(e,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>Math.pow(2,32)?i=B(String(r)):"bigint"==typeof r&&(i=String(r),(r>Math.pow(BigInt(2),BigInt(32))||r<-Math.pow(BigInt(2),BigInt(32)))&&(i=B(i)),i+="n"),n+=" It must be ".concat(t,". Received ").concat(i)}),RangeError);var z=/[^+/0-9A-Za-z-_]/g;function K(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function H(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,r,n){var i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function V(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}var Y=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}();function q(e){return"undefined"==typeof BigInt?$:e}function $(){throw new Error("BigInt not supported")}}(buffer);var Buffer=buffer.Buffer,symbol=Symbol.for("BufferList");function BufferList(e){if(!(this instanceof BufferList))return new BufferList(e);BufferList._init.call(this,e)}BufferList._init=function(e){Object.defineProperty(this,symbol,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},BufferList.prototype._new=function(e){return new BufferList(e)},BufferList.prototype._offset=function(e){if(0===e)return[0,0];for(var t=0,r=0;r<this._bufs.length;r++){var n=t+this._bufs[r].length;if(e<n||r===this._bufs.length-1)return[r,e-t];t=n}},BufferList.prototype._reverseOffset=function(e){for(var t=e[0],r=e[1],n=0;n<t;n++)r+=this._bufs[n].length;return r},BufferList.prototype.get=function(e){if(!(e>this.length||e<0)){var t=this._offset(e);return this._bufs[t[0]][t[1]]}},BufferList.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},BufferList.prototype.copy=function(e,t,r,n){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n>this.length)&&(n=this.length),r>=this.length)return e||Buffer.alloc(0);if(n<=0)return e||Buffer.alloc(0);var i=!!e,a=this._offset(r),o=n-r,s=o,u=i&&t||0,l=a[1];if(0===r&&n===this.length){if(!i)return 1===this._bufs.length?this._bufs[0]:Buffer.concat(this._bufs,this.length);for(var c=0;c<this._bufs.length;c++)this._bufs[c].copy(e,u),u+=this._bufs[c].length;return e}if(s<=this._bufs[a[0]].length-l)return i?this._bufs[a[0]].copy(e,t,l,l+s):this._bufs[a[0]].slice(l,l+s);i||(e=Buffer.allocUnsafe(o));for(var h=a[0];h<this._bufs.length;h++){var f=this._bufs[h].length-l;if(!(s>f)){this._bufs[h].copy(e,u,l,l+s),u+=f;break}this._bufs[h].copy(e,u,l),u+=f,s-=f,l&&(l=0)}return e.length>u?e.slice(0,u):e},BufferList.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();var r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},BufferList.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},BufferList.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},BufferList.prototype.duplicate=function(){for(var e=this._new(),t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},BufferList.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(Buffer.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(var t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(var r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(Buffer.from(e));return this},BufferList.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},BufferList.prototype.indexOf=function(e,t,r){if(void 0===r&&"string"==typeof t&&(r=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=Buffer.from([e]):"string"==typeof e?e=Buffer.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):Buffer.isBuffer(e)||(e=Buffer.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;for(var n=this._offset(t),i=n[0],a=n[1];i<this._bufs.length;i++){for(var o=this._bufs[i];a<o.length;)if(o.length-a>=e.length){var s=o.indexOf(e,a);if(-1!==s)return this._reverseOffset([i,s]);a=o.length-e.length+1}else{var u=this._reverseOffset([i,a]);if(this._match(u,e))return u;a++}a=0}return-1},BufferList.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(var r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(var t in e)!function(t){BufferList.prototype[t]=null===e[t]?function(e,r){return this.slice(e,e+r)[t](0,r)}:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.slice(r,r+e[t])[t](0)}}(t)}(),BufferList.prototype._isBufferList=function(e){return e instanceof BufferList||BufferList.isBufferList(e)},BufferList.isBufferList=function(e){return null!=e&&e[symbol]};var BufferList_1=BufferList,Rabin$1=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8192,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32768,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:64,o=arguments.length>5?arguments[5]:void 0;(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this.bits=r,this.min=n,this.max=i,this.asModule=t,this.rabin=new t.Rabin(r,n,i,a,o),this.polynomial=o}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"fingerprint",value:function(e){var t=this.asModule,r=t.__retain,n=t.__release,i=t.__allocArray,a=t.__getInt32Array,o=t.Int32Array_ID,s=t.Uint8Array_ID,u=r(i(o,new Int32Array(Math.ceil(e.length/this.min)))),l=r(i(s,e)),c=a(this.rabin.fingerprint(l,u));n(l),n(u);var h=c.indexOf(0);return h>=0?c.subarray(0,h):c}}]),e}(),rabin$1=Rabin$1,loader={},ID_OFFSET=-8,SIZE_OFFSET=-4,ARRAYBUFFER_ID=0,STRING_ID=1,ARRAYBUFFERVIEW=1,ARRAY=2,VAL_ALIGN_OFFSET=5,VAL_SIGNED=1024,VAL_FLOAT=2048,VAL_MANAGED=8192,ARRAYBUFFERVIEW_BUFFER_OFFSET=0,ARRAYBUFFERVIEW_DATASTART_OFFSET=4,ARRAYBUFFERVIEW_DATALENGTH_OFFSET=8,ARRAYBUFFERVIEW_SIZE=12,ARRAY_LENGTH_OFFSET=12,ARRAY_SIZE=16,BIGINT="undefined"!=typeof BigUint64Array,THIS=Symbol(),CHUNKSIZE=1024;function getStringImpl(e,t){var r=new Uint32Array(e),n=new Uint16Array(e),i=r[t+SIZE_OFFSET>>>2]>>>1,a=t>>>1;if(i<=CHUNKSIZE)return String.fromCharCode.apply(String,n.subarray(a,a+i));var o=[];do{var s=n[a+CHUNKSIZE-1],u=s>=55296&&s<56320?CHUNKSIZE-1:CHUNKSIZE;o.push(String.fromCharCode.apply(String,n.subarray(a,a+=u))),i-=u}while(i>CHUNKSIZE);return o.join("")+String.fromCharCode.apply(String,n.subarray(a,a+i))}function preInstantiate(e){var t={};function r(e,t){return e?getStringImpl(e.buffer,t):"<yet unknown>"}var n=e.env=e.env||{};return n.abort=n.abort||function(e,i,a,o){var s=t.memory||n.memory;throw Error("abort: "+r(s,e)+" at "+r(s,i)+":"+a+":"+o)},n.trace=n.trace||function(e,i){var a=t.memory||n.memory;console.log("trace: "+r(a,e)+(i?" ":"")+Array.prototype.slice.call(arguments,2,2+i).join(", "))},e.Math=e.Math||Math,e.Date=e.Date||Date,t}function postInstantiate(e,t){var r=t.exports,n=r.memory,i=r.table,a=r.__alloc,o=r.__retain,s=r.__rtti_base||-1;function u(e){var t=new Uint32Array(n.buffer);if((e>>>=0)>=t[s>>>2])throw Error("invalid id: "+e);return t[(s+4>>>2)+2*e]}function l(e){var t=new Uint32Array(n.buffer);if((e>>>=0)>=t[s>>>2])throw Error("invalid id: "+e);return t[(s+4>>>2)+2*e+1]}function c(e){return 31-Math.clz32(e>>>VAL_ALIGN_OFFSET&31)}function h(e,t,r){var i=n.buffer;if(r)switch(e){case 2:return new Float32Array(i);case 3:return new Float64Array(i)}else switch(e){case 0:return new(t?Int8Array:Uint8Array)(i);case 1:return new(t?Int16Array:Uint16Array)(i);case 2:return new(t?Int32Array:Uint32Array)(i);case 3:return new(t?BigInt64Array:BigUint64Array)(i)}throw Error("unsupported align: "+e)}function f(e){var t=new Uint32Array(n.buffer),r=t[e+ID_OFFSET>>>2],i=u(r);if(!(i&ARRAYBUFFERVIEW))throw Error("not an array: "+r);var a=c(i),o=t[e+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2],s=i&ARRAY?t[e+ARRAY_LENGTH_OFFSET>>>2]:t[o+SIZE_OFFSET>>>2]>>>a;return h(a,i&VAL_SIGNED,i&VAL_FLOAT).subarray(o>>>=a,o+s)}function d(e,t,r){return new e(p(e,t,r))}function p(e,t,r){var i=n.buffer,a=new Uint32Array(i),o=a[r+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2];return new e(i,o,a[o+SIZE_OFFSET>>>2]>>>t)}return e.__allocString=function(e){for(var t=e.length,r=a(t<<1,STRING_ID),i=new Uint16Array(n.buffer),o=0,s=r>>>1;o<t;++o)i[s+o]=e.charCodeAt(o);return r},e.__getString=function(e){var t=n.buffer;if(new Uint32Array(t)[e+ID_OFFSET>>>2]!==STRING_ID)throw Error("not a string: "+e);return getStringImpl(t,e)},e.__allocArray=function(e,t){var r=u(e);if(!(r&(ARRAYBUFFERVIEW|ARRAY)))throw Error("not an array: "+e+" @ "+r);var i=c(r),s=t.length,l=a(s<<i,ARRAYBUFFER_ID),f=a(r&ARRAY?ARRAY_SIZE:ARRAYBUFFERVIEW_SIZE,e),d=new Uint32Array(n.buffer);d[f+ARRAYBUFFERVIEW_BUFFER_OFFSET>>>2]=o(l),d[f+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2]=l,d[f+ARRAYBUFFERVIEW_DATALENGTH_OFFSET>>>2]=s<<i,r&ARRAY&&(d[f+ARRAY_LENGTH_OFFSET>>>2]=s);var p=h(i,r&VAL_SIGNED,r&VAL_FLOAT);if(r&VAL_MANAGED)for(var _=0;_<s;++_)p[(l>>>i)+_]=o(t[_]);else p.set(t,l>>>i);return f},e.__getArrayView=f,e.__getArray=function(e){for(var t=f(e),r=t.length,n=new Array(r),i=0;i<r;i++)n[i]=t[i];return n},e.__getArrayBuffer=function(e){var t=n.buffer,r=new Uint32Array(t)[e+SIZE_OFFSET>>>2];return t.slice(e,e+r)},e.__getInt8Array=d.bind(null,Int8Array,0),e.__getInt8ArrayView=p.bind(null,Int8Array,0),e.__getUint8Array=d.bind(null,Uint8Array,0),e.__getUint8ArrayView=p.bind(null,Uint8Array,0),e.__getUint8ClampedArray=d.bind(null,Uint8ClampedArray,0),e.__getUint8ClampedArrayView=p.bind(null,Uint8ClampedArray,0),e.__getInt16Array=d.bind(null,Int16Array,1),e.__getInt16ArrayView=p.bind(null,Int16Array,1),e.__getUint16Array=d.bind(null,Uint16Array,1),e.__getUint16ArrayView=p.bind(null,Uint16Array,1),e.__getInt32Array=d.bind(null,Int32Array,2),e.__getInt32ArrayView=p.bind(null,Int32Array,2),e.__getUint32Array=d.bind(null,Uint32Array,2),e.__getUint32ArrayView=p.bind(null,Uint32Array,2),BIGINT&&(e.__getInt64Array=d.bind(null,BigInt64Array,3),e.__getInt64ArrayView=p.bind(null,BigInt64Array,3),e.__getUint64Array=d.bind(null,BigUint64Array,3),e.__getUint64ArrayView=p.bind(null,BigUint64Array,3)),e.__getFloat32Array=d.bind(null,Float32Array,2),e.__getFloat32ArrayView=p.bind(null,Float32Array,2),e.__getFloat64Array=d.bind(null,Float64Array,3),e.__getFloat64ArrayView=p.bind(null,Float64Array,3),e.__instanceof=function(e,t){var r=new Uint32Array(n.buffer),i=r[e+ID_OFFSET>>>2];if(i<=r[s>>>2])do{if(i==t)return!0}while(i=l(i));return!1},e.memory=e.memory||n,e.table=e.table||i,demangle(r,e)}function isResponse(e){return"undefined"!=typeof Response&&e instanceof Response}function instantiate$1(e,t){return _instantiate$.apply(this,arguments)}function _instantiate$(){return _instantiate$=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=isResponse,e.next=3,t;case 3:if(e.t1=t=e.sent,!(0,e.t0)(e.t1)){e.next=8;break}e.t2=instantiateStreaming(t,r),e.next=24;break;case 8:if(e.t3=postInstantiate,e.t4=preInstantiate(r||(r={})),e.t5=WebAssembly,!(t instanceof WebAssembly.Module)){e.next=15;break}e.t6=t,e.next=18;break;case 15:return e.next=17,WebAssembly.compile(t);case 17:e.t6=e.sent;case 18:return e.t7=e.t6,e.t8=r,e.next=22,e.t5.instantiate.call(e.t5,e.t7,e.t8);case 22:e.t9=e.sent,e.t2=(0,e.t3)(e.t4,e.t9);case 24:return e.abrupt("return",e.t2);case 25:case"end":return e.stop()}}),e)}))),_instantiate$.apply(this,arguments)}function instantiateSync(e,t){return postInstantiate(preInstantiate(t||(t={})),new WebAssembly.Instance(e instanceof WebAssembly.Module?e:new WebAssembly.Module(e),t))}function instantiateStreaming(e,t){return _instantiateStreaming.apply(this,arguments)}function _instantiateStreaming(){return _instantiateStreaming=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!WebAssembly.instantiateStreaming){e.next=9;break}return e.t1=postInstantiate,e.t2=preInstantiate(r||(r={})),e.next=5,WebAssembly.instantiateStreaming(t,r);case 5:e.t3=e.sent.instance,e.t0=(0,e.t1)(e.t2,e.t3),e.next=22;break;case 9:return e.t4=instantiate$1,e.t5=isResponse,e.next=13,t;case 13:if(e.t6=t=e.sent,!(0,e.t5)(e.t6)){e.next=18;break}e.t7=t.arrayBuffer(),e.next=19;break;case 18:e.t7=t;case 19:e.t8=e.t7,e.t9=r,e.t0=(0,e.t4)(e.t8,e.t9);case 22:return e.abrupt("return",e.t0);case 23:case"end":return e.stop()}}),e)}))),_instantiateStreaming.apply(this,arguments)}function demangle(e,t){var r=t?Object.create(t):{},n=e.__argumentsLength?function(t){e.__argumentsLength.value=t}:e.__setArgumentsLength||e.__setargc||function(){},i=function(t){if(!Object.prototype.hasOwnProperty.call(e,t))return"continue";for(var i=e[t],a=t.split("."),o=r;a.length>1;){var s=a.shift();Object.prototype.hasOwnProperty.call(o,s)||(o[s]={}),o=o[s]}var u=a[0],l=u.indexOf("#");if(l>=0){var c=u.substring(0,l),h=o[c];if(void 0===h||!h.prototype){var f=function e(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.wrap((t=e.prototype).constructor.apply(t,[0].concat(n)))};f.prototype={valueOf:function(){return this[THIS]}},f.wrap=function(e){return Object.create(f.prototype,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},THIS,{value:e,writable:!1}))},h&&Object.getOwnPropertyNames(h).forEach((function(e){return Object.defineProperty(f,e,Object.getOwnPropertyDescriptor(h,e))})),o[c]=f}if(u=u.substring(l+1),o=o[c].prototype,/^(get|set):/.test(u)){if(!Object.prototype.hasOwnProperty.call(o,u=u.substring(4))){var d=e[t.replace("set:","get:")],p=e[t.replace("get:","set:")];Object.defineProperty(o,u,{get:function(){return d(this[THIS])},set:function(e){p(this[THIS],e)},enumerable:!0})}}else"constructor"===u?(o[u]=function(){return n(arguments.length),i.apply(void 0,arguments)}).original=i:(o[u]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n(t.length),i.apply(void 0,[this[THIS]].concat(t))}).original=i}else/^(get|set):/.test(u)?Object.prototype.hasOwnProperty.call(o,u=u.substring(4))||Object.defineProperty(o,u,{get:e[t.replace("set:","get:")],set:e[t.replace("get:","set:")],enumerable:!0}):"function"==typeof i&&i!==n?(o[u]=function(){return n(arguments.length),i.apply(void 0,arguments)}).original=i:o[u]=i};for(var a in e)i(a);return r}loader.instantiate=instantiate$1,loader.instantiateSync=instantiateSync,loader.instantiateStreaming=instantiateStreaming,loader.demangle=demangle;var instantiate=loader.instantiate;function loadWebAssembly(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!loadWebAssembly.supported)return null;var t=new Uint8Array([0,97,115,109,1,0,0,0,1,78,14,96,2,127,126,0,96,1,127,1,126,96,2,127,127,0,96,1,127,1,127,96,1,127,0,96,2,127,127,1,127,96,3,127,127,127,1,127,96,0,0,96,3,127,127,127,0,96,0,1,127,96,4,127,127,127,127,0,96,5,127,127,127,127,127,1,127,96,1,126,1,127,96,2,126,126,1,126,2,13,1,3,101,110,118,5,97,98,111,114,116,0,10,3,54,53,2,2,8,9,3,5,2,8,6,5,3,4,2,6,9,12,13,2,5,11,3,2,3,2,3,2,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,6,7,7,4,4,5,3,1,0,1,6,47,9,127,1,65,0,11,127,1,65,0,11,127,0,65,3,11,127,0,65,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,0,65,240,2,11,127,0,65,6,11,7,240,5,41,6,109,101,109,111,114,121,2,0,7,95,95,97,108,108,111,99,0,10,8,95,95,114,101,116,97,105,110,0,11,9,95,95,114,101,108,101,97,115,101,0,12,9,95,95,99,111,108,108,101,99,116,0,51,11,95,95,114,116,116,105,95,98,97,115,101,3,7,13,73,110,116,51,50,65,114,114,97,121,95,73,68,3,2,13,85,105,110,116,56,65,114,114,97,121,95,73,68,3,3,6,100,101,103,114,101,101,0,16,3,109,111,100,0,17,5,82,97,98,105,110,3,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,21,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,22,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,23,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,24,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,25,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,26,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,27,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,28,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,29,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,30,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,31,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,32,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,33,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,34,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,35,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,36,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,37,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,38,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,39,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,40,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,41,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,42,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,43,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,44,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,45,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,46,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,47,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,48,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,20,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,49,8,1,50,10,165,31,53,199,1,1,4,127,32,1,40,2,0,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,3,65,4,107,118,65,16,115,33,4,32,3,65,7,107,11,33,3,32,1,40,2,20,33,2,32,1,40,2,16,34,5,4,64,32,5,32,2,54,2,20,11,32,2,4,64,32,2,32,5,54,2,16,11,32,1,32,0,32,4,32,3,65,4,116,106,65,2,116,106,40,2,96,70,4,64,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,2,54,2,96,32,2,69,4,64,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,65,127,115,113,34,1,54,2,4,32,1,69,4,64,32,0,32,0,40,2,0,65,1,32,3,116,65,127,115,113,54,2,0,11,11,11,11,226,2,1,6,127,32,1,40,2,0,33,3,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,34,5,65,1,113,4,64,32,3,65,124,113,65,16,106,32,5,65,124,113,106,34,2,65,240,255,255,255,3,73,4,64,32,0,32,4,16,1,32,1,32,2,32,3,65,3,113,114,34,3,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,33,5,11,11,32,3,65,2,113,4,64,32,1,65,4,107,40,2,0,34,2,40,2,0,34,6,65,124,113,65,16,106,32,3,65,124,113,106,34,7,65,240,255,255,255,3,73,4,64,32,0,32,2,16,1,32,2,32,7,32,6,65,3,113,114,34,3,54,2,0,32,2,33,1,11,11,32,4,32,5,65,2,114,54,2,0,32,4,65,4,107,32,1,54,2,0,32,0,32,3,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,2,65,4,107,118,65,16,115,33,4,32,2,65,7,107,11,34,3,65,4,116,32,4,106,65,2,116,106,40,2,96,33,2,32,1,65,0,54,2,16,32,1,32,2,54,2,20,32,2,4,64,32,2,32,1,54,2,16,11,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,1,54,2,96,32,0,32,0,40,2,0,65,1,32,3,116,114,54,2,0,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,114,54,2,4,11,119,1,1,127,32,2,2,127,32,0,40,2,160,12,34,2,4,64,32,2,32,1,65,16,107,70,4,64,32,2,40,2,0,33,3,32,1,65,16,107,33,1,11,11,32,1,11,107,34,2,65,48,73,4,64,15,11,32,1,32,3,65,2,113,32,2,65,32,107,65,1,114,114,54,2,0,32,1,65,0,54,2,16,32,1,65,0,54,2,20,32,1,32,2,106,65,16,107,34,2,65,2,54,2,0,32,0,32,2,54,2,160,12,32,0,32,1,16,2,11,155,1,1,3,127,35,0,34,0,69,4,64,65,1,63,0,34,0,74,4,127,65,1,32,0,107,64,0,65,0,72,5,65,0,11,4,64,0,11,65,176,3,34,0,65,0,54,2,0,65,208,15,65,0,54,2,0,3,64,32,1,65,23,73,4,64,32,1,65,2,116,65,176,3,106,65,0,54,2,4,65,0,33,2,3,64,32,2,65,16,73,4,64,32,1,65,4,116,32,2,106,65,2,116,65,176,3,106,65,0,54,2,96,32,2,65,1,106,33,2,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,65,176,3,65,224,15,63,0,65,16,116,16,3,65,176,3,36,0,11,32,0,11,45,0,32,0,65,240,255,255,255,3,79,4,64,65,32,65,224,0,65,201,3,65,29,16,0,0,11,32,0,65,15,106,65,112,113,34,0,65,16,32,0,65,16,75,27,11,169,1,1,1,127,32,0,32,1,65,128,2,73,4,127,32,1,65,4,118,33,1,65,0,5,32,1,65,248,255,255,255,1,73,4,64,32,1,65,1,65,27,32,1,103,107,116,106,65,1,107,33,1,11,32,1,65,31,32,1,103,107,34,2,65,4,107,118,65,16,115,33,1,32,2,65,7,107,11,34,2,65,2,116,106,40,2,4,65,127,32,1,116,113,34,1,4,127,32,0,32,1,104,32,2,65,4,116,106,65,2,116,106,40,2,96,5,32,0,40,2,0,65,127,32,2,65,1,106,116,113,34,1,4,127,32,0,32,0,32,1,104,34,0,65,2,116,106,40,2,4,104,32,0,65,4,116,106,65,2,116,106,40,2,96,5,65,0,11,11,11,111,1,1,127,63,0,34,2,32,1,65,248,255,255,255,1,73,4,127,32,1,65,1,65,27,32,1,103,107,116,65,1,107,106,5,32,1,11,65,16,32,0,40,2,160,12,32,2,65,16,116,65,16,107,71,116,106,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,32,0,32,2,65,16,116,63,0,65,16,116,16,3,11,113,1,2,127,32,1,40,2,0,34,3,65,124,113,32,2,107,34,4,65,32,79,4,64,32,1,32,2,32,3,65,2,113,114,54,2,0,32,2,32,1,65,16,106,106,34,1,32,4,65,16,107,65,1,114,54,2,0,32,0,32,1,16,2,5,32,1,32,3,65,126,113,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,32,1,65,16,106,32,1,40,2,0,65,124,113,106,40,2,0,65,125,113,54,2,0,11,11,91,1,2,127,32,0,32,1,16,5,34,4,16,6,34,3,69,4,64,65,1,36,1,65,0,36,1,32,0,32,4,16,6,34,3,69,4,64,32,0,32,4,16,7,32,0,32,4,16,6,33,3,11,11,32,3,65,0,54,2,4,32,3,32,2,54,2,8,32,3,32,1,54,2,12,32,0,32,3,16,1,32,0,32,3,32,4,16,8,32,3,11,13,0,16,4,32,0,32,1,16,9,65,16,106,11,33,1,1,127,32,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,18,0,32,0,65,172,3,75,4,64,32,0,65,16,107,16,52,11,11,140,3,1,1,127,2,64,32,1,69,13,0,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,13,0,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,13,0,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,13,0,32,1,65,0,32,0,107,65,3,113,34,1,107,33,2,32,0,32,1,106,34,0,65,0,54,2,0,32,0,32,2,65,124,113,34,1,106,65,4,107,65,0,54,2,0,32,1,65,8,77,13,0,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,13,0,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,32,0,65,4,113,65,24,106,34,2,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,11,178,1,1,3,127,32,1,65,240,255,255,255,3,32,2,118,75,4,64,65,144,1,65,192,1,65,23,65,56,16,0,0,11,32,1,32,2,116,34,3,65,0,16,10,34,2,32,3,16,13,32,0,69,4,64,65,12,65,2,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,2,34,1,32,0,40,2,0,34,4,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,32,4,16,12,11,32,0,32,1,54,2,0,32,0,32,2,54,2,4,32,0,32,3,54,2,8,32,0,11,46,1,2,127,65,12,65,5,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,65,128,2,65,3,16,14,11,9,0,65,63,32,0,121,167,107,11,49,1,2,127,65,63,32,1,121,167,107,33,2,3,64,65,63,32,0,121,167,107,32,2,107,34,3,65,0,78,4,64,32,0,32,1,32,3,172,134,133,33,0,12,1,11,11,32,0,11,40,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,163,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,65,0,58,0,0,11,38,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,152,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,45,0,0,11,254,5,2,1,127,4,126,32,0,69,4,64,65,232,0,65,6,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,32,2,173,55,3,80,32,0,32,3,173,55,3,88,65,12,65,4,16,10,34,2,65,172,3,75,4,64,32,2,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,32,4,65,0,16,14,33,2,32,0,40,2,0,16,12,32,0,32,2,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,1,173,134,66,1,125,55,3,96,32,0,66,243,130,183,218,216,230,232,30,55,3,72,35,4,69,4,64,65,0,33,2,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,65,0,33,4,3,64,32,4,32,0,40,2,4,65,1,107,72,4,64,32,6,66,8,134,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,32,4,65,1,106,33,4,12,1,11,11,35,6,40,2,4,32,2,65,3,116,106,32,6,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,63,32,0,41,3,72,121,167,107,172,33,7,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,5,33,1,32,2,172,32,7,134,34,8,33,6,65,63,32,0,41,3,72,34,9,121,167,107,33,3,3,64,65,63,32,6,121,167,107,32,3,107,34,4,65,0,78,4,64,32,6,32,9,32,4,172,134,133,33,6,12,1,11,11,32,1,40,2,4,32,2,65,3,116,106,32,6,32,8,132,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,1,36,4,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,16,18,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,6,66,45,136,167,65,3,116,106,41,3,0,32,6,66,8,134,66,1,132,133,55,3,40,32,0,11,38,1,1,127,32,0,40,2,0,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,55,1,2,127,32,1,32,0,40,2,0,34,2,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,16,12,11,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,172,4,2,5,127,1,126,32,2,65,172,3,75,4,64,32,2,65,16,107,34,4,32,4,40,2,4,65,1,106,54,2,4,11,32,2,33,4,65,0,33,2,32,1,40,2,8,33,5,32,1,40,2,4,33,6,3,64,2,127,65,0,33,3,3,64,32,3,32,5,72,4,64,32,3,32,6,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,19,33,7,32,0,40,2,8,32,0,40,2,0,40,2,4,106,32,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,7,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,1,173,32,8,66,8,134,132,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,32,0,41,3,16,32,0,41,3,80,90,4,127,32,0,41,3,40,32,0,41,3,96,131,80,5,65,0,11,4,127,65,1,5,32,0,41,3,16,32,0,41,3,88,90,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,16,18,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,8,66,8,134,66,1,132,133,55,3,40,32,3,65,1,106,12,3,11,32,3,65,1,106,33,3,12,1,11,11,65,127,11,34,1,65,0,78,4,64,32,5,32,1,107,33,5,32,1,32,6,106,33,6,32,2,34,1,65,1,106,33,2,32,4,40,2,4,32,1,65,2,116,106,32,0,41,3,56,62,2,0,12,1,11,11,32,4,11,10,0,16,15,36,5,16,15,36,6,11,3,0,1,11,73,1,2,127,32,0,40,2,4,34,1,65,255,255,255,255,0,113,34,2,65,1,70,4,64,32,0,65,16,106,16,53,32,0,32,0,40,2,0,65,1,114,54,2,0,35,0,32,0,16,2,5,32,0,32,2,65,1,107,32,1,65,128,128,128,128,127,113,114,54,2,4,11,11,58,0,2,64,2,64,2,64,32,0,65,8,107,40,2,0,14,7,0,0,1,1,1,1,1,2,11,15,11,32,0,40,2,0,34,0,4,64,32,0,65,172,3,79,4,64,32,0,65,16,107,16,52,11,11,15,11,0,11,11,137,3,7,0,65,16,11,55,40,0,0,0,1,0,0,0,1,0,0,0,40,0,0,0,97,0,108,0,108,0,111,0,99,0,97,0,116,0,105,0,111,0,110,0,32,0,116,0,111,0,111,0,32,0,108,0,97,0,114,0,103,0,101,0,65,208,0,11,45,30,0,0,0,1,0,0,0,1,0,0,0,30,0,0,0,126,0,108,0,105,0,98,0,47,0,114,0,116,0,47,0,116,0,108,0,115,0,102,0,46,0,116,0,115,0,65,128,1,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,176,1,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,65,240,1,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,73,0,110,0,100,0,101,0,120,0,32,0,111,0,117,0,116,0,32,0,111,0,102,0,32,0,114,0,97,0,110,0,103,0,101,0,65,176,2,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,126,0,108,0,105,0,98,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,240,2,11,53,7,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,145,4,0,0,2,0,0,0,49,0,0,0,2,0,0,0,17,1,0,0,2,0,0,0,16,0,34,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,16,46,47,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return instantiate(new Response(new Blob([t],{type:"application/wasm"})),e)}loadWebAssembly.supported="undefined"!=typeof WebAssembly;var rabinWasm=loadWebAssembly,Rabin=rabin$1,getRabin=rabinWasm,create=function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n,i,a){var o;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,getRabin();case 2:return o=e.sent,e.abrupt("return",new Rabin(o,t,r,n,i,a));case 4:case"end":return e.stop()}}),e)})));return function(t,r,n,i,a){return e.apply(this,arguments)}}(),src$1={Rabin:Rabin,create:create};function rabinChunker(e,t){return _rabinChunker.apply(this,arguments)}function _rabinChunker(){return _rabinChunker=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n,i,a,o,s,u,l,c,h,f;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.minChunkSize&&r.maxChunkSize&&r.avgChunkSize)){e.next=4;break}a=r.avgChunkSize,n=r.minChunkSize,i=r.maxChunkSize,e.next=7;break;case 4:if(r.avgChunkSize){e.next=6;break}throw errCode(new Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");case 6:a=r.avgChunkSize,n=a/3,i=a+a/2;case 7:if(!(n<16)){e.next=9;break}throw errCode(new Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");case 9:i<n&&(i=n),a<n&&(a=n),o=Math.floor(Math.log2(a)),s=!1,u=!1,e.prev=13,c=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(rabin(t,{min:n,max:i,bits:o,window:r.window,polynomial:r.polynomial}));case 15:return e.next=17,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(c.next());case 17:if(!(s=!(h=e.sent).done)){e.next=24;break}return f=h.value,e.next=21,f;case 21:s=!1,e.next=15;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(13),u=!0,l=e.t0;case 30:if(e.prev=30,e.prev=31,!s||null==c.return){e.next=35;break}return e.next=35,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(c.return());case 35:if(e.prev=35,!u){e.next=38;break}throw l;case 38:return e.finish(35);case 39:return e.finish(30);case 40:case"end":return e.stop()}}),e,null,[[13,26,30,40],[31,,35,39]])}))),_rabinChunker.apply(this,arguments)}function rabin(e,t){return _rabin.apply(this,arguments)}function _rabin(){return _rabin=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n,i,a,o,s,u,l,c,h,f,d,p;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(src$1.create(r.bits,r.min,r.max,r.window));case 2:n=e.sent,i=new BufferList_1,a=!1,o=!1,e.prev=6,u=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t);case 8:return e.next=10,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(u.next());case 10:if(!(a=!(l=e.sent).done)){e.next=26;break}c=l.value,i.append(c),h=n.fingerprint(c),f=0;case 15:if(!(f<h.length)){e.next=23;break}return d=h[f],p=i.slice(0,d),i.consume(d),e.next=20,p;case 20:f++,e.next=15;break;case 23:a=!1,e.next=8;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(6),o=!0,s=e.t0;case 32:if(e.prev=32,e.prev=33,!a||null==u.return){e.next=37;break}return e.next=37,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(u.return());case 37:if(e.prev=37,!o){e.next=40;break}throw s;case 40:return e.finish(37);case 41:return e.finish(32);case 42:if(e.t1=i.length,!e.t1){e.next=46;break}return e.next=46,i.slice(0);case 46:case"end":return e.stop()}}),e,null,[[6,28,32,42],[33,,37,41]])}))),_rabin.apply(this,arguments)}function fixedSizeChunker(e,t){return _fixedSizeChunker.apply(this,arguments)}function _fixedSizeChunker(){return _fixedSizeChunker=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n,i,a,o,s,u,l,c,h,f,d;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new BufferList_1,i=0,a=!1,o=r.maxChunkSize,s=!1,u=!1,e.prev=4,c=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t);case 6:return e.next=8,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(c.next());case 8:if(!(s=!(h=e.sent).done)){e.next=26;break}f=h.value,n.append(f),i+=f.length;case 11:if(!(i>=o)){e.next=23;break}return e.next=14,n.slice(0,o);case 14:if(a=!0,o!==n.length){e.next=19;break}n=new BufferList_1,i=0,e.next=21;break;case 19:(d=new BufferList_1).append(n.shallowSlice(o)),n=d,i-=o;case 21:e.next=11;break;case 23:s=!1,e.next=6;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(4),u=!0,l=e.t0;case 32:if(e.prev=32,e.prev=33,!s||null==c.return){e.next=37;break}return e.next=37,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(c.return());case 37:if(e.prev=37,!u){e.next=40;break}throw l;case 40:return e.finish(37);case 41:return e.finish(32);case 42:if(e.t1=a&&!i,e.t1){e.next=46;break}return e.next=46,n.slice(0,i);case 46:case"end":return e.stop()}}),e,null,[[4,28,32,42],[33,,37,41]])}))),_fixedSizeChunker.apply(this,arguments)}var identity$2=from$1({prefix:"\0",name:"identity",encode:function(e){return toString$1(e)},decode:function(e){return fromString$3(e)}}),identityBase=Object.freeze({__proto__:null,identity:identity$2}),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze({__proto__:null,base2:base2}),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze({__proto__:null,base8:base8}),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze({__proto__:null,base10:base10}),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze({__proto__:null,base16:base16,base16upper:base16upper}),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze({__proto__:null,base36:base36,base36upper:base36upper}),base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze({__proto__:null,base64:base64,base64pad:base64pad,base64url:base64url,base64urlpad:base64urlpad}),code$2=0,name$1="identity",encode$1=coerce,digest=function(e){return create$4(code$2,encode$1(e))},identity={code:code$2,name:name$1,encode:encode$1,digest:digest},identity$1=Object.freeze({__proto__:null,identity:identity});new TextEncoder,new TextDecoder;var bases=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)({},identityBase),base2$1),base8$1),base10$1),base16$1),base32$1),base36$1),base58),base64$1);function createCodec(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var string=createCodec("utf8","u",(function(e){return"u"+new TextDecoder("utf8").decode(e)}),(function(e){return(new TextEncoder).encode(e.substring(1))})),ascii=createCodec("ascii","a",(function(e){for(var t="a",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(function(e){e=e.substring(1);for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),BASES=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)({utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii:ascii,binary:ascii},bases);function fromString(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",r=BASES[t];if(!r)throw new Error('Unsupported encoding "'.concat(t,'"'));return r.decoder.decode("".concat(r.prefix).concat(e))}var fromString$1=Object.freeze({__proto__:null,fromString:fromString});function validateChunks(e){return _validateChunks.apply(this,arguments)}function _validateChunks(){return _validateChunks=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i,a,o,s;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!1,n=!1,e.prev=2,a=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t);case 4:return e.next=6,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(a.next());case 6:if(!(r=!(o=e.sent).done)){e.next=27;break}if(void 0!==(s=o.value).length){e.next=10;break}throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT");case 10:if(!("string"==typeof s||s instanceof String)){e.next=15;break}return e.next=13,fromString(s.toString());case 13:e.next=24;break;case 15:if(!Array.isArray(s)){e.next=20;break}return e.next=18,Uint8Array.from(s);case 18:e.next=24;break;case 20:if(s instanceof Uint8Array){e.next=22;break}throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT");case 22:return e.next=24,s;case 24:r=!1,e.next=4;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(2),n=!0,i=e.t0;case 33:if(e.prev=33,e.prev=34,!r||null==a.return){e.next=38;break}return e.next=38,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(a.return());case 38:if(e.prev=38,!n){e.next=41;break}throw i;case 41:return e.finish(38);case 42:return e.finish(33);case 43:case"end":return e.stop()}}),e,null,[[2,29,33,43],[34,,38,42]])}))),_validateChunks.apply(this,arguments)}function isIterable(e){return Symbol.iterator in e}function isAsyncIterable(e){return Symbol.asyncIterator in e}function contentAsAsyncIterable(e){try{if(e instanceof Uint8Array)return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:case"end":return t.stop()}}),t)})))();if(isIterable(e))return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncGeneratorDelegate_js__WEBPACK_IMPORTED_MODULE_15__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z),"t0",1);case 1:case"end":return t.stop()}}),t)})))();if(isAsyncIterable(e))return e}catch(t){throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw errCode(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function dagBuilder(e,t,r){return _dagBuilder.apply(this,arguments)}function _dagBuilder(){return _dagBuilder=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n){var i,a,o,s,u,l;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!1,a=!1,e.prev=2,s=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t);case 4:return e.next=6,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(s.next());case 6:if(!(i=!(u=e.sent).done)){e.next=18;break}if((l=u.value).path&&("./"===l.path.substring(0,2)&&(n.wrapWithDirectory=!0),l.path=l.path.split("/").filter((function(e){return e&&"."!==e})).join("/")),!l.content){e.next=12;break}return e.delegateYield((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){var t,i,a;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,i=void 0,t="function"==typeof n.chunker?n.chunker:"rabin"===n.chunker?rabinChunker:fixedSizeChunker,i="function"==typeof n.chunkValidator?n.chunkValidator:validateChunks,a={path:l.path,mtime:l.mtime,mode:l.mode,content:t(i(contentAsAsyncIterable(l.content),n),n)},e.next=5,function(){return fileBuilder(a,r,n)};case 5:case"end":return e.stop()}}),e)}))(),"t0",10);case 10:e.next=15;break;case 12:if(l.path){e.next=14;break}throw new Error("Import candidate must have content or path or both");case 14:return e.delegateYield((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){var t;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={path:l.path,mtime:l.mtime,mode:l.mode},e.next=3,function(){return dirBuilder(t,r,n)};case 3:case"end":return e.stop()}}),e)}))(),"t1",15);case 15:i=!1,e.next=4;break;case 18:e.next=24;break;case 20:e.prev=20,e.t2=e.catch(2),a=!0,o=e.t2;case 24:if(e.prev=24,e.prev=25,!i||null==s.return){e.next=29;break}return e.next=29,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(s.return());case 29:if(e.prev=29,!a){e.next=32;break}throw o;case 32:return e.finish(29);case 33:return e.finish(24);case 34:case"end":return e.stop()}}),e,null,[[2,20,24,34],[25,,29,33]])}))),_dagBuilder.apply(this,arguments)}var Dir=function(){function e(t,r){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this.options=r||{},this.root=t.root,this.dir=t.dir,this.path=t.path,this.dirty=t.dirty,this.flat=t.flat,this.parent=t.parent,this.parentKey=t.parentKey,this.unixfs=t.unixfs,this.mode=t.mode,this.mtime=t.mtime,this.cid=void 0,this.size=void 0}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"put",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"get",value:function(e){return Promise.resolve(this)}},{key:"eachChildSeries",value:function(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},{key:"flush",value:function(e){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}]),e}(),DirFlat=function(e){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__.Z)(r,e);var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_5__.Z)(r);function r(e,n){var i;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,r),(i=t.call(this,e,n))._children={},i}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(r,[{key:"put",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.cid=void 0,this.size=void 0,this._children[t]=r;case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"get",value:function(e){return Promise.resolve(this._children[e])}},{key:"childCount",value:function(){return Object.keys(this._children).length}},{key:"directChildrenCount",value:function(){return this.childCount()}},{key:"onlyChild",value:function(){return this._children[Object.keys(this._children)[0]]}},{key:"eachChildSeries",value:function(){var e=this;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(){var r,n,i;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Object.keys(e._children),n=0;case 2:if(!(n<r.length)){t.next=9;break}return i=r[n],t.next=6,{key:i,child:e._children[i]};case 6:n++,t.next=2;break;case 9:case"end":return t.stop()}}),t)})))()}},{key:"flush",value:function(e){var t=this;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function r(){var n,i,a,o,s,u,l,c,h,f,d,p,_,m,v;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=Object.keys(t._children),i=[],a=0;case 2:if(!(a<n.length)){r.next=39;break}if(!((o=t._children[n[a]])instanceof Dir)){r.next=35;break}s=!1,u=!1,r.prev=7,c=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(o.flush(e));case 9:return r.next=11,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(c.next());case 11:if(!(s=!(h=r.sent).done)){r.next=19;break}return f=h.value,o=f,r.next=16,o;case 16:s=!1,r.next=9;break;case 19:r.next=25;break;case 21:r.prev=21,r.t0=r.catch(7),u=!0,l=r.t0;case 25:if(r.prev=25,r.prev=26,!s||null==c.return){r.next=30;break}return r.next=30,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(c.return());case 30:if(r.prev=30,!u){r.next=33;break}throw l;case 33:return r.finish(30);case 34:return r.finish(25);case 35:null!=o.size&&o.cid&&i.push({Name:n[a],Tsize:o.size,Hash:o.cid});case 36:a++,r.next=2;break;case 39:return d=new UnixFS({type:"directory",mtime:t.mtime,mode:t.mode}),p={Data:d.marshal(),Links:i},_=encode$3(prepare(p)),r.next=44,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(persist(_,e,t.options));case 44:return m=r.sent,v=_.length+p.Links.reduce((function(e,t){return e+(null==t.Tsize?0:t.Tsize)}),0),t.cid=m,t.size=v,r.next=50,{cid:m,unixfs:d,path:t.path,size:v};case 50:case"end":return r.stop()}}),r,null,[[7,21,25,35],[26,,30,34]])})))()}}]),r}(Dir),BITS_PER_BYTE=7,sparseArray=function(){function e(){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"set",value:function(e,t){var r=this._internalPositionFor(e,!1);if(void 0===t)-1!==r&&(this._unsetInternalPos(r),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{var n=!1;-1===r?(r=this._data.length,this._setBit(e),this._changedData=!0):n=!0,this._setInternalPos(r,e,t,n),this._changedLength=!0}}},{key:"unset",value:function(e){this.set(e,void 0)}},{key:"get",value:function(e){this._sortData();var t=this._internalPositionFor(e,!0);if(-1!==t)return this._data[t][1]}},{key:"push",value:function(e){return this.set(this.length,e),this.length}},{key:"length",get:function(){if(this._sortData(),this._changedLength){var e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}},{key:"forEach",value:function(e){for(var t=0;t<this.length;)e(this.get(t),t,this),t++}},{key:"map",value:function(e){for(var t=0,r=new Array(this.length);t<this.length;)r[t]=e(this.get(t),t,this),t++;return r}},{key:"reduce",value:function(e,t){for(var r=0,n=t;r<this.length;)n=e(n,this.get(r),r),r++;return n}},{key:"find",value:function(e){for(var t,r,n=0;n<this.length&&!t;)t=e(r=this.get(n)),n++;return t?r:void 0}},{key:"_internalPositionFor",value:function(e,t){var r=this._bytePosFor(e,t);if(r>=this._bitArrays.length)return-1;var n=this._bitArrays[r],i=e-r*BITS_PER_BYTE;return(n&1<<i)>0?this._bitArrays.slice(0,r).reduce(popCountReduce,0)+popCount(n&~(4294967295<<i+1))-1:-1}},{key:"_bytePosFor",value:function(e,t){for(var r=Math.floor(e/BITS_PER_BYTE),n=r+1;!t&&this._bitArrays.length<n;)this._bitArrays.push(0);return r}},{key:"_setBit",value:function(e){var t=this._bytePosFor(e,!1);this._bitArrays[t]|=1<<e-t*BITS_PER_BYTE}},{key:"_unsetBit",value:function(e){var t=this._bytePosFor(e,!1);this._bitArrays[t]&=~(1<<e-t*BITS_PER_BYTE)}},{key:"_setInternalPos",value:function(e,t,r,n){var i=this._data,a=[t,r];if(n)this._sortData(),i[e]=a;else{if(i.length)if(i[i.length-1][0]>=t)i.push(a);else if(i[0][0]<=t)i.unshift(a);else{var o=Math.round(i.length/2);this._data=i.slice(0,o).concat(a).concat(i.slice(o))}else this._data.push(a);this._changedData=!0,this._changedLength=!0}}},{key:"_unsetInternalPos",value:function(e){this._data.splice(e,1)}},{key:"_sortData",value:function(){this._changedData&&this._data.sort(sortInternal),this._changedData=!1}},{key:"bitField",value:function(){for(var e,t=[],r=8,n=0,i=0,a=this._bitArrays.slice();a.length||n;){0===n&&(e=a.shift(),n=7);var o=Math.min(n,r);i|=(e&~(255<<o))<<8-r,e>>>=o,n-=o,(r-=o)&&(n||a.length)||(t.push(i),i=0,r=8)}for(var s=t.length-1;s>0&&0===t[s];s--)t.pop();return t}},{key:"compactArray",value:function(){return this._sortData(),this._data.map(valueOnly)}}]),e}();function popCountReduce(e,t){return e+popCount(t)}function popCount(e){var t=e;return 16843009*((t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135)>>24}function sortInternal(e,t){return e[0]-t[0]}function valueOnly(e){return e[1]}var require$$1$1=getAugmentedNamespace(fromString$1),SparseArray=sparseArray,uint8ArrayFromString=require$$1$1.fromString,Bucket$1=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this._options=t,this._popCount=0,this._parent=r,this._posAtParent=n,this._children=new SparseArray,this.key=null}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"put",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._findNewBucketAndPos(t);case 2:return n=e.sent,e.next=5,n.bucket._putAt(n,t,r);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._findChild(t);case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r.value);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"del",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._findPlace(t);case 2:r=e.sent,(n=r.bucket._at(r.pos))&&n.key===t&&r.bucket._delAt(r.pos);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"leafCount",value:function(){return this._children.compactArray().reduce((function(t,r){return r instanceof e?t+r.leafCount():t+1}),0)}},{key:"childrenCount",value:function(){return this._children.length}},{key:"onlyChild",value:function(){return this._children.get(0)}},{key:"eachLeafSeries",value:(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(){var r,n,i,a;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=this._children.compactArray(),n=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(r),t.prev=2,n.s();case 4:if((i=n.n()).done){t.next=14;break}if(!((a=i.value)instanceof e)){t.next=10;break}return t.delegateYield(a.eachLeafSeries(),"t0",8);case 8:t.next=12;break;case 10:return t.next=12,a;case 12:t.next=4;break;case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(2),n.e(t.t1);case 19:return t.prev=19,n.f(),t.finish(19);case 22:return t.abrupt("return",[]);case 23:case"end":return t.stop()}}),t,this,[[2,16,19,22]])}))},{key:"serialize",value:function(t,r){return r(this._children.reduce((function(n,i,a){return i&&(i instanceof e?n.push(i.serialize(t,r)):n.push(t(i,a))),n}),[]))}},{key:"asyncTransform",value:function(e,t){return asyncTransformBucket(this,e,t)}},{key:"toJSON",value:function(){return this.serialize(mapNode,reduceNodes)}},{key:"prettyPrint",value:function(){return JSON.stringify(this.toJSON(),null,"  ")}},{key:"tableSize",value:function(){return Math.pow(2,this._options.bits)}},{key:"_findChild",value:function(){var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(r){var n,i;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._findPlace(r);case 2:if(n=t.sent,(i=n.bucket._at(n.pos))instanceof e){t.next=6;break}return t.abrupt("return",i&&i.key===r?i:void 0);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_findPlace",value:function(){var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(r){var n,i,a;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._options.hash("string"==typeof r?uint8ArrayFromString(r):r),t.next=3,n.take(this._options.bits);case 3:return i=t.sent,a=this._children.get(i),t.abrupt("return",a instanceof e?a._findPlace(n):{bucket:this,pos:i,hash:n,existingChild:a});case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_findNewBucketAndPos",value:function(){var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(r){var n,i,a;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._findPlace(r);case 2:if(!(n=t.sent).existingChild||n.existingChild.key===r){t.next=10;break}return i=new e(this._options,n.bucket,n.pos),n.bucket._putObjectAt(n.pos,i),t.next=8,i._findPlace(n.existingChild.hash);case 8:return a=t.sent,t.abrupt("return",(a.bucket._putAt(a,n.existingChild.key,n.existingChild.value),i._findNewBucketAndPos(n.hash)));case 10:return t.abrupt("return",n);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_putAt",value:function(e,t,r){this._putObjectAt(e.pos,{key:t,value:r,hash:e.hash})}},{key:"_putObjectAt",value:function(e,t){this._children.get(e)||this._popCount++,this._children.set(e,t)}},{key:"_delAt",value:function(e){if(-1===e)throw new Error("Invalid position");this._children.get(e)&&this._popCount--,this._children.unset(e),this._level()}},{key:"_level",value:function(){if(this._parent&&this._popCount<=1)if(1===this._popCount){var t=this._children.find(exists);if(t&&!(t instanceof e)){var r=t.hash;r.untake(this._options.bits);var n={pos:this._posAtParent,hash:r,bucket:this._parent};this._parent._putAt(n,t.key,t.value)}}else this._parent._delAt(this._posAtParent)}},{key:"_at",value:function(e){return this._children.get(e)}}]),e}();function exists(e){return Boolean(e)}function mapNode(e,t){return e.key}function reduceNodes(e){return e}function asyncTransformBucket(e,t,r){return _asyncTransformBucket.apply(this,arguments)}function _asyncTransformBucket(){return _asyncTransformBucket=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n){var i,a,o,s,u;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],a=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(t._children.compactArray()),e.prev=2,a.s();case 4:if((o=a.n()).done){e.next=17;break}if(!((s=o.value)instanceof Bucket$1)){e.next=11;break}return e.next=9,asyncTransformBucket(s,r,n);case 9:e.next=15;break;case 11:return e.next=13,r(s);case 13:u=e.sent,i.push({bitField:t._children.bitField(),children:u});case 15:e.next=4;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),a.e(e.t0);case 22:return e.prev=22,a.f(),e.finish(22);case 25:return e.abrupt("return",n(i));case 26:case"end":return e.stop()}}),e,null,[[2,19,22,25]])}))),_asyncTransformBucket.apply(this,arguments)}var bucket=Bucket$1,consumableHash={exports:{}},START_MASKS=[255,254,252,248,240,224,192,128],STOP_MASKS=[1,3,7,15,31,63,127,255],consumableBuffer=function(){function e(t){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this._value=t,this._currentBytePos=t.length-1,this._currentBitPos=7}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"availableBits",value:function(){return this._currentBitPos+1+8*this._currentBytePos}},{key:"totalBits",value:function(){return 8*this._value.length}},{key:"take",value:function(e){for(var t=e,r=0;t&&this._haveBits();){var n=this._value[this._currentBytePos],i=this._currentBitPos+1,a=Math.min(i,t);r=(r<<a)+byteBitsToInt(n,i-a,a),t-=a,this._currentBitPos-=a,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return r}},{key:"untake",value:function(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}},{key:"_haveBits",value:function(){return this._currentBytePos>=0}}]),e}();function byteBitsToInt(e,t,r){return(e&maskFor(t,r))>>>t}function maskFor(e,t){return START_MASKS[e]&STOP_MASKS[Math.min(t+e-1,7)]}function concat(e,t){t||(t=e.reduce((function(e,t){return e+t.length}),0));var r,n=new Uint8Array(t),i=0,a=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;n.set(o,i),i+=o.length}}catch(err){a.e(err)}finally{a.f()}return n}var concat$1=Object.freeze({__proto__:null,concat:concat}),require$$1=getAugmentedNamespace(concat$1),ConsumableBuffer=consumableBuffer,uint8ArrayConcat=require$$1.concat;function wrapHash$1(e){return function(t){return t instanceof InfiniteHash?t:new InfiniteHash(t,e)}}var InfiniteHash=function(){function e(t,r){if((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),!(t instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=t,this._hashFn=r,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"take",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i,a;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t;case 1:if(!(this._availableBits<r)){e.next=6;break}return e.next=4,this._produceMoreBits();case 4:e.next=1;break;case 6:for(n=0;r>0;)i=this._buffers[this._currentBufferIndex],a=Math.min(i.availableBits(),r),n=(n<<a)+i.take(a),r-=a,this._availableBits-=a,0===i.availableBits()&&this._currentBufferIndex++;return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"untake",value:function(e){for(var t=e;t>0;){var r=this._buffers[this._currentBufferIndex],n=Math.min(r.totalBits()-r.availableBits(),t);r.untake(n),t-=n,this._availableBits+=n,this._currentBufferIndex>0&&r.totalBits()===r.availableBits()&&(this._depth--,this._currentBufferIndex--)}}},{key:"_produceMoreBits",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){var t,r,n;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._depth++,t=this._depth?uint8ArrayConcat([this._value,Uint8Array.from([this._depth])]):this._value,e.next=4,this._hashFn(t);case 4:r=e.sent,n=new ConsumableBuffer(r),this._buffers.push(n),this._availableBits+=n.availableBits();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();consumableHash.exports=wrapHash$1,consumableHash.exports.InfiniteHash=InfiniteHash;var Bucket=bucket,wrapHash=consumableHash.exports;function createHAMT(e){if(!e||!e.hashFn)throw new Error("please define an options.hashFn");var t={bits:e.bits||8,hash:wrapHash(e.hashFn)};return new Bucket(t)}var src={createHAMT:createHAMT,Bucket:Bucket},DirSharded=function(e){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__.Z)(r,e);var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_5__.Z)(r);function r(e,n){var i;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,r),(i=t.call(this,e,n))._bucket=src.createHAMT({hashFn:n.hamtHashFn,bits:n.hamtBucketBits}),i}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(r,[{key:"put",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._bucket.put(t,r);case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"get",value:function(e){return this._bucket.get(e)}},{key:"childCount",value:function(){return this._bucket.leafCount()}},{key:"directChildrenCount",value:function(){return this._bucket.childrenCount()}},{key:"onlyChild",value:function(){return this._bucket.onlyChild()}},{key:"eachChildSeries",value:function(){var e=this;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(){var r,n,i,a,o,s,u,l;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=!1,n=!1,t.prev=2,a=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e._bucket.eachLeafSeries());case 4:return t.next=6,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(a.next());case 6:if(!(r=!(o=t.sent).done)){t.next=13;break}return s=o.value,u=s.key,l=s.value,t.next=10,{key:u,child:l};case 10:r=!1,t.next=4;break;case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(2),n=!0,i=t.t0;case 19:if(t.prev=19,t.prev=20,!r||null==a.return){t.next=24;break}return t.next=24,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(a.return());case 24:if(t.prev=24,!n){t.next=27;break}throw i;case 27:return t.finish(24);case 28:return t.finish(19);case 29:case"end":return t.stop()}}),t,null,[[2,15,19,29],[20,,24,28]])})))()}},{key:"flush",value:function(e){var t=this;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function r(){var n,i,a,o,s,u;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=!1,i=!1,r.prev=2,o=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(_flush2(t._bucket,e,t,t.options));case 4:return r.next=6,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(o.next());case 6:if(!(n=!(s=r.sent).done)){r.next=13;break}return u=s.value,r.next=10,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)({},u),{},{path:t.path});case 10:n=!1,r.next=4;break;case 13:r.next=19;break;case 15:r.prev=15,r.t0=r.catch(2),i=!0,a=r.t0;case 19:if(r.prev=19,r.prev=20,!n||null==o.return){r.next=24;break}return r.next=24,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(o.return());case 24:if(r.prev=24,!i){r.next=27;break}throw a;case 27:return r.finish(24);case 28:return r.finish(19);case 29:case"end":return r.stop()}}),r,null,[[2,15,19,29],[20,,24,28]])})))()}}]),r}(Dir);function _flush2(e,t,r,n){return _flush.apply(this,arguments)}function _flush(){return _flush=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n,i){var a,o,s,u,l,c,h,f,d,p,_,m,v,g,y,b,w,E,x,k,T,M,A,O,S,R,C,P,D,I;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t._children,o=[],s=0,u=0;case 3:if(!(u<a.length)){e.next=92;break}if(l=a.get(u)){e.next=7;break}return e.abrupt("continue",89);case 7:if(c=u.toString(16).toUpperCase().padStart(2,"0"),!(l instanceof src.Bucket)){e.next=47;break}return h=void 0,f=!1,d=!1,e.prev=12,e.t0=C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z,e.next=16,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(_flush2(l,r,null,i));case 16:e.t1=e.sent,_=(0,e.t0)(e.t1);case 18:return e.next=20,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(_.next());case 20:if(!(f=!(m=e.sent).done)){e.next=26;break}v=m.value,h=v;case 23:f=!1,e.next=18;break;case 26:e.next=32;break;case 28:e.prev=28,e.t2=e.catch(12),d=!0,p=e.t2;case 32:if(e.prev=32,e.prev=33,!f||null==_.return){e.next=37;break}return e.next=37,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(_.return());case 37:if(e.prev=37,!d){e.next=40;break}throw p;case 40:return e.finish(37);case 41:return e.finish(32);case 42:if(h){e.next=44;break}throw new Error("Could not flush sharded directory, no subshard found");case 44:o.push({Name:c,Tsize:h.size,Hash:h.cid}),s+=h.size,e.next=89;break;case 47:if("function"!=typeof l.value.flush){e.next=84;break}g=l.value,y=void 0,b=!1,w=!1,e.prev=52,x=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(g.flush(r));case 54:return e.next=56,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(x.next());case 56:if(!(b=!(k=e.sent).done)){e.next=64;break}return T=k.value,y=T,e.next=61,y;case 61:b=!1,e.next=54;break;case 64:e.next=70;break;case 66:e.prev=66,e.t3=e.catch(52),w=!0,E=e.t3;case 70:if(e.prev=70,e.prev=71,!b||null==x.return){e.next=75;break}return e.next=75,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(x.return());case 75:if(e.prev=75,!w){e.next=78;break}throw E;case 78:return e.finish(75);case 79:return e.finish(70);case 80:M=c+l.key,o.push({Name:M,Tsize:y.size,Hash:y.cid}),s+=y.size,e.next=89;break;case 84:if((A=l.value).cid){e.next=87;break}return e.abrupt("continue",89);case 87:O=c+l.key,S=A.size,o.push({Name:O,Tsize:S,Hash:A.cid}),s+=S;case 89:u++,e.next=3;break;case 92:return R=Uint8Array.from(a.bitField().reverse()),C=new UnixFS({type:"hamt-sharded-directory",data:R,fanout:t.tableSize(),hashType:i.hamtHashCode,mtime:n&&n.mtime,mode:n&&n.mode}),P=encode$3(prepare({Data:C.marshal(),Links:o})),e.next=97,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(persist(P,r,i));case 97:return D=e.sent,I=P.length+s,e.next=101,{cid:D,unixfs:C,size:I};case 101:case"end":return e.stop()}}),e,null,[[12,28,32,42],[33,,37,41],[52,66,70,80],[71,,75,79]])}))),_flush.apply(this,arguments)}function flatToShard(e,t,r,n){return _flatToShard.apply(this,arguments)}function _flatToShard(){return _flatToShard=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n,i){var a,o;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r,e.t0=r instanceof DirFlat&&r.directChildrenCount()>=n,!e.t0){e.next=6;break}return e.next=5,convertToShard(r,i);case 5:a=e.sent;case 6:if(!(o=a.parent)){e.next=14;break}if(a===r){e.next=13;break}if(t&&(t.parent=a),a.parentKey){e.next=11;break}throw new Error("No parent key found");case 11:return e.next=13,o.put(a.parentKey,a);case 13:return e.abrupt("return",flatToShard(a,o,n,i));case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)}))),_flatToShard.apply(this,arguments)}function convertToShard(e,t){return _convertToShard.apply(this,arguments)}function _convertToShard(){return _convertToShard=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n,i,a,o,s,u,l,c,h;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new DirSharded({root:t.root,dir:!0,parent:t.parent,parentKey:t.parentKey,path:t.path,dirty:t.dirty,flat:!1,mtime:t.mtime,mode:t.mode},r),i=!1,a=!1,e.prev=3,s=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t.eachChildSeries());case 5:return e.next=7,s.next();case 7:if(!(i=!(u=e.sent).done)){e.next=14;break}return l=u.value,c=l.key,h=l.child,e.next=11,n.put(c,h);case 11:i=!1,e.next=5;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),a=!0,o=e.t0;case 20:if(e.prev=20,e.prev=21,!i||null==s.return){e.next=25;break}return e.next=25,s.return();case 25:if(e.prev=25,!a){e.next=28;break}throw o;case 28:return e.finish(25);case 29:return e.finish(20);case 30:return e.abrupt("return",n);case 31:case"end":return e.stop()}}),e,null,[[3,16,20,30],[21,,25,29]])}))),_convertToShard.apply(this,arguments)}var toPathComponents$1=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)};function addToTree(e,t,r){return _addToTree.apply(this,arguments)}function _addToTree(){return _addToTree=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n){var i,a,o,s,u,l,c,h;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=toPathComponents$1(t.path||""),a=i.length-1,o=r,s="",u=0;case 3:if(!(u<i.length)){e.next=25;break}if(l=i[u],s+="".concat(s?"/":"").concat(l),c=u===a,o.dirty=!0,o.cid=void 0,o.size=void 0,!c){e.next=15;break}return e.next=10,o.put(l,t);case 10:return e.next=12,flatToShard(null,o,n.shardSplitThreshold,n);case 12:r=e.sent,e.next=22;break;case 15:return e.next=17,o.get(l);case 17:return(h=e.sent)&&h instanceof Dir||(h=new DirFlat({root:!1,dir:!0,parent:o,parentKey:l,path:s,dirty:!0,flat:!0,mtime:h&&h.unixfs&&h.unixfs.mtime,mode:h&&h.unixfs&&h.unixfs.mode},n)),e.next=21,o.put(l,h);case 21:o=h;case 22:u++,e.next=3;break;case 25:return e.abrupt("return",r);case 26:case"end":return e.stop()}}),e)}))),_addToTree.apply(this,arguments)}function flushAndYield(e,t){return _flushAndYield.apply(this,arguments)}function _flushAndYield(){return _flushAndYield=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Dir)){e.next=4;break}return e.delegateYield((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncGeneratorDelegate_js__WEBPACK_IMPORTED_MODULE_15__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t.flush(r)),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z),"t0",2);case 2:e.next=8;break;case 4:if(e.t1=t&&t.unixfs&&t.unixfs.isDirectory(),!e.t1){e.next=8;break}return e.next=8,t;case 8:case"end":return e.stop()}}),e)}))),_flushAndYield.apply(this,arguments)}function treeBuilder(e,t,r){return _treeBuilder.apply(this,arguments)}function _treeBuilder(){return _treeBuilder=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n){var i,a,o,s,u,l,c,h,f,d,p,_,m;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new DirFlat({root:!0,dir:!0,path:"",dirty:!0,flat:!0},n),a=!1,o=!1,e.prev=3,u=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t);case 5:return e.next=7,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(u.next());case 7:if(!(a=!(l=e.sent).done)){e.next=21;break}if(c=l.value,e.t0=c,!e.t0){e.next=18;break}return e.next=13,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(addToTree(c,i,n));case 13:if(i=e.sent,e.t1=c.unixfs&&c.unixfs.isDirectory(),e.t1){e.next=18;break}return e.next=18,c;case 18:a=!1,e.next=5;break;case 21:e.next=27;break;case 23:e.prev=23,e.t2=e.catch(3),o=!0,s=e.t2;case 27:if(e.prev=27,e.prev=28,!a||null==u.return){e.next=32;break}return e.next=32,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(u.return());case 32:if(e.prev=32,!o){e.next=35;break}throw s;case 35:return e.finish(32);case 36:return e.finish(27);case 37:if(!n.wrapWithDirectory){e.next=41;break}return e.delegateYield((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncGeneratorDelegate_js__WEBPACK_IMPORTED_MODULE_15__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(flushAndYield(i,r)),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z),"t3",39);case 39:e.next=71;break;case 41:h=!1,f=!1,e.prev=43,p=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(i.eachChildSeries());case 45:return e.next=47,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(p.next());case 47:if(!(h=!(_=e.sent).done)){e.next=55;break}if(m=_.value,e.t4=m,!e.t4){e.next=52;break}return e.delegateYield((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncGeneratorDelegate_js__WEBPACK_IMPORTED_MODULE_15__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(flushAndYield(m.child,r)),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z),"t5",52);case 52:h=!1,e.next=45;break;case 55:e.next=61;break;case 57:e.prev=57,e.t6=e.catch(43),f=!0,d=e.t6;case 61:if(e.prev=61,e.prev=62,!h||null==p.return){e.next=66;break}return e.next=66,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(p.return());case 66:if(e.prev=66,!f){e.next=69;break}throw d;case 69:return e.finish(66);case 70:return e.finish(61);case 71:case"end":return e.stop()}}),e,null,[[3,23,27,37],[28,,32,36],[43,57,61,71],[62,,66,70]])}))),_treeBuilder.apply(this,arguments)}function importer(e,t){return _importer.apply(this,arguments)}function _importer(){return _importer=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n,i,a,o,s,u,l,c,h,f,d,p=arguments;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=p.length>2&&void 0!==p[2]?p[2]:{},i=defaultOptions$1(n),a="function"==typeof n.dagBuilder?n.dagBuilder:dagBuilder,o="function"==typeof n.treeBuilder?n.treeBuilder:treeBuilder,s=Symbol.asyncIterator in t||Symbol.iterator in t?t:[t],u=!1,l=!1,e.prev=5,h=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(o(itParallelBatch(a(s,r,i),i.fileImportConcurrency),r,i));case 7:return e.next=9,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(h.next());case 9:if(!(u=!(f=e.sent).done)){e.next=16;break}return d=f.value,e.next=13,{cid:d.cid,path:d.path,unixfs:d.unixfs,size:d.size};case 13:u=!1,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),l=!0,c=e.t0;case 22:if(e.prev=22,e.prev=23,!u||null==h.return){e.next=27;break}return e.next=27,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(h.return());case 27:if(e.prev=27,!l){e.next=30;break}throw c;case 30:return e.finish(27);case 31:return e.finish(22);case 32:case"end":return e.stop()}}),e,null,[[5,18,22,32],[23,,27,31]])}))),_importer.apply(this,arguments)}function browserReadableStreamToIt$1(e){return _browserReadableStreamToIt$.apply(this,arguments)}function _browserReadableStreamToIt$(){return _browserReadableStreamToIt$=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i,a=arguments;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.length>1&&void 0!==a[1]?a[1]:{},n=t.getReader(),e.prev=2;case 3:return e.next=5,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(n.read());case 5:if(!(i=e.sent).done){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,i.value;case 10:e.next=3;break;case 12:return e.prev=12,!0!==r.preventCancel&&n.cancel(),n.releaseLock(),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,,12,15]])}))),_browserReadableStreamToIt$.apply(this,arguments)}var browserReadablestreamToIt=browserReadableStreamToIt$1,browserReadableStreamToIt=browserReadablestreamToIt;function blobToIt(e){return"function"==typeof e.stream?browserReadableStreamToIt(e.stream()):browserReadableStreamToIt(new Response(e).body)}var blobToIt_1=blobToIt;function peekableIterator(e){var t=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],r=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(t,2),n=r[0],i=r[1],a=[];return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__.Z)({peek:function(){return n.next()},push:function(e){a.push(e)},next:function(){return a.length?{done:!1,value:a.shift()}:n.next()}},i,(function(){return this}))}var itPeekable=peekableIterator,map=function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n,i,a,o,s,u;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,i=!1,e.prev=2,o=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t);case 4:return e.next=6,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(o.next());case 6:if(!(n=!(s=e.sent).done)){e.next=13;break}return u=s.value,e.next=10,r(u);case 10:n=!1,e.next=4;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),i=!0,a=e.t0;case 19:if(e.prev=19,e.prev=20,!n||null==o.return){e.next=24;break}return e.next=24,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(o.return());case 24:if(e.prev=24,!i){e.next=27;break}throw a;case 27:return e.finish(24);case 28:return e.finish(19);case 29:case"end":return e.stop()}}),e,null,[[2,15,19,29],[20,,24,28]])})));return function(t,r){return e.apply(this,arguments)}}(),itMap=map;function isBytes$1(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function isBlob$1(e){return e.constructor&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"==typeof e.stream}function isFileObject(e){return"object"==typeof e&&(e.path||e.content)}var isReadableStream=function(e){return e&&"function"==typeof e.getReader};function toAsyncIterable(e){return _toAsyncIterable.apply(this,arguments)}function _toAsyncIterable(){return _toAsyncIterable=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:case"end":return e.stop()}}),e)}))),_toAsyncIterable.apply(this,arguments)}function normaliseContent(e){return _normaliseContent.apply(this,arguments)}function _normaliseContent(){return _normaliseContent=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isBytes$1(t)){e.next=2;break}return e.abrupt("return",toAsyncIterable(toBytes(t)));case 2:if(!("string"==typeof t||t instanceof String)){e.next=4;break}return e.abrupt("return",toAsyncIterable(toBytes(t.toString())));case 4:if(!isBlob$1(t)){e.next=6;break}return e.abrupt("return",blobToIt_1(t));case 6:if(isReadableStream(t)&&(t=browserReadablestreamToIt(t)),!(Symbol.iterator in t)&&!(Symbol.asyncIterator in t)){e.next=25;break}return r=itPeekable(t),e.next=10,r.peek();case 10:if(n=e.sent,i=n.value,!n.done){e.next=15;break}return e.abrupt("return",toAsyncIterable(new Uint8Array(0)));case 15:if(r.push(i),!Number.isInteger(i)){e.next=23;break}return e.t0=toAsyncIterable,e.t1=Uint8Array,e.next=20,itAll(r);case 20:return e.t2=e.sent,e.t3=e.t1.from.call(e.t1,e.t2),e.abrupt("return",(0,e.t0)(e.t3));case 23:if(!(isBytes$1(i)||"string"==typeof i||i instanceof String)){e.next=25;break}return e.abrupt("return",itMap(r,toBytes));case 25:throw errCode(new Error("Unexpected input: ".concat(t)),"ERR_UNEXPECTED_INPUT");case 26:case"end":return e.stop()}}),e)}))),_normaliseContent.apply(this,arguments)}function toBytes(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):fromString(e.toString())}function normaliseCandidateSingle(e,t){return _normaliseCandidateSingle.apply(this,arguments)}function _normaliseCandidateSingle(){return _normaliseCandidateSingle=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n,i,a;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}throw errCode(new Error("Unexpected input: ".concat(t)),"ERR_UNEXPECTED_INPUT");case 2:if(!("string"==typeof t||t instanceof String)){e.next=7;break}return e.next=5,toFileObject$1(t.toString(),r);case 5:case 10:e.next=32;break;case 7:if(!isBytes$1(t)&&!isBlob$1(t)){e.next=12;break}return e.next=10,toFileObject$1(t,r);case 12:if(isReadableStream(t)&&(t=browserReadablestreamToIt(t)),!(Symbol.iterator in t)&&!(Symbol.asyncIterator in t)){e.next=28;break}return n=itPeekable(t),e.next=16,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(n.peek());case 16:if(i=e.sent,a=i.value,!i.done){e.next=23;break}return e.next=22,{content:[]};case 22:case 26:return e.abrupt("return",void e.sent);case 23:if(n.push(a),!(Number.isInteger(a)||isBytes$1(a)||"string"==typeof a||a instanceof String)){e.next=27;break}return e.next=26,toFileObject$1(n,r);case 27:throw errCode(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT");case 28:if(isFileObject(t)){e.next=30;break}throw errCode(new Error('Unexpected input: cannot convert "'+typeof t+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT");case 30:return e.next=32,toFileObject$1(t,r);case 32:case"end":return e.stop()}}),e)}))),_normaliseCandidateSingle.apply(this,arguments)}function toFileObject$1(e,t){return _toFileObject$.apply(this,arguments)}function _toFileObject$(){return _toFileObject$=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n,i,a,o,s;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.path,i=t.mode,a=t.mtime,o=t.content,s={path:n||"",mode:parseMode(i),mtime:parseMtime(a)},!o){e.next=7;break}return e.next=4,r(o);case 4:s.content=e.sent,e.next=12;break;case 7:if(e.t0=n,e.t0){e.next=12;break}return e.next=11,r(t);case 11:s.content=e.sent;case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)}))),_toFileObject$.apply(this,arguments)}function normaliseInput$1(e){return normaliseCandidateSingle(e,normaliseContent)}function normaliseCandidateMultiple(e,t){return _normaliseCandidateMultiple.apply(this,arguments)}function _normaliseCandidateMultiple(){return _normaliseCandidateMultiple=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n,i,a;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("string"==typeof t||t instanceof String||isBytes$1(t)||isBlob$1(t)||t._readableState)){e.next=2;break}throw errCode(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");case 2:if(isReadableStream(t)&&(t=browserReadablestreamToIt(t)),!(Symbol.iterator in t)&&!(Symbol.asyncIterator in t)){e.next=24;break}return n=itPeekable(t),e.next=6,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(n.peek());case 6:if(i=e.sent,a=i.value,!i.done){e.next=12;break}return e.delegateYield((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncGeneratorDelegate_js__WEBPACK_IMPORTED_MODULE_15__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)([]),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z),"t0",11);case 11:return e.abrupt("return",void e.t0);case 12:if(n.push(a),!Number.isInteger(a)){e.next=14;break}throw errCode(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");case 14:if(!a._readableState){e.next=17;break}return e.delegateYield((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncGeneratorDelegate_js__WEBPACK_IMPORTED_MODULE_15__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(itMap(n,(function(e){return toFileObject({content:e},r)}))),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z),"t1",16);case 16:return e.abrupt("return",void e.t1);case 17:if(!isBytes$1(a)){e.next=21;break}return e.next=20,toFileObject({content:n},r);case 20:return e.abrupt("return",void e.sent);case 21:if(!(isFileObject(a)||a[Symbol.iterator]||a[Symbol.asyncIterator]||isReadableStream(a)||isBlob$1(a))){e.next=24;break}return e.delegateYield((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncGeneratorDelegate_js__WEBPACK_IMPORTED_MODULE_15__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(itMap(n,(function(e){return toFileObject(e,r)}))),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z),"t2",23);case 23:return e.abrupt("return",void e.t2);case 24:if(!isFileObject(t)){e.next=26;break}throw errCode(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");case 26:throw errCode(new Error("Unexpected input: "+typeof t),"ERR_UNEXPECTED_INPUT");case 27:case"end":return e.stop()}}),e)}))),_normaliseCandidateMultiple.apply(this,arguments)}function toFileObject(e,t){return _toFileObject.apply(this,arguments)}function _toFileObject(){return _toFileObject=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n,i,a,o,s;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.path,i=t.mode,a=t.mtime,o=t.content,s={path:n||"",mode:parseMode(i),mtime:parseMtime(a)},!o){e.next=7;break}return e.next=4,r(o);case 4:s.content=e.sent,e.next=12;break;case 7:if(e.t0=n,e.t0){e.next=12;break}return e.next=11,r(t);case 11:s.content=e.sent;case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)}))),_toFileObject.apply(this,arguments)}function normaliseInput(e){return normaliseCandidateMultiple(e,normaliseContent)}function isBytes(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function isBlob(e){return Boolean(e.constructor)&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"==typeof e.stream}function isSingle(e){return"string"==typeof e||e instanceof String||isBytes(e)||isBlob(e)||"_readableState"in e}function getNormaliser(e){return isSingle(e)?normaliseInput$1(e):normaliseInput(e)}function notFoundError(e){return e=e||new Error("Not Found"),errCode(e,"ERR_NOT_FOUND")}function abortedError(e){return e=e||new Error("Aborted"),errCode(e,"ERR_ABORTED")}var ErrorsImport=Object.freeze({__proto__:null,notFoundError:notFoundError,abortedError:abortedError}),drain=function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i,a,o;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!1,n=!1,e.prev=2,a=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t);case 4:return e.next=6,a.next();case 6:if(!(r=!(o=e.sent).done)){e.next=12;break}o.value;case 9:r=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),n=!0,i=e.t0;case 18:if(e.prev=18,e.prev=19,!r||null==a.return){e.next=23;break}return e.next=23,a.return();case 23:if(e.prev=23,!n){e.next=26;break}throw i;case 26:return e.finish(23);case 27:return e.finish(18);case 28:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])})));return function(t){return e.apply(this,arguments)}}(),itDrain=drain,filter=function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n,i,a,o,s,u;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,i=!1,e.prev=2,o=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t);case 4:return e.next=6,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(o.next());case 6:if(!(n=!(s=e.sent).done)){e.next=17;break}return u=s.value,e.next=10,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(r(u));case 10:if(e.t0=e.sent,!e.t0){e.next=14;break}return e.next=14,u;case 14:n=!1,e.next=4;break;case 17:e.next=23;break;case 19:e.prev=19,e.t1=e.catch(2),i=!0,a=e.t1;case 23:if(e.prev=23,e.prev=24,!n||null==o.return){e.next=28;break}return e.next=28,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(o.return());case 28:if(e.prev=28,!i){e.next=31;break}throw a;case 31:return e.finish(28);case 32:return e.finish(23);case 33:case"end":return e.stop()}}),e,null,[[2,19,23,33],[24,,28,32]])})));return function(t,r){return e.apply(this,arguments)}}(),itFilter=filter,take=function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n,i,a,o,s,u,l;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=0,r<1){e.next=34;break}i=!1,a=!1,e.prev=4,s=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t);case 6:return e.next=8,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(s.next());case 8:if(!(i=!(u=e.sent).done)){e.next=18;break}return l=u.value,e.next=12,l;case 12:if(++n!==r){e.next=15;break}return e.abrupt("return");case 15:i=!1,e.next=6;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(4),a=!0,o=e.t0;case 24:if(e.prev=24,e.prev=25,!i||null==s.return){e.next=29;break}return e.next=29,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(s.return());case 29:if(e.prev=29,!a){e.next=32;break}throw o;case 32:return e.finish(29);case 33:return e.finish(24);case 34:case"end":return e.stop()}}),e,null,[[4,20,24,34],[25,,29,33]])})));return function(t,r){return e.apply(this,arguments)}}(),itTake=take,sortAll=function(e,t){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function r(){var n;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(itAll(e));case 2:return n=r.sent,r.delegateYield((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncGeneratorDelegate_js__WEBPACK_IMPORTED_MODULE_15__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(n.sort(t)),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z),"t0",4);case 4:case"end":return r.stop()}}),r)})))()},BaseBlockstore=function(){function e(){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e)}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"open",value:function(){return Promise.reject(new Error(".open is not implemented"))}},{key:"close",value:function(){return Promise.reject(new Error(".close is not implemented"))}},{key:"put",value:function(e,t,r){return Promise.reject(new Error(".put is not implemented"))}},{key:"get",value:function(e,t){return Promise.reject(new Error(".get is not implemented"))}},{key:"has",value:function(e,t){return Promise.reject(new Error(".has is not implemented"))}},{key:"delete",value:function(e,t){return Promise.reject(new Error(".delete is not implemented"))}},{key:"putMany",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function n(){var i,a,o,s,u,l,c,h;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=!1,a=!1,n.prev=2,s=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e);case 4:return n.next=6,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(s.next());case 6:if(!(i=!(u=n.sent).done)){n.next=15;break}return l=u.value,c=l.key,h=l.value,n.next=10,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(t.put(c,h,r));case 10:return n.next=12,{key:c,value:h};case 12:i=!1,n.next=4;break;case 15:n.next=21;break;case 17:n.prev=17,n.t0=n.catch(2),a=!0,o=n.t0;case 21:if(n.prev=21,n.prev=22,!i||null==s.return){n.next=26;break}return n.next=26,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(s.return());case 26:if(n.prev=26,!a){n.next=29;break}throw o;case 29:return n.finish(26);case 30:return n.finish(21);case 31:case"end":return n.stop()}}),n,null,[[2,17,21,31],[22,,26,30]])})))()}},{key:"getMany",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function n(){var i,a,o,s,u,l;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=!1,a=!1,n.prev=2,s=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e);case 4:return n.next=6,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(s.next());case 6:if(!(i=!(u=n.sent).done)){n.next=13;break}return l=u.value,n.next=10,t.get(l,r);case 10:i=!1,n.next=4;break;case 13:n.next=19;break;case 15:n.prev=15,n.t0=n.catch(2),a=!0,o=n.t0;case 19:if(n.prev=19,n.prev=20,!i||null==s.return){n.next=24;break}return n.next=24,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(s.return());case 24:if(n.prev=24,!a){n.next=27;break}throw o;case 27:return n.finish(24);case 28:return n.finish(19);case 29:case"end":return n.stop()}}),n,null,[[2,15,19,29],[20,,24,28]])})))()}},{key:"deleteMany",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function n(){var i,a,o,s,u,l;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=!1,a=!1,n.prev=2,s=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e);case 4:return n.next=6,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(s.next());case 6:if(!(i=!(u=n.sent).done)){n.next=15;break}return l=u.value,n.next=10,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(t.delete(l,r));case 10:return n.next=12,l;case 12:i=!1,n.next=4;break;case 15:n.next=21;break;case 17:n.prev=17,n.t0=n.catch(2),a=!0,o=n.t0;case 21:if(n.prev=21,n.prev=22,!i||null==s.return){n.next=26;break}return n.next=26,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(s.return());case 26:if(n.prev=26,!a){n.next=29;break}throw o;case 29:return n.finish(26);case 30:return n.finish(21);case 31:case"end":return n.stop()}}),n,null,[[2,17,21,31],[22,,26,30]])})))()}},{key:"batch",value:function(){var e=this,t=[],r=[];return{put:function(e,r){t.push({key:e,value:r})},delete:function(e){r.push(e)},commit:function(){var n=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function n(i){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,itDrain(e.putMany(t,i));case 2:return t=[],n.next=5,itDrain(e.deleteMany(r,i));case 5:r=[];case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}},{key:"_all",value:function(e,t){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("._all is not implemented");case 1:case"end":return e.stop()}}),e)})))()}},{key:"_allKeys",value:function(e,t){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("._allKeys is not implemented");case 1:case"end":return e.stop()}}),e)})))()}},{key:"query",value:function(e,t){var r=this._all(e,t);if(null!=e.prefix&&(r=itFilter(r,(function(t){return t.key.toString().startsWith(e.prefix||"")}))),Array.isArray(e.filters)&&(r=e.filters.reduce((function(e,t){return itFilter(e,t)}),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((function(e,t){return sortAll(e,t)}),r)),null!=e.offset){var n=0;r=itFilter(r,(function(){return n++>=(e.offset||0)}))}return null!=e.limit&&(r=itTake(r,e.limit)),r}},{key:"queryKeys",value:function(e,t){var r=this._allKeys(e,t);if(null!=e.prefix&&(r=itFilter(r,(function(t){return t.toString().startsWith(e.prefix||"")}))),Array.isArray(e.filters)&&(r=e.filters.reduce((function(e,t){return itFilter(e,t)}),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((function(e,t){return sortAll(e,t)}),r)),null!=e.offset){var n=0;r=itFilter(r,(function(){return n++>=e.offset}))}return null!=e.limit&&(r=itTake(r,e.limit)),r}}]),e}(),MemoryBlockStore=function(e){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__.Z)(r,e);var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_5__.Z)(r);function r(){var e;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,r),(e=t.call(this)).store=new Map,e}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(r,[{key:"blocks",value:function(){var e=this;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(){var r,n,i,a,o;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(e.store.entries()),t.prev=1,r.s();case 3:if((n=r.n()).done){t.next=9;break}return i=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(n.value,2),a=i[0],o=i[1],t.next=7,{cid:CID.parse(a),bytes:o};case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r.e(t.t0);case 14:return t.prev=14,r.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})))()}},{key:"put",value:function(e,t){return this.store.set(e.toString(),t),Promise.resolve()}},{key:"get",value:function(e){var t=this.store.get(e.toString());if(!t)throw new Error("block with cid ".concat(e.toString()," no found"));return Promise.resolve(t)}},{key:"has",value:function(e){return Promise.resolve(this.store.has(e.toString()))}},{key:"close",value:function(){return this.store.clear(),Promise.resolve()}}]),r}(BaseBlockstore),unixfsImporterOptionsDefault={cidVersion:1,chunker:"fixed",maxChunkSize:262144,hasher:sha256,rawLeaves:!0,wrapWithDirectory:!0,maxChildrenPerNode:174};function pack(e){return _pack.apply(this,arguments)}function _pack(){return _pack=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i,a,o,s,u,l,c,h,f,d,p,_,m;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.input,n=t.blockstore,i=t.hasher,a=t.maxChunkSize,o=t.maxChildrenPerNode,s=t.wrapWithDirectory,u=t.rawLeaves,r&&(!Array.isArray(r)||r.length)){e.next=3;break}throw new Error("missing input file(s)");case 3:return l=n||new MemoryBlockStore,e.next=6,itLast(pipe$1(getNormaliser(r),(function(e){return importer(e,l,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)({},unixfsImporterOptionsDefault),{},{hasher:i||unixfsImporterOptionsDefault.hasher,maxChunkSize:a||unixfsImporterOptionsDefault.maxChunkSize,maxChildrenPerNode:o||unixfsImporterOptionsDefault.maxChildrenPerNode,wrapWithDirectory:!1!==s&&unixfsImporterOptionsDefault.wrapWithDirectory,rawLeaves:null==u?unixfsImporterOptionsDefault.rawLeaves:u}))})));case 6:if((c=e.sent)&&c.cid){e.next=9;break}throw new Error("given input could not be parsed correctly");case 9:return h=c.cid,e.next=12,CarWriter.create([h]);case 12:return f=e.sent,d=f.writer,p=f.out,_=p[Symbol.asyncIterator](),e.abrupt("return",{root:h,out:(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},Symbol.asyncIterator,(function(){if(null!=m)throw new Error("Multiple iterator not supported");return m=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){var t,r,i,a,o,s;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!1,r=!1,e.prev=2,a=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(l.blocks());case 4:return e.next=6,a.next();case 6:if(!(t=!(o=e.sent).done)){e.next=13;break}return s=o.value,e.next=10,d.put(s);case 10:t=!1,e.next=4;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),r=!0,i=e.t0;case 19:if(e.prev=19,e.prev=20,!t||null==a.return){e.next=24;break}return e.next=24,a.return();case 24:if(e.prev=24,!r){e.next=27;break}throw i;case 27:return e.finish(24);case 28:return e.finish(19);case 29:return e.next=31,d.close();case 31:if(e.t1=n,e.t1){e.next=35;break}return e.next=35,l.close();case 35:case"end":return e.stop()}}),e,null,[[2,15,19,29],[20,,24,28]])})))(),{next:function(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){var t;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.next();case 2:if(t=e.sent,e.t0=t.done,!e.t0){e.next=7;break}return e.next=7,m;case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))()}}}))});case 17:case"end":return e.stop()}}),e)}))),_pack.apply(this,arguments)}var MAX_HEADER_LENGTH=2e3,THROW_ON_MAX_HEADER_LENGTH_EXCEEDED=!1;function hasRel(e){return e&&e.rel}function intoRels(e,t){return t.rel.split(/\s+/).forEach((function(r){e[r]=Object.assign({},t,{rel:r})})),e}function createObjects(e,t){var r=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return r&&(e[r[1]]=r[2]),e}function parseLink(e){try{var t,r=e.match(/<?([^>]*)>(.*)/),n=r[1],i=r[2].split(";"),a={},o=new URL(n,"https://example.com"),s=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(o.searchParams);try{for(s.s();!(t=s.n()).done;){var u=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(t.value,2),l=u[0],c=u[1];a[l]=c}}catch(err){s.e(err)}finally{s.f()}i.shift();var h=i.reduce(createObjects,{});return(h=Object.assign({},a,h)).url=n,h}catch(f){return null}}function checkHeader(e,t){if(!e)return!1;var r=(t=t||{}).maxHeaderLength||MAX_HEADER_LENGTH,n=t.throwOnMaxHeaderLengthExceeded||THROW_ON_MAX_HEADER_LENGTH_EXCEEDED;if(e.length>r){if(n)throw new Error("Input string too long, it should be under "+r+" characters.");return!1}return!0}function parseLinkHeader(e,t){return checkHeader(e,t)?e.split(/,\s*</).map(parseLink).filter(hasRel).reduce(intoRels,{}):null}var CID_CBOR_TAG$1=42;function cidDecoder$1(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode(e.subarray(1))}var decodeOptions$1={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions$1.tags[CID_CBOR_TAG$1]=cidDecoder$1;var code$1=113,decode$1=function(e){return decode$5(e,decodeOptions$1)},hashFn=function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,murmur3128.encode(t);case 2:return e.abrupt("return",e.sent.slice(0,8).reverse());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addLinksToHamtBucket=function(e,t,r){return Promise.all(e.map((function(e){if(null==e.Name)throw new Error("Unexpected Link without a Name");if(2===e.Name.length){var n=parseInt(e.Name,16);return t._putObjectAt(n,new src.Bucket({hash:r._options.hash,bits:r._options.bits},t,n))}return r.put(e.Name.substring(2),!0)})))},toPrefix=function(e){return e.toString(16).toUpperCase().padStart(2,"0").substring(0,2)},toBucketPath=function(e){for(var t=e.bucket,r=[];t._parent;)r.push(t),t=t._parent;return r.push(t),r.reverse()},findShardCid=function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n,i,a){var o,s,u,l,c;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i||(o=src.createHAMT({hashFn:hashFn}),i={rootBucket:o,hamtDepth:1,lastBucket:o}),e.next=3,addLinksToHamtBucket(t.Links,i.lastBucket,i.rootBucket);case 3:return e.next=5,i.rootBucket._findNewBucketAndPos(r);case 5:if(s=e.sent,u=toPrefix(s.pos),(l=toBucketPath(s)).length>i.hamtDepth&&(i.lastBucket=l[i.hamtDepth],u=toPrefix(i.lastBucket._posAtParent)),c=t.Links.find((function(e){if(null==e.Name)return!1;var t=e.Name.substring(0,2),n=e.Name.substring(2);return t===u&&(!n||n===r)})),c){e.next=12;break}return e.abrupt("return",null);case 12:if(null==c.Name||c.Name.substring(2)!==r){e.next=14;break}return e.abrupt("return",c.Hash);case 14:return i.hamtDepth++,e.t0=decode$3,e.next=18,n.get(c.Hash,a);case 18:return e.t1=e.sent,t=(0,e.t0)(e.t1),e.abrupt("return",findShardCid(t,r,n,i,a));case 21:case"end":return e.stop()}}),e)})));return function(t,r,n,i,a){return e.apply(this,arguments)}}();function extractDataFromBlock(e,t,r,n){var i=t+e.length;return r>=i||n<t?new Uint8Array(0):(n>=t&&n<i&&(e=e.slice(0,n-t)),r>=t&&r<i&&(e=e.slice(r-t)),e)}var validateOffsetAndLength=function(e,t,r){if(t||(t=0),t<0)throw errCode(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(t>e)throw errCode(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(r||0===r||(r=e-t),r<0)throw errCode(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");return t+r>e&&(r=e-t),{offset:t,length:r}};function emitBytes(e,t,r,n){return _emitBytes.apply(this,arguments)}function _emitBytes(){return _emitBytes=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n,i){var a,o,s,u,l,c,h,f,d,p,_,m,v,g,y,b,w,E=arguments;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=E.length>4&&void 0!==E[4]?E[4]:0,o=E.length>5?E[5]:void 0,!(r instanceof Uint8Array)){e.next=10;break}if(s=extractDataFromBlock(r,a,n,i),e.t0=s.length,!e.t0){e.next=8;break}return e.next=8,s;case 8:return a+=s.length,e.abrupt("return",a);case 10:if(null!=r.Data){e.next=12;break}throw errCode(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");case 12:e.prev=12,u=UnixFS.unmarshal(r.Data),e.next=19;break;case 16:throw e.prev=16,e.t1=e.catch(12),errCode(e.t1,"ERR_NOT_UNIXFS");case 19:if(!u.data||!u.data.length){e.next=26;break}if(l=extractDataFromBlock(u.data,a,n,i),e.t2=l.length,!e.t2){e.next=25;break}return e.next=25,l;case 25:a+=u.data.length;case 26:c=a,h=0;case 28:if(!(h<r.Links.length)){e.next=83;break}if(f=r.Links[h],d=a+u.blockSizes[h],!(n>=c&&n<d||i>c&&i<=d||n<c&&i>d)){e.next=79;break}return e.next=33,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(t.get(f.Hash,{signal:o.signal}));case 33:p=e.sent,_=void 0,e.t3=f.Hash.code,e.next=e.t3===code$5?38:e.t3===code$4?42:e.t3===code$1?44:48;break;case 38:return e.next=40,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(decode$3(p));case 40:return _=e.sent,e.abrupt("break",49);case 42:return _=p,e.abrupt("break",49);case 44:return e.next=46,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(decode$1(p));case 46:return _=e.sent,e.abrupt("break",49);case 48:throw Error("Unsupported codec: ".concat(f.Hash.code));case 49:m=!1,v=!1,e.prev=51,y=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(emitBytes(t,_,n,i,a,o));case 53:return e.next=55,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(y.next());case 55:if(!(m=!(b=e.sent).done)){e.next=63;break}return w=b.value,a+=w.length,e.next=60,w;case 60:m=!1,e.next=53;break;case 63:e.next=69;break;case 65:e.prev=65,e.t4=e.catch(51),v=!0,g=e.t4;case 69:if(e.prev=69,e.prev=70,!m||null==y.return){e.next=74;break}return e.next=74,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(y.return());case 74:if(e.prev=74,!v){e.next=77;break}throw g;case 77:return e.finish(74);case 78:return e.finish(69);case 79:a=d,c=d+1;case 80:h++,e.next=28;break;case 83:case"end":return e.stop()}}),e,null,[[12,16],[51,65,69,79],[70,,74,78]])}))),_emitBytes.apply(this,arguments)}var fileContent=function(e,t,r,n,i,a,o){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.fileSize();if(void 0===n)throw new Error("File was a directory");var i=validateOffsetAndLength(n,e.offset,e.length),a=i.offset,s=i.length;return emitBytes(o,t,a,a+s,0,e)}},directoryContent=function(e,t,r,n,i,a,o){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){var r,s,u,l,c,h,f,d,p=arguments;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=p.length>0&&void 0!==p[0]?p[0]:{},s=r.offset||0,u=r.length||t.Links.length,l=t.Links.slice(s,u),c=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(l),e.prev=3,c.s();case 5:if((h=c.n()).done){e.next=16;break}return f=h.value,e.next=9,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(i(f.Hash,f.Name||"","".concat(n,"/").concat(f.Name||""),[],a+1,o,r));case 9:if(d=e.sent,e.t0=d.entry,!e.t0){e.next=14;break}return e.next=14,d.entry;case 14:e.next=5;break;case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(3),c.e(e.t1);case 21:return e.prev=21,c.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[3,18,21,24]])})))},hamtShardedDirectoryContent=function(e,t,r,n,i,a,o){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return listDirectory(t,n,i,a,o,e)}};function listDirectory(e,t,r,n,i,a){return _listDirectory.apply(this,arguments)}function _listDirectory(){return _listDirectory=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n,i,a,o){var s,u,l,c,h,f,d,p,_,m,v,g;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.Links,u=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(s),e.prev=2,u.s();case 4:if((l=u.n()).done){e.next=51;break}if(c=l.value,!(h=null!=c.Name?c.Name.substring(2):null)){e.next=15;break}return e.next=10,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(n(c.Hash,h,"".concat(r,"/").concat(h),[],i+1,a,o));case 10:return f=e.sent,e.next=13,f.entry;case 13:e.next=49;break;case 15:return e.t0=decode$3,e.next=18,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(a.get(c.Hash));case 18:e.t1=e.sent,t=(0,e.t0)(e.t1),d=!1,p=!1,e.prev=22,m=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(listDirectory(t,r,n,i,a,o));case 24:return e.next=26,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(m.next());case 26:if(!(d=!(v=e.sent).done)){e.next=33;break}return g=v.value,e.next=30,g;case 30:d=!1,e.next=24;break;case 33:e.next=39;break;case 35:e.prev=35,e.t2=e.catch(22),p=!0,_=e.t2;case 39:if(e.prev=39,e.prev=40,!d||null==m.return){e.next=44;break}return e.next=44,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(m.return());case 44:if(e.prev=44,!p){e.next=47;break}throw _;case 47:return e.finish(44);case 48:return e.finish(39);case 49:e.next=4;break;case 51:e.next=56;break;case 53:e.prev=53,e.t3=e.catch(2),u.e(e.t3);case 56:return e.prev=56,u.f(),e.finish(56);case 59:case"end":return e.stop()}}),e,null,[[2,53,56,59],[22,35,39,49],[40,,44,48]])}))),_listDirectory.apply(this,arguments)}var findLinkCid=function(e,t){var r=e.Links.find((function(e){return e.Name===t}));return r&&r.Hash},contentExporters={raw:fileContent,file:fileContent,directory:directoryContent,"hamt-sharded-directory":hamtShardedDirectoryContent,metadata:function(e,t,r,n,i,a,o){return function(){return[]}},symlink:function(e,t,r,n,i,a,o){return function(){return[]}}},unixFsResolver=function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n,i,a,o,s,u){var l,c,h,f,d;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=decode$3,e.next=3,s.get(t,u);case 3:if(e.t1=e.sent,l=(0,e.t0)(e.t1),r||(r=t.toString()),null!=l.Data){e.next=7;break}throw errCode(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");case 7:e.prev=7,c=UnixFS.unmarshal(l.Data),e.next=14;break;case 11:throw e.prev=11,e.t2=e.catch(7),errCode(e.t2,"ERR_NOT_UNIXFS");case 14:if(n||(n=r),!i.length){e.next=27;break}if(!c||"hamt-sharded-directory"!==c.type){e.next=21;break}return e.next=18,findShardCid(l,i[0],s);case 18:e.t3=e.sent,e.next=22;break;case 21:e.t3=findLinkCid(l,i[0]);case 22:if(f=e.t3){e.next=25;break}throw errCode(new Error("file does not exist"),"ERR_NOT_FOUND");case 25:d=i.shift(),h={cid:f,toResolve:i,name:d||"",path:"".concat(n,"/").concat(d)};case 27:return e.abrupt("return",{entry:{type:c.isDirectory()?"directory":"file",name:r,path:n,cid:t,content:contentExporters[c.type](t,l,c,n,a,o,s),unixfs:c,depth:o,node:l,size:c.fileSize()},next:h});case 28:case"end":return e.stop()}}),e,null,[[7,11]])})));return function(t,r,n,i,a,o,s,u){return e.apply(this,arguments)}}(),rawContent$1=function(e){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(){var r,n,i,a,o=arguments;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>0&&void 0!==o[0]?o[0]:{},n=validateOffsetAndLength(e.length,r.offset,r.length),i=n.offset,a=n.length,t.next=4,extractDataFromBlock(e,0,i,i+a);case 4:case"end":return t.stop()}}),t)})))},resolve$3=function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n,i,a,o,s,u){var l;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.length){e.next=2;break}throw errCode(new Error("No link named ".concat(n," found in raw node ").concat(t)),"ERR_NOT_FOUND");case 2:return e.next=4,s.get(t,u);case 4:return l=e.sent,e.abrupt("return",{entry:{type:"raw",name:r,path:n,cid:t,content:rawContent$1(l),depth:o,size:l.length,node:l}});case 6:case"end":return e.stop()}}),e)})));return function(t,r,n,i,a,o,s,u){return e.apply(this,arguments)}}(),resolve$2=function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n,i,a,o,s,u){var l,c,h,f,d,p;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get(t);case 2:l=e.sent,c=decode$1(l),h=c,f=n;case 5:if(!i.length){e.next=16;break}if((d=i[0])in h){e.next=9;break}throw errCode(new Error("No property named ".concat(d," found in cbor node ").concat(t)),"ERR_NO_PROP");case 9:if(i.shift(),f="".concat(f,"/").concat(d),!(p=CID.asCID(h[d]))){e.next=13;break}return e.abrupt("return",{entry:{type:"object",name:r,path:n,cid:t,node:l,depth:o,size:l.length,content:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c;case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},next:{cid:p,name:d,path:f,toResolve:i}});case 13:h=h[d];case 14:e.next=5;break;case 16:return e.abrupt("return",{entry:{type:"object",name:r,path:n,cid:t,node:l,depth:o,size:l.length,content:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c;case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}});case 17:case"end":return e.stop()}}),e)})));return function(t,r,n,i,a,o,s,u){return e.apply(this,arguments)}}(),rawContent=function(e){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(){var r,n,i,a,o=arguments;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>0&&void 0!==o[0]?o[0]:{},n=validateOffsetAndLength(e.length,r.offset,r.length),i=n.offset,a=n.length,t.next=4,extractDataFromBlock(e,0,i,i+a);case 4:case"end":return t.stop()}}),t)})))},resolve$1=function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n,i,a,o,s,u){var l;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.length){e.next=2;break}throw errCode(new Error("No link named ".concat(n," found in raw node ").concat(t)),"ERR_NOT_FOUND");case 2:return e.next=4,decode$7(t.multihash.bytes);case 4:return l=e.sent,e.abrupt("return",{entry:{type:"identity",name:r,path:n,cid:t,content:rawContent(l.digest),depth:o,size:l.digest.length,node:l.digest}});case 6:case"end":return e.stop()}}),e)})));return function(t,r,n,i,a,o,s,u){return e.apply(this,arguments)}}(),resolvers=(_resolvers={},(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__.Z)(_resolvers,code$5,unixFsResolver),(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__.Z)(_resolvers,code$4,resolve$3),(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__.Z)(_resolvers,code$1,resolve$2),(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_3__.Z)(_resolvers,identity.code,resolve$1),_resolvers);function resolve(e,t,r,n,i,a,o){var s=resolvers[e.code];if(!s)throw errCode(new Error("No resolver for code ".concat(e.code)),"ERR_NO_RESOLVER");return s(e,t,r,n,resolve,i,a,o)}var toPathComponents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)},cidAndRest=function(e){if(e instanceof Uint8Array)return{cid:CID.decode(e),toResolve:[]};var t=CID.asCID(e);if(t)return{cid:t,toResolve:[]};if("string"==typeof e){0===e.indexOf("/ipfs/")&&(e=e.substring(6));var r=toPathComponents(e);return{cid:CID.parse(r[0]),toResolve:r.slice(1)}}throw errCode(new Error("Unknown path type ".concat(e)),"ERR_BAD_PATH")};function walkPath(e,t){return _walkPath.apply(this,arguments)}function _walkPath(){return _walkPath=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n,i,a,o,s,u,l,c,h=arguments;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=h.length>2&&void 0!==h[2]?h[2]:{},i=cidAndRest(t),a=i.cid,o=i.toResolve,s=a.toString(),u=s,l=o.length;case 3:return e.next=5,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(resolve(a,s,u,o,l,r,n));case 5:if((c=e.sent).entry||c.next){e.next=8;break}throw errCode(new Error("Could not resolve ".concat(t)),"ERR_NOT_FOUND");case 8:if(e.t0=c.entry,!e.t0){e.next=12;break}return e.next=12,c.entry;case 12:if(c.next){e.next=14;break}return e.abrupt("return");case 14:o=c.next.toResolve,a=c.next.cid,s=c.next.name,u=c.next.path;case 15:e.next=3;break;case 17:case"end":return e.stop()}}),e)}))),_walkPath.apply(this,arguments)}function exporter(e,t){return _exporter.apply(this,arguments)}function _exporter(){return _exporter=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n,i,a=arguments;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=3,itLast(walkPath(t,r,n));case 3:if(i=e.sent){e.next=6;break}throw errCode(new Error("Could not resolve ".concat(t)),"ERR_NOT_FOUND");case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)}))),_exporter.apply(this,arguments)}function recursive(e,t){return _recursive.apply(this,arguments)}function _recursive(){return _recursive=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n,i,a,o,s,u,l,c,h=arguments;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.length>2&&void 0!==h[2]?h[2]:{},e.next=3,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(exporter(t,r,n));case 3:if(i=e.sent,e.t0=i,!e.t0){e.next=9;break}return e.next=8,i;case 8:e.t0="directory"===i.type;case 9:if(!e.t0){e.next=39;break}a=!1,o=!1,e.prev=12,u=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n,i,a;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().async((function(o){for(;;)switch(o.prev=o.next){case 0:n=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(t.content(r)),o.prev=1,n.s();case 3:if((i=n.n()).done){o.next=14;break}return a=i.value,o.next=7,a;case 7:if(o.t0=a instanceof Uint8Array,o.t0){o.next=12;break}if(o.t1="directory"===a.type,!o.t1){o.next=12;break}return o.delegateYield(e(a,r),"t2",12);case 12:o.next=3;break;case 14:o.next=19;break;case 16:o.prev=16,o.t3=o.catch(1),n.e(o.t3);case 19:return o.prev=19,n.f(),o.finish(19);case 22:case"end":return o.stop()}}),e,null,[[1,16,19,22]],Promise)}))(i,n));case 14:return e.next=16,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(u.next());case 16:if(!(a=!(l=e.sent).done)){e.next=23;break}return c=l.value,e.next=20,c;case 20:a=!1,e.next=14;break;case 23:e.next=29;break;case 25:e.prev=25,e.t1=e.catch(12),o=!0,s=e.t1;case 29:if(e.prev=29,e.prev=30,!a||null==u.return){e.next=34;break}return e.next=34,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(u.return());case 34:if(e.prev=34,!o){e.next=37;break}throw s;case 37:return e.finish(34);case 38:return e.finish(29);case 39:case"end":return e.stop()}}),e,null,[[12,25,29,39],[30,,34,38]])}))),_recursive.apply(this,arguments)}function equals(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}var VerifyingGetOnlyBlockStore=function(e){(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__.Z)(r,e);var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createSuper_js__WEBPACK_IMPORTED_MODULE_5__.Z)(r);function r(e){var n;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,r),(n=t.call(this)).store=e,n}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(r,[{key:"get",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.store.get(t);case 2:if(r=e.sent){e.next=5;break}throw new Error("Incomplete CAR. Block missing for CID ".concat(t));case 5:if(isValid({cid:t,bytes:r})){e.next=7;break}throw new Error("Invalid CAR. Hash of block data does not match CID ".concat(t));case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"fromBlockstore",value:function(e){return new r(e)}},{key:"fromCarReader",value:function(e){return new r({get:function(){var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(r){var n;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get(r);case 2:return n=t.sent,t.abrupt("return",null==n?void 0:n.bytes);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})}}]),r}(BaseBlockstore);function isValid(e){return _isValid.apply(this,arguments)}function _isValid(){return _isValid=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.cid,n=t.bytes,e.t0=equals,e.next=4,sha256.digest(n);case 4:return e.t1=e.sent.digest,e.t2=r.multihash.digest,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 7:case"end":return e.stop()}}),e)}))),_isValid.apply(this,arguments)}function unpackStream(e){return _unpackStream.apply(this,arguments)}function _unpackStream(){return _unpackStream=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i,a,o,s,u,l,c,h,f,d,p,_,m,v=arguments;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=v.length>1&&void 0!==v[1]?v[1]:{},n=r.roots,i=r.blockstore,e.next=3,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(CarBlockIterator.fromIterable(asAsyncIterable(t)));case 3:a=e.sent,o=i||new MemoryBlockStore,s=!1,u=!1,e.prev=7,c=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(a);case 9:return e.next=11,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(c.next());case 11:if(!(s=!(h=e.sent).done)){e.next=18;break}return f=h.value,e.next=15,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(o.put(f.cid,f.bytes));case 15:s=!1,e.next=9;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(7),u=!0,l=e.t0;case 24:if(e.prev=24,e.prev=25,!s||null==c.return){e.next=29;break}return e.next=29,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(c.return());case 29:if(e.prev=29,!u){e.next=32;break}throw l;case 32:return e.finish(29);case 33:return e.finish(24);case 34:if(d=VerifyingGetOnlyBlockStore.fromBlockstore(o),e.t1=n&&0!==n.length,e.t1){e.next=40;break}return e.next=39,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(a.getRoots());case 39:n=e.sent;case 40:p=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(n),e.prev=41,p.s();case 43:if((_=p.n()).done){e.next=48;break}return m=_.value,e.delegateYield((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncGeneratorDelegate_js__WEBPACK_IMPORTED_MODULE_15__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(recursive(m,d)),C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z),"t2",46);case 46:e.next=43;break;case 48:e.next=53;break;case 50:e.prev=50,e.t3=e.catch(41),p.e(e.t3);case 53:return e.prev=53,p.f(),e.finish(53);case 56:case"end":return e.stop()}}),e,null,[[7,20,24,34],[25,,29,33],[41,50,53,56]])}))),_unpackStream.apply(this,arguments)}function asAsyncIterable(e){return Symbol.asyncIterator in e?e:browserReadablestreamToIt(e)}var readonly=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enumerable,r=void 0===t||t,n=e.configurable,i=void 0!==n&&n;return{enumerable:r,configurable:i,writable:!1}},_links=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function(e,t){var r,n,i,a,o,s,u,l,c,h,f,d,p,_;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(m){for(;;)switch(m.prev=m.next){case 0:if(null==e||e instanceof Uint8Array){m.next=43;break}r=0,n=Object.entries(e);case 2:if(!(r<n.length)){m.next=43;break}if(i=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(n[r],2),a=i[0],o=i[1],s=[].concat((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_16__.Z)(t),[a]),null==o||"object"!=typeof o){m.next=40;break}if(!Array.isArray(o)){m.next=33;break}u=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(o.entries()),m.prev=8,u.s();case 10:if((l=u.n()).done){m.next=23;break}if(c=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(l.value,2),h=c[0],f=c[1],d=[].concat((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_16__.Z)(s),[h]),!(p=CID.asCID(f))){m.next=18;break}return m.next=16,[d.join("/"),p];case 16:m.next=21;break;case 18:if(m.t0="object"==typeof f,!m.t0){m.next=21;break}return m.delegateYield(_links(f,d),"t1",21);case 21:m.next=10;break;case 23:m.next=28;break;case 25:m.prev=25,m.t2=m.catch(8),u.e(m.t2);case 28:return m.prev=28,u.f(),m.finish(28);case 31:m.next=40;break;case 33:if(!(_=CID.asCID(o))){m.next=39;break}return m.next=37,[s.join("/"),_];case 37:m.next=40;break;case 39:return m.delegateYield(_links(o,s),"t3",40);case 40:r++,m.next=2;break;case 43:case"end":return m.stop()}}),_links,null,[[8,25,28,31]])})),_tree=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function(e,t){var r,n,i,a,o,s,u,l,c,h,f,d;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(p){for(;;)switch(p.prev=p.next){case 0:if(null==e){p.next=36;break}r=0,n=Object.entries(e);case 2:if(!(r<n.length)){p.next=36;break}return i=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(n[r],2),a=i[0],o=i[1],s=[].concat((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_16__.Z)(t),[a]),p.next=7,s.join("/");case 7:if(null==o||o instanceof Uint8Array||"object"!=typeof o||CID.asCID(o)){p.next=33;break}if(!Array.isArray(o)){p.next=32;break}u=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(o.entries()),p.prev=10,u.s();case 12:if((l=u.n()).done){p.next=22;break}return c=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(l.value,2),h=c[0],f=c[1],d=[].concat((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_16__.Z)(s),[h]),p.next=17,d.join("/");case 17:if(p.t0="object"!=typeof f||CID.asCID(f),p.t0){p.next=20;break}return p.delegateYield(_tree(f,d),"t1",20);case 20:p.next=12;break;case 22:p.next=27;break;case 24:p.prev=24,p.t2=p.catch(10),u.e(p.t2);case 27:return p.prev=27,u.f(),p.finish(27);case 30:p.next=33;break;case 32:return p.delegateYield(_tree(o,s),"t3",33);case 33:r++,p.next=2;break;case 36:case"end":return p.stop()}}),_tree,null,[[10,24,27,30]])})),_get5=function(e,t){var r,n=e,i=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(t.entries());try{for(i.s();!(r=i.n()).done;){var a=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(r.value,2),o=a[0];if(null==(n=n[a[1]]))throw new Error("Object has no property at ".concat(t.slice(0,o+1).map((function(e){return"[".concat(JSON.stringify(e),"]")})).join("")));var s=CID.asCID(n);if(s)return{value:s,remaining:t.slice(o+1).join("/")}}}catch(err){i.e(err)}finally{i.f()}return{value:n}},Block=function(){function e(t){var r=t.cid,n=t.bytes,i=t.value;if((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),!r||!n||void 0===i)throw new Error("Missing required argument");this.cid=r,this.bytes=n,this.value=i,this.asBlock=this,Object.defineProperties(this,{cid:readonly(),bytes:readonly(),value:readonly(),asBlock:readonly()})}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"links",value:function(){return _links(this.value,[])}},{key:"tree",value:function(){return _tree(this.value,[])}},{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";return _get5(this.value,e.split("/").filter(Boolean))}}]),e}(),CID_CBOR_TAG=42;function cidEncoder(e){if(e.asCID!==e)return null;var t=CID.asCID(e);if(!t)return null;var r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new Token(Type.tag,CID_CBOR_TAG),new Token(Type.bytes,r)]}function undefinedEncoder(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var encodeOptions={float64:!0,typeEncoders:{Object:cidEncoder,undefined:undefinedEncoder,number:numberEncoder}};function cidDecoder(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode(e.subarray(1))}var decodeOptions={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions.tags[CID_CBOR_TAG]=cidDecoder;var name="dag-cbor",code=113,encode=function(e){return encode$5(e,encodeOptions)},decode=function(e){return decode$5(e,decodeOptions)},cbor=Object.freeze({__proto__:null,name:name,code:code,encode:encode,decode:decode}),TreewalkCarSplitter=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),"number"!=typeof r||r<=0)throw new Error("invalid target chunk size");this._reader=t,this._targetSize=r,this._decoders=[pb,raw,cbor].concat((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_16__.Z)(n.decoders||[]))}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"cars",value:function(){var e=this;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(){var r,n,i,a,o,s,u,l;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(e._reader.getRoots());case 2:if(1===(r=t.sent).length){t.next=5;break}throw new Error("unexpected number of roots: ".concat(r.length));case 5:i=!1,a=!1,t.prev=7,s=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e._cars(r[0]));case 9:return t.next=11,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(s.next());case 11:if(!(i=!(u=t.sent).done)){t.next=21;break}if(l=u.value,n=l.channel,t.t0=l.out,!t.t0){t.next=18;break}return t.next=18,l.out;case 18:i=!1,t.next=9;break;case 21:t.next=27;break;case 23:t.prev=23,t.t1=t.catch(7),a=!0,o=t.t1;case 27:if(t.prev=27,t.prev=28,!i||null==s.return){t.next=32;break}return t.next=32,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(s.return());case 32:if(t.prev=32,!a){t.next=35;break}throw o;case 35:return t.finish(32);case 36:return t.finish(27);case 37:if(n){t.next=39;break}throw new Error("missing CAR writer channel");case 39:return n.writer.close(),t.next=42,n.out;case 42:case"end":return t.stop()}}),t,null,[[7,23,27,37],[28,,32,36]])})))()}},{key:"_get",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._reader.get(t);case 2:if(r=e.sent){e.next=5;break}throw new Error("missing block for ".concat(t));case 5:if(n=r.bytes,i=this._decoders.find((function(e){return e.code===t.code})),i){e.next=8;break}throw new Error("missing decoder for ".concat(t.code));case 8:return e.abrupt("return",new Block({cid:t,bytes:n,value:i.decode(n)}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_cars",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function i(){var a,o,s,u,l,c,h,f,d,p,_,m;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(t._get(e));case 2:if(a=i.sent,!((n=n||Object.assign(CarWriter.create(e),{size:0})).size>0&&n.size+a.bytes.byteLength>=t._targetSize)){i.next=9;break}return n.writer.close(),o=n.out,n=newCar(r),i.next=9,{channel:n,out:o};case 9:r=r.concat(a),n.size+=a.bytes.byteLength,n.writer.put(a),s=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(a.links()),i.prev=11,s.s();case 13:if((u=s.n()).done){i.next=47;break}l=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(u.value,2),c=l[1],h=!1,f=!1,i.prev=17,p=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t._cars(c,r,n));case 19:return i.next=21,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(p.next());case 21:if(!(h=!(_=i.sent).done)){i.next=29;break}return m=_.value,n=m.channel,i.next=26,m;case 26:h=!1,i.next=19;break;case 29:i.next=35;break;case 31:i.prev=31,i.t0=i.catch(17),f=!0,d=i.t0;case 35:if(i.prev=35,i.prev=36,!h||null==p.return){i.next=40;break}return i.next=40,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(p.return());case 40:if(i.prev=40,!f){i.next=43;break}throw d;case 43:return i.finish(40);case 44:return i.finish(35);case 45:i.next=13;break;case 47:i.next=52;break;case 49:i.prev=49,i.t1=i.catch(11),s.e(i.t1);case 52:return i.prev=52,s.f(),i.finish(52);case 55:if(n){i.next=57;break}throw new Error("missing CAR writer channel");case 57:return i.next=59,{channel:n};case 59:case"end":return i.stop()}}),i,null,[[11,49,52,55],[17,31,35,45],[36,,40,44]])})))()}}],[{key:"fromIterable",value:function(){var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(r,n,i){var a;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,CarReader.fromIterable(r);case 2:return a=t.sent,t.abrupt("return",new e(a,n,i));case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"fromBlob",value:function(){var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(r,n,i){var a,o;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.arrayBuffer();case 2:return a=t.sent,t.next=5,CarReader.fromBytes(new Uint8Array(a));case 5:return o=t.sent,t.abrupt("return",new e(o,n,i));case 7:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()}]),e}();function newCar(e){var t,r=Object.assign(CarWriter.create(e[0].cid),{size:e.reduce((function(e,t){return e+t.bytes.byteLength}),0)}),n=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;r.writer.put(i)}}catch(err){n.e(err)}finally{n.f()}return r}function getFilesFromPath(){return _getFilesFromPath.apply(this,arguments)}function _getFilesFromPath(){return(_getFilesFromPath=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Unsupported in this environment");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function filesFromPath(){return _filesFromPath.apply(this,arguments)}function _filesFromPath(){return(_filesFromPath=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Unsupported in this environment");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var throttledQueue$1={exports:{}};!function(e,t){function r(e,t,r){void 0===r&&(r=!1),r&&(t/=e,e=1);var n,i=[],a=0,o=0,s=function r(){var s=a+t,u=Date.now();if(u<s)return void 0!==n&&clearTimeout(n),void(n=setTimeout(r,s-u));a=u,o=0;for(var l=0,c=i.splice(0,e);l<c.length;l++){var h=c[l];o++,h()}n=i.length?setTimeout(r,t):void 0};return function(r){return new Promise((function(u,l){var c=function(){return Promise.resolve().then(r).then(u).catch(l)},h=Date.now();void 0===n&&h-a>t&&(a=h,o=0),o++<e?c():(i.push(c),void 0===n&&(n=setTimeout(s,a+t-h)))}))}}Object.defineProperty(t,"__esModule",{value:!0}),e.exports=r,t.default=r}(throttledQueue$1,throttledQueue$1.exports);var throttledQueue=getDefaultExportFromCjs(throttledQueue$1.exports),fetch=globalThis.fetch,Blob$1=globalThis.Blob,File=globalThis.File,Blockstore=MemoryBlockStore,MAX_PUT_RETRIES=5,MAX_CONCURRENT_UPLOADS=3,DEFAULT_CHUNK_SIZE=10485760,MAX_BLOCK_SIZE=1048576,MAX_CHUNK_SIZE=104857600,RATE_LIMIT_REQUESTS=30,RATE_LIMIT_PERIOD=1e4;function createRateLimiter(){var e=throttledQueue(RATE_LIMIT_REQUESTS,RATE_LIMIT_PERIOD);return function(){return e((function(){}))}}var globalRateLimiter=createRateLimiter(),Web3Storage=function(){function e(t){var r=t.token,n=t.endpoint,i=void 0===n?new URL("https://api.web3.storage"):n,a=t.rateLimiter,o=t.fetch,s=void 0===o?fetch:o;(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_6__.Z)(this,e),this.token=r,this.endpoint=i,this.rateLimiter=a||createRateLimiter(),this.fetch=s}return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_7__.Z)(e,[{key:"put",value:function(t,r){return e.put(this,t,r)}},{key:"putCar",value:function(t,r){return e.putCar(this,t,r)}},{key:"get",value:function(t,r){return e.get(this,t,r)}},{key:"delete",value:function(t,r){return e.delete(this,t,r)}},{key:"status",value:function(t,r){return e.status(this,t,r)}},{key:"list",value:function(t){return e.list(this,t)}}],[{key:"headers",value:function(e){if(!e)throw new Error("missing token");return{Authorization:"Bearer ".concat(e),"X-Client":"web3.storage/js"}}},{key:"put",value:function(){var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(r,n){var i,a,o,s,u,l,c,h,f,d,p,_,m,v,g,y,b,w,E,x,k,T,M=arguments;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.endpoint,a=r.token,o=r.rateLimiter,s=void 0===o?globalRateLimiter:o,u=r.fetch,l=void 0===u?fetch:u,c=M.length>2&&void 0!==M[2]?M[2]:{},h=c.onRootCidReady,f=c.onStoredChunk,d=c.maxRetries,p=void 0===d?MAX_PUT_RETRIES:d,_=c.maxChunkSize,m=void 0===_?DEFAULT_CHUNK_SIZE:_,v=c.wrapWithDirectory,g=void 0===v||v,y=c.name,b=c.signal,!(m>=MAX_CHUNK_SIZE||m<MAX_BLOCK_SIZE)){t.next=4;break}throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");case 4:return w=new Blockstore,t.prev=5,t.next=8,pack({input:Array.from(n).map(toImportCandidate),blockstore:w,wrapWithDirectory:g,maxChunkSize:MAX_BLOCK_SIZE,maxChildrenPerNode:1024});case 8:return E=t.sent,x=E.out,k=E.root,h&&h(k.toString()),t.next=14,CarReader.fromIterable(x);case 14:return T=t.sent,t.next=17,e.putCar({endpoint:i,token:a,rateLimiter:s,fetch:l},T,{onStoredChunk:f,maxRetries:p,maxChunkSize:m,name:y,signal:b});case 17:return t.abrupt("return",t.sent);case 18:return t.prev=18,t.next=21,w.close();case 21:return t.finish(18);case 22:case"end":return t.stop()}}),t,null,[[5,,18,22]])})));return function(e,r){return t.apply(this,arguments)}}()},{key:"putCar",value:function(){var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(r,n){var i,a,o,s,u,l,c,h,f,d,p,_,m,v,g,y,b,w,E,x,k,T,M,A,O,S,R,C=arguments;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.endpoint,a=r.token,o=r.rateLimiter,s=void 0===o?globalRateLimiter:o,u=r.fetch,l=void 0===u?fetch:u,c=C.length>2&&void 0!==C[2]?C[2]:{},h=c.name,f=c.onStoredChunk,d=c.maxRetries,p=void 0===d?MAX_PUT_RETRIES:d,_=c.maxChunkSize,m=void 0===_?DEFAULT_CHUNK_SIZE:_,v=c.decoders,g=c.signal,!(m>=MAX_CHUNK_SIZE||m<MAX_BLOCK_SIZE)){t.next=4;break}throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");case 4:return y=m,b=new URL("car",i),w=e.headers(a),h&&(w=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)({},w),{},{"X-Name":encodeURIComponent(h)})),t.next=9,n.getRoots();case 9:if(null!=(E=t.sent)[0]){t.next=12;break}throw new Error("missing root CID");case 12:if(!(E.length>1)){t.next=14;break}throw new Error("too many roots");case 14:x=E[0].toString(),k=new TreewalkCarSplitter(n,y,{decoders:v}),T=transform(MAX_CONCURRENT_UPLOADS,function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i,a,o,u,c,h,d;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=!1,i=!1,e.prev=3,o=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t);case 5:return e.next=7,o.next();case 7:if(!(n=!(u=e.sent).done)){e.next=13;break}c=u.value,r.push(c);case 10:n=!1,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),i=!0,a=e.t0;case 19:if(e.prev=19,e.prev=20,!n||null==o.return){e.next=24;break}return e.next=24,o.return();case 24:if(e.prev=24,!i){e.next=27;break}throw a;case 27:return e.finish(24);case 28:return e.finish(19);case 29:return h=new Blob$1(r,{type:"application/vnd.ipld.car"}),e.next=32,pRetry$1((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(){var t,r;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:return e.prev=2,e.next=5,l(b.toString(),{method:"POST",headers:w,body:h,signal:g});case 5:t=e.sent,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),g&&g.aborted?new AbortError_1(e.t0):e.t0;case 11:if(429!==t.status){e.next=13;break}throw new Error("rate limited");case 13:return e.next=15,t.json();case 15:if(r=e.sent,t.ok){e.next=18;break}throw new Error(r.message);case 18:if(r.cid===x){e.next=20;break}throw new Error("root CID mismatch, expected: ".concat(x,", received: ").concat(r.cid));case 20:return e.abrupt("return",r.cid);case 21:case"end":return e.stop()}}),e,null,[[2,8]])}))),{retries:p});case 32:return d=e.sent,e.abrupt("return",(f&&f(h.size),d));case 34:case"end":return e.stop()}}),e,null,[[3,15,19,29],[20,,24,28]])})));return function(t){return e.apply(this,arguments)}}()),M=!1,A=!1,t.prev=17,S=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(T(k.cars()));case 19:return t.next=21,S.next();case 21:if(!(M=!(R=t.sent).done)){t.next=27;break}R.value;case 24:M=!1,t.next=19;break;case 27:t.next=33;break;case 29:t.prev=29,t.t0=t.catch(17),A=!0,O=t.t0;case 33:if(t.prev=33,t.prev=34,!M||null==S.return){t.next=38;break}return t.next=38,S.return();case 38:if(t.prev=38,!A){t.next=41;break}throw O;case 41:return t.finish(38);case 42:return t.finish(33);case 43:return t.abrupt("return",x);case 44:case"end":return t.stop()}}),t,null,[[17,29,33,43],[34,,38,42]])})));return function(e,r){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(r,n){var i,a,o,s,u,l,c,h,f,d=arguments;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.endpoint,a=r.token,o=r.rateLimiter,s=void 0===o?globalRateLimiter:o,u=r.fetch,l=void 0===u?fetch:u,c=d.length>2&&void 0!==d[2]?d[2]:{},h=new URL("car/".concat(n),i),t.next=5,s();case 5:return t.next=7,l(h.toString(),{method:"GET",headers:e.headers(a),signal:c.signal});case 7:if(429!==(f=t.sent).status){t.next=10;break}throw new Error("rate limited");case 10:return t.abrupt("return",toWeb3Response(f));case 11:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r){var n,i,a,o,s,u=arguments;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n=t.endpoint,i=t.token,a=t.rateLimiter,o=void 0===a?globalRateLimiter:a,s=u.length>2&&void 0!==u[2]?u[2]:{},console.log("Not deleting",r,n,i,o,s),Error(".delete not implemented yet");case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"status",value:function(){var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(r,n){var i,a,o,s,u,l,c,h,f,d=arguments;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.endpoint,a=r.token,o=r.rateLimiter,s=void 0===o?globalRateLimiter:o,u=r.fetch,l=void 0===u?fetch:u,c=d.length>2&&void 0!==d[2]?d[2]:{},h=new URL("status/".concat(n),i),t.next=5,s();case 5:return t.next=7,l(h.toString(),{method:"GET",headers:e.headers(a),signal:c.signal});case 7:if(429!==(f=t.sent).status){t.next=10;break}throw new Error("rate limited");case 10:if(404===f.status){t.next=14;break}if(f.ok){t.next=13;break}throw new Error(f.statusText);case 13:return t.abrupt("return",f.json());case 14:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"list",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.before,i=void 0===n?(new Date).toISOString():n,a=r.maxResults,o=void 0===a?1/0:a,s=r.signal;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function r(){var n,a,u,l,c,h,f,d,p,_,m,v,g;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=0,a=o>100?100:o,u=!1,l=!1,r.prev=4,h=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(paginator(function(){var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(r,n){var i,a,o,u,l,c,h,f,d,p;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.endpoint,a=r.token,o=r.rateLimiter,u=void 0===o?globalRateLimiter:o,l=r.fetch,c=void 0===l?fetch:l,h=n.before,f=n.size,d=new URLSearchParams({before:h,size:f.toString()}),p=new URL("user/uploads?".concat(d),i),t.next=5,u();case 5:return t.abrupt("return",c(p.toString(),{method:"GET",headers:(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)({},e.headers(a)),{},{"Access-Control-Request-Headers":"Link"}),signal:s}));case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),t,{before:i,size:a}));case 6:return r.next=8,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(h.next());case 8:if(!(u=!(f=r.sent).done)){r.next=42;break}if((d=f.value).ok){r.next=17;break}if(429!==d.status){r.next=13;break}throw new Error("rate limited");case 13:return r.next=15,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(d.json());case 15:throw p=r.sent,new Error("".concat(d.status," ").concat(d.statusText," ").concat(p?"- "+p.message:""));case 17:return r.next=19,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(d.json());case 19:_=r.sent,m=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_12__.Z)(_),r.prev=21,m.s();case 23:if((v=m.n()).done){r.next=31;break}if(g=v.value,!(++n>o)){r.next=27;break}return r.abrupt("return");case 27:return r.next=29,g;case 29:r.next=23;break;case 31:r.next=36;break;case 33:r.prev=33,r.t0=r.catch(21),m.e(r.t0);case 36:return r.prev=36,m.f(),r.finish(36);case 39:u=!1,r.next=6;break;case 42:r.next=48;break;case 44:r.prev=44,r.t1=r.catch(4),l=!0,c=r.t1;case 48:if(r.prev=48,r.prev=49,!u||null==h.return){r.next=53;break}return r.next=53,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(h.return());case 53:if(r.prev=53,!l){r.next=56;break}throw c;case 56:return r.finish(53);case 57:return r.finish(48);case 58:case"end":return r.stop()}}),r,null,[[4,44,48,58],[21,33,36,39],[49,,53,57]])})))()}}]),e}();function toWeb3File(e){return _toWeb3File.apply(this,arguments)}function _toWeb3File(){return _toWeb3File=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t){var r,n,i,a,o,s,u,l,c,h,f;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.content,n=t.path,i=t.cid,a=[],o=!1,s=!1,e.prev=4,l=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(r());case 6:return e.next=8,l.next();case 8:if(!(o=!(c=e.sent).done)){e.next=14;break}h=c.value,a.push(h);case 11:o=!1,e.next=6;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),s=!0,u=e.t0;case 20:if(e.prev=20,e.prev=21,!o||null==l.return){e.next=25;break}return e.next=25,l.return();case 25:if(e.prev=25,!s){e.next=28;break}throw u;case 28:return e.finish(25);case 29:return e.finish(20);case 30:return f=new File(a,toFilenameWithPath(n)),e.abrupt("return",Object.assign(f,{cid:i.toString()}));case 32:case"end":return e.stop()}}),e,null,[[4,16,20,30],[21,,25,29]])}))),_toWeb3File.apply(this,arguments)}function toFilenameWithPath(e){var t=e.indexOf("/");return-1===t?e:e.substring(t+1)}function toWeb3Response(e){var t=Object.assign(e,{unixFsIterator:function(){var t=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function t(){var r,n,i,a,o,s,u;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=2;break}throw new Error("Response was not ok: ".concat(e.status," ").concat(e.statusText,' - Check for { "ok": false } on the Response object before calling .unixFsIterator'));case 2:if(e.body){t.next=4;break}throw new Error("No body on response");case 4:r=new Blockstore,t.prev=5,n=!1,i=!1,t.prev=8,o=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(unpackStream(e.body,{blockstore:r}));case 10:return t.next=12,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(o.next());case 12:if(!(n=!(s=t.sent).done)){t.next=19;break}return u=s.value,t.next=16,u;case 16:n=!1,t.next=10;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(8),i=!0,a=t.t0;case 25:if(t.prev=25,t.prev=26,!n||null==o.return){t.next=30;break}return t.next=30,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(o.return());case 30:if(t.prev=30,!i){t.next=33;break}throw a;case 33:return t.finish(30);case 34:return t.finish(25);case 35:return t.prev=35,t.next=38,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(r.close());case 38:return t.finish(35);case 39:case"end":return t.stop()}}),t,null,[[5,,35,39],[8,21,25,35],[26,,30,34]])})));return function(){return t.apply(this,arguments)}}(),files:function(){var r=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function r(){var n,i,a,o,s,u,l,c;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.ok){r.next=2;break}throw new Error("Response was not ok: ".concat(e.status," ").concat(e.statusText,' - Check for { "ok": false } on the Response object before calling .files'));case 2:n=[],i=!1,a=!1,r.prev=5,s=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_asyncIterator_js__WEBPACK_IMPORTED_MODULE_10__.Z)(t.unixFsIterator());case 7:return r.next=9,s.next();case 9:if(!(i=!(u=r.sent).done)){r.next=20;break}if("directory"!==(l=u.value).type){r.next=13;break}return r.abrupt("continue",17);case 13:return r.next=15,toWeb3File(l);case 15:c=r.sent,n.push(c);case 17:i=!1,r.next=7;break;case 20:r.next=26;break;case 22:r.prev=22,r.t0=r.catch(5),a=!0,o=r.t0;case 26:if(r.prev=26,r.prev=27,!i||null==s.return){r.next=31;break}return r.next=31,s.return();case 31:if(r.prev=31,!a){r.next=34;break}throw o;case 34:return r.finish(31);case 35:return r.finish(26);case 36:return r.abrupt("return",n);case 37:case"end":return r.stop()}}),r,null,[[5,22,26,36],[27,,31,35]])})));return function(){return r.apply(this,arguments)}}()});return t}function toImportCandidate(e){var t;return{path:e.name,get content(){return t=t||e.stream()}}}function paginator(e,t,r){return _paginator.apply(this,arguments)}function _paginator(){return _paginator=(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_wrapAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().mark((function e(t,r,n){var i,a;return(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_2__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(t(r,n));case 2:return i=e.sent,e.next=5,i;case 5:a=parseLinkHeader(i.headers.get("Link")||"");case 6:if(!a||!a.next){e.next=15;break}return e.next=9,(0,C_Users_shihab_project_new_project_OXY_NETWORK_node_modules_babel_runtime_helpers_esm_awaitAsyncGenerator_js__WEBPACK_IMPORTED_MODULE_13__.Z)(t(r,a.next));case 9:return i=e.sent,e.next=12,i;case 12:a=parseLinkHeader(i.headers.get("Link")||"");case 13:e.next=6;break;case 15:case"end":return e.stop()}}),e)}))),_paginator.apply(this,arguments)}},9794:function(e){"use strict";e.exports={version:"1.0.34"}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};__webpack_require__.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"===typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"===typeof r.then)return r}var i=Object.create(null);__webpack_require__.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&n&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},__webpack_require__.d(i,a),i}}(),__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,r){return __webpack_require__.f[r](e,t),t}),[]))},__webpack_require__.u=function(e){return"static/js/"+e+".be41429e.chunk.js"},__webpack_require__.miniCssF=function(e){},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="marketplace3:";__webpack_require__.l=function(r,n,i,a){if(e[r])e[r].push(n);else{var o,s;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var c=u[l];if(c.getAttribute("src")==r||c.getAttribute("data-webpack")==t+i){o=c;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[n];var h=function(t,n){o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),s&&document.head.appendChild(o)}}}(),__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},__webpack_require__.p="/",function(){var e={179:0};__webpack_require__.f.j=function(t,r){var n=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var i=new Promise((function(r,i){n=e[t]=[r,i]}));r.push(n[2]=i);var a=__webpack_require__.p+__webpack_require__.u(t),o=new Error;__webpack_require__.l(a,(function(r){if(__webpack_require__.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,n[1](o)}}),"chunk-"+t,t)}};var t=function(t,r){var n,i,a=r[0],o=r[1],s=r[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(n in o)__webpack_require__.o(o,n)&&(__webpack_require__.m[n]=o[n]);if(s)s(__webpack_require__)}for(t&&t(r);u<a.length;u++)i=a[u],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkmarketplace3=self.webpackChunkmarketplace3||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var __webpack_exports__={};!function(){"use strict";var e,t=__webpack_require__(2791),r=__webpack_require__(1250),n=__webpack_require__(4165),i=__webpack_require__(5861),a=__webpack_require__(885);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var s=function(e){return e};var u="beforeunload",l="popstate";function c(e){e.preventDefault(),e.returnValue=""}function h(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function f(){return Math.random().toString(36).substr(2,8)}function d(e){var t=e.pathname,r=void 0===t?"/":t,n=e.search,i=void 0===n?"":n,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(r+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(r+="#"===o.charAt(0)?o:"#"+o),r}function p(e){var t={};if(e){var r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));var n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var _=(0,t.createContext)(null);var m=(0,t.createContext)(null);var v=(0,t.createContext)({outlet:null,matches:[]});function g(e,t){if(!e)throw new Error(t)}function y(e,t,r){void 0===r&&(r="/");var n=A(("string"===typeof t?p(t):t).pathname||"/",r);if(null==n)return null;var i=b(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var r=e.length===t.length&&e.slice(0,-1).every((function(e,r){return e===t[r]}));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=k(i[o],n);return a}function b(e,t,r,n){return void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(n)||g(!1),a.relativePath=a.relativePath.slice(n.length));var o=O([n,a.relativePath]),s=r.concat(a);e.children&&e.children.length>0&&(!0===e.index&&g(!1),b(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:x(o,e.index),routesMeta:s})})),t}var w=/^:\w+$/,E=function(e){return"*"===e};function x(e,t){var r=e.split("/"),n=r.length;return r.some(E)&&(n+=-2),t&&(n+=2),r.filter((function(e){return!E(e)})).reduce((function(e,t){return e+(w.test(t)?3:""===t?1:10)}),n)}function k(e,t){for(var r=e.routesMeta,n={},i="/",a=[],o=0;o<r.length;++o){var s=r[o],u=o===r.length-1,l="/"===i?t:t.slice(i.length)||"/",c=T({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(n,c.params);var h=s.route;a.push({params:n,pathname:O([i,c.pathname]),pathnameBase:S(O([i,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(i=O([i,c.pathnameBase]))}return a}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var r=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);var n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return n.push(t),"([^\\/]+)"}));e.endsWith("*")?(n.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=r?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),n]}(e.path,e.caseSensitive,e.end),n=(0,a.Z)(r,2),i=n[0],o=n[1],s=t.match(i);if(!s)return null;var u=s[0],l=u.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:o.reduce((function(e,t,r){if("*"===t){var n=c[r]||"";l=u.slice(0,u.length-n.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(r){return e}}(c[r]||""),e}),{}),pathname:u,pathnameBase:l,pattern:e}}function M(e,t,r){var n,i="string"===typeof e?p(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)n=r;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}n=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var r="string"===typeof e?p(e):e,n=r.pathname,i=r.search,a=void 0===i?"":i,o=r.hash,s=void 0===o?"":o,u=n?n.startsWith("/")?n:function(e,t){var r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(n,t):t;return{pathname:u,search:R(a),hash:C(s)}}(i,n);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var r=e.charAt(t.length);return r&&"/"!==r?null:e.slice(t.length)||"/"}var O=function(e){return e.join("/").replace(/\/\/+/g,"/")},S=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},R=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},C=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function P(e){D()||g(!1);var r=(0,t.useContext)(_),n=r.basename,i=r.navigator,a=j(e),o=a.hash,s=a.pathname,u=a.search,l=s;if("/"!==n){var c=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?p(e).pathname:e.pathname}(e),h=null!=c&&c.endsWith("/");l="/"===s?n+(h?"/":""):O([n,s])}return i.createHref({pathname:l,search:u,hash:o})}function D(){return null!=(0,t.useContext)(m)}function I(){return D()||g(!1),(0,t.useContext)(m).location}function L(){D()||g(!1);var e=(0,t.useContext)(_),r=e.basename,n=e.navigator,i=(0,t.useContext)(v).matches,a=I().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);return(0,t.useEffect)((function(){s.current=!0})),(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=M(e,JSON.parse(o),a);"/"!==r&&(i.pathname=O([r,i.pathname])),(t.replace?n.replace:n.push)(i,t.state)}else n.go(e)}),[r,n,o,a])}function U(){var e=(0,t.useContext)(v).matches,r=e[e.length-1];return r?r.params:{}}function j(e){var r=(0,t.useContext)(v).matches,n=I().pathname,i=JSON.stringify(r.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return M(e,JSON.parse(i),n)}),[e,i,n])}function N(e,r){return void 0===r&&(r=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,t.createElement)(v.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:r.concat(e.slice(0,a+1))}})}),null)}function B(e){g(!1)}function Z(r){var n=r.basename,i=void 0===n?"/":n,a=r.children,o=void 0===a?null:a,s=r.location,u=r.navigationType,l=void 0===u?e.Pop:u,c=r.navigator,h=r.static,f=void 0!==h&&h;D()&&g(!1);var d=S(i),v=(0,t.useMemo)((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"===typeof s&&(s=p(s));var y=s,b=y.pathname,w=void 0===b?"/":b,E=y.search,x=void 0===E?"":E,k=y.hash,T=void 0===k?"":k,M=y.state,O=void 0===M?null:M,R=y.key,C=void 0===R?"default":R,P=(0,t.useMemo)((function(){var e=A(w,d);return null==e?null:{pathname:e,search:x,hash:T,state:O,key:C}}),[d,w,x,T,O,C]);return null==P?null:(0,t.createElement)(_.Provider,{value:v},(0,t.createElement)(m.Provider,{children:o,value:{location:P,navigationType:l}}))}function W(e){var r=e.children,n=e.location;return function(e,r){D()||g(!1);var n,i=(0,t.useContext)(v).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,I());if(r){var l,c="string"===typeof r?p(r):r;"/"===s||(null==(l=c.pathname)?void 0:l.startsWith(s))||g(!1),n=c}else n=u;var h=n.pathname||"/",f=y(e,{pathname:"/"===s?h:h.slice(s.length)||"/"});return N(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:O([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:O([s,e.pathnameBase])})})),i)}(F(r),n)}function F(e){var r=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==B&&g(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=F(e.props.children)),r.push(n)}else r.push.apply(r,F(e.props.children))})),r}function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z.apply(this,arguments)}function K(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var H=["onClick","reloadDocument","replace","state","target","to"];function G(r){var n=r.basename,i=r.children,_=r.window,m=(0,t.useRef)();null==m.current&&(m.current=function(t){void 0===t&&(t={});var r=t.window,n=void 0===r?document.defaultView:r,i=n.history;function a(){var e=n.location,t=e.pathname,r=e.search,a=e.hash,o=i.state||{};return[o.idx,s({pathname:t,search:r,hash:a,state:o.usr||null,key:o.key||"default"})]}var _=null;n.addEventListener(l,(function(){if(_)w.call(_),_=null;else{var t=e.Pop,r=a(),n=r[0],i=r[1];if(w.length){if(null!=n){var o=g-n;o&&(_={action:t,location:i,retry:function(){A(-1*o)}},A(o))}}else M(t)}}));var m=e.Pop,v=a(),g=v[0],y=v[1],b=h(),w=h();function E(e){return"string"===typeof e?e:d(e)}function x(e,t){return void 0===t&&(t=null),s(o({pathname:y.pathname,hash:"",search:""},"string"===typeof e?p(e):e,{state:t,key:f()}))}function k(e,t){return[{usr:e.state,key:e.key,idx:t},E(e)]}function T(e,t,r){return!w.length||(w.call({action:e,location:t,retry:r}),!1)}function M(e){m=e;var t=a();g=t[0],y=t[1],b.call({action:m,location:y})}function A(e){i.go(e)}null==g&&(g=0,i.replaceState(o({},i.state,{idx:g}),""));var O={get action(){return m},get location(){return y},createHref:E,push:function t(r,a){var o=e.Push,s=x(r,a);if(T(o,s,(function(){t(r,a)}))){var u=k(s,g+1),l=u[0],c=u[1];try{i.pushState(l,"",c)}catch(h){n.location.assign(c)}M(o)}},replace:function t(r,n){var a=e.Replace,o=x(r,n);if(T(a,o,(function(){t(r,n)}))){var s=k(o,g),u=s[0],l=s[1];i.replaceState(u,"",l),M(a)}},go:A,back:function(){A(-1)},forward:function(){A(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&n.addEventListener(u,c),function(){t(),w.length||n.removeEventListener(u,c)}}};return O}({window:_}));var v=m.current,g=(0,t.useState)({action:v.action,location:v.location}),y=(0,a.Z)(g,2),b=y[0],w=y[1];return(0,t.useLayoutEffect)((function(){return v.listen(w)}),[v]),(0,t.createElement)(Z,{basename:n,children:i,location:b.location,navigationType:b.action,navigator:v})}var V=(0,t.forwardRef)((function(e,r){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,l=e.to,c=K(e,H),h=P(l),f=function(e,r){var n=void 0===r?{}:r,i=n.target,a=n.replace,o=n.state,s=L(),u=I(),l=j(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var r=!!a||d(u)===d(l);s(e,{replace:r,state:o})}}),[u,s,l,a,o,i,e])}(l,{replace:o,state:s,target:u});return(0,t.createElement)("a",z({},c,{href:h,onClick:function(e){n&&n(e),e.defaultPrevented||i||f(e)},ref:r,target:u}))}));var X=__webpack_require__(184);var Y=function(){var e=(0,t.useState)(!1),r=(0,a.Z)(e,2),o=r[0],s=r[1],u=I(),l=(0,t.useState)("0x"),c=(0,a.Z)(l,2),h=c[0],f=c[1];function d(){return p.apply(this,arguments)}function p(){return p=(0,i.Z)((0,n.Z)().mark((function e(){var t,r,i,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=__webpack_require__(400),r=new t.providers.Web3Provider(window.ethereum),i=r.getSigner(),e.next=5,i.getAddress();case 5:a=e.sent,f(a);case 7:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function _(){var e=document.querySelector(".enableEthereumButton");e.textContent="Connected",e.classList.remove("hover:bg-blue-70"),e.classList.remove("bg-blue-500"),e.classList.add("hover:bg-green-70"),e.classList.add("bg-green-500")}function m(){return(m=(0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_chainId"});case 2:if("0x5"===e.sent){e.next=6;break}return e.next=6,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x5"}]});case 6:return e.next=8,window.ethereum.request({method:"eth_requestAccounts"}).then((function(){_(),d(),window.location.replace(u.pathname)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,t.useEffect)((function(){var e=window.ethereum.isConnected();e&&(d(),s(e),_()),window.ethereum.on("accountsChanged",(function(e){window.location.replace(u.pathname)}))})),(0,X.jsxs)("div",{className:"",children:[(0,X.jsx)("nav",{className:"w-screen",children:(0,X.jsxs)("ul",{className:"flex items-end justify-between py-3 bg-transparent text-white pr-5",children:[(0,X.jsx)("li",{className:"flex items-end ml-5 pb-2",children:(0,X.jsxs)(V,{to:"/",children:[(0,X.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZEAAABpCAQAAABRntYcAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAHdElNRQfmCQkLOhqoT7cmAAAAAW9yTlQBz6J3mgAAHetJREFUeNrtXXlYFVeWP7fqvQePXUBQZN9kFRRcQMEVCBHXGNuOiW2STrrTPTPp5evpmf66p3t6Znq+6f46M92ZZDr9JdomJlGJ4oY7CCqIiCAg+w4KCMi+vaXqzh8sr+rxgKpH1Vv0/fyiryp1T5176p57zr333HMBLLDAAgsssMACCyywwAILLLDAAhMDMjYDFhgGrQgAkDdtbD7MDxLuj7bOrU5clQ3rySl3Zcbe+r5DfymYZlczKQdvDOCNW0XjsRUJXH8sOD0G+LYOTqwUeT7zoDXKxO0VTMoiNlmd78QTb8RIqvSuXj4i3AsKfHrdEAHMJsGuG+Jd29m+AOZxVzelKV4wAAbrUc+G4FHhJJHnP7gIEOMPm7eZfPJv9HOV4CNjNh1sPezRuJyHJDhYkWqbCzszvzfiCgQQAICBnmRw9iogHb+4VhLP88TMJqn5e+IPBgqrEY0Ag3vtL78HTTzEOScapGc3H/8nGUnLQQoIMNBAA55SSBYvc31ENMvvuYBn/D2TJgK2JAAwUKAGFVKqUfj99/4N6oWSBED6e3d3gYqWAImlSNMyaKCnOWTyw7yaWfvZaqQtU83v+VQEMf5F02VoRCNlaN5bv4Mq7jXloCI02eveGKywtlIR1KQQ8LQpnP8TozmuNMCzXunqj7BOemhaGDTQSKVwUMgUtFrKXRjzAg861QXbI9k4ogABDTRQ07JAOiQihFPJjx6zSSIAoIECSmk1LHfqEVQS0OXVGESC9eBkp4QBJtvFFB/ztQy+9lDXfV002coxxQkCAIxBZaMCpx61FZ+achqLIAyUX8fmL13bphVEm435ob/p5dLQ2LYHA7Iau/ZqfgqhFNTJwwiTSt/aLemunTQx5cQw6sLXmeAxvuJMR/tJrJLmp+RvJigB5QAASE1Qbo1v/hdFoCkOtH0HpjM6f9/PVQ1mqeUsvxk8IXrUoeClB4kEz5EOFxUhgMDIvfnlowmVekvUCPiZf94WEcjSi9teOpVQY+zacUcD+dSjIBEjJOxsFsbg2P3jz4xdOz6ocOx1K4kDkl8pgsMzCAggsITm8qyJoA0B0IiDudcDmMA8hWxc0BIszlwWbahZGMEYltIICL5tgmuzR4BEErQowBODVZG+oTlJYtrvEFoaGCiDzVQKJ4nJL/eYxxfkoiJ4+o/ZwHtiXkXohTIMzBk9cwFmjZqEo2pucoDJ2TaeXHOzIniSvAXmCuHtnpl1miy+wZMH59zGIiI6LSJCHHfIrJwsEWF+7QFAr6/HfQhujkoiPMdcp7hNCdwW2/jCHNuDZg2HB7ipCP+wiucX5qYgFiwQZjSRyxtiDFIBzE9JxOFX6FBDkwXXscgLIo7nFhYfQG9wd7QsMG9YlERPPM+OljhDSotNncALo3Jc10XMcf5CeFhU4wUEHytibkpibvyKB7EkYX4S1oNjbgEoehJ/LmGxJC8YuO5dF1RBWpBSppCP2yqtqckoVFJN0PIh+YiVwlfgfQ3GRaNEYTXppE4t4CGStlL48JRnrTVFavbyIUyTElXwuFGrxrcGcopkRnUhkKn81fxf24wU1pN7dQATCANCOETArdczwSO9gxBoJPsXP/XK9mrza/dp9+vyGLNRSwEIWj5qN7SsybPBszGjzf2xSzufvcWmjD73jNdG7dBU40YAmLAdXFFUlx/EuYE3Sitivoobcpq+gTDCKC6rKcePezM1su2rtS3Y/Gi1mkBTHSAiKY/WO7e9Gvl1Fg/dbqxvCFXIJ/a+YAKB2iq4tPZM8Jh4kjCgilTZN4WeWVWxuia6zWvEhpYRUjTt59EAULKeVlmNLekOfhReeKIk8JHzU3+V4bjjDF4itlLUhl89gBBzyyjGoQ9/+ovmHF+OgaG1K/7yi7ubKRkCAIwQYKQm/cvW3eSpIEZVElI94HzxwGM/hKe6Cww2Iymn3/491HGnUmX/+dtf/bBvMTFVK0wTtiPv/E4iajvhriILcrUqHesjjiUVbqkLG3IkJSRob6MmJqosw7J2x9bAO1s92yLvx129l+/exrUh6YQoW6r40IzoyfpjU3BzHHPIh6Ex5twhn3po5UKh1O3o3tIEwk46WRaBGhy6D36yNlc8rjmCR4sIUJRcq4q+8Pa4g0YSKlnObq/6qo9Ch7lSuZ944r3hZXIGA0i14fL2UzwcNj2kYAAr0iRpCv16x+20uogReynMvbMeAQkE0PZNYa2hxZtW5SSdqr4VwlmEokMPAW8t//NHf/Qa82Ru7KYl95Jv3W086q+cr3QzmbUhd8e4EzldFgNSbbqQkuHLz483+iTDys7T5ytiqhIwmmKFhBHX2ztj77Tmc8tsVbLkV+/2e8kYdzAsrUs9uZRTV6M/RB+uVzrkbr14qCShz4UEboknEABIAKPHPl2v1axIPnn/y9WP9Xq1iQTDJ517FHvm+6S15g4B/UsvHQwvhvvzlW0NunSgLYRpgygIvb//s5WdJiINHoi6m5j5xH/Qk3mvMTJnu38l9M1fuhWdSitOZCuI1VBiZswdnhkmeXsWIq+ul7ife/Ov/5KXNugimfVVuqMNEUiAktau/OKn//eb7EjxMgnyhB58hA7vOxZaqO0uV63O/HaVw9wla2xzUu9vAanmpRQ4Pdn5RWShscWgDwIVWy+GlDAzsRAwZn83pWxdCweptgZlvKVyYt/zL086G9UjNt+iqkjxkjPvnHi/IZqSzLannrlnVJeakDCw+MprH/22IpaLGHUQEAO8qQY+2nvUuYU5m02A0jpn5715MrRUrjp/aMRFk0sCg2w04dLW8zydLBMYrk9gU2XKKZcG5ncmoC301ss97vOVbJacfb0pkt1Y7Z8mpQeXis+1iCpS6prxdsa7nX4TV+xERxiQQjJo+9S1aUndkrrFjU5PrPrJcV1BVSSo5Pnb//LruhXiC4MT9Ghq/urEq5suoFFm3STQEXD+jXs+s5cqcz1zuCmc6Qlj8C/d+7eYdsNwLQa2nI/Ok7Cmu1Xywm1l65rnySlTtTJ3h9qOeQero+9suCruisgERJvRqrE9t//sO11e7Gx0GDAQavsej+bw+4EVHm3O3SQFgNGYTYd3S2BlbH1Yn4fKmu0uEkBJi5I+Hbn787hmPWpoEo0jpuP0N9WrKuOZM3kE3E26+krTh346pyxbiPOpN/eSjAIYHB/vPBZabOy6LAThgxlHymM7I5mTFx0Bt7aHP4C22Us1WH1woDOI+SFpWNK0JcOHx4Sx/hBpuN4syUk6/W6HD6lFhMKL2iPvJ38Tdc+pWzYWyJjRaZCpZWO2jWE30/JTngRSVkzzhkAlK0hd/KT6V4boNcRBZGHKqQ6fgWUaiSBQ2p99c2UB5OuU4PJjP1Y4MaVAjiVe3HKR+5KjaSI6P+34p7/E9poGT0vvJcVdb2r3mzWuoiixcJvSVnONQToady3+uj6r8yazdNgaeO479REzFEQZ8mD/p1vORT6bWSJACUoYhqe1BZsvnP7unZeYPjgAglH7nN1B5S3HfPjOX5gIgsfunq+MzX4VW2kyc5LQGpb+3YrK8H7tpxutfvOTloiJXNITz1MQULrr+OIOvRkwEUn40Q8+v5lWm8BseL1eVw6EP4AG3SUqnP64rz2YucmRBt+KpNMu3YbhmOuuQ+a/86LWNmtHwVaCZJtGrFh/+dd///4RXQqiQfDY3pyf/PzbH7q0snUBwVO/zEM10YYRCwdp8EZc047jPpXs0RZB3NyTu33ms1k7svYSbCfryd6jYQ94dhAmiZjOd38v62JmLqeJhwkFWxplup/P31acoLJmKohdz+aMqAIxT5FhQpThes2KzNcU9kzSNGBV4vl//mnyAy7lY54c/sNrHzo/1m4PNbHZu2psuVAQFXoryao7Sek2z5inLSBQOJ1871YI+7m8oL/9WOU89TIMGIiRjRc3ZZq7kzWF9TeSv1EpmTnDh1yvvPbEV9ez971ydzwN0FzTAFRo0dZzPKKyNNBLqURQkUrH7LT6MObAFAOmV+T94N/jGrjSCBl95dOUk7b97CTfo3Z3U6tihOfYUAgZSc5YnS1RMqcjEDSszDhca6N5qt76xDvNEcwnMF5ekvb1ApwsE0Pw+L5jPhVqVl9TE529Y6YdaUGFmx5uUMuYT7q0vXTSzyAD9QnwyaPFAS1EG+rwzt5FythFlzYc/GhrGR/GIvr3fxJ1B6nZk8WtIcUbamz40BEUCzbtG6tTTyyrZt9T2eTuvLdVc337pTvbVYxFRRpcW17+OrLweXCyphBasvO4tFdTIQTDTll768O1n2tdfjutx4fpZElG12TH3/AzYIArVxXh2DgITEnuJzz2Z8/my0YSLq+/ype1DXW7jro81rIj9g8T2v0MJ54ZWPCgd13WlgxbrdFYR/C5t/IDJs5RvBOcebAjUPP/MMhG193YlBmkj2NhsghUbb4cc5upIiTUR13fXSdnPlVnXZhYFq8mmRbVsy75tJ4BSXqCe05fjhiXZ+1BcvY999bk0yFD/JlbmR9zCyjmiT9qaAprDOVY3ETmcNgIH0g5HXGXfSAOTZbFXd9bZ+ONa22v7y5dT7Mci6DitK8ECNUzMWn4VCeddm3UiIGAcdvcHY9imc+0Ls9L7VmmaaIYrAcSMlfzjXFmQqSNubzQ6VUZzSZKjK+87a/X4T0rO9dfseljTvcRMORaE13hJDTXhkTAo9SvFjeyv9WA260dj1YDPIzL3T3oprlPg3NLcnrkPUPN3hgO/nhd7ppsUqGpmAQaQ7LTNG50re29TeUbaMRws7B/efJpIY935QJBVaSVwOhBnMKWfa6YzVBsrt2AfhSDH/nWMl1wBKM2jeFDzoYVkrDwxQmXN521HmSNslB91M20y7HZuxoi6WnHYsLJ2npeyJNuTQfrWree86qiJ2sKgADLs3eXr5k6uLspJD+lz1XTQGmwf5p8MswAUVlsCDtcRxg9SEBa+6XcnwRU67t/cElLSBHFKItADV2ez9z0o2YqiOhP+zqkiClRBGMOt3d8/tN7yeN2zE8SULrri7XNC3ydyVqgVXmJF2wG6enlURKe+F1+9ZGTNwaotr+XUL5GE/6KAdSR97af8DZ4bgOBh+sUWR2FJKwhNu1X5fSMW+mZCBv0rZWMs4fsQ86dy5q45/8SGoJQDCrddcSlmW0fO4Pv7GRGItHg0P7yl9H5/KmbC1b0bbmw/D5irE1LpNm7S9YDADQH394+7Mw4URS7NH/rkwWGvuuVy4frKVWcgPCAa68bOwgRK71rbRawb9DjsdOgpilhQDBm3+dKGTgthdDwoxMvbzpHjDBFSyOFjcbzxkAq111PPSXg9KaJDdgBAIIfbv3GsV0jAxIG3TIPVNnVWz1cWxXDCs8YSUmPu2kMHgVONdfhqbLSepB27LFewADLsc9+gDk5iEAhG1gk7BnixkBk757Pw4pUrHMpNNHQABg8ql//3ygDxSEZC8Gq9Vkrc4ERjkhIijZWxHZ65exQODEtqn/lviP+RokuEHC43ooQHnTCiN1dEbT1GKFPROYkpEqZgnmNQCEdtjd3KwIAkFyy+6hLqy7RIKBB3nPof8KLW5/vnMsAkFCXnO5ZNdVJYEAw5Hr2japVFbHEVMYYwED2HfqTV4txOBQwp683Bhhy1H5MrpSPLOTEb+tR6zF2cRU5Ym9OB1zPjpdPxF0DpfZBHRO7a1w70tK9aPxc1HNuxN1Ye40cmao7ApDnp375A8V0fAECtTrxUvwNXyOljBL0E3hihRX7e2OwGXXq9VuAihC09mnWGNEEx6ZjsnM5E6DIcTlN6h4i9LrnbQZAz1VuSt0IH0o6G/iQ2QePLK1ah6ZDmGhwebznc2ejuZwC91IkpW1wVNJxud7kAAAAYR0tnWvjN9EZrQmce6Nwm0TnllQEI26f/eMDj+dvyVAXVhRsPmPPzunCSJaDxnZ+EVHEN8WrcBBYRewHELDjWIdtBxY1LGBwrZArrNn9rISyGSGeg5C+zLUXvzPoTsyicwgao4//sEnGk6hZIlC97WLIfd0Wk4LQko1XHDmkERILgjosbchuUNttoEml1UKmG5UyhRV7tV6mthuUzJOkzWSSCs2KcufzB2tXygAYi2Ps9R+F3c09edsEep2JW6PE2rTjLo0zdYQGh+6kb4LLBLOmoh4qzYkB9w6Jiv2pMTnsqOKWY04nxmzHbNj1kqnsB0hj+egCqV4zeTs1dyfNSD+HQaJgKz6CzqALc+ZI4QWhlUTgTij+xrqrUq1AGwxIverWhqvGzccpqIpg5Nphq20SpR2+ow56kQMAgC73Pmd2Rlz5sGMfuYBpZFNAbdT5w70+zBhWq6GomxG3JGOsDauS4o3Xd9db6/MGc0NU78vpPo/Y/jMNHs1bznrXG5czgQNQZON+daBmOUaoKWzIUV/2GmQtgeNy9hZfuz73dn/jWBGBjqkud770asUa9j3Pmn2fvvLp0nqmDUbQvzRrX/kanuTNFOFFq3KAEfmLgaSDyqLuzp/5mBeMnLAUIYi6ixXsm22BHZ565VIEgO5ltdGI4aZhIMCl3c2st6i2oLyknN0KB6ZIbJ/FX42/sS47/opNH1sH66Ov7iteYmyeDYHQUddOYHV9ErVjr9zoUc7CqghGeM1tgrXEg2DI+eHaMT2TMjQF10QxFw4wWCu86vQNrRcMC/LDm0KvHOgMYJJA1PLi5IzQgajuLReCSglKoyQEjNvlp+Rva1xIwA1aOM8Gw4xVVGx0voVVERogoGpZs9ZquPxectcyfchV2xdt6F/Mns+y61n+0L6XIwFxzhdZECodr+0pj8esBEAuLalfLy9rJQEiChMuOrISkhLwNODat+ojFvhak5ODUbjWqz0IqiLeGMB2cOMlepztsjeH30lq0qMfbAq5lUaz5rMQLGkOrghU8KclIBbw4VpRUWLWvuHFzHvSsTVZW875qoBuRYGKrRci7xFK5ogEk2XxN3ZV6D2es2BhEHjpEKMAReIV236avXy46OqB5uV8aVU6XDzQHsi2IdYjkQUezUaSlQBoC7yyv225RjgYMHhUvXIkshfAG3tjgA21yemLG4ElvxHn3J3FG/Qdz1mwMAgdJocBfBrirytZvhaC6pgvflDpxIdQC5mTlr1HacdWEZfHsbeiuzgTEdrRYmyB0wf1Vrkp97ap5UwCsp49R8NYqay3nl+TJWGsBGBA0Bx2dV+H94L5tkAPCKwi3hjApTPltFO35vxgDAgo6xuvnnqrhXMIeytRuOn4j3r92OxJFCtvhZcYW2T649HqSweH3AE0bVatir25/QR7WjNwfP+RpbXMqV8E2Co/NTe17oVYIWHAJGICuKoIj37Ih44qSjpDK5hFSRh2/fL9Y3/HLXdJvdWd5I9/Xb+KfRfDsppNF2PbuFDgyzMP6E21eEnmgYYVwMjooYbFTa/N2GzaglKKd34h6WfuIkUw5H7+cNVKUWpkBFmYE8ei7EdwbU85HVROsToBKfR4f/qLP/32evR8E5jF7ucO/fk/KuKBEQOLgQZ534ZLa7PF4JcH9G4UjZI7SXmpSsbkAwY0vPPLVXe1n/TBAK8ci8yfUo4JENAQdelbpa5Grr+4MAmroQ1Rdu954+rCtOOfL+1dxoz0lsLo4vNv1UVvS8+54fbYZmTmcdF1Vv2LK2I+2Ht/8zMv7aPfSGXU7V3HeUbrmFAvVxuVefCpH/NQNoqKuZ12KlDn0lhE38kPaiJGvRFoNlzR1rk7owoaT5vkafRiwQSUhouK6MFmyFBhxhP/S6+POTNnZkigbcsTWoKv74/Oiyi61GY3ZDVGUoAxUslG7XpdT4aXJFSv7FlKybU3USAqsPjbHwfolbBOUOgZglK+6Mie0niCmTYN3Or3HdlYPVuJmLxdX3z1I7Blyq/HN+PNoErglRvZghng2XGKtgd8TevNvw475O4ed2Kva5Aw5F7hXr/qwqhDr/tj5y75MIBaMuTUtazLY9xWaauWEqCtIBh7lx/887osc91g1EzcTLi2X2WvETYGyXDClfis2csEjud8+SChMpHplSJUtfry3poGQ+cjNCC0m68JfHER0yRsrrj6IU3c3jXuyK43AQBKG6XNkGt7MFIDjQEACCzBkwN7bRlhyrv80AdJGX5mG93b7ptxuD2IuTuKhuDSHSci5two5F33ytGWIMVSph0ZXXRz96oCuGLsGr1IEPjwBDZCSg7/97aTju0zc0NM7U3EEiwDGchAgoDQsYxBAR4Lzfve71LTA/kliDGhUUiD7Mqewm1Ma0CDQ/tLJ8Mezl3OX70+e8NVijUhTEJr+Nk3CvmvkIjTG4vdx4tBnzdNUTNs+ODg0rf/sP8j73Kk5B+9TgOF7ds3nv2H3yRnmPP5TKVrv/k+Zc/UWUIZe3PLpYB56+TelpruVcU0ngiQ5G7qtV3P7YZdNM+1ESByPiofDPWPPg6quPj6w7jeJQRJciyHQQ3WA76VSaeTz3k16DkGEauP40W3xO1fftIdyN7x4lm14ysuYTQ+uLxg8/lT3spFiDH5O7ro7OHIB8AnkakJePQcgea4EgJ6SMIAKdsi+psvBFXkb72TWr7m2WJSIpmn5hSowXowpGJ1TuLV8CLzPUYaAKCV+ORw0Vb2rklZX3J6dIEvJ7Ma2Zt5oSzu4TbmZ5JCU1T64bKaFXpnSjZhzPRqjG5HDJLV0JeG+qbG+Kyi9cXrK2LbfEblEikhIYDddGigaUoFSrfu4IrovNV3gsvC9Di2R3Tw6ofyN595e3z6YFQMAGg0Liv5HPeMHsvLXjrZHPDMj2l/KTJ7d9S9pmO8JjDMwJLQpAoh0EgLYYoUIdkeT0kYLPGnHw31UF+a2RLcHFAf0hjW7tvtNmBHEwhjQBgjmcq9a3GnT01QhX+9T8PSFiMHvM8GXuJtkH283qXT5elEmBUARoQ6uGzX1/413F3HQEXJRZX01svDTqz4YPrRqi1X4IlRJSF4/+76NOwukMTEaQqIlkhUHg0yo7cDA+fGjeqBHsivthlyHnEccBp0VMooEiOClinlY059doN2Aw693FwQcwCh2v+3PV+hqcaEABC273fo5Xew58rOus+2ZaqYqZYwBoI2Zm4pcbDt4ur8yWlNBACAwGbYXmh3krc1NUr66JBRGAWDHuloHPhhWPgZhQAQpBSGjuAQ2I5E9EO/yBzrER3xAqRVtkAUGH0YbSiIEAxvwQsC82wTvE8uE3V13QILTBA8leS5OITAwLBIA8BcpaDH6ZcCH+T23EOMA0YNAfN0isSBSI6WOTYNPLEaIShFcwWnc8Z40zRPiKIiAuWyfU5gnpIwiahZo0OProLrodLmaEXE6DvNUQ5TeSIskhB9LGKOsPSd5smxeBBp0neCrHkO+SweuHnzLSxEsiLmlFmczbM4DcO8JAFAaKKeXnBJ6NUeuFkRc1QSsSBChKvoQICAEJhvBITZuel6tWNuVgQBIJoU9rQgUeFNARCU4M15Mv6UMKtEE6QKiaHWCBAys3OLSSWh5u9qccyjhWB4UVVspguwdVCYncZijBawfPiYF8y3wVEfEEOuVauu2qulLAXU9R5j2RtmGkeMcKm82weTIpzVQYzZX4mmJJN5OQxzlgv3dzDzvQIgAIJ65NTthaV8lYSTimDA0tqYT/5TqmS+kiEU7X/nZlvXHazzGY1hnMtEsqd2MdCAgSLHu/ywFS1w08CEWtYQ88kfZCOYYNQascY+mLGOxM46qktaumSHdfw3N5ijDdbkCqJposdTaY0JYc97ogla1hH6r59gCVgDOZ2+Rvvr6VIdPOu1rl+I9R97VDVfF6VZrkCAEEVB71KVnObpHnJQEURZDy3qGnLtdcbkzE/ACQuxE9zUD2v9pjAlAec+xx4kpI3CVmPOfTJprxNeBMzdtmwuZm8C7Hroqhm7meFZqc78AmgGpYkrGtGE0mnMrk9QSYBdv3Mblnb4gwRkUxZrRtcAc3aiiPWkbmnNB91KgnQ8hwADRaoX9dj18HOUOaiIbHxtjnOPykoUj5YrdAkOzfHspF2xGXLsFo6JAPpywfs/Iyd7pXn548LrQmUw9/vQlCRocO5yEHT/XnJGWDFMWQnEUR66+3qxwZQFAHbtdO7kX3xeNBKY4NQLzUVPOGHMfAvWac4xgL/AQ8oGAtCs1TRsF6Ltms2sP+MXhgBBJdFE4Ll44CMJ/aU2f4vSYc0Q7Wdm0wwWWGCBBRZYYIEFFlhggQUWWGCBBRZYYIEFFgiG/weRI/tJEdWq6wAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wOS0wOVQxMTo1ODowNyswMDowMMZK1roAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDktMDlUMTE6NTg6MDcrMDA6MDC3F24GAAAAAElFTkSuQmCC",alt:"",width:120,height:120,className:"inline-block -mt-2"}),(0,X.jsx)("div",{className:"inline-block font-bold text-xl ml-2",children:"NFT Marketplace"})]})}),(0,X.jsx)("li",{className:"w-2/6",children:(0,X.jsxs)("ul",{className:"lg:flex justify-between font-bold mr-10 text-lg",children:["/"===u.pathname?(0,X.jsx)("li",{className:"border-b-2 hover:pb-0 p-2",children:(0,X.jsx)(V,{to:"/",children:"Marketplace"})}):(0,X.jsx)("li",{className:"hover:border-b-2 hover:pb-0 p-2",children:(0,X.jsx)(V,{to:"/",children:"Marketplace"})}),"/sellNFT"===u.pathname?(0,X.jsx)("li",{className:"border-b-2 hover:pb-0 p-2",children:(0,X.jsx)(V,{to:"/sellNFT",children:"List My NFT"})}):(0,X.jsx)("li",{className:"hover:border-b-2 hover:pb-0 p-2",children:(0,X.jsx)(V,{to:"/sellNFT",children:"List My NFT"})}),"/profile"===u.pathname?(0,X.jsx)("li",{className:"border-b-2 hover:pb-0 p-2",children:(0,X.jsx)(V,{to:"/profile",children:"Profile"})}):(0,X.jsx)("li",{className:"hover:border-b-2 hover:pb-0 p-2",children:(0,X.jsx)(V,{to:"/profile",children:"Profile"})}),(0,X.jsx)("li",{children:(0,X.jsx)("button",{className:"enableEthereumButton bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-sm",onClick:function(){return m.apply(this,arguments)},children:o?"Connected":"Connect Wallet"})})]})})]})}),(0,X.jsxs)("div",{className:"text-white text-bold text-right mr-10 text-sm",children:["0x"!==h?"Connected to":"Not Connected. Please login to view NFTs"," ","0x"!==h?h.substring(0,15)+"...":""]})]})};function q(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $,J,Q,ee,te,re,ne=__webpack_require__(2982),ie=__webpack_require__(8737),ae=__webpack_require__(7762),oe=__webpack_require__(2963),se=__webpack_require__(8301),ue=__webpack_require__(1120),le=__webpack_require__(7326),ce=__webpack_require__(136),he=__webpack_require__(9388),fe=__webpack_require__(4942),de=__webpack_require__(5671),pe=__webpack_require__(3144),_e=__webpack_require__(1413);function me(e){return function(t,r){return void 0!==r?function(e,t,r){t.constructor.createProperty(r,e)}(e,t,r):function(e,t){return"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?(0,_e.Z)((0,_e.Z)({},t),{},{finisher:function(r){r.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer:function(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher:function(r){r.createProperty(t.key,e)}}}(e,t)}}null===(re=window.HTMLSlotElement)||void 0===re||re.prototype.assignedElements;for(var ve="139",ge=100,ye=301,be=302,we=303,Ee=306,xe=1e3,ke=1001,Te=1002,Me=1003,Ae=1004,Oe=1005,Se=1006,Re=1007,Ce=1008,Pe=1009,De=1012,Ie=1014,Le=1015,Ue=1016,je=1020,Ne=1023,Be=1026,Ze=1027,We=33776,Fe=33777,ze=33778,Ke=33779,He=35840,Ge=35841,Ve=35842,Xe=35843,Ye=36196,qe=37492,$e=37496,Je=37808,Qe=37809,et=37810,tt=37811,rt=37812,nt=37813,it=37814,at=37815,ot=37816,st=37817,ut=37818,lt=37819,ct=37820,ht=37821,ft=36492,dt=2200,pt=2201,_t=2202,mt=2300,vt=2301,gt=2302,yt=2400,bt=2401,wt=2402,Et=2500,xt=2501,kt=3e3,Tt=3001,Mt="srgb",At="srgb-linear",Ot=7680,St=35044,Rt=35048,Ct="300 es",Pt=1035,Dt=function(){function e(){(0,de.Z)(this,e)}return(0,pe.Z)(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var r=this._listeners[e];if(void 0!==r){var n=r.indexOf(t);-1!==n&&r.splice(n,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var r=t.slice(0),n=0,i=r.length;n<i;n++)r[n].call(this,e);e.target=null}}}}]),e}(),It=[],Lt=0;Lt<256;Lt++)It[Lt]=(Lt<16?"0":"")+Lt.toString(16);var Ut=1234567,jt=Math.PI/180,Nt=180/Math.PI;function Bt(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(It[255&e]+It[e>>8&255]+It[e>>16&255]+It[e>>24&255]+"-"+It[255&t]+It[t>>8&255]+"-"+It[t>>16&15|64]+It[t>>24&255]+"-"+It[63&r|128]+It[r>>8&255]+"-"+It[r>>16&255]+It[r>>24&255]+It[255&n]+It[n>>8&255]+It[n>>16&255]+It[n>>24&255]).toLowerCase()}function Zt(e,t,r){return Math.max(t,Math.min(r,e))}function Wt(e,t){return(e%t+t)%t}function Ft(e,t,r){return(1-r)*e+r*t}function zt(e){return 0===(e&e-1)&&0!==e}function Kt(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function Ht(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}var Gt=Object.freeze({__proto__:null,DEG2RAD:jt,RAD2DEG:Nt,generateUUID:Bt,clamp:Zt,euclideanModulo:Wt,mapLinear:function(e,t,r,n,i){return n+(e-t)*(i-n)/(r-t)},inverseLerp:function(e,t,r){return e!==t?(r-e)/(t-e):0},lerp:Ft,damp:function(e,t,r,n){return Ft(e,t,1-Math.exp(-r*n))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Wt(e,2*t)-t)},smoothstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*(3-2*e)},smootherstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Ut=e);var t=Ut+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*jt},radToDeg:function(e){return e*Nt},isPowerOfTwo:zt,ceilPowerOfTwo:Kt,floorPowerOfTwo:Ht,setQuaternionFromProperEuler:function(e,t,r,n,i){var a=Math.cos,o=Math.sin,s=a(r/2),u=o(r/2),l=a((t+n)/2),c=o((t+n)/2),h=a((t-n)/2),f=o((t-n)/2),d=a((n-t)/2),p=o((n-t)/2);switch(i){case"XYX":e.set(s*c,u*h,u*f,s*l);break;case"YZY":e.set(u*f,s*c,u*h,s*l);break;case"ZXZ":e.set(u*h,u*f,s*c,s*l);break;case"XZX":e.set(s*c,u*p,u*d,s*l);break;case"YXY":e.set(u*d,s*c,u*p,s*l);break;case"ZYZ":e.set(u*p,u*d,s*c,s*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:function(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}},denormalize:function(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}}),Vt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,de.Z)(this,t),this.x=e,this.y=r}return(0,pe.Z)(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,r=this.y,n=e.elements;return this.x=n[0]*t+n[3]*r+n[6],this.y=n[1]*t+n[4]*r+n[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var r=Math.cos(t),n=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*r-a*n+e.x,this.y=i*n+a*r+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:e,value:(0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);Vt.prototype.isVector2=!0;var Xt=function(){function e(){(0,de.Z)(this,e),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return(0,pe.Z)(e,[{key:"set",value:function(e,t,r,n,i,a,o,s,u){var l=this.elements;return l[0]=e,l[1]=n,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=r,l[7]=a,l[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}},{key:"extractBasis",value:function(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var r=e.elements,n=t.elements,i=this.elements,a=r[0],o=r[3],s=r[6],u=r[1],l=r[4],c=r[7],h=r[2],f=r[5],d=r[8],p=n[0],_=n[3],m=n[6],v=n[1],g=n[4],y=n[7],b=n[2],w=n[5],E=n[8];return i[0]=a*p+o*v+s*b,i[3]=a*_+o*g+s*w,i[6]=a*m+o*y+s*E,i[1]=u*p+l*v+c*b,i[4]=u*_+l*g+c*w,i[7]=u*m+l*y+c*E,i[2]=h*p+f*v+d*b,i[5]=h*_+f*g+d*w,i[8]=h*m+f*y+d*E,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*a*l-t*o*u-r*i*l+r*o*s+n*i*u-n*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=l*a-o*u,h=o*s-l*i,f=u*i-a*s,d=t*c+r*h+n*f;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);var p=1/d;return e[0]=c*p,e[1]=(n*u-l*r)*p,e[2]=(o*r-n*a)*p,e[3]=h*p,e[4]=(l*t-n*s)*p,e[5]=(n*i-o*t)*p,e[6]=f*p,e[7]=(r*s-u*t)*p,e[8]=(a*t-r*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,r,n,i,a,o){var s=Math.cos(i),u=Math.sin(i);return this.set(r*s,r*u,-r*(s*a+u*o)+a+e,-n*u,n*s,-n*(-u*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){var r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),r=Math.sin(e),n=this.elements,i=n[0],a=n[3],o=n[6],s=n[1],u=n[4],l=n[7];return n[0]=t*i+r*s,n[3]=t*a+r*u,n[6]=t*o+r*l,n[1]=-r*i+t*s,n[4]=-r*a+t*u,n[7]=-r*o+t*l,this}},{key:"translate",value:function(e,t){var r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}},{key:"equals",value:function(e){for(var t=this.elements,r=e.elements,n=0;n<9;n++)if(t[n]!==r[n])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<9;r++)this.elements[r]=e[r+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}();function Yt(e){for(var t=e.length-1;t>=0;--t)if(e[t]>65535)return!0;return!1}function qt(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function $t(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Jt(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}Xt.prototype.isMatrix3=!0;var Qt=($={},(0,fe.Z)($,Mt,(0,fe.Z)({},At,$t)),(0,fe.Z)($,At,(0,fe.Z)({},Mt,Jt)),$),er={legacyMode:!0,get workingColorSpace(){return At},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,r){if(this.legacyMode||t===r||!t||!r)return e;if(Qt[t]&&void 0!==Qt[t][r]){var n=Qt[t][r];return e.r=n(e.r),e.g=n(e.g),e.b=n(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},tr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},rr={r:0,g:0,b:0},nr={h:0,s:0,l:0},ir={h:0,s:0,l:0};function ar(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+6*(t-e)*(2/3-r):e}function or(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var sr,ur=function(){function e(t,r,n){return(0,de.Z)(this,e),void 0===r&&void 0===n?this.set(t):this.setRGB(t,r,n)}return(0,pe.Z)(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mt;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,er.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:At;return this.r=e,this.g=t,this.b=r,er.toWorkingColorSpace(this,n),this}},{key:"setHSL",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:At;if(e=Wt(e,1),t=Zt(t,0,1),r=Zt(r,0,1),0===t)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+t):r+t-r*t,a=2*r-i;this.r=ar(a,i,e+1/3),this.g=ar(a,i,e),this.b=ar(a,i,e-1/3)}return er.toWorkingColorSpace(this,n),this}},{key:"setStyle",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mt;function n(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var i,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,er.toWorkingColorSpace(this,r),n(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,er.toWorkingColorSpace(this,r),n(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){var s=parseFloat(i[1])/360,u=parseInt(i[2],10)/100,l=parseInt(i[3],10)/100;return n(i[4]),this.setHSL(s,u,l,r)}}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var c=t[1],h=c.length;if(3===h)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,er.toWorkingColorSpace(this,r),this;if(6===h)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,er.toWorkingColorSpace(this,r),this}return e&&e.length>0?this.setColorName(e,r):this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mt,r=tr[e.toLowerCase()];return void 0!==r?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=$t(e.r),this.g=$t(e.g),this.b=$t(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Jt(e.r),this.g=Jt(e.g),this.b=Jt(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;return er.fromWorkingColorSpace(or(this,rr),e),Zt(255*rr.r,0,255)<<16^Zt(255*rr.g,0,255)<<8^Zt(255*rr.b,0,255)<<0}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:At;er.fromWorkingColorSpace(or(this,rr),t);var r,n,i=rr.r,a=rr.g,o=rr.b,s=Math.max(i,a,o),u=Math.min(i,a,o),l=(u+s)/2;if(u===s)r=0,n=0;else{var c=s-u;switch(n=l<=.5?c/(s+u):c/(2-s-u),s){case i:r=(a-o)/c+(a<o?6:0);break;case a:r=(o-i)/c+2;break;case o:r=(i-a)/c+4}r/=6}return e.h=r,e.s=n,e.l=l,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:At;return er.fromWorkingColorSpace(or(this,rr),t),e.r=rr.r,e.g=rr.g,e.b=rr.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;return er.fromWorkingColorSpace(or(this,rr),e),e!==Mt?"color(".concat(e," ").concat(rr.r," ").concat(rr.g," ").concat(rr.b,")"):"rgb(".concat(255*rr.r|0,",").concat(255*rr.g|0,",").concat(255*rr.b|0,")")}},{key:"offsetHSL",value:function(e,t,r){return this.getHSL(nr),nr.h+=e,nr.s+=t,nr.l+=r,this.setHSL(nr.h,nr.s,nr.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(nr),e.getHSL(ir);var r=Ft(nr.h,ir.h,t),n=Ft(nr.s,ir.s,t),i=Ft(nr.l,ir.l,t);return this.setHSL(r,n,i),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),e}();ur.NAMES=tr,ur.prototype.isColor=!0,ur.prototype.r=1,ur.prototype.g=1,ur.prototype.b=1;var lr=function(){function e(){(0,de.Z)(this,e)}return(0,pe.Z)(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===sr&&(sr=qt("canvas")),sr.width=e.width,sr.height=e.height;var r=sr.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=sr}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=qt("canvas");t.width=e.width,t.height=e.height;var r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);for(var n=r.getImageData(0,0,e.width,e.height),i=n.data,a=0;a<i.length;a++)i[a]=255*$t(i[a]/255);return r.putImageData(n,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*$t(o[s]/255)):o[s]=$t(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),cr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,de.Z)(this,e),this.uuid=Bt(),this.data=t,this.version=0}return(0,pe.Z)(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var r={uuid:this.uuid,url:""},n=this.data;if(null!==n){var i;if(Array.isArray(n)){i=[];for(var a=0,o=n.length;a<o;a++)n[a].isDataTexture?i.push(hr(n[a].image)):i.push(hr(n[a]))}else i=hr(n);r.url=i}return t||(e.images[this.uuid]=r),r}}]),e}();function hr(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?lr.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}cr.prototype.isSource=!0;var fr=0,dr=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ke,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ke,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Se,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ce,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ne,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Pe,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:kt;return(0,de.Z)(this,r),e=t.call(this),Object.defineProperty((0,le.Z)(e),"id",{value:fr++}),e.uuid=Bt(),e.name="",e.source=new cr(n),e.mipmaps=[],e.mapping=i,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=u,e.anisotropy=h,e.format=l,e.internalFormat=null,e.type=c,e.offset=new Vt(0,0),e.repeat=new Vt(1,1),e.center=new Vt(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new Xt,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=f,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return(0,pe.Z)(r,[{key:"image",get:function(){return this.source.data},set:function(e){this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case xe:e.x=e.x-Math.floor(e.x);break;case ke:e.x=e.x<0?0:1;break;case Te:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case xe:e.y=e.y-Math.floor(e.y);break;case ke:e.y=e.y<0?0:1;break;case Te:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}]),r}(Dt);dr.DEFAULT_IMAGE=null,dr.DEFAULT_MAPPING=300,dr.prototype.isTexture=!0;var pr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,de.Z)(this,t),this.x=e,this.y=r,this.z=n,this.w=i}return(0,pe.Z)(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,r=this.y,n=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*n+a[12]*i,this.y=a[1]*t+a[5]*r+a[9]*n+a[13]*i,this.z=a[2]*t+a[6]*r+a[10]*n+a[14]*i,this.w=a[3]*t+a[7]*r+a[11]*n+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,r,n,i,a=.01,o=.1,s=e.elements,u=s[0],l=s[4],c=s[8],h=s[1],f=s[5],d=s[9],p=s[2],_=s[6],m=s[10];if(Math.abs(l-h)<a&&Math.abs(c-p)<a&&Math.abs(d-_)<a){if(Math.abs(l+h)<o&&Math.abs(c+p)<o&&Math.abs(d+_)<o&&Math.abs(u+f+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var v=(u+1)/2,g=(f+1)/2,y=(m+1)/2,b=(l+h)/4,w=(c+p)/4,E=(d+_)/4;return v>g&&v>y?v<a?(r=0,n=.707106781,i=.707106781):(n=b/(r=Math.sqrt(v)),i=w/r):g>y?g<a?(r=.707106781,n=0,i=.707106781):(r=b/(n=Math.sqrt(g)),i=E/n):y<a?(r=.707106781,n=.707106781,i=0):(r=w/(i=Math.sqrt(y)),n=E/i),this.set(r,n,i,t),this}var x=Math.sqrt((_-d)*(_-d)+(c-p)*(c-p)+(h-l)*(h-l));return Math.abs(x)<.001&&(x=1),this.x=(_-d)/x,this.y=(c-p)/x,this.z=(h-l)/x,this.w=Math.acos((u+f+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:e,value:(0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);pr.prototype.isVector4=!0;var _r=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,de.Z)(this,r),(i=t.call(this)).width=e,i.height=n,i.depth=1,i.scissor=new pr(0,0,e,n),i.scissorTest=!1,i.viewport=new pr(0,0,e,n);var o={width:e,height:n,depth:1};return i.texture=new dr(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),i.texture.isRenderTargetTexture=!0,i.texture.flipY=!1,i.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,i.texture.internalFormat=void 0!==a.internalFormat?a.internalFormat:null,i.texture.minFilter=void 0!==a.minFilter?a.minFilter:Se,i.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,i.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,i.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,i.samples=void 0!==a.samples?a.samples:0,i}return(0,pe.Z)(r,[{key:"setSize",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===r||(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},e.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),r}(Dt);_r.prototype.isWebGLRenderTarget=!0;var mr=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,de.Z)(this,r),(e=t.call(this,null)).image={data:n,width:i,height:a,depth:o},e.magFilter=Me,e.minFilter=Me,e.wrapR=ke,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,pe.Z)(r)}(dr);mr.prototype.isDataArrayTexture=!0,function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i){var a;return(0,de.Z)(this,r),(a=t.call(this,e,n)).depth=i,a.texture=new mr(null,e,n,i),a.texture.isRenderTargetTexture=!0,a}return(0,pe.Z)(r)}(_r).prototype.isWebGLArrayRenderTarget=!0;var vr=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,de.Z)(this,r),(e=t.call(this,null)).image={data:n,width:i,height:a,depth:o},e.magFilter=Me,e.minFilter=Me,e.wrapR=ke,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,pe.Z)(r)}(dr);vr.prototype.isData3DTexture=!0,function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i){var a;return(0,de.Z)(this,r),(a=t.call(this,e,n)).depth=i,a.texture=new vr(null,e,n,i),a.texture.isRenderTargetTexture=!0,a}return(0,pe.Z)(r)}(_r).prototype.isWebGL3DRenderTarget=!0;var gr=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,de.Z)(this,r);var s=(a=t.call(this,e,n,o)).texture;a.texture=[];for(var u=0;u<i;u++)a.texture[u]=s.clone(),a.texture[u].isRenderTargetTexture=!0;return a}return(0,pe.Z)(r,[{key:"setSize",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(var n=0,i=this.texture.length;n<i;n++)this.texture[n].image.width=e,this.texture[n].image.height=t,this.texture[n].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(var t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone();return this}}]),r}(_r);gr.prototype.isWebGLMultipleRenderTargets=!0;var yr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,de.Z)(this,e),this._x=t,this._y=r,this._z=n,this._w=i}return(0,pe.Z)(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._w=n,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var r=e._x,n=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,u=o(r/2),l=o(n/2),c=o(i/2),h=s(r/2),f=s(n/2),d=s(i/2);switch(a){case"XYZ":this._x=h*l*c+u*f*d,this._y=u*f*c-h*l*d,this._z=u*l*d+h*f*c,this._w=u*l*c-h*f*d;break;case"YXZ":this._x=h*l*c+u*f*d,this._y=u*f*c-h*l*d,this._z=u*l*d-h*f*c,this._w=u*l*c+h*f*d;break;case"ZXY":this._x=h*l*c-u*f*d,this._y=u*f*c+h*l*d,this._z=u*l*d+h*f*c,this._w=u*l*c-h*f*d;break;case"ZYX":this._x=h*l*c-u*f*d,this._y=u*f*c+h*l*d,this._z=u*l*d-h*f*c,this._w=u*l*c+h*f*d;break;case"YZX":this._x=h*l*c+u*f*d,this._y=u*f*c+h*l*d,this._z=u*l*d-h*f*c,this._w=u*l*c-h*f*d;break;case"XZY":this._x=h*l*c-u*f*d,this._y=u*f*c-h*l*d,this._z=u*l*d+h*f*c,this._w=u*l*c+h*f*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var r=t/2,n=Math.sin(r);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(r),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,r=t[0],n=t[4],i=t[8],a=t[1],o=t[5],s=t[9],u=t[2],l=t[6],c=t[10],h=r+o+c;if(h>0){var f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(l-s)*f,this._y=(i-u)*f,this._z=(a-n)*f}else if(r>o&&r>c){var d=2*Math.sqrt(1+r-o-c);this._w=(l-s)/d,this._x=.25*d,this._y=(n+a)/d,this._z=(i+u)/d}else if(o>c){var p=2*Math.sqrt(1+o-r-c);this._w=(i-u)/p,this._x=(n+a)/p,this._y=.25*p,this._z=(s+l)/p}else{var _=2*Math.sqrt(1+c-r-o);this._w=(a-n)/_,this._x=(i+u)/_,this._y=(s+l)/_,this._z=.25*_}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Zt(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var r=this.angleTo(e);if(0===r)return this;var n=Math.min(1,t/r);return this.slerp(e,n),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var r=e._x,n=e._y,i=e._z,a=e._w,o=t._x,s=t._y,u=t._z,l=t._w;return this._x=r*l+a*o+n*u-i*s,this._y=n*l+a*s+i*o-r*u,this._z=i*l+a*u+r*s-n*o,this._w=a*l-r*o-n*s-i*u,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var r=this._x,n=this._y,i=this._z,a=this._w,o=a*e._w+r*e._x+n*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=r,this._y=n,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-t;return this._w=u*a+t*this._w,this._x=u*r+t*this._x,this._y=u*n+t*this._y,this._z=u*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),c=Math.atan2(l,o),h=Math.sin((1-t)*c)/l,f=Math.sin(t*c)/l;return this._w=a*h+this._w*f,this._x=r*h+this._x*f,this._y=n*h+this._y*f,this._z=i*h+this._z*f,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,r){return this.copy(e).slerp(t,r)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),n=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(n),r*Math.sin(i),r*Math.cos(i),t*Math.sin(n))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(e,t,r,n){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,n)}},{key:"slerpFlat",value:function(e,t,r,n,i,a,o){var s=r[n+0],u=r[n+1],l=r[n+2],c=r[n+3],h=i[a+0],f=i[a+1],d=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=u,e[t+2]=l,void(e[t+3]=c);if(1===o)return e[t+0]=h,e[t+1]=f,e[t+2]=d,void(e[t+3]=p);if(c!==p||s!==h||u!==f||l!==d){var _=1-o,m=s*h+u*f+l*d+c*p,v=m>=0?1:-1,g=1-m*m;if(g>Number.EPSILON){var y=Math.sqrt(g),b=Math.atan2(y,m*v);_=Math.sin(_*b)/y,o=Math.sin(o*b)/y}var w=o*v;if(s=s*_+h*w,u=u*_+f*w,l=l*_+d*w,c=c*_+p*w,_===1-o){var E=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=E,u*=E,l*=E,c*=E}}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,r,n,i,a){var o=r[n],s=r[n+1],u=r[n+2],l=r[n+3],c=i[a],h=i[a+1],f=i[a+2],d=i[a+3];return e[t]=o*d+l*c+s*f-u*h,e[t+1]=s*d+l*h+u*c-o*f,e[t+2]=u*d+l*f+o*h-s*c,e[t+3]=l*d-o*c-s*h-u*f,e}}]),e}();yr.prototype.isQuaternion=!0;var br=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,de.Z)(this,t),this.x=e,this.y=r,this.z=n}return(0,pe.Z)(t,[{key:"set",value:function(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Er.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(Er.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6]*n,this.y=i[1]*t+i[4]*r+i[7]*n,this.z=i[2]*t+i[5]*r+i[8]*n,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements,a=1/(i[3]*t+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*t+i[4]*r+i[8]*n+i[12])*a,this.y=(i[1]*t+i[5]*r+i[9]*n+i[13])*a,this.z=(i[2]*t+i[6]*r+i[10]*n+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,r=this.y,n=this.z,i=e.x,a=e.y,o=e.z,s=e.w,u=s*t+a*n-o*r,l=s*r+o*t-i*n,c=s*n+i*r-a*t,h=-i*t-a*r-o*n;return this.x=u*s+h*-i+l*-o-c*-a,this.y=l*s+h*-a+c*-i-u*-o,this.z=c*s+h*-o+u*-a-l*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[4]*r+i[8]*n,this.y=i[1]*t+i[5]*r+i[9]*n,this.z=i[2]*t+i[6]*r+i[10]*n,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}},{key:"cross",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var r=e.x,n=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=n*s-i*o,this.y=i*a-r*s,this.z=r*o-n*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}},{key:"projectOnPlane",value:function(e){return wr.copy(this).projectOnVector(e),this.sub(wr)}},{key:"reflect",value:function(e){return this.sub(wr.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var r=this.dot(e)/t;return Math.acos(Zt(r,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,r=this.y-e.y,n=this.z-e.z;return t*t+r*r+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,r){var n=Math.sin(t)*e;return this.x=n*Math.sin(r),this.y=Math.cos(t)*e,this.z=n*Math.cos(r),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=n,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,r=Math.sqrt(1-Math.pow(e,2));return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}},{key:e,value:(0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);br.prototype.isVector3=!0;var wr=new br,Er=new yr,xr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new br(1/0,1/0,1/0),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new br(-1/0,-1/0,-1/0);(0,de.Z)(this,e),this.min=t,this.max=r}return(0,pe.Z)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,r=1/0,n=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,u=e.length;s<u;s+=3){var l=e[s],c=e[s+1],h=e[s+2];l<t&&(t=l),c<r&&(r=c),h<n&&(n=h),l>i&&(i=l),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,r,n),this.max.set(i,a,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,r=1/0,n=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,u=e.count;s<u;s++){var l=e.getX(s),c=e.getY(s),h=e.getZ(s);l<t&&(t=l),c<r&&(r=c),h<n&&(n=h),l>i&&(i=l),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,r,n),this.max.set(i,a,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var r=Tr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);var r=e.geometry;if(void 0!==r)if(t&&void 0!=r.attributes&&void 0!==r.attributes.position)for(var n=r.attributes.position,i=0,a=n.count;i<a;i++)Tr.fromBufferAttribute(n,i).applyMatrix4(e.matrixWorld),this.expandByPoint(Tr);else null===r.boundingBox&&r.computeBoundingBox(),Mr.copy(r.boundingBox),Mr.applyMatrix4(e.matrixWorld),this.union(Mr);for(var o=e.children,s=0,u=o.length;s<u;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Tr),Tr.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Dr),Ir.subVectors(this.max,Dr),Ar.subVectors(e.a,Dr),Or.subVectors(e.b,Dr),Sr.subVectors(e.c,Dr),Rr.subVectors(Or,Ar),Cr.subVectors(Sr,Or),Pr.subVectors(Ar,Sr);var t=[0,-Rr.z,Rr.y,0,-Cr.z,Cr.y,0,-Pr.z,Pr.y,Rr.z,0,-Rr.x,Cr.z,0,-Cr.x,Pr.z,0,-Pr.x,-Rr.y,Rr.x,0,-Cr.y,Cr.x,0,-Pr.y,Pr.x,0];return!!jr(t,Ar,Or,Sr,Ir)&&(!!jr(t=[1,0,0,0,1,0,0,0,1],Ar,Or,Sr,Ir)&&(Lr.crossVectors(Rr,Cr),jr(t=[Lr.x,Lr.y,Lr.z],Ar,Or,Sr,Ir)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Tr.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(Tr).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(kr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),kr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),kr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),kr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),kr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),kr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),kr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),kr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(kr)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();xr.prototype.isBox3=!0;var kr=[new br,new br,new br,new br,new br,new br,new br,new br],Tr=new br,Mr=new xr,Ar=new br,Or=new br,Sr=new br,Rr=new br,Cr=new br,Pr=new br,Dr=new br,Ir=new br,Lr=new br,Ur=new br;function jr(e,t,r,n,i){for(var a=0,o=e.length-3;a<=o;a+=3){Ur.fromArray(e,a);var s=i.x*Math.abs(Ur.x)+i.y*Math.abs(Ur.y)+i.z*Math.abs(Ur.z),u=t.dot(Ur),l=r.dot(Ur),c=n.dot(Ur);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}var Nr=new xr,Br=new br,Zr=new br,Wr=new br,Fr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new br,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;(0,de.Z)(this,e),this.center=t,this.radius=r}return(0,pe.Z)(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var r=this.center;void 0!==t?r.copy(t):Nr.setFromPoints(e).getCenter(r);for(var n=0,i=0,a=e.length;i<a;i++)n=Math.max(n,r.distanceToSquared(e[i]));return this.radius=Math.sqrt(n),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){Wr.subVectors(e,this.center);var t=Wr.lengthSq();if(t>this.radius*this.radius){var r=Math.sqrt(t),n=.5*(r-this.radius);this.center.add(Wr.multiplyScalar(n/r)),this.radius+=n}return this}},{key:"union",value:function(e){return!0===this.center.equals(e.center)?Zr.set(0,0,1).multiplyScalar(e.radius):Zr.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Br.copy(e.center).add(Zr)),this.expandByPoint(Br.copy(e.center).sub(Zr)),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),zr=new br,Kr=new br,Hr=new br,Gr=new br,Vr=new br,Xr=new br,Yr=new br,qr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new br,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new br(0,0,-1);(0,de.Z)(this,e),this.origin=t,this.direction=r}return(0,pe.Z)(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,zr)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=zr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(zr.copy(this.direction).multiplyScalar(t).add(this.origin),zr.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,r,n){Kr.copy(e).add(t).multiplyScalar(.5),Hr.copy(t).sub(e).normalize(),Gr.copy(this.origin).sub(Kr);var i,a,o,s,u=.5*e.distanceTo(t),l=-this.direction.dot(Hr),c=Gr.dot(this.direction),h=-Gr.dot(Hr),f=Gr.lengthSq(),d=Math.abs(1-l*l);if(d>0)if(a=l*c-h,s=u*d,(i=l*h-c)>=0)if(a>=-s)if(a<=s){var p=1/d;o=(i*=p)*(i+l*(a*=p)+2*c)+a*(l*i+a+2*h)+f}else a=u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*h)+f;else a=-u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*h)+f;else a<=-s?o=-(i=Math.max(0,-(-l*u+c)))*i+(a=i>0?-u:Math.min(Math.max(-u,-h),u))*(a+2*h)+f:a<=s?(i=0,o=(a=Math.min(Math.max(-u,-h),u))*(a+2*h)+f):o=-(i=Math.max(0,-(l*u+c)))*i+(a=i>0?u:Math.min(Math.max(-u,-h),u))*(a+2*h)+f;else a=l>0?-u:u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*h)+f;return r&&r.copy(this.direction).multiplyScalar(i).add(this.origin),n&&n.copy(Hr).multiplyScalar(a).add(Kr),o}},{key:"intersectSphere",value:function(e,t){zr.subVectors(e.center,this.origin);var r=zr.dot(this.direction),n=zr.dot(zr)-r*r,i=e.radius*e.radius;if(n>i)return null;var a=Math.sqrt(i-n),o=r-a,s=r+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}},{key:"intersectPlane",value:function(e,t){var r=this.distanceToPlane(e);return null===r?null:this.at(r,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var r,n,i,a,o,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,n=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,n=(e.min.x-h.x)*u),l>=0?(i=(e.min.y-h.y)*l,a=(e.max.y-h.y)*l):(i=(e.max.y-h.y)*l,a=(e.min.y-h.y)*l),r>a||i>n?null:((i>r||r!==r)&&(r=i),(a<n||n!==n)&&(n=a),c>=0?(o=(e.min.z-h.z)*c,s=(e.max.z-h.z)*c):(o=(e.max.z-h.z)*c,s=(e.min.z-h.z)*c),r>s||o>n?null:((o>r||r!==r)&&(r=o),(s<n||n!==n)&&(n=s),n<0?null:this.at(r>=0?r:n,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,zr)}},{key:"intersectTriangle",value:function(e,t,r,n,i){Vr.subVectors(t,e),Xr.subVectors(r,e),Yr.crossVectors(Vr,Xr);var a,o=this.direction.dot(Yr);if(o>0){if(n)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Gr.subVectors(this.origin,e);var s=a*this.direction.dot(Xr.crossVectors(Gr,Xr));if(s<0)return null;var u=a*this.direction.dot(Vr.cross(Gr));if(u<0)return null;if(s+u>o)return null;var l=-a*Gr.dot(Yr);return l<0?null:this.at(l/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),$r=function(){function e(){(0,de.Z)(this,e),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return(0,pe.Z)(e,[{key:"set",value:function(e,t,r,n,i,a,o,s,u,l,c,h,f,d,p,_){var m=this.elements;return m[0]=e,m[4]=t,m[8]=r,m[12]=n,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=u,m[6]=l,m[10]=c,m[14]=h,m[3]=f,m[7]=d,m[11]=p,m[15]=_,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,r=e.elements,n=1/Jr.setFromMatrixColumn(e,0).length(),i=1/Jr.setFromMatrixColumn(e,1).length(),a=1/Jr.setFromMatrixColumn(e,2).length();return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=0,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=0,t[8]=r[8]*a,t[9]=r[9]*a,t[10]=r[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,r=e.x,n=e.y,i=e.z,a=Math.cos(r),o=Math.sin(r),s=Math.cos(n),u=Math.sin(n),l=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var h=a*l,f=a*c,d=o*l,p=o*c;t[0]=s*l,t[4]=-s*c,t[8]=u,t[1]=f+d*u,t[5]=h-p*u,t[9]=-o*s,t[2]=p-h*u,t[6]=d+f*u,t[10]=a*s}else if("YXZ"===e.order){var _=s*l,m=s*c,v=u*l,g=u*c;t[0]=_+g*o,t[4]=v*o-m,t[8]=a*u,t[1]=a*c,t[5]=a*l,t[9]=-o,t[2]=m*o-v,t[6]=g+_*o,t[10]=a*s}else if("ZXY"===e.order){var y=s*l,b=s*c,w=u*l,E=u*c;t[0]=y-E*o,t[4]=-a*c,t[8]=w+b*o,t[1]=b+w*o,t[5]=a*l,t[9]=E-y*o,t[2]=-a*u,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var x=a*l,k=a*c,T=o*l,M=o*c;t[0]=s*l,t[4]=T*u-k,t[8]=x*u+M,t[1]=s*c,t[5]=M*u+x,t[9]=k*u-T,t[2]=-u,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var A=a*s,O=a*u,S=o*s,R=o*u;t[0]=s*l,t[4]=R-A*c,t[8]=S*c+O,t[1]=c,t[5]=a*l,t[9]=-o*l,t[2]=-u*l,t[6]=O*c+S,t[10]=A-R*c}else if("XZY"===e.order){var C=a*s,P=a*u,D=o*s,I=o*u;t[0]=s*l,t[4]=-c,t[8]=u*l,t[1]=C*c+I,t[5]=a*l,t[9]=P*c-D,t[2]=D*c-P,t[6]=o*l,t[10]=I*c+C}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(en,e,tn)}},{key:"lookAt",value:function(e,t,r){var n=this.elements;return an.subVectors(e,t),0===an.lengthSq()&&(an.z=1),an.normalize(),rn.crossVectors(r,an),0===rn.lengthSq()&&(1===Math.abs(r.z)?an.x+=1e-4:an.z+=1e-4,an.normalize(),rn.crossVectors(r,an)),rn.normalize(),nn.crossVectors(an,rn),n[0]=rn.x,n[4]=nn.x,n[8]=an.x,n[1]=rn.y,n[5]=nn.y,n[9]=an.y,n[2]=rn.z,n[6]=nn.z,n[10]=an.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var r=e.elements,n=t.elements,i=this.elements,a=r[0],o=r[4],s=r[8],u=r[12],l=r[1],c=r[5],h=r[9],f=r[13],d=r[2],p=r[6],_=r[10],m=r[14],v=r[3],g=r[7],y=r[11],b=r[15],w=n[0],E=n[4],x=n[8],k=n[12],T=n[1],M=n[5],A=n[9],O=n[13],S=n[2],R=n[6],C=n[10],P=n[14],D=n[3],I=n[7],L=n[11],U=n[15];return i[0]=a*w+o*T+s*S+u*D,i[4]=a*E+o*M+s*R+u*I,i[8]=a*x+o*A+s*C+u*L,i[12]=a*k+o*O+s*P+u*U,i[1]=l*w+c*T+h*S+f*D,i[5]=l*E+c*M+h*R+f*I,i[9]=l*x+c*A+h*C+f*L,i[13]=l*k+c*O+h*P+f*U,i[2]=d*w+p*T+_*S+m*D,i[6]=d*E+p*M+_*R+m*I,i[10]=d*x+p*A+_*C+m*L,i[14]=d*k+p*O+_*P+m*U,i[3]=v*w+g*T+y*S+b*D,i[7]=v*E+g*M+y*R+b*I,i[11]=v*x+g*A+y*C+b*L,i[15]=v*k+g*O+y*P+b*U,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],r=e[4],n=e[8],i=e[12],a=e[1],o=e[5],s=e[9],u=e[13],l=e[2],c=e[6],h=e[10],f=e[14];return e[3]*(+i*s*c-n*u*c-i*o*h+r*u*h+n*o*f-r*s*f)+e[7]*(+t*s*f-t*u*h+i*a*h-n*a*f+n*u*l-i*s*l)+e[11]*(+t*u*c-t*o*f-i*a*c+r*a*f+i*o*l-r*u*l)+e[15]*(-n*o*l-t*s*c+t*o*h+n*a*c-r*a*h+r*s*l)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,r){var n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=r),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11],d=e[12],p=e[13],_=e[14],m=e[15],v=c*_*u-p*h*u+p*s*f-o*_*f-c*s*m+o*h*m,g=d*h*u-l*_*u-d*s*f+a*_*f+l*s*m-a*h*m,y=l*p*u-d*c*u+d*o*f-a*p*f-l*o*m+a*c*m,b=d*c*s-l*p*s-d*o*h+a*p*h+l*o*_-a*c*_,w=t*v+r*g+n*y+i*b;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var E=1/w;return e[0]=v*E,e[1]=(p*h*i-c*_*i-p*n*f+r*_*f+c*n*m-r*h*m)*E,e[2]=(o*_*i-p*s*i+p*n*u-r*_*u-o*n*m+r*s*m)*E,e[3]=(c*s*i-o*h*i-c*n*u+r*h*u+o*n*f-r*s*f)*E,e[4]=g*E,e[5]=(l*_*i-d*h*i+d*n*f-t*_*f-l*n*m+t*h*m)*E,e[6]=(d*s*i-a*_*i-d*n*u+t*_*u+a*n*m-t*s*m)*E,e[7]=(a*h*i-l*s*i+l*n*u-t*h*u-a*n*f+t*s*f)*E,e[8]=y*E,e[9]=(d*c*i-l*p*i-d*r*f+t*p*f+l*r*m-t*c*m)*E,e[10]=(a*p*i-d*o*i+d*r*u-t*p*u-a*r*m+t*o*m)*E,e[11]=(l*o*i-a*c*i-l*r*u+t*c*u+a*r*f-t*o*f)*E,e[12]=b*E,e[13]=(l*p*n-d*c*n+d*r*h-t*p*h-l*r*_+t*c*_)*E,e[14]=(d*o*n-a*p*n-d*r*s+t*p*s+a*r*_-t*o*_)*E,e[15]=(a*c*n-l*o*n+l*r*s-t*c*s-a*r*h+t*o*h)*E,this}},{key:"scale",value:function(e){var t=this.elements,r=e.x,n=e.y,i=e.z;return t[0]*=r,t[4]*=n,t[8]*=i,t[1]*=r,t[5]*=n,t[9]*=i,t[2]*=r,t[6]*=n,t[10]*=i,t[3]*=r,t[7]*=n,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,n))}},{key:"makeTranslation",value:function(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var r=Math.cos(t),n=Math.sin(t),i=1-r,a=e.x,o=e.y,s=e.z,u=i*a,l=i*o;return this.set(u*a+r,u*o-n*s,u*s+n*o,0,u*o+n*s,l*o+r,l*s-n*a,0,u*s-n*o,l*s+n*a,i*s*s+r,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,r,n,i,a){return this.set(1,r,i,0,e,1,a,0,t,n,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,r){var n=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,u=i+i,l=a+a,c=o+o,h=i*u,f=i*l,d=i*c,p=a*l,_=a*c,m=o*c,v=s*u,g=s*l,y=s*c,b=r.x,w=r.y,E=r.z;return n[0]=(1-(p+m))*b,n[1]=(f+y)*b,n[2]=(d-g)*b,n[3]=0,n[4]=(f-y)*w,n[5]=(1-(h+m))*w,n[6]=(_+v)*w,n[7]=0,n[8]=(d+g)*E,n[9]=(_-v)*E,n[10]=(1-(h+p))*E,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this}},{key:"decompose",value:function(e,t,r){var n=this.elements,i=Jr.set(n[0],n[1],n[2]).length(),a=Jr.set(n[4],n[5],n[6]).length(),o=Jr.set(n[8],n[9],n[10]).length();this.determinant()<0&&(i=-i),e.x=n[12],e.y=n[13],e.z=n[14],Qr.copy(this);var s=1/i,u=1/a,l=1/o;return Qr.elements[0]*=s,Qr.elements[1]*=s,Qr.elements[2]*=s,Qr.elements[4]*=u,Qr.elements[5]*=u,Qr.elements[6]*=u,Qr.elements[8]*=l,Qr.elements[9]*=l,Qr.elements[10]*=l,t.setFromRotationMatrix(Qr),r.x=i,r.y=a,r.z=o,this}},{key:"makePerspective",value:function(e,t,r,n,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*i/(t-e),u=2*i/(r-n),l=(t+e)/(t-e),c=(r+n)/(r-n),h=-(a+i)/(a-i),f=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=u,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=f,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,r,n,i,a){var o=this.elements,s=1/(t-e),u=1/(r-n),l=1/(a-i),c=(t+e)*s,h=(r+n)*u,f=(a+i)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-f,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,r=e.elements,n=0;n<16;n++)if(t[n]!==r[n])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<16;r++)this.elements[r]=e[r+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}]),e}();$r.prototype.isMatrix4=!0;var Jr=new br,Qr=new $r,en=new br(0,0,0),tn=new br(1,1,1),rn=new br,nn=new br,an=new br,on=new $r,sn=new yr,un=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;(0,de.Z)(this,e),this._x=t,this._y=r,this._z=n,this._order=i}return(0,pe.Z)(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=r,this._order=n,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e.elements,i=n[0],a=n[4],o=n[8],s=n[1],u=n[5],l=n[9],c=n[2],h=n[6],f=n[10];switch(t){case"XYZ":this._y=Math.asin(Zt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,f),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Zt(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(s,u)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(Zt(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Zt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Zt(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-Zt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-l,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===r&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,r){return on.makeRotationFromQuaternion(e),this.setFromRotationMatrix(on,t,r)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return sn.setFromEuler(this),this.setFromQuaternion(sn,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}]),e}();un.prototype.isEuler=!0,un.DefaultOrder="XYZ",un.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var ln=function(){function e(){(0,de.Z)(this,e),this.mask=1}return(0,pe.Z)(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),cn=0,hn=new br,fn=new yr,dn=new $r,pn=new br,_n=new br,mn=new br,vn=new yr,gn=new br(1,0,0),yn=new br(0,1,0),bn=new br(0,0,1),wn={type:"added"},En={type:"removed"},xn=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e;(0,de.Z)(this,r),e=t.call(this),Object.defineProperty((0,le.Z)(e),"id",{value:cn++}),e.uuid=Bt(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=r.DefaultUp.clone();var n=new br,i=new un,a=new yr,o=new br(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties((0,le.Z)(e),{position:{configurable:!0,enumerable:!0,value:n},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new $r},normalMatrix:{value:new Xt}}),e.matrix=new $r,e.matrixWorld=new $r,e.matrixAutoUpdate=r.DefaultMatrixAutoUpdate,e.matrixWorldNeedsUpdate=!1,e.layers=new ln,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return(0,pe.Z)(r,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return fn.setFromAxisAngle(e,t),this.quaternion.multiply(fn),this}},{key:"rotateOnWorldAxis",value:function(e,t){return fn.setFromAxisAngle(e,t),this.quaternion.premultiply(fn),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(gn,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(yn,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(bn,e)}},{key:"translateOnAxis",value:function(e,t){return hn.copy(e).applyQuaternion(this.quaternion),this.position.add(hn.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(gn,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(yn,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(bn,e)}},{key:"localToWorld",value:function(e){return e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return e.applyMatrix4(dn.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,r){e.isVector3?pn.copy(e):pn.set(e,t,r);var n=this.parent;this.updateWorldMatrix(!0,!1),_n.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?dn.lookAt(_n,pn,this.up):dn.lookAt(pn,_n,this.up),this.quaternion.setFromRotationMatrix(dn),n&&(dn.extractRotation(n.matrixWorld),fn.setFromRotationMatrix(dn),this.quaternion.premultiply(fn.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(wn)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var r=this.children.indexOf(e);return-1!==r&&(e.parent=null,this.children.splice(r,1),e.dispatchEvent(En)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(En)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),dn.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),dn.multiply(e.parent.matrixWorld)),e.applyMatrix4(dn),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_n,e,mn),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_n,vn,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].updateMatrixWorld(e)}},{key:"updateWorldMatrix",value:function(e,t){var r=this.parent;if(!0===e&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var n=this.children,i=0,a=n.length;i<a;i++)n[i].updateWorldMatrix(!1,!0)}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var n={};function i(t,r){return void 0===t[r.uuid]&&(t[r.uuid]=r.toJSON(e)),r.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(n.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(n.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];i(e.shapes,l)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],h=0,f=this.material.length;h<f;h++)c.push(i(e.materials,this.material[h]));n.material=c}else n.material=i(e.materials,this.material);if(this.children.length>0){n.children=[];for(var d=0;d<this.children.length;d++)n.children.push(this.children[d].toJSON(e).object)}if(this.animations.length>0){n.animations=[];for(var p=0;p<this.animations.length;p++){var _=this.animations[p];n.animations.push(i(e.animations,_))}}if(t){var m=k(e.geometries),v=k(e.materials),g=k(e.textures),y=k(e.images),b=k(e.shapes),w=k(e.skeletons),E=k(e.animations),x=k(e.nodes);m.length>0&&(r.geometries=m),v.length>0&&(r.materials=v),g.length>0&&(r.textures=g),y.length>0&&(r.images=y),b.length>0&&(r.shapes=b),w.length>0&&(r.skeletons=w),E.length>0&&(r.animations=E),x.length>0&&(r.nodes=x)}return r.object=n,r;function k(e){var t=[];for(var r in e){var n=e[r];delete n.metadata,t.push(n)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var r=0;r<e.children.length;r++){var n=e.children[r];this.add(n.clone())}return this}}]),r}(Dt);xn.DefaultUp=new br(0,1,0),xn.DefaultMatrixAutoUpdate=!0,xn.prototype.isObject3D=!0;var kn=new br,Tn=new br,Mn=new br,An=new br,On=new br,Sn=new br,Rn=new br,Cn=new br,Pn=new br,Dn=new br,In=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new br,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new br,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new br;(0,de.Z)(this,e),this.a=t,this.b=r,this.c=n}return(0,pe.Z)(e,[{key:"set",value:function(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}},{key:"setFromPointsAndIndices",value:function(e,t,r,n){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[n]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,r,n){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return kn.subVectors(this.c,this.b),Tn.subVectors(this.a,this.b),.5*kn.cross(Tn).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,r){return e.getBarycoord(t,this.a,this.b,this.c,r)}},{key:"getUV",value:function(t,r,n,i,a){return e.getUV(t,this.a,this.b,this.c,r,n,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var r,n,i=this.a,a=this.b,o=this.c;On.subVectors(a,i),Sn.subVectors(o,i),Cn.subVectors(e,i);var s=On.dot(Cn),u=Sn.dot(Cn);if(s<=0&&u<=0)return t.copy(i);Pn.subVectors(e,a);var l=On.dot(Pn),c=Sn.dot(Pn);if(l>=0&&c<=l)return t.copy(a);var h=s*c-l*u;if(h<=0&&s>=0&&l<=0)return r=s/(s-l),t.copy(i).addScaledVector(On,r);Dn.subVectors(e,o);var f=On.dot(Dn),d=Sn.dot(Dn);if(d>=0&&f<=d)return t.copy(o);var p=f*u-s*d;if(p<=0&&u>=0&&d<=0)return n=u/(u-d),t.copy(i).addScaledVector(Sn,n);var _=l*d-f*c;if(_<=0&&c-l>=0&&f-d>=0)return Rn.subVectors(o,a),n=(c-l)/(c-l+(f-d)),t.copy(a).addScaledVector(Rn,n);var m=1/(_+p+h);return r=p*m,n=h*m,t.copy(i).addScaledVector(On,r).addScaledVector(Sn,n)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,r,n){n.subVectors(r,t),kn.subVectors(e,t),n.cross(kn);var i=n.lengthSq();return i>0?n.multiplyScalar(1/Math.sqrt(i)):n.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,r,n,i){kn.subVectors(n,t),Tn.subVectors(r,t),Mn.subVectors(e,t);var a=kn.dot(kn),o=kn.dot(Tn),s=kn.dot(Mn),u=Tn.dot(Tn),l=Tn.dot(Mn),c=a*u-o*o;if(0===c)return i.set(-2,-1,-1);var h=1/c,f=(u*s-o*l)*h,d=(a*l-o*s)*h;return i.set(1-f-d,d,f)}},{key:"containsPoint",value:function(e,t,r,n){return this.getBarycoord(e,t,r,n,An),An.x>=0&&An.y>=0&&An.x+An.y<=1}},{key:"getUV",value:function(e,t,r,n,i,a,o,s){return this.getBarycoord(e,t,r,n,An),s.set(0,0),s.addScaledVector(i,An.x),s.addScaledVector(a,An.y),s.addScaledVector(o,An.z),s}},{key:"isFrontFacing",value:function(e,t,r,n){return kn.subVectors(r,t),Tn.subVectors(e,t),kn.cross(Tn).dot(n)<0}}]),e}(),Ln=0,Un=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e;return(0,de.Z)(this,r),e=t.call(this),Object.defineProperty((0,le.Z)(e),"id",{value:Ln++}),e.uuid=Bt(),e.name="",e.type="Material",e.fog=!0,e.blending=1,e.side=0,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=204,e.blendDst=205,e.blendEquation=ge,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=3,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=519,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=Ot,e.stencilZFail=Ot,e.stencilZPass=Ot,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return(0,pe.Z)(r,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var r=e[t];if(void 0!==r)if("shading"!==t){var n=this[t];void 0!==n?n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[t]=r:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===r;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(e){var t=[];for(var r in e){var n=e[r];delete n.metadata,t.push(n)}return t}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),void 0!==this.sheen&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(r.combine=this.combine)),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(r.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(r.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(r.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(r.size=this.size),null!==this.shadowSide&&(r.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),0!==this.side&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(r.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(r.flatShading=this.flatShading),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),t){var i=n(e.textures),a=n(e.images);i.length>0&&(r.textures=i),a.length>0&&(r.images=a)}return r}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,r=null;if(null!==t){var n=t.length;r=new Array(n);for(var i=0;i!==n;++i)r[i]=t[i].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),r}(Dt);Un.prototype.isMaterial=!0,Un.fromType=function(){return null};var jn=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).type="MeshBasicMaterial",n.color=new ur(16777215),n.map=null,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=null,n.aoMapIntensity=1,n.specularMap=null,n.alphaMap=null,n.envMap=null,n.combine=0,n.reflectivity=1,n.refractionRatio=.98,n.wireframe=!1,n.wireframeLinewidth=1,n.wireframeLinecap="round",n.wireframeLinejoin="round",n.setValues(e),n}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),r}(Un);jn.prototype.isMeshBasicMaterial=!0;var Nn=new br,Bn=new Vt,Zn=function(){function e(t,r,n){if((0,de.Z)(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=r,this.count=void 0!==t?t.length/r:0,this.normalized=!0===n,this.usage=St,this.updateRange={offset:0,count:-1},this.version=0}return(0,pe.Z)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,r){e*=this.itemSize,r*=t.itemSize;for(var n=0,i=this.itemSize;n<i;n++)this.array[e+n]=t.array[r+n];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"copyColorsArray",value:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),a=new ur),t[r++]=a.r,t[r++]=a.g,t[r++]=a.b}return this}},{key:"copyVector2sArray",value:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),a=new Vt),t[r++]=a.x,t[r++]=a.y}return this}},{key:"copyVector3sArray",value:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),a=new br),t[r++]=a.x,t[r++]=a.y,t[r++]=a.z}return this}},{key:"copyVector4sArray",value:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),a=new pr),t[r++]=a.x,t[r++]=a.y,t[r++]=a.z,t[r++]=a.w}return this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,r=this.count;t<r;t++)Bn.fromBufferAttribute(this,t),Bn.applyMatrix3(e),this.setXY(t,Bn.x,Bn.y);else if(3===this.itemSize)for(var n=0,i=this.count;n<i;n++)Nn.fromBufferAttribute(this,n),Nn.applyMatrix3(e),this.setXYZ(n,Nn.x,Nn.y,Nn.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,r=this.count;t<r;t++)Nn.fromBufferAttribute(this,t),Nn.applyMatrix4(e),this.setXYZ(t,Nn.x,Nn.y,Nn.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,r=this.count;t<r;t++)Nn.fromBufferAttribute(this,t),Nn.applyNormalMatrix(e),this.setXYZ(t,Nn.x,Nn.y,Nn.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,r=this.count;t<r;t++)Nn.fromBufferAttribute(this,t),Nn.transformDirection(e),this.setXYZ(t,Nn.x,Nn.y,Nn.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){return this.array[e*this.itemSize]}},{key:"setX",value:function(e,t){return this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){return this.array[e*this.itemSize+1]}},{key:"setY",value:function(e,t){return this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){return this.array[e*this.itemSize+2]}},{key:"setZ",value:function(e,t){return this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){return this.array[e*this.itemSize+3]}},{key:"setW",value:function(e,t){return this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}},{key:"setXYZ",value:function(e,t,r,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this}},{key:"setXYZW",value:function(e,t,r,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==St&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}]),e}();Zn.prototype.isBufferAttribute=!0;var Wn=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i){return(0,de.Z)(this,r),t.call(this,new Uint16Array(e),n,i)}return(0,pe.Z)(r)}(Zn),Fn=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i){return(0,de.Z)(this,r),t.call(this,new Uint32Array(e),n,i)}return(0,pe.Z)(r)}(Zn);(function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i){return(0,de.Z)(this,r),t.call(this,new Uint16Array(e),n,i)}return(0,pe.Z)(r)})(Zn).prototype.isFloat16BufferAttribute=!0;var zn=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i){return(0,de.Z)(this,r),t.call(this,new Float32Array(e),n,i)}return(0,pe.Z)(r)}(Zn),Kn=0,Hn=new $r,Gn=new xn,Vn=new br,Xn=new xr,Yn=new xr,qn=new br,$n=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e;return(0,de.Z)(this,r),e=t.call(this),Object.defineProperty((0,le.Z)(e),"id",{value:Kn++}),e.uuid=Bt(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return(0,pe.Z)(r,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(Yt(e)?Fn:Wn)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:r})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var r=this.attributes.normal;if(void 0!==r){var n=(new Xt).getNormalMatrix(e);r.applyNormalMatrix(n),r.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return Hn.makeRotationFromQuaternion(e),this.applyMatrix4(Hn),this}},{key:"rotateX",value:function(e){return Hn.makeRotationX(e),this.applyMatrix4(Hn),this}},{key:"rotateY",value:function(e){return Hn.makeRotationY(e),this.applyMatrix4(Hn),this}},{key:"rotateZ",value:function(e){return Hn.makeRotationZ(e),this.applyMatrix4(Hn),this}},{key:"translate",value:function(e,t,r){return Hn.makeTranslation(e,t,r),this.applyMatrix4(Hn),this}},{key:"scale",value:function(e,t,r){return Hn.makeScale(e,t,r),this.applyMatrix4(Hn),this}},{key:"lookAt",value:function(e){return Gn.lookAt(e),Gn.updateMatrix(),this.applyMatrix4(Gn.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Vn).negate(),this.translate(Vn.x,Vn.y,Vn.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new zn(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new xr);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new br(-1/0,-1/0,-1/0),new br(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var r=0,n=t.length;r<n;r++){var i=t[r];Xn.setFromBufferAttribute(i),this.morphTargetsRelative?(qn.addVectors(this.boundingBox.min,Xn.min),this.boundingBox.expandByPoint(qn),qn.addVectors(this.boundingBox.max,Xn.max),this.boundingBox.expandByPoint(qn)):(this.boundingBox.expandByPoint(Xn.min),this.boundingBox.expandByPoint(Xn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Fr);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new br,1/0);if(e){var r=this.boundingSphere.center;if(Xn.setFromBufferAttribute(e),t)for(var n=0,i=t.length;n<i;n++){var a=t[n];Yn.setFromBufferAttribute(a),this.morphTargetsRelative?(qn.addVectors(Xn.min,Yn.min),Xn.expandByPoint(qn),qn.addVectors(Xn.max,Yn.max),Xn.expandByPoint(qn)):(Xn.expandByPoint(Yn.min),Xn.expandByPoint(Yn.max))}Xn.getCenter(r);for(var o=0,s=0,u=e.count;s<u;s++)qn.fromBufferAttribute(e,s),o=Math.max(o,r.distanceToSquared(qn));if(t)for(var l=0,c=t.length;l<c;l++)for(var h=t[l],f=this.morphTargetsRelative,d=0,p=h.count;d<p;d++)qn.fromBufferAttribute(h,d),f&&(Vn.fromBufferAttribute(e,d),qn.add(Vn)),o=Math.max(o,r.distanceToSquared(qn));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var r=e.array,n=t.position.array,i=t.normal.array,a=t.uv.array,o=n.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Zn(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,u=[],l=[],c=0;c<o;c++)u[c]=new br,l[c]=new br;var h=new br,f=new br,d=new br,p=new Vt,_=new Vt,m=new Vt,v=new br,g=new br,y=this.groups;0===y.length&&(y=[{start:0,count:r.length}]);for(var b=0,w=y.length;b<w;++b)for(var E=y[b],x=E.start,k=x,T=x+E.count;k<T;k+=3)U(r[k+0],r[k+1],r[k+2]);for(var M=new br,A=new br,O=new br,S=new br,R=0,C=y.length;R<C;++R)for(var P=y[R],D=P.start,I=D,L=D+P.count;I<L;I+=3)j(r[I+0]),j(r[I+1]),j(r[I+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function U(e,t,r){h.fromArray(n,3*e),f.fromArray(n,3*t),d.fromArray(n,3*r),p.fromArray(a,2*e),_.fromArray(a,2*t),m.fromArray(a,2*r),f.sub(h),d.sub(h),_.sub(p),m.sub(p);var i=1/(_.x*m.y-m.x*_.y);isFinite(i)&&(v.copy(f).multiplyScalar(m.y).addScaledVector(d,-_.y).multiplyScalar(i),g.copy(d).multiplyScalar(_.x).addScaledVector(f,-m.x).multiplyScalar(i),u[e].add(v),u[t].add(v),u[r].add(v),l[e].add(g),l[t].add(g),l[r].add(g))}function j(e){O.fromArray(i,3*e),S.copy(O);var t=u[e];M.copy(t),M.sub(O.multiplyScalar(O.dot(t))).normalize(),A.crossVectors(S,t);var r=A.dot(l[e])<0?-1:1;s[4*e]=M.x,s[4*e+1]=M.y,s[4*e+2]=M.z,s[4*e+3]=r}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var r=this.getAttribute("normal");if(void 0===r)r=new Zn(new Float32Array(3*t.count),3),this.setAttribute("normal",r);else for(var n=0,i=r.count;n<i;n++)r.setXYZ(n,0,0,0);var a=new br,o=new br,s=new br,u=new br,l=new br,c=new br,h=new br,f=new br;if(e)for(var d=0,p=e.count;d<p;d+=3){var _=e.getX(d+0),m=e.getX(d+1),v=e.getX(d+2);a.fromBufferAttribute(t,_),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,v),h.subVectors(s,o),f.subVectors(a,o),h.cross(f),u.fromBufferAttribute(r,_),l.fromBufferAttribute(r,m),c.fromBufferAttribute(r,v),u.add(h),l.add(h),c.add(h),r.setXYZ(_,u.x,u.y,u.z),r.setXYZ(m,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(var g=0,y=t.count;g<y;g+=3)a.fromBufferAttribute(t,g+0),o.fromBufferAttribute(t,g+1),s.fromBufferAttribute(t,g+2),h.subVectors(s,o),f.subVectors(a,o),h.cross(f),r.setXYZ(g+0,h.x,h.y,h.z),r.setXYZ(g+1,h.x,h.y,h.z),r.setXYZ(g+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}},{key:"merge",value:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var r=this.attributes;for(var n in r)if(void 0!==e.attributes[n])for(var i=r[n].array,a=e.attributes[n],o=a.array,s=a.itemSize*t,u=Math.min(o.length,i.length-s),l=0,c=s;l<u;l++,c++)i[c]=o[l];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,r=e.count;t<r;t++)qn.fromBufferAttribute(e,t),qn.normalize(),e.setXYZ(t,qn.x,qn.y,qn.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var r=e.array,n=e.itemSize,i=e.normalized,a=new r.constructor(t.length*n),o=0,s=0,u=0,l=t.length;u<l;u++){o=e.isInterleavedBufferAttribute?t[u]*e.data.stride+e.offset:t[u]*n;for(var c=0;c<n;c++)a[s++]=r[o++]}return new Zn(a,n,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new r,n=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],n);t.setAttribute(a,o)}var s=this.morphAttributes;for(var u in s){for(var l=[],c=s[u],h=0,f=c.length;h<f;h++){var d=e(c[h],n);l.push(d)}t.morphAttributes[u]=l}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,_=0,m=p.length;_<m;_++){var v=p[_];t.addGroup(v.start,v.count,v.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var r in t)void 0!==t[r]&&(e[r]=t[r]);return e}e.data={attributes:{}};var n=this.index;null!==n&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},u=!1;for(var l in this.morphAttributes){for(var c=this.morphAttributes[l],h=[],f=0,d=c.length;f<d;f++){var p=c[f];h.push(p.toJSON(e.data))}h.length>0&&(s[l]=h,u=!0)}u&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var _=this.groups;_.length>0&&(e.data.groups=JSON.parse(JSON.stringify(_)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var r=e.index;null!==r&&this.setIndex(r.clone(t));var n=e.attributes;for(var i in n){var a=n[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var u=[],l=o[s],c=0,h=l.length;c<h;c++)u.push(l[c].clone(t));this.morphAttributes[s]=u}this.morphTargetsRelative=e.morphTargetsRelative;for(var f=e.groups,d=0,p=f.length;d<p;d++){var _=f[d];this.addGroup(_.start,_.count,_.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var v=e.boundingSphere;return null!==v&&(this.boundingSphere=v.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),r}(Dt);$n.prototype.isBufferGeometry=!0;var Jn=new $r,Qn=new qr,ei=new Fr,ti=new br,ri=new br,ni=new br,ii=new br,ai=new br,oi=new br,si=new br,ui=new br,li=new br,ci=new Vt,hi=new Vt,fi=new Vt,di=new br,pi=new br,_i=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new jn;return(0,de.Z)(this,r),(e=t.call(this)).type="Mesh",e.geometry=n,e.material=i,e.updateMorphTargets(),e}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,r=Object.keys(t);if(r.length>0){var n=t[r[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=n.length;i<a;i++){var o=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"raycast",value:function(e,t){var r,n=this.geometry,i=this.material,a=this.matrixWorld;if(void 0!==i&&(null===n.boundingSphere&&n.computeBoundingSphere(),ei.copy(n.boundingSphere),ei.applyMatrix4(a),!1!==e.ray.intersectsSphere(ei)&&(Jn.copy(a).invert(),Qn.copy(e.ray).applyMatrix4(Jn),null===n.boundingBox||!1!==Qn.intersectsBox(n.boundingBox))))if(n.isBufferGeometry){var o=n.index,s=n.attributes.position,u=n.morphAttributes.position,l=n.morphTargetsRelative,c=n.attributes.uv,h=n.attributes.uv2,f=n.groups,d=n.drawRange;if(null!==o)if(Array.isArray(i))for(var p=0,_=f.length;p<_;p++)for(var m=f[p],v=i[m.materialIndex],g=Math.max(m.start,d.start),y=Math.min(o.count,Math.min(m.start+m.count,d.start+d.count));g<y;g+=3){var b=o.getX(g),w=o.getX(g+1),E=o.getX(g+2);(r=mi(this,v,e,Qn,s,u,l,c,h,b,w,E))&&(r.faceIndex=Math.floor(g/3),r.face.materialIndex=m.materialIndex,t.push(r))}else for(var x=Math.max(0,d.start),k=Math.min(o.count,d.start+d.count);x<k;x+=3){var T=o.getX(x),M=o.getX(x+1),A=o.getX(x+2);(r=mi(this,i,e,Qn,s,u,l,c,h,T,M,A))&&(r.faceIndex=Math.floor(x/3),t.push(r))}else if(void 0!==s)if(Array.isArray(i))for(var O=0,S=f.length;O<S;O++)for(var R=f[O],C=i[R.materialIndex],P=Math.max(R.start,d.start),D=Math.min(s.count,Math.min(R.start+R.count,d.start+d.count));P<D;P+=3){(r=mi(this,C,e,Qn,s,u,l,c,h,P,P+1,P+2))&&(r.faceIndex=Math.floor(P/3),r.face.materialIndex=R.materialIndex,t.push(r))}else for(var I=Math.max(0,d.start),L=Math.min(s.count,d.start+d.count);I<L;I+=3){(r=mi(this,i,e,Qn,s,u,l,c,h,I,I+1,I+2))&&(r.faceIndex=Math.floor(I/3),t.push(r))}}else n.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}]),r}(xn);function mi(e,t,r,n,i,a,o,s,u,l,c,h){ti.fromBufferAttribute(i,l),ri.fromBufferAttribute(i,c),ni.fromBufferAttribute(i,h);var f=e.morphTargetInfluences;if(a&&f){si.set(0,0,0),ui.set(0,0,0),li.set(0,0,0);for(var d=0,p=a.length;d<p;d++){var _=f[d],m=a[d];0!==_&&(ii.fromBufferAttribute(m,l),ai.fromBufferAttribute(m,c),oi.fromBufferAttribute(m,h),o?(si.addScaledVector(ii,_),ui.addScaledVector(ai,_),li.addScaledVector(oi,_)):(si.addScaledVector(ii.sub(ti),_),ui.addScaledVector(ai.sub(ri),_),li.addScaledVector(oi.sub(ni),_)))}ti.add(si),ri.add(ui),ni.add(li)}e.isSkinnedMesh&&(e.boneTransform(l,ti),e.boneTransform(c,ri),e.boneTransform(h,ni));var v=function(e,t,r,n,i,a,o,s){if(null===(1===t.side?n.intersectTriangle(o,a,i,!0,s):n.intersectTriangle(i,a,o,2!==t.side,s)))return null;pi.copy(s),pi.applyMatrix4(e.matrixWorld);var u=r.ray.origin.distanceTo(pi);return u<r.near||u>r.far?null:{distance:u,point:pi.clone(),object:e}}(e,t,r,n,ti,ri,ni,di);if(v){s&&(ci.fromBufferAttribute(s,l),hi.fromBufferAttribute(s,c),fi.fromBufferAttribute(s,h),v.uv=In.getUV(di,ti,ri,ni,ci,hi,fi,new Vt)),u&&(ci.fromBufferAttribute(u,l),hi.fromBufferAttribute(u,c),fi.fromBufferAttribute(u,h),v.uv2=In.getUV(di,ti,ri,ni,ci,hi,fi,new Vt));var g={a:l,b:c,c:h,normal:new br,materialIndex:0};In.getNormal(ti,ri,ni,g.normal),v.face=g}return v}_i.prototype.isMesh=!0;var vi=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;(0,de.Z)(this,r),(e=t.call(this)).type="BoxGeometry",e.parameters={width:n,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:u};var l=(0,le.Z)(e);o=Math.floor(o),s=Math.floor(s),u=Math.floor(u);var c=[],h=[],f=[],d=[],p=0,_=0;function m(e,t,r,n,i,a,o,s,u,m,v){for(var g=a/u,y=o/m,b=a/2,w=o/2,E=s/2,x=u+1,k=m+1,T=0,M=0,A=new br,O=0;O<k;O++)for(var S=O*y-w,R=0;R<x;R++){var C=R*g-b;A[e]=C*n,A[t]=S*i,A[r]=E,h.push(A.x,A.y,A.z),A[e]=0,A[t]=0,A[r]=s>0?1:-1,f.push(A.x,A.y,A.z),d.push(R/u),d.push(1-O/m),T+=1}for(var P=0;P<m;P++)for(var D=0;D<u;D++){var I=p+D+x*P,L=p+D+x*(P+1),U=p+(D+1)+x*(P+1),j=p+(D+1)+x*P;c.push(I,L,j),c.push(L,U,j),M+=6}l.addGroup(_,M,v),_+=M,p+=T}return m("z","y","x",-1,-1,a,i,n,u,s,0),m("z","y","x",1,-1,a,i,-n,u,s,1),m("x","z","y",1,1,n,a,i,o,u,2),m("x","z","y",1,-1,n,a,-i,o,u,3),m("x","y","z",1,-1,n,i,a,o,s,4),m("x","y","z",-1,-1,n,i,-a,o,s,5),e.setIndex(c),e.setAttribute("position",new zn(h,3)),e.setAttribute("normal",new zn(f,3)),e.setAttribute("uv",new zn(d,2)),e}return(0,pe.Z)(r,null,[{key:"fromJSON",value:function(e){return new r(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),r}($n);function gi(e){var t={};for(var r in e)for(var n in t[r]={},e[r]){var i=e[r][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[r][n]=i.clone():Array.isArray(i)?t[r][n]=i.slice():t[r][n]=i}return t}function yi(e){for(var t={},r=0;r<e.length;r++){var n=gi(e[r]);for(var i in n)t[i]=n[i]}return t}var bi={clone:gi,merge:yi},wi=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).type="ShaderMaterial",n.defines={},n.uniforms={},n.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",n.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",n.linewidth=1,n.wireframe=!1,n.wireframeLinewidth=1,n.fog=!1,n.lights=!1,n.clipping=!1,n.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},n.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},n.index0AttributeName=void 0,n.uniformsNeedUpdate=!1,n.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),n.setValues(e)),n}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=gi(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this,e);for(var n in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[n].value;i&&i.isTexture?t.uniforms[n]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[n]={type:"m4",value:i.toArray()}:t.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),r}(Un);wi.prototype.isShaderMaterial=!0;var Ei=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e;return(0,de.Z)(this,r),(e=t.call(this)).type="Camera",e.matrixWorldInverse=new $r,e.projectionMatrix=new $r,e.projectionMatrixInverse=new $r,e}return(0,pe.Z)(r,[{key:"copy",value:function(e,t){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){(0,se.Z)((0,ue.Z)(r.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){(0,se.Z)((0,ue.Z)(r.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),r}(xn);Ei.prototype.isCamera=!0;var xi=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return(0,de.Z)(this,r),(e=t.call(this)).type="PerspectiveCamera",e.fov=n,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return(0,pe.Z)(r,[{key:"copy",value:function(e,t){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Nt*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*jt*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*Nt*Math.atan(Math.tan(.5*jt*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,r,n,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*jt*this.fov)/this.zoom,r=2*t,n=this.aspect*r,i=-.5*n,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*n/o,t-=a.offsetY*r/s,n*=a.width/o,r*=a.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+n,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),r}(Ei);xi.prototype.isPerspectiveCamera=!0;var ki=90,Ti=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i){var a;if((0,de.Z)(this,r),(a=t.call(this)).type="CubeCamera",!0!==i.isWebGLCubeRenderTarget)return console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter."),(0,oe.Z)(a);a.renderTarget=i;var o=new xi(ki,1,e,n);o.layers=a.layers,o.up.set(0,-1,0),o.lookAt(new br(1,0,0)),a.add(o);var s=new xi(ki,1,e,n);s.layers=a.layers,s.up.set(0,-1,0),s.lookAt(new br(-1,0,0)),a.add(s);var u=new xi(ki,1,e,n);u.layers=a.layers,u.up.set(0,0,1),u.lookAt(new br(0,1,0)),a.add(u);var l=new xi(ki,1,e,n);l.layers=a.layers,l.up.set(0,0,-1),l.lookAt(new br(0,-1,0)),a.add(l);var c=new xi(ki,1,e,n);c.layers=a.layers,c.up.set(0,-1,0),c.lookAt(new br(0,0,1)),a.add(c);var h=new xi(ki,1,e,n);return h.layers=a.layers,h.up.set(0,-1,0),h.lookAt(new br(0,0,-1)),a.add(h),a}return(0,pe.Z)(r,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var r=this.renderTarget,n=(0,a.Z)(this.children,6),i=n[0],o=n[1],s=n[2],u=n[3],l=n[4],c=n[5],h=e.getRenderTarget(),f=e.outputEncoding,d=e.toneMapping,p=e.xr.enabled;e.outputEncoding=kt,e.toneMapping=0,e.xr.enabled=!1;var _=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,o),e.setRenderTarget(r,2),e.render(t,s),e.setRenderTarget(r,3),e.render(t,u),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=_,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(h),e.outputEncoding=f,e.toneMapping=d,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}]),r}(xn),Mi=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i,a,o,s,u,l,c,h){var f;return(0,de.Z)(this,r),e=void 0!==e?e:[],n=void 0!==n?n:ye,(f=t.call(this,e,n,i,a,o,s,u,l,c,h)).flipY=!1,f}return(0,pe.Z)(r,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),r}(dr);Mi.prototype.isCubeTexture=!0;var Ai=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,de.Z)(this,r);var a={width:e,height:e,depth:1},o=[a,a,a,a,a,a];return(n=t.call(this,e,e,i)).texture=new Mi(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),n.texture.isRenderTargetTexture=!0,n.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,n.texture.minFilter=void 0!==i.minFilter?i.minFilter:Se,n}return(0,pe.Z)(r,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var r={tEquirect:{value:null}},n="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new vi(5,5,5),o=new wi({name:"CubemapFromEquirect",uniforms:gi(r),vertexShader:n,fragmentShader:i,side:1,blending:0});o.uniforms.tEquirect.value=t;var s=new _i(a,o),u=t.minFilter;return t.minFilter===Ce&&(t.minFilter=Se),new Ti(1,10,this).update(e,s),t.minFilter=u,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,r,n){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,r,n);e.setRenderTarget(i)}}]),r}(_r);Ai.prototype.isWebGLCubeRenderTarget=!0;var Oi=new br,Si=new br,Ri=new Xt,Ci=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new br(1,0,0),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,de.Z)(this,e),this.normal=t,this.constant=r}return(0,pe.Z)(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,r,n){return this.normal.set(e,t,r),this.constant=n,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,r){var n=Oi.subVectors(r,t).cross(Si.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){var r=e.delta(Oi),n=this.normal.dot(r);if(0===n)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/n;return i<0||i>1?null:t.copy(r).multiplyScalar(i).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var r=t||Ri.getNormalMatrix(e),n=this.coplanarPoint(Oi).applyMatrix4(e),i=this.normal.applyMatrix3(r).normalize();return this.constant=-n.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();Ci.prototype.isPlane=!0;var Pi=new Fr,Di=new br,Ii=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ci,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ci,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ci,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Ci,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Ci,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Ci;(0,de.Z)(this,e),this.planes=[t,r,n,i,a,o]}return(0,pe.Z)(e,[{key:"set",value:function(e,t,r,n,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(n),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,r=0;r<6;r++)t[r].copy(e.planes[r]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,r=e.elements,n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],u=r[5],l=r[6],c=r[7],h=r[8],f=r[9],d=r[10],p=r[11],_=r[12],m=r[13],v=r[14],g=r[15];return t[0].setComponents(o-n,c-s,p-h,g-_).normalize(),t[1].setComponents(o+n,c+s,p+h,g+_).normalize(),t[2].setComponents(o+i,c+u,p+f,g+m).normalize(),t[3].setComponents(o-i,c-u,p-f,g-m).normalize(),t[4].setComponents(o-a,c-l,p-d,g-v).normalize(),t[5].setComponents(o+a,c+l,p+d,g+v).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Pi.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Pi)}},{key:"intersectsSprite",value:function(e){return Pi.center.set(0,0,0),Pi.radius=.7071067811865476,Pi.applyMatrix4(e.matrixWorld),this.intersectsSphere(Pi)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,r=e.center,n=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(r)<n)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,r=0;r<6;r++){var n=t[r];if(Di.x=n.normal.x>0?e.max.x:e.min.x,Di.y=n.normal.y>0?e.max.y:e.min.y,Di.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(Di)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function Li(){var e=null,t=!1,r=null,n=null;function i(t,a){r(t,a),n=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==r&&(n=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(e){r=e},setContext:function(t){e=t}}}function Ui(e,t){var r=t.isWebGL2,n=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),n.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var r=n.get(t);r&&(e.deleteBuffer(r.buffer),n.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=n.get(t);(!a||a.version<t.version)&&n.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=n.get(t);void 0===o?n.set(t,function(t,n){var i,a=t.array,o=t.usage,s=e.createBuffer();if(e.bindBuffer(n,s),e.bufferData(n,a,o),t.onUploadCallback(),a instanceof Float32Array)i=5126;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!r)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=5131}else i=5123;else if(a instanceof Int16Array)i=5122;else if(a instanceof Uint32Array)i=5125;else if(a instanceof Int32Array)i=5124;else if(a instanceof Int8Array)i=5120;else if(a instanceof Uint8Array)i=5121;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=5121}return{buffer:s,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,n,i){var a=n.array,o=n.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(r?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}(o.buffer,t,i),o.version=t.version)}}}}var ji=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,de.Z)(this,r),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:n,height:i,widthSegments:a,heightSegments:o};for(var s=n/2,u=i/2,l=Math.floor(a),c=Math.floor(o),h=l+1,f=c+1,d=n/l,p=i/c,_=[],m=[],v=[],g=[],y=0;y<f;y++)for(var b=y*p-u,w=0;w<h;w++){var E=w*d-s;m.push(E,-b,0),v.push(0,0,1),g.push(w/l),g.push(1-y/c)}for(var x=0;x<c;x++)for(var k=0;k<l;k++){var T=k+h*x,M=k+h*(x+1),A=k+1+h*(x+1),O=k+1+h*x;_.push(T,M,O),_.push(M,A,O)}return e.setIndex(_),e.setAttribute("position",new zn(m,3)),e.setAttribute("normal",new zn(v,3)),e.setAttribute("uv",new zn(g,2)),e}return(0,pe.Z)(r,null,[{key:"fromJSON",value:function(e){return new r(e.width,e.height,e.widthSegments,e.heightSegments)}}]),r}($n),Ni={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Bi={common:{diffuse:{value:new ur(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Xt},uv2Transform:{value:new Xt},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ur(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ur(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Xt}},sprite:{diffuse:{value:new ur(16777215)},opacity:{value:1},center:{value:new Vt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Xt}}},Zi={basic:{uniforms:yi([Bi.common,Bi.specularmap,Bi.envmap,Bi.aomap,Bi.lightmap,Bi.fog]),vertexShader:Ni.meshbasic_vert,fragmentShader:Ni.meshbasic_frag},lambert:{uniforms:yi([Bi.common,Bi.specularmap,Bi.envmap,Bi.aomap,Bi.lightmap,Bi.emissivemap,Bi.fog,Bi.lights,{emissive:{value:new ur(0)}}]),vertexShader:Ni.meshlambert_vert,fragmentShader:Ni.meshlambert_frag},phong:{uniforms:yi([Bi.common,Bi.specularmap,Bi.envmap,Bi.aomap,Bi.lightmap,Bi.emissivemap,Bi.bumpmap,Bi.normalmap,Bi.displacementmap,Bi.fog,Bi.lights,{emissive:{value:new ur(0)},specular:{value:new ur(1118481)},shininess:{value:30}}]),vertexShader:Ni.meshphong_vert,fragmentShader:Ni.meshphong_frag},standard:{uniforms:yi([Bi.common,Bi.envmap,Bi.aomap,Bi.lightmap,Bi.emissivemap,Bi.bumpmap,Bi.normalmap,Bi.displacementmap,Bi.roughnessmap,Bi.metalnessmap,Bi.fog,Bi.lights,{emissive:{value:new ur(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ni.meshphysical_vert,fragmentShader:Ni.meshphysical_frag},toon:{uniforms:yi([Bi.common,Bi.aomap,Bi.lightmap,Bi.emissivemap,Bi.bumpmap,Bi.normalmap,Bi.displacementmap,Bi.gradientmap,Bi.fog,Bi.lights,{emissive:{value:new ur(0)}}]),vertexShader:Ni.meshtoon_vert,fragmentShader:Ni.meshtoon_frag},matcap:{uniforms:yi([Bi.common,Bi.bumpmap,Bi.normalmap,Bi.displacementmap,Bi.fog,{matcap:{value:null}}]),vertexShader:Ni.meshmatcap_vert,fragmentShader:Ni.meshmatcap_frag},points:{uniforms:yi([Bi.points,Bi.fog]),vertexShader:Ni.points_vert,fragmentShader:Ni.points_frag},dashed:{uniforms:yi([Bi.common,Bi.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ni.linedashed_vert,fragmentShader:Ni.linedashed_frag},depth:{uniforms:yi([Bi.common,Bi.displacementmap]),vertexShader:Ni.depth_vert,fragmentShader:Ni.depth_frag},normal:{uniforms:yi([Bi.common,Bi.bumpmap,Bi.normalmap,Bi.displacementmap,{opacity:{value:1}}]),vertexShader:Ni.meshnormal_vert,fragmentShader:Ni.meshnormal_frag},sprite:{uniforms:yi([Bi.sprite,Bi.fog]),vertexShader:Ni.sprite_vert,fragmentShader:Ni.sprite_frag},background:{uniforms:{uvTransform:{value:new Xt},t2D:{value:null}},vertexShader:Ni.background_vert,fragmentShader:Ni.background_frag},cube:{uniforms:yi([Bi.envmap,{opacity:{value:1}}]),vertexShader:Ni.cube_vert,fragmentShader:Ni.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ni.equirect_vert,fragmentShader:Ni.equirect_frag},distanceRGBA:{uniforms:yi([Bi.common,Bi.displacementmap,{referencePosition:{value:new br},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ni.distanceRGBA_vert,fragmentShader:Ni.distanceRGBA_frag},shadow:{uniforms:yi([Bi.lights,Bi.fog,{color:{value:new ur(0)},opacity:{value:1}}]),vertexShader:Ni.shadow_vert,fragmentShader:Ni.shadow_frag}};function Wi(e,t,r,n,i,a){var o,s,u=new ur(0),l=!0===i?0:1,c=null,h=0,f=null;function d(e,t){r.buffers.color.setClear(e.r,e.g,e.b,t,a)}return{getClearColor:function(){return u},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;u.set(e),d(u,l=t)},getClearAlpha:function(){return l},setClearAlpha:function(e){d(u,l=e)},render:function(r,i){var a=!1,p=!0===i.isScene?i.background:null;p&&p.isTexture&&(p=t.get(p));var _=e.xr,m=_.getSession&&_.getSession();m&&"additive"===m.environmentBlendMode&&(p=null),null===p?d(u,l):p&&p.isColor&&(d(p,1),a=!0),(e.autoClear||a)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&(p.isCubeTexture||p.mapping===Ee)?(void 0===s&&((s=new _i(new vi(1,1,1),new wi({name:"BackgroundCubeMaterial",uniforms:gi(Zi.cube.uniforms),vertexShader:Zi.cube.vertexShader,fragmentShader:Zi.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(e,t,r){this.matrixWorld.copyPosition(r.matrixWorld)},Object.defineProperty(s.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(s)),s.material.uniforms.envMap.value=p,s.material.uniforms.flipEnvMap.value=p.isCubeTexture&&!1===p.isRenderTargetTexture?-1:1,c===p&&h===p.version&&f===e.toneMapping||(s.material.needsUpdate=!0,c=p,h=p.version,f=e.toneMapping),r.unshift(s,s.geometry,s.material,0,0,null)):p&&p.isTexture&&(void 0===o&&((o=new _i(new ji(2,2),new wi({name:"BackgroundMaterial",uniforms:gi(Zi.background.uniforms),vertexShader:Zi.background.vertexShader,fragmentShader:Zi.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(o)),o.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),o.material.uniforms.uvTransform.value.copy(p.matrix),c===p&&h===p.version&&f===e.toneMapping||(o.material.needsUpdate=!0,c=p,h=p.version,f=e.toneMapping),r.unshift(o,o.geometry,o.material,0,0,null))}}}function Fi(e,t,r,n){var i=e.getParameter(34921),a=n.isWebGL2?null:t.get("OES_vertex_array_object"),o=n.isWebGL2||null!==a,s={},u=d(null),l=u,c=!1;function h(t){return n.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function f(t){return n.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function d(e){for(var t=[],r=[],n=[],a=0;a<i;a++)t[a]=0,r[a]=0,n[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:n,object:e,attributes:{},index:null}}function p(){for(var e=l.newAttributes,t=0,r=e.length;t<r;t++)e[t]=0}function _(e){m(e,0)}function m(r,i){var a=l.newAttributes,o=l.enabledAttributes,s=l.attributeDivisors;(a[r]=1,0===o[r]&&(e.enableVertexAttribArray(r),o[r]=1),s[r]!==i)&&((n.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](r,i),s[r]=i)}function v(){for(var t=l.newAttributes,r=l.enabledAttributes,n=0,i=r.length;n<i;n++)r[n]!==t[n]&&(e.disableVertexAttribArray(n),r[n]=0)}function g(t,r,i,a,o,s){!0!==n.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,r,i,a,o,s):e.vertexAttribIPointer(t,r,i,o,s)}function y(){b(),c=!0,l!==u&&h((l=u).object)}function b(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(i,u,f,y,b){var w=!1;if(o){var E=function(t,r,i){var o=!0===i.wireframe,u=s[t.id];void 0===u&&(u={},s[t.id]=u);var l=u[r.id];void 0===l&&(l={},u[r.id]=l);var c=l[o];void 0===c&&(c=d(n.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),l[o]=c);return c}(y,f,u);l!==E&&h((l=E).object),w=function(e,t){var r=l.attributes,n=e.attributes,i=0;for(var a in n){var o=r[a],s=n[a];if(void 0===o)return!0;if(o.attribute!==s)return!0;if(o.data!==s.data)return!0;i++}return l.attributesNum!==i||l.index!==t}(y,b),w&&function(e,t){var r={},n=e.attributes,i=0;for(var a in n){var o=n[a],s={};s.attribute=o,o.data&&(s.data=o.data),r[a]=s,i++}l.attributes=r,l.attributesNum=i,l.index=t}(y,b)}else{var x=!0===u.wireframe;l.geometry===y.id&&l.program===f.id&&l.wireframe===x||(l.geometry=y.id,l.program=f.id,l.wireframe=x,w=!0)}!0===i.isInstancedMesh&&(w=!0),null!==b&&r.update(b,34963),(w||c)&&(c=!1,function(i,a,o,s){if(!1===n.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();var u=s.attributes,l=o.getAttributes(),c=a.defaultAttributeValues;for(var h in l){var f=l[h];if(f.location>=0){var d=u[h];if(void 0===d&&("instanceMatrix"===h&&i.instanceMatrix&&(d=i.instanceMatrix),"instanceColor"===h&&i.instanceColor&&(d=i.instanceColor)),void 0!==d){var y=d.normalized,b=d.itemSize,w=r.get(d);if(void 0===w)continue;var E=w.buffer,x=w.type,k=w.bytesPerElement;if(d.isInterleavedBufferAttribute){var T=d.data,M=T.stride,A=d.offset;if(T.isInstancedInterleavedBuffer){for(var O=0;O<f.locationSize;O++)m(f.location+O,T.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=T.meshPerAttribute*T.count)}else for(var S=0;S<f.locationSize;S++)_(f.location+S);e.bindBuffer(34962,E);for(var R=0;R<f.locationSize;R++)g(f.location+R,b/f.locationSize,x,y,M*k,(A+b/f.locationSize*R)*k)}else{if(d.isInstancedBufferAttribute){for(var C=0;C<f.locationSize;C++)m(f.location+C,d.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=d.meshPerAttribute*d.count)}else for(var P=0;P<f.locationSize;P++)_(f.location+P);e.bindBuffer(34962,E);for(var D=0;D<f.locationSize;D++)g(f.location+D,b/f.locationSize,x,y,b*k,b/f.locationSize*D*k)}}else if(void 0!==c){var I=c[h];if(void 0!==I)switch(I.length){case 2:e.vertexAttrib2fv(f.location,I);break;case 3:e.vertexAttrib3fv(f.location,I);break;case 4:e.vertexAttrib4fv(f.location,I);break;default:e.vertexAttrib1fv(f.location,I)}}}}v()}(i,u,f,y),null!==b&&e.bindBuffer(34963,r.get(b).buffer))},reset:y,resetDefaultState:b,dispose:function(){for(var e in y(),s){var t=s[e];for(var r in t){var n=t[r];for(var i in n)f(n[i].object),delete n[i];delete t[r]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var r in t){var n=t[r];for(var i in n)f(n[i].object),delete n[i];delete t[r]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var r=s[t];if(void 0!==r[e.id]){var n=r[e.id];for(var i in n)f(n[i].object),delete n[i];delete r[e.id]}}},initAttributes:p,enableAttribute:_,disableUnusedAttributes:v}}function zi(e,t,r,n){var i,a=n.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,n){e.drawArrays(i,t,n),r.update(n,i,1)},this.renderInstances=function(n,o,s){if(0!==s){var u,l;if(a)u=e,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[l](i,n,o,s),r.update(o,i,s)}}}function Ki(e,t,r){var n;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==r.precision?r.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var u=a||t.has("WEBGL_draw_buffers"),l=!0===r.logarithmicDepthBuffer,c=e.getParameter(34930),h=e.getParameter(35660),f=e.getParameter(3379),d=e.getParameter(34076),p=e.getParameter(34921),_=e.getParameter(36347),m=e.getParameter(36348),v=e.getParameter(36349),g=h>0,y=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:function(){if(void 0!==n)return n;if(!0===t.has("EXT_texture_filter_anisotropic")){var r=t.get("EXT_texture_filter_anisotropic");n=e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:_,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?e.getParameter(36183):0}}function Hi(e){var t=this,r=null,n=0,i=!1,a=!1,o=new Ci,s=new Xt,u={value:null,needsUpdate:!1};function l(){u.value!==r&&(u.value=r,u.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function c(e,r,n,i){var a=null!==e?e.length:0,l=null;if(0!==a){if(l=u.value,!0!==i||null===l){var c=n+4*a,h=r.matrixWorldInverse;s.getNormalMatrix(h),(null===l||l.length<c)&&(l=new Float32Array(c));for(var f=0,d=n;f!==a;++f,d+=4)o.copy(e[f]).applyMatrix4(h,s),o.normal.toArray(l,d),l[d+3]=o.constant}u.value=l,u.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,l}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,a){var o=0!==e.length||t||0!==n||i;return i=t,r=c(e,a,0),n=e.length,o},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1,l()},this.setState=function(t,o,s){var h=t.clippingPlanes,f=t.clipIntersection,d=t.clipShadows,p=e.get(t);if(!i||null===h||0===h.length||a&&!d)a?c(null):l();else{var _=a?0:n,m=4*_,v=p.clippingState||null;u.value=v,v=c(h,o,m,s);for(var g=0;g!==m;++g)v[g]=r[g];p.clippingState=v,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=_}}}function Gi(e){var t=new WeakMap;function r(e,t){return t===we?e.mapping=ye:304===t&&(e.mapping=be),e}function n(e){var r=e.target;r.removeEventListener("dispose",n);var i=t.get(r);void 0!==i&&(t.delete(r),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var a=i.mapping;if(a===we||304===a){if(t.has(i))return r(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=new Ai(o.height/2);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",n),r(s.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}Zi.physical={uniforms:yi([Zi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vt(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new ur(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new ur(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new ur(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Ni.meshphysical_vert,fragmentShader:Ni.meshphysical_frag};var Vi=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return(0,de.Z)(this,r),(e=t.call(this)).type="OrthographicCamera",e.zoom=1,e.view=null,e.left=n,e.right=i,e.top=a,e.bottom=o,e.near=s,e.far=u,e.updateProjectionMatrix(),e}return(0,pe.Z)(r,[{key:"copy",value:function(e,t){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,r,n,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2,i=r-e,a=r+e,o=n+t,s=n-t;if(null!==this.view&&this.view.enabled){var u=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=u*this.view.offsetX)+u*this.view.width,s=(o-=l*this.view.offsetY)-l*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),r}(Ei);Vi.prototype.isOrthographicCamera=!0;var Xi=[.125,.215,.35,.446,.526,.582],Yi=20,qi=new Vi,$i=new ur,Ji=null,Qi=(1+Math.sqrt(5))/2,ea=1/Qi,ta=[new br(1,1,1),new br(-1,1,1),new br(1,1,-1),new br(-1,1,-1),new br(0,Qi,ea),new br(0,Qi,-ea),new br(ea,0,Qi),new br(-ea,0,Qi),new br(Qi,ea,0),new br(-Qi,ea,0)],ra=function(){function e(t){(0,de.Z)(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return(0,pe.Z)(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Ji=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,r,n,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=oa(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=aa(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(Ji),e.scissorTest=!1,ia(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===ye||e.mapping===be?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Ji=this._renderer.getRenderTarget();var r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize-32,r={magFilter:Se,minFilter:Se,generateMipmaps:!1,type:Ue,format:Ne,encoding:kt,depthBuffer:!1},n=na(e,t,r);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=na(e,t,r);var i=this._lodMax,a=function(e){for(var t=[],r=[],n=[],i=e,a=e-4+1+Xi.length,o=0;o<a;o++){var s=Math.pow(2,i);r.push(s);var u=1/s;o>e-4?u=Xi[o-e+4-1]:0===o&&(u=0),n.push(u);for(var l=1/(s-1),c=-l/2,h=1+l/2,f=[c,c,h,c,h,h,c,c,h,h,c,h],d=6,p=6,_=3,m=2,v=1,g=new Float32Array(_*p*d),y=new Float32Array(m*p*d),b=new Float32Array(v*p*d),w=0;w<d;w++){var E=w%3*2/3-1,x=w>2?0:-1,k=[E,x,0,E+2/3,x,0,E+2/3,x+1,0,E,x,0,E+2/3,x+1,0,E,x+1,0];g.set(k,_*p*w),y.set(f,m*p*w);var T=[w,w,w,w,w,w];b.set(T,v*p*w)}var M=new $n;M.setAttribute("position",new Zn(g,_)),M.setAttribute("uv",new Zn(y,m)),M.setAttribute("faceIndex",new Zn(b,v)),t.push(M),i>4&&i--}return{lodPlanes:t,sizeLods:r,sigmas:n}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,r){var n=new Float32Array(Yi),i=new br(0,1,0);return new wi({name:"SphericalGaussianBlur",defines:{n:Yi,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(i,e,t)}return n}},{key:"_compileMaterial",value:function(e){var t=new _i(this._lodPlanes[0],e);this._renderer.compile(t,qi)}},{key:"_sceneToCubeUV",value:function(e,t,r,n){var i=new xi(90,1,t,r),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,u=s.autoClear,l=s.toneMapping;s.getClearColor($i),s.toneMapping=0,s.autoClear=!1;var c=new jn({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),h=new _i(new vi,c),f=!1,d=e.background;d?d.isColor&&(c.color.copy(d),e.background=null,f=!0):(c.color.copy($i),f=!0);for(var p=0;p<6;p++){var _=p%3;0===_?(i.up.set(0,a[p],0),i.lookAt(o[p],0,0)):1===_?(i.up.set(0,0,a[p]),i.lookAt(0,o[p],0)):(i.up.set(0,a[p],0),i.lookAt(0,0,o[p]));var m=this._cubeSize;ia(n,_*m,p>2?m:0,m,m),s.setRenderTarget(n),f&&s.render(h,i),s.render(e,i)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=l,s.autoClear=u,e.background=d}},{key:"_textureToCubeUV",value:function(e,t){var r=this._renderer,n=e.mapping===ye||e.mapping===be;n?(null===this._cubemapMaterial&&(this._cubemapMaterial=oa()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=aa());var i=n?this._cubemapMaterial:this._equirectMaterial,a=new _i(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var o=this._cubeSize;ia(t,0,0,3*o,2*o),r.setRenderTarget(t),r.render(a,qi)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,r=t.autoClear;t.autoClear=!1;for(var n=1;n<this._lodPlanes.length;n++){var i=Math.sqrt(this._sigmas[n]*this._sigmas[n]-this._sigmas[n-1]*this._sigmas[n-1]),a=ta[(n-1)%ta.length];this._blur(e,n-1,n,i,a)}t.autoClear=r}},{key:"_blur",value:function(e,t,r,n,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,r,n,"latitudinal",i),this._halfBlur(a,e,r,r,n,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,r,n,i,a,o){var s=this._renderer,u=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var l=new _i(this._lodPlanes[n],u),c=u.uniforms,h=this._sizeLods[r]-1,f=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,d=i/f,p=isFinite(i)?1+Math.floor(3*d):Yi;p>Yi&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(Yi));for(var _=[],m=0,v=0;v<Yi;++v){var g=v/d,y=Math.exp(-g*g/2);_.push(y),0===v?m+=y:v<p&&(m+=2*y)}for(var b=0;b<_.length;b++)_[b]=_[b]/m;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=_,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var w=this._lodMax;c.dTheta.value=f,c.mipInt.value=w-r;var E=this._sizeLods[n];ia(t,3*E*(n>w-4?n-w+4:0),4*(this._cubeSize-E),3*E,2*E),s.setRenderTarget(t),s.render(l,qi)}}]),e}();function na(e,t,r){var n=new _r(e,t,r);return n.texture.mapping=Ee,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function ia(e,t,r,n,i){e.viewport.set(t,r,n,i),e.scissor.set(t,r,n,i)}function aa(){return new wi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function oa(){return new wi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function sa(e){var t=new WeakMap,r=null;function n(e){var r=e.target;r.removeEventListener("dispose",n);var i=t.get(r);void 0!==i&&(t.delete(r),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=a===we||304===a,s=a===ye||a===be;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var u=t.get(i);return null===r&&(r=new ra(e)),u=o?r.fromEquirectangular(i,u):r.fromCubemap(i,u),t.set(i,u),u.texture}if(t.has(i))return t.get(i).texture;var l=i.image;if(o&&l&&l.height>0||s&&l&&function(e){for(var t=0,r=6,n=0;n<r;n++)void 0!==e[n]&&t++;return t===r}(l)){null===r&&(r=new ra(e));var c=o?r.fromEquirectangular(i):r.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",n),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==r&&(r.dispose(),r=null)}}}function ua(e){var t={};function r(r){if(void 0!==t[r])return t[r];var n;switch(r){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(r)}return t[r]=n,n}return{has:function(e){return null!==r(e)},init:function(e){e.isWebGL2?r("EXT_color_buffer_float"):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture")},get:function(e){var t=r(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function la(e,t,r,n){var i={},a=new WeakMap;function o(e){var s=e.target;for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);s.removeEventListener("dispose",o),delete i[s.id];var l=a.get(s);l&&(t.remove(l),a.delete(s)),n.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,r.memory.geometries--}function s(e){var r=[],n=e.index,i=e.attributes.position,o=0;if(null!==n){var s=n.array;o=n.version;for(var u=0,l=s.length;u<l;u+=3){var c=s[u+0],h=s[u+1],f=s[u+2];r.push(c,h,h,f,f,c)}}else{var d=i.array;o=i.version;for(var p=0,_=d.length/3-1;p<_;p+=3){var m=p+0,v=p+1,g=p+2;r.push(m,v,v,g,g,m)}}var y=new(Yt(r)?Fn:Wn)(r,1);y.version=o;var b=a.get(e);b&&t.remove(b),a.set(e,y)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,r.memory.geometries++),t},update:function(e){var r=e.attributes;for(var n in r)t.update(r[n],34962);var i=e.morphAttributes;for(var a in i)for(var o=i[a],s=0,u=o.length;s<u;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var r=e.index;null!==r&&t.version<r.version&&s(e)}else s(e);return a.get(e)}}}function ca(e,t,r,n){var i,a,o,s=n.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,n){e.drawElements(i,n,a,t*o),r.update(n,i,1)},this.renderInstances=function(n,u,l){if(0!==l){var c,h;if(s)c=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](i,u,a,n*o,l),r.update(u,i,l)}}}function ha(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,r,n){switch(t.calls++,r){case 4:t.triangles+=n*(e/3);break;case 1:t.lines+=n*(e/2);break;case 3:t.lines+=n*(e-1);break;case 2:t.lines+=n*e;break;case 0:t.points+=n*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function fa(e,t){return e[0]-t[0]}function da(e,t){return Math.abs(t[1])-Math.abs(e[1])}function pa(e,t){var r=1,n=t.isInterleavedBufferAttribute?t.data.array:t.array;n instanceof Int8Array?r=127:n instanceof Int16Array?r=32767:n instanceof Int32Array?r=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",n),e.divideScalar(r)}function _a(e,t,r){for(var n={},i=new Float32Array(8),a=new WeakMap,o=new pr,s=[],u=0;u<8;u++)s[u]=[u,0];return{update:function(u,l,c,h){var f=u.morphTargetInfluences;if(!0===t.isWebGL2){var d=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,p=void 0!==d?d.length:0,_=a.get(l);if(void 0===_||_.count!==p){void 0!==_&&_.texture.dispose();var m=void 0!==l.morphAttributes.position,v=void 0!==l.morphAttributes.normal,g=void 0!==l.morphAttributes.color,y=l.morphAttributes.position||[],b=l.morphAttributes.normal||[],w=l.morphAttributes.color||[],E=0;!0===m&&(E=1),!0===v&&(E=2),!0===g&&(E=3);var x=l.attributes.position.count*E,k=1;x>t.maxTextureSize&&(k=Math.ceil(x/t.maxTextureSize),x=t.maxTextureSize);var T=new Float32Array(x*k*4*p),M=new mr(T,x,k,p);M.type=Le,M.needsUpdate=!0;for(var A=4*E,O=0;O<p;O++)for(var S=y[O],R=b[O],C=w[O],P=x*k*4*O,D=0;D<S.count;D++){var I=D*A;!0===m&&(o.fromBufferAttribute(S,D),!0===S.normalized&&pa(o,S),T[P+I+0]=o.x,T[P+I+1]=o.y,T[P+I+2]=o.z,T[P+I+3]=0),!0===v&&(o.fromBufferAttribute(R,D),!0===R.normalized&&pa(o,R),T[P+I+4]=o.x,T[P+I+5]=o.y,T[P+I+6]=o.z,T[P+I+7]=0),!0===g&&(o.fromBufferAttribute(C,D),!0===C.normalized&&pa(o,C),T[P+I+8]=o.x,T[P+I+9]=o.y,T[P+I+10]=o.z,T[P+I+11]=4===C.itemSize?o.w:1)}_={count:p,texture:M,size:new Vt(x,k)},a.set(l,_),l.addEventListener("dispose",(function e(){M.dispose(),a.delete(l),l.removeEventListener("dispose",e)}))}for(var L=0,U=0;U<f.length;U++)L+=f[U];var j=l.morphTargetsRelative?1:1-L;h.getUniforms().setValue(e,"morphTargetBaseInfluence",j),h.getUniforms().setValue(e,"morphTargetInfluences",f),h.getUniforms().setValue(e,"morphTargetsTexture",_.texture,r),h.getUniforms().setValue(e,"morphTargetsTextureSize",_.size)}else{var N=void 0===f?0:f.length,B=n[l.id];if(void 0===B||B.length!==N){B=[];for(var Z=0;Z<N;Z++)B[Z]=[Z,0];n[l.id]=B}for(var W=0;W<N;W++){var F=B[W];F[0]=W,F[1]=f[W]}B.sort(da);for(var z=0;z<8;z++)z<N&&B[z][1]?(s[z][0]=B[z][0],s[z][1]=B[z][1]):(s[z][0]=Number.MAX_SAFE_INTEGER,s[z][1]=0);s.sort(fa);for(var K=l.morphAttributes.position,H=l.morphAttributes.normal,G=0,V=0;V<8;V++){var X=s[V],Y=X[0],q=X[1];Y!==Number.MAX_SAFE_INTEGER&&q?(K&&l.getAttribute("morphTarget"+V)!==K[Y]&&l.setAttribute("morphTarget"+V,K[Y]),H&&l.getAttribute("morphNormal"+V)!==H[Y]&&l.setAttribute("morphNormal"+V,H[Y]),i[V]=q,G+=q):(K&&!0===l.hasAttribute("morphTarget"+V)&&l.deleteAttribute("morphTarget"+V),H&&!0===l.hasAttribute("morphNormal"+V)&&l.deleteAttribute("morphNormal"+V),i[V]=0)}var $=l.morphTargetsRelative?1:1-G;h.getUniforms().setValue(e,"morphTargetBaseInfluence",$),h.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function ma(e,t,r,n){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),r.remove(t.instanceMatrix),null!==t.instanceColor&&r.remove(t.instanceColor)}return{update:function(e){var o=n.render.frame,s=e.geometry,u=t.get(e,s);return i.get(u)!==o&&(t.update(u),i.set(u,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),r.update(e.instanceMatrix,34962),null!==e.instanceColor&&r.update(e.instanceColor,34962)),u},dispose:function(){i=new WeakMap}}}var va=new dr,ga=new mr,ya=new vr,ba=new Mi,wa=[],Ea=[],xa=new Float32Array(16),ka=new Float32Array(9),Ta=new Float32Array(4);function Ma(e,t,r){var n=e[0];if(n<=0||n>0)return e;var i=t*r,a=wa[i];if(void 0===a&&(a=new Float32Array(i),wa[i]=a),0!==t){n.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=r,e[o].toArray(a,s)}return a}function Aa(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Oa(e,t){for(var r=0,n=t.length;r<n;r++)e[r]=t[r]}function Sa(e,t){var r=Ea[t];void 0===r&&(r=new Int32Array(t),Ea[t]=r);for(var n=0;n!==t;++n)r[n]=e.allocateTextureUnit();return r}function Ra(e,t){var r=this.cache;r[0]!==t&&(e.uniform1f(this.addr,t),r[0]=t)}function Ca(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(Aa(r,t))return;e.uniform2fv(this.addr,t),Oa(r,t)}}function Pa(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else if(void 0!==t.r)r[0]===t.r&&r[1]===t.g&&r[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b);else{if(Aa(r,t))return;e.uniform3fv(this.addr,t),Oa(r,t)}}function Da(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z&&r[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(Aa(r,t))return;e.uniform4fv(this.addr,t),Oa(r,t)}}function Ia(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(Aa(r,t))return;e.uniformMatrix2fv(this.addr,!1,t),Oa(r,t)}else{if(Aa(r,n))return;Ta.set(n),e.uniformMatrix2fv(this.addr,!1,Ta),Oa(r,n)}}function La(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(Aa(r,t))return;e.uniformMatrix3fv(this.addr,!1,t),Oa(r,t)}else{if(Aa(r,n))return;ka.set(n),e.uniformMatrix3fv(this.addr,!1,ka),Oa(r,n)}}function Ua(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(Aa(r,t))return;e.uniformMatrix4fv(this.addr,!1,t),Oa(r,t)}else{if(Aa(r,n))return;xa.set(n),e.uniformMatrix4fv(this.addr,!1,xa),Oa(r,n)}}function ja(e,t){var r=this.cache;r[0]!==t&&(e.uniform1i(this.addr,t),r[0]=t)}function Na(e,t){var r=this.cache;Aa(r,t)||(e.uniform2iv(this.addr,t),Oa(r,t))}function Ba(e,t){var r=this.cache;Aa(r,t)||(e.uniform3iv(this.addr,t),Oa(r,t))}function Za(e,t){var r=this.cache;Aa(r,t)||(e.uniform4iv(this.addr,t),Oa(r,t))}function Wa(e,t){var r=this.cache;r[0]!==t&&(e.uniform1ui(this.addr,t),r[0]=t)}function Fa(e,t){var r=this.cache;Aa(r,t)||(e.uniform2uiv(this.addr,t),Oa(r,t))}function za(e,t){var r=this.cache;Aa(r,t)||(e.uniform3uiv(this.addr,t),Oa(r,t))}function Ka(e,t){var r=this.cache;Aa(r,t)||(e.uniform4uiv(this.addr,t),Oa(r,t))}function Ha(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture2D(t||va,i)}function Ga(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture3D(t||ya,i)}function Va(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTextureCube(t||ba,i)}function Xa(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture2DArray(t||ga,i)}function Ya(e,t){e.uniform1fv(this.addr,t)}function qa(e,t){var r=Ma(t,this.size,2);e.uniform2fv(this.addr,r)}function $a(e,t){var r=Ma(t,this.size,3);e.uniform3fv(this.addr,r)}function Ja(e,t){var r=Ma(t,this.size,4);e.uniform4fv(this.addr,r)}function Qa(e,t){var r=Ma(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,r)}function eo(e,t){var r=Ma(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,r)}function to(e,t){var r=Ma(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,r)}function ro(e,t){e.uniform1iv(this.addr,t)}function no(e,t){e.uniform2iv(this.addr,t)}function io(e,t){e.uniform3iv(this.addr,t)}function ao(e,t){e.uniform4iv(this.addr,t)}function oo(e,t){e.uniform1uiv(this.addr,t)}function so(e,t){e.uniform2uiv(this.addr,t)}function uo(e,t){e.uniform3uiv(this.addr,t)}function lo(e,t){e.uniform4uiv(this.addr,t)}function co(e,t,r){var n=t.length,i=Sa(r,n);e.uniform1iv(this.addr,i);for(var a=0;a!==n;++a)r.setTexture2D(t[a]||va,i[a])}function ho(e,t,r){var n=t.length,i=Sa(r,n);e.uniform1iv(this.addr,i);for(var a=0;a!==n;++a)r.setTexture3D(t[a]||ya,i[a])}function fo(e,t,r){var n=t.length,i=Sa(r,n);e.uniform1iv(this.addr,i);for(var a=0;a!==n;++a)r.setTextureCube(t[a]||ba,i[a])}function po(e,t,r){var n=t.length,i=Sa(r,n);e.uniform1iv(this.addr,i);for(var a=0;a!==n;++a)r.setTexture2DArray(t[a]||ga,i[a])}function _o(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Ra;case 35664:return Ca;case 35665:return Pa;case 35666:return Da;case 35674:return Ia;case 35675:return La;case 35676:return Ua;case 5124:case 35670:return ja;case 35667:case 35671:return Na;case 35668:case 35672:return Ba;case 35669:case 35673:return Za;case 5125:return Wa;case 36294:return Fa;case 36295:return za;case 36296:return Ka;case 35678:case 36198:case 36298:case 36306:case 35682:return Ha;case 35679:case 36299:case 36307:return Ga;case 35680:case 36300:case 36308:case 36293:return Va;case 36289:case 36303:case 36311:case 36292:return Xa}}(t.type)}function mo(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Ya;case 35664:return qa;case 35665:return $a;case 35666:return Ja;case 35674:return Qa;case 35675:return eo;case 35676:return to;case 5124:case 35670:return ro;case 35667:case 35671:return no;case 35668:case 35672:return io;case 35669:case 35673:return ao;case 5125:return oo;case 36294:return so;case 36295:return uo;case 36296:return lo;case 35678:case 36198:case 36298:case 36306:case 35682:return co;case 35679:case 36299:case 36307:return ho;case 35680:case 36300:case 36308:case 36293:return fo;case 36289:case 36303:case 36311:case 36292:return po}}(t.type)}function vo(e){this.id=e,this.seq=[],this.map={}}mo.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Oa(t,e)},vo.prototype.setValue=function(e,t,r){for(var n=this.seq,i=0,a=n.length;i!==a;++i){var o=n[i];o.setValue(e,t[o.id],r)}};var go=/(\w+)(\])?(\[|\.)?/g;function yo(e,t){e.seq.push(t),e.map[t.id]=t}function bo(e,t,r){var n=e.name,i=n.length;for(go.lastIndex=0;;){var a=go.exec(n),o=go.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===i){yo(r,void 0===l?new _o(s,e,t):new mo(s,e,t));break}var c=r.map[s];void 0===c&&yo(r,c=new vo(s)),r=c}}function wo(e,t){this.seq=[],this.map={};for(var r=e.getProgramParameter(t,35718),n=0;n<r;++n){var i=e.getActiveUniform(t,n);bo(i,e.getUniformLocation(t,i.name),this)}}function Eo(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}wo.prototype.setValue=function(e,t,r,n){var i=this.map[t];void 0!==i&&i.setValue(e,r,n)},wo.prototype.setOptional=function(e,t,r){var n=t[r];void 0!==n&&this.setValue(e,r,n)},wo.upload=function(e,t,r,n){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=r[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,n)}},wo.seqWithValue=function(e,t){for(var r=[],n=0,i=e.length;n!==i;++n){var a=e[n];a.id in t&&r.push(a)}return r};var xo=0;function ko(e,t,r){var n=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(n&&""===i)return"";var a=parseInt(/ERROR: 0:(\d+)/.exec(i)[1]);return r.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var r=e.split("\n"),n=[],i=Math.max(t-6,0),a=Math.min(t+6,r.length),o=i;o<a;o++)n.push(o+1+": "+r[o]);return n.join("\n")}(e.getShaderSource(t),a)}function To(e,t){var r=function(e){switch(e){case kt:return["Linear","( value )"];case Tt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function Mo(e,t){var r;switch(t){case 1:r="Linear";break;case 2:r="Reinhard";break;case 3:r="OptimizedCineon";break;case 4:r="ACESFilmic";break;case 5:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),r="Linear"}return"vec3 "+e+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function Ao(e){return""!==e}function Oo(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function So(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Ro=/^[ \t]*#include +<([\w\d./]+)>/gm;function Co(e){return e.replace(Ro,Po)}function Po(e,t){var r=Ni[t];if(void 0===r)throw new Error("Can not resolve #include <"+t+">");return Co(r)}var Do=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Io=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Lo(e){return e.replace(Io,jo).replace(Do,Uo)}function Uo(e,t,r,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),jo(e,t,r,n)}function jo(e,t,r,n){for(var i="",a=parseInt(t);a<parseInt(r);a++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function No(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Bo(e,t,r,n){var i,a,o=e.getContext(),s=r.defines,u=r.vertexShader,l=r.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(r),h=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case ye:case be:t="ENVMAP_TYPE_CUBE";break;case Ee:t="ENVMAP_TYPE_CUBE_UV"}return t}(r),f=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===be&&(t="ENVMAP_MODE_REFRACTION");return t}(r),d=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(r),p=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var r=Math.log2(t/32+1)+3,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,r),112)),texelHeight:n,maxMip:r}}(r),_=r.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ao).join("\n")}(r),m=function(e){var t=[];for(var r in e){var n=e[r];!1!==n&&t.push("#define "+r+" "+n)}return t.join("\n")}(s),v=o.createProgram(),g=r.glslVersion?"#version "+r.glslVersion+"\n":"";r.isRawShaderMaterial?((i=[m].filter(Ao).join("\n")).length>0&&(i+="\n"),(a=[_,m].filter(Ao).join("\n")).length>0&&(a+="\n")):(i=[No(r),"#define SHADER_NAME "+r.shaderName,m,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+f:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.morphColors&&r.isWebGL2?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ao).join("\n"),a=[_,No(r),"#define SHADER_NAME "+r.shaderName,m,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+h:"",r.envMap?"#define "+f:"",r.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==r.toneMapping?"#define TONE_MAPPING":"",0!==r.toneMapping?Ni.tonemapping_pars_fragment:"",0!==r.toneMapping?Mo("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",Ni.encodings_pars_fragment,To("linearToOutputTexel",r.outputEncoding),r.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Ao).join("\n")),u=So(u=Oo(u=Co(u),r),r),l=So(l=Oo(l=Co(l),r),r),u=Lo(u),l=Lo(l),r.isWebGL2&&!0!==r.isRawShaderMaterial&&(g="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",r.glslVersion===Ct?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===Ct?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var y,b,w=g+a+l,E=Eo(o,35633,g+i+u),x=Eo(o,35632,w);if(o.attachShader(v,E),o.attachShader(v,x),void 0!==r.index0AttributeName?o.bindAttribLocation(v,0,r.index0AttributeName):!0===r.morphTargets&&o.bindAttribLocation(v,0,"position"),o.linkProgram(v),e.debug.checkShaderErrors){var k=o.getProgramInfoLog(v).trim(),T=o.getShaderInfoLog(E).trim(),M=o.getShaderInfoLog(x).trim(),A=!0,O=!0;if(!1===o.getProgramParameter(v,35714)){A=!1;var S=ko(o,E,"vertex"),R=ko(o,x,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(v,35715)+"\n\nProgram Info Log: "+k+"\n"+S+"\n"+R)}else""!==k?console.warn("THREE.WebGLProgram: Program Info Log:",k):""!==T&&""!==M||(O=!1);O&&(this.diagnostics={runnable:A,programLog:k,vertexShader:{log:T,prefix:i},fragmentShader:{log:M,prefix:a}})}return o.deleteShader(E),o.deleteShader(x),this.getUniforms=function(){return void 0===y&&(y=new wo(o,v)),y},this.getAttributes=function(){return void 0===b&&(b=function(e,t){for(var r={},n=e.getProgramParameter(t,35721),i=0;i<n;i++){var a=e.getActiveAttrib(t,i),o=a.name,s=1;35674===a.type&&(s=2),35675===a.type&&(s=3),35676===a.type&&(s=4),r[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return r}(o,v)),b},this.destroy=function(){n.releaseStatesOfProgram(this),o.deleteProgram(v),this.program=void 0},this.name=r.shaderName,this.id=xo++,this.cacheKey=t,this.usedTimes=1,this.program=v,this.vertexShader=E,this.fragmentShader=x,this}var Zo=0,Wo=function(){function e(){(0,de.Z)(this,e),this.shaderCache=new Map,this.materialCache=new Map}return(0,pe.Z)(e,[{key:"update",value:function(e){var t=e.vertexShader,r=e.fragmentShader,n=this._getShaderStage(t),i=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return!1===a.has(n)&&(a.add(n),n.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,r=this.materialCache.get(e),n=(0,ae.Z)(r);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code)}}catch(a){n.e(a)}finally{n.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache;return!1===t.has(e)&&t.set(e,new Set),t.get(e)}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache;if(!1===t.has(e)){var r=new Fo(e);t.set(e,r)}return t.get(e)}}]),e}(),Fo=(0,pe.Z)((function e(t){(0,de.Z)(this,e),this.id=Zo++,this.code=t,this.usedTimes=0}));function zo(e,t,r,n,i,a,o){var s=new ln,u=new Wo,l=[],c=i.isWebGL2,h=i.logarithmicDepthBuffer,f=i.floatVertexTextures,d=i.maxVertexUniforms,p=i.vertexTextures,_=i.precision,m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(a,s,l,v,g){var y=v.fog,b=g.geometry,w=a.isMeshStandardMaterial?v.environment:null,E=(a.isMeshStandardMaterial?r:t).get(a.envMap||w),x=E&&E.mapping===Ee?E.image.height:null,k=m[a.type],T=g.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(f)return 1024;var r=d,n=Math.floor((r-20)/4),i=Math.min(n,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}(g):0;null!==a.precision&&(_=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",_,"instead.");var M,A,O,S,R=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,C=void 0!==R?R.length:0,P=0;if(void 0!==b.morphAttributes.position&&(P=1),void 0!==b.morphAttributes.normal&&(P=2),void 0!==b.morphAttributes.color&&(P=3),k){var D=Zi[k];M=D.vertexShader,A=D.fragmentShader}else M=a.vertexShader,A=a.fragmentShader,u.update(a),O=u.getVertexShaderID(a),S=u.getFragmentShaderID(a);var I=e.getRenderTarget(),L=a.alphaTest>0,U=a.clearcoat>0;return{isWebGL2:c,shaderID:k,shaderName:a.type,vertexShader:M,fragmentShader:A,defines:a.defines,customVertexShaderID:O,customFragmentShaderID:S,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:_,instancing:!0===g.isInstancedMesh,instancingColor:!0===g.isInstancedMesh&&null!==g.instanceColor,supportsVertexTextures:p,outputEncoding:null===I?e.outputEncoding:!0===I.isXRRenderTarget?I.texture.encoding:kt,map:!!a.map,matcap:!!a.matcap,envMap:!!E,envMapMode:E&&E.mapping,envMapCubeUVHeight:x,lightMap:!!a.lightMap,aoMap:!!a.aoMap,emissiveMap:!!a.emissiveMap,bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,objectSpaceNormalMap:1===a.normalMapType,tangentSpaceNormalMap:0===a.normalMapType,decodeVideoTexture:!!a.map&&!0===a.map.isVideoTexture&&a.map.encoding===Tt,clearcoat:U,clearcoatMap:U&&!!a.clearcoatMap,clearcoatRoughnessMap:U&&!!a.clearcoatRoughnessMap,clearcoatNormalMap:U&&!!a.clearcoatNormalMap,displacementMap:!!a.displacementMap,roughnessMap:!!a.roughnessMap,metalnessMap:!!a.metalnessMap,specularMap:!!a.specularMap,specularIntensityMap:!!a.specularIntensityMap,specularColorMap:!!a.specularColorMap,opaque:!1===a.transparent&&1===a.blending,alphaMap:!!a.alphaMap,alphaTest:L,gradientMap:!!a.gradientMap,sheen:a.sheen>0,sheenColorMap:!!a.sheenColorMap,sheenRoughnessMap:!!a.sheenRoughnessMap,transmission:a.transmission>0,transmissionMap:!!a.transmissionMap,thicknessMap:!!a.thicknessMap,combine:a.combine,vertexTangents:!!a.normalMap&&!!b.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,vertexUvs:!!a.map||!!a.bumpMap||!!a.normalMap||!!a.specularMap||!!a.alphaMap||!!a.emissiveMap||!!a.roughnessMap||!!a.metalnessMap||!!a.clearcoatMap||!!a.clearcoatRoughnessMap||!!a.clearcoatNormalMap||!!a.displacementMap||!!a.transmissionMap||!!a.thicknessMap||!!a.specularIntensityMap||!!a.specularColorMap||!!a.sheenColorMap||!!a.sheenRoughnessMap,uvsVertexOnly:!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatNormalMap||a.transmission>0||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheen>0||a.sheenColorMap||a.sheenRoughnessMap)&&!!a.displacementMap,fog:!!y,useFog:a.fog,fogExp2:y&&y.isFogExp2,flatShading:!!a.flatShading,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===g.isSkinnedMesh&&T>0,maxBones:T,useVertexTexture:f,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:C,morphTextureStride:P,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&l.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:2===a.side,flipSided:1===a.side,depthPacking:void 0!==a.depthPacking&&a.depthPacking,index0AttributeName:a.index0AttributeName,extensionDerivatives:a.extensions&&a.extensions.derivatives,extensionFragDepth:a.extensions&&a.extensions.fragDepth,extensionDrawBuffers:a.extensions&&a.extensions.drawBuffers,extensionShaderTextureLOD:a.extensions&&a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||n.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var r=[];if(t.shaderID?r.push(t.shaderID):(r.push(t.customVertexShaderID),r.push(t.customFragmentShaderID)),void 0!==t.defines)for(var n in t.defines)r.push(n),r.push(t.defines[n]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.maxBones),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection)}(r,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.map&&s.enable(4);t.matcap&&s.enable(5);t.envMap&&s.enable(6);t.lightMap&&s.enable(7);t.aoMap&&s.enable(8);t.emissiveMap&&s.enable(9);t.bumpMap&&s.enable(10);t.normalMap&&s.enable(11);t.objectSpaceNormalMap&&s.enable(12);t.tangentSpaceNormalMap&&s.enable(13);t.clearcoat&&s.enable(14);t.clearcoatMap&&s.enable(15);t.clearcoatRoughnessMap&&s.enable(16);t.clearcoatNormalMap&&s.enable(17);t.displacementMap&&s.enable(18);t.specularMap&&s.enable(19);t.roughnessMap&&s.enable(20);t.metalnessMap&&s.enable(21);t.gradientMap&&s.enable(22);t.alphaMap&&s.enable(23);t.alphaTest&&s.enable(24);t.vertexColors&&s.enable(25);t.vertexAlphas&&s.enable(26);t.vertexUvs&&s.enable(27);t.vertexTangents&&s.enable(28);t.uvsVertexOnly&&s.enable(29);t.fog&&s.enable(30);e.push(s.mask),s.disableAll(),t.useFog&&s.enable(0);t.flatShading&&s.enable(1);t.logarithmicDepthBuffer&&s.enable(2);t.skinning&&s.enable(3);t.useVertexTexture&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.physicallyCorrectLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.depthPacking&&s.enable(13);t.dithering&&s.enable(14);t.specularIntensityMap&&s.enable(15);t.specularColorMap&&s.enable(16);t.transmission&&s.enable(17);t.transmissionMap&&s.enable(18);t.thicknessMap&&s.enable(19);t.sheen&&s.enable(20);t.sheenColorMap&&s.enable(21);t.sheenRoughnessMap&&s.enable(22);t.decodeVideoTexture&&s.enable(23);t.opaque&&s.enable(24);e.push(s.mask)}(r,t),r.push(e.outputEncoding)),r.push(t.customProgramCacheKey),r.join()},getUniforms:function(e){var t,r=m[e.type];if(r){var n=Zi[r];t=bi.clone(n.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,r){for(var n,i=0,o=l.length;i<o;i++){var s=l[i];if(s.cacheKey===r){++(n=s).usedTimes;break}}return void 0===n&&(n=new Bo(e,r,t,a),l.push(n)),n},releaseProgram:function(e){if(0===--e.usedTimes){var t=l.indexOf(e);l[t]=l[l.length-1],l.pop(),e.destroy()}},releaseShaderCache:function(e){u.remove(e)},programs:l,dispose:function(){u.dispose()}}}function Ko(){var e=new WeakMap;return{get:function(t){var r=e.get(t);return void 0===r&&(r={},e.set(t,r)),r},remove:function(t){e.delete(t)},update:function(t,r,n){e.get(t)[r]=n},dispose:function(){e=new WeakMap}}}function Ho(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Go(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Vo(){var e=[],t=0,r=[],n=[],i=[];function a(r,n,i,a,o,s){var u=e[t];return void 0===u?(u={id:r.id,object:r,geometry:n,material:i,groupOrder:a,renderOrder:r.renderOrder,z:o,group:s},e[t]=u):(u.id=r.id,u.object=r,u.geometry=n,u.material=i,u.groupOrder=a,u.renderOrder=r.renderOrder,u.z=o,u.group=s),t++,u}return{opaque:r,transmissive:n,transparent:i,init:function(){t=0,r.length=0,n.length=0,i.length=0},push:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?n.push(c):!0===o.transparent?i.push(c):r.push(c)},unshift:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?n.unshift(c):!0===o.transparent?i.unshift(c):r.unshift(c)},finish:function(){for(var r=t,n=e.length;r<n;r++){var i=e[r];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){r.length>1&&r.sort(e||Ho),n.length>1&&n.sort(t||Go),i.length>1&&i.sort(t||Go)}}}function Xo(){var e=new WeakMap;return{get:function(t,r){var n;return!1===e.has(t)?(n=new Vo,e.set(t,[n])):r>=e.get(t).length?(n=new Vo,e.get(t).push(n)):n=e.get(t)[r],n},dispose:function(){e=new WeakMap}}}function Yo(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var r;switch(t.type){case"DirectionalLight":r={direction:new br,color:new ur};break;case"SpotLight":r={position:new br,direction:new br,color:new ur,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new br,color:new ur,distance:0,decay:0};break;case"HemisphereLight":r={direction:new br,skyColor:new ur,groundColor:new ur};break;case"RectAreaLight":r={color:new ur,position:new br,halfWidth:new br,halfHeight:new br}}return e[t.id]=r,r}}}var qo=0;function $o(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Jo(e,t){for(var r=new Yo,n=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var r;switch(t.type){case"DirectionalLight":case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vt};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vt,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=r,r}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},a=0;a<9;a++)i.probe.push(new br);var o=new br,s=new $r,u=new $r;return{setup:function(a,o){for(var s=0,u=0,l=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var h=0,f=0,d=0,p=0,_=0,m=0,v=0,g=0;a.sort($o);for(var y=!0!==o?Math.PI:1,b=0,w=a.length;b<w;b++){var E=a[b],x=E.color,k=E.intensity,T=E.distance,M=E.shadow&&E.shadow.map?E.shadow.map.texture:null;if(E.isAmbientLight)s+=x.r*k*y,u+=x.g*k*y,l+=x.b*k*y;else if(E.isLightProbe)for(var A=0;A<9;A++)i.probe[A].addScaledVector(E.sh.coefficients[A],k);else if(E.isDirectionalLight){var O=r.get(E);if(O.color.copy(E.color).multiplyScalar(E.intensity*y),E.castShadow){var S=E.shadow,R=n.get(E);R.shadowBias=S.bias,R.shadowNormalBias=S.normalBias,R.shadowRadius=S.radius,R.shadowMapSize=S.mapSize,i.directionalShadow[h]=R,i.directionalShadowMap[h]=M,i.directionalShadowMatrix[h]=E.shadow.matrix,m++}i.directional[h]=O,h++}else if(E.isSpotLight){var C=r.get(E);if(C.position.setFromMatrixPosition(E.matrixWorld),C.color.copy(x).multiplyScalar(k*y),C.distance=T,C.coneCos=Math.cos(E.angle),C.penumbraCos=Math.cos(E.angle*(1-E.penumbra)),C.decay=E.decay,E.castShadow){var P=E.shadow,D=n.get(E);D.shadowBias=P.bias,D.shadowNormalBias=P.normalBias,D.shadowRadius=P.radius,D.shadowMapSize=P.mapSize,i.spotShadow[d]=D,i.spotShadowMap[d]=M,i.spotShadowMatrix[d]=E.shadow.matrix,g++}i.spot[d]=C,d++}else if(E.isRectAreaLight){var I=r.get(E);I.color.copy(x).multiplyScalar(k),I.halfWidth.set(.5*E.width,0,0),I.halfHeight.set(0,.5*E.height,0),i.rectArea[p]=I,p++}else if(E.isPointLight){var L=r.get(E);if(L.color.copy(E.color).multiplyScalar(E.intensity*y),L.distance=E.distance,L.decay=E.decay,E.castShadow){var U=E.shadow,j=n.get(E);j.shadowBias=U.bias,j.shadowNormalBias=U.normalBias,j.shadowRadius=U.radius,j.shadowMapSize=U.mapSize,j.shadowCameraNear=U.camera.near,j.shadowCameraFar=U.camera.far,i.pointShadow[f]=j,i.pointShadowMap[f]=M,i.pointShadowMatrix[f]=E.shadow.matrix,v++}i.point[f]=L,f++}else if(E.isHemisphereLight){var N=r.get(E);N.skyColor.copy(E.color).multiplyScalar(k*y),N.groundColor.copy(E.groundColor).multiplyScalar(k*y),i.hemi[_]=N,_++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=Bi.LTC_FLOAT_1,i.rectAreaLTC2=Bi.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=Bi.LTC_HALF_1,i.rectAreaLTC2=Bi.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=u,i.ambient[2]=l;var B=i.hash;B.directionalLength===h&&B.pointLength===f&&B.spotLength===d&&B.rectAreaLength===p&&B.hemiLength===_&&B.numDirectionalShadows===m&&B.numPointShadows===v&&B.numSpotShadows===g||(i.directional.length=h,i.spot.length=d,i.rectArea.length=p,i.point.length=f,i.hemi.length=_,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=v,i.pointShadowMap.length=v,i.spotShadow.length=g,i.spotShadowMap.length=g,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=v,i.spotShadowMatrix.length=g,B.directionalLength=h,B.pointLength=f,B.spotLength=d,B.rectAreaLength=p,B.hemiLength=_,B.numDirectionalShadows=m,B.numPointShadows=v,B.numSpotShadows=g,i.version=qo++)},setupView:function(e,t){for(var r=0,n=0,a=0,l=0,c=0,h=t.matrixWorldInverse,f=0,d=e.length;f<d;f++){var p=e[f];if(p.isDirectionalLight){var _=i.directional[r];_.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),_.direction.sub(o),_.direction.transformDirection(h),r++}else if(p.isSpotLight){var m=i.spot[a];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(h),m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(h),a++}else if(p.isRectAreaLight){var v=i.rectArea[l];v.position.setFromMatrixPosition(p.matrixWorld),v.position.applyMatrix4(h),u.identity(),s.copy(p.matrixWorld),s.premultiply(h),u.extractRotation(s),v.halfWidth.set(.5*p.width,0,0),v.halfHeight.set(0,.5*p.height,0),v.halfWidth.applyMatrix4(u),v.halfHeight.applyMatrix4(u),l++}else if(p.isPointLight){var g=i.point[n];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(h),n++}else if(p.isHemisphereLight){var y=i.hemi[c];y.direction.setFromMatrixPosition(p.matrixWorld),y.direction.transformDirection(h),y.direction.normalize(),c++}}},state:i}}function Qo(e,t){var r=new Jo(e,t),n=[],i=[];return{init:function(){n.length=0,i.length=0},state:{lightsArray:n,shadowsArray:i,lights:r},setupLights:function(e){r.setup(n,e)},setupLightsView:function(e){r.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){i.push(e)}}}function es(e,t){var r=new WeakMap;return{get:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!1===r.has(n)?(i=new Qo(e,t),r.set(n,[i])):a>=r.get(n).length?(i=new Qo(e,t),r.get(n).push(i)):i=r.get(n)[a],i},dispose:function(){r=new WeakMap}}}var ts=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).type="MeshDepthMaterial",n.depthPacking=3200,n.map=null,n.alphaMap=null,n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.wireframe=!1,n.wireframeLinewidth=1,n.fog=!1,n.setValues(e),n}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),r}(Un);ts.prototype.isMeshDepthMaterial=!0;var rs=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).type="MeshDistanceMaterial",n.referencePosition=new br,n.nearDistance=1,n.farDistance=1e3,n.map=null,n.alphaMap=null,n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.fog=!1,n.setValues(e),n}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),r}(Un);rs.prototype.isMeshDistanceMaterial=!0;function ns(e,t,r){var n=new Ii,i=new Vt,a=new Vt,o=new pr,s=new ts({depthPacking:3201}),u=new rs,l={},c=r.maxTextureSize,h={0:1,1:0,2:2},f=new wi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vt},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=f.clone();d.defines.HORIZONTAL_PASS=1;var p=new $n;p.setAttribute("position",new Zn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var _=new _i(p,f),m=this;function v(r,n){var i=t.update(_);f.defines.VSM_SAMPLES!==r.blurSamples&&(f.defines.VSM_SAMPLES=r.blurSamples,d.defines.VSM_SAMPLES=r.blurSamples,f.needsUpdate=!0,d.needsUpdate=!0),f.uniforms.shadow_pass.value=r.map.texture,f.uniforms.resolution.value=r.mapSize,f.uniforms.radius.value=r.radius,e.setRenderTarget(r.mapPass),e.clear(),e.renderBufferDirect(n,null,i,f,_,null),d.uniforms.shadow_pass.value=r.mapPass.texture,d.uniforms.resolution.value=r.mapSize,d.uniforms.radius.value=r.radius,e.setRenderTarget(r.map),e.clear(),e.renderBufferDirect(n,null,i,d,_,null)}function g(t,r,n,i,a,o){var c=null,f=!0===n.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(c=void 0!==f?f:!0===n.isPointLight?u:s,e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length||r.displacementMap&&0!==r.displacementScale||r.alphaMap&&r.alphaTest>0){var d=c.uuid,p=r.uuid,_=l[d];void 0===_&&(_={},l[d]=_);var m=_[p];void 0===m&&(m=c.clone(),_[p]=m),c=m}return c.visible=r.visible,c.wireframe=r.wireframe,c.side=3===o?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:h[r.side],c.alphaMap=r.alphaMap,c.alphaTest=r.alphaTest,c.clipShadows=r.clipShadows,c.clippingPlanes=r.clippingPlanes,c.clipIntersection=r.clipIntersection,c.displacementMap=r.displacementMap,c.displacementScale=r.displacementScale,c.displacementBias=r.displacementBias,c.wireframeLinewidth=r.wireframeLinewidth,c.linewidth=r.linewidth,!0===n.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(n.matrixWorld),c.nearDistance=i,c.farDistance=a),c}function y(r,i,a,o,s){if(!1!==r.visible){if(r.layers.test(i.layers)&&(r.isMesh||r.isLine||r.isPoints)&&(r.castShadow||r.receiveShadow&&3===s)&&(!r.frustumCulled||n.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,r.matrixWorld);var u=t.update(r),l=r.material;if(Array.isArray(l))for(var c=u.groups,h=0,f=c.length;h<f;h++){var d=c[h],p=l[d.materialIndex];if(p&&p.visible){var _=g(r,p,o,a.near,a.far,s);e.renderBufferDirect(a,null,u,_,r,d)}}else if(l.visible){var m=g(r,l,o,a.near,a.far,s);e.renderBufferDirect(a,null,u,m,r,null)}}for(var v=r.children,b=0,w=v.length;b<w;b++)y(v[b],i,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,r,s){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==t.length){var u=e.getRenderTarget(),l=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),f=e.state;f.setBlending(0),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var d=0,p=t.length;d<p;d++){var _=t[d],g=_.shadow;if(void 0!==g){if(!1!==g.autoUpdate||!1!==g.needsUpdate){i.copy(g.mapSize);var b=g.getFrameExtents();if(i.multiply(b),a.copy(g.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/b.x),i.x=a.x*b.x,g.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/b.y),i.y=a.y*b.y,g.mapSize.y=a.y)),null!==g.map||g.isPointLightShadow||3!==this.type||(g.map=new _r(i.x,i.y),g.map.texture.name=_.name+".shadowMap",g.mapPass=new _r(i.x,i.y),g.camera.updateProjectionMatrix()),null===g.map){var w={minFilter:Me,magFilter:Me,format:Ne};g.map=new _r(i.x,i.y,w),g.map.texture.name=_.name+".shadowMap",g.camera.updateProjectionMatrix()}e.setRenderTarget(g.map),e.clear();for(var E=g.getViewportCount(),x=0;x<E;x++){var k=g.getViewport(x);o.set(a.x*k.x,a.y*k.y,a.x*k.z,a.y*k.w),f.viewport(o),g.updateMatrices(_,x),n=g.getFrustum(),y(r,s,g.camera,_,this.type)}g.isPointLightShadow||3!==this.type||v(g,s),g.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",_,"has no shadow.")}m.needsUpdate=!1,e.setRenderTarget(u,l,h)}}}function is(e,t,r){var n,i,a=r.isWebGL2;var o=new function(){var t=!1,r=new pr,n=null,i=new pr(0,0,0,0);return{setMask:function(r){n===r||t||(e.colorMask(r,r,r,r),n=r)},setLocked:function(e){t=e},setClear:function(t,n,a,o,s){!0===s&&(t*=o,n*=o,a*=o),r.set(t,n,a,o),!1===i.equals(r)&&(e.clearColor(t,n,a,o),i.copy(r))},reset:function(){t=!1,n=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,r=null,n=null,i=null;return{setTest:function(e){e?Z(2929):W(2929)},setMask:function(n){r===n||t||(e.depthMask(n),r=n)},setFunc:function(t){if(n!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:default:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517)}else e.depthFunc(515);n=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,r=null,n=null,i=null}}},u=new function(){var t=!1,r=null,n=null,i=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(e){t||(e?Z(2960):W(2960))},setMask:function(n){r===n||t||(e.stencilMask(n),r=n)},setFunc:function(t,r,o){n===t&&i===r&&a===o||(e.stencilFunc(t,r,o),n=t,i=r,a=o)},setOp:function(t,r,n){o===t&&s===r&&u===n||(e.stencilOp(t,r,n),o=t,s=r,u=n)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,r=null,n=null,i=null,a=null,o=null,s=null,u=null,l=null}}},l={},c={},h=new WeakMap,f=[],d=null,p=!1,_=null,m=null,v=null,g=null,y=null,b=null,w=null,E=!1,x=null,k=null,T=null,M=null,A=null,O=e.getParameter(35661),S=!1,R=0,C=e.getParameter(7938);-1!==C.indexOf("WebGL")?(R=parseFloat(/^WebGL (\d)/.exec(C)[1]),S=R>=1):-1!==C.indexOf("OpenGL ES")&&(R=parseFloat(/^OpenGL ES (\d)/.exec(C)[1]),S=R>=2);var P=null,D={},I=e.getParameter(3088),L=e.getParameter(2978),U=(new pr).fromArray(I),j=(new pr).fromArray(L);function N(t,r,n){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<n;o++)e.texImage2D(r+o,0,6408,1,1,0,6408,5121,i);return a}var B={};function Z(t){!0!==l[t]&&(e.enable(t),l[t]=!0)}function W(t){!1!==l[t]&&(e.disable(t),l[t]=!1)}B[3553]=N(3553,3553,1),B[34067]=N(34067,34069,6),o.setClear(0,0,0,1),s.setClear(1),u.setClear(0),Z(2929),s.setFunc(3),G(!1),V(1),Z(2884),H(0);var F=(n={},(0,fe.Z)(n,ge,32774),(0,fe.Z)(n,101,32778),(0,fe.Z)(n,102,32779),n);if(a)F[103]=32775,F[104]=32776;else{var z=t.get("EXT_blend_minmax");null!==z&&(F[103]=z.MIN_EXT,F[104]=z.MAX_EXT)}var K=(i={},(0,fe.Z)(i,200,0),(0,fe.Z)(i,201,1),(0,fe.Z)(i,202,768),(0,fe.Z)(i,204,770),(0,fe.Z)(i,210,776),(0,fe.Z)(i,208,774),(0,fe.Z)(i,206,772),(0,fe.Z)(i,203,769),(0,fe.Z)(i,205,771),(0,fe.Z)(i,209,775),(0,fe.Z)(i,207,773),i);function H(t,r,n,i,a,o,s,u){if(0!==t){if(!1===p&&(Z(3042),p=!0),5===t)a=a||r,o=o||n,s=s||i,r===m&&a===y||(e.blendEquationSeparate(F[r],F[a]),m=r,y=a),n===v&&i===g&&o===b&&s===w||(e.blendFuncSeparate(K[n],K[i],K[o],K[s]),v=n,g=i,b=o,w=s),_=t,E=null;else if(t!==_||u!==E){if(m===ge&&y===ge||(e.blendEquation(32774),m=ge,y=ge),u)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,769,0,1);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFuncSeparate(0,769,0,1);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}v=null,g=null,b=null,w=null,_=t,E=u}}else!0===p&&(W(3042),p=!1)}function G(t){x!==t&&(t?e.frontFace(2304):e.frontFace(2305),x=t)}function V(t){0!==t?(Z(2884),t!==k&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):W(2884),k=t}function X(t,r,n){t?(Z(32823),M===r&&A===n||(e.polygonOffset(r,n),M=r,A=n)):W(32823)}function Y(t){void 0===t&&(t=33984+O-1),P!==t&&(e.activeTexture(t),P=t)}return{buffers:{color:o,depth:s,stencil:u},enable:Z,disable:W,bindFramebuffer:function(t,r){return c[t]!==r&&(e.bindFramebuffer(t,r),c[t]=r,a&&(36009===t&&(c[36160]=r),36160===t&&(c[36009]=r)),!0)},drawBuffers:function(n,i){var a=f,o=!1;if(n)if(void 0===(a=h.get(i))&&(a=[],h.set(i,a)),n.isWebGLMultipleRenderTargets){var s=n.texture;if(a.length!==s.length||36064!==a[0]){for(var u=0,l=s.length;u<l;u++)a[u]=36064+u;a.length=s.length,o=!0}}else 36064!==a[0]&&(a[0]=36064,o=!0);else 1029!==a[0]&&(a[0]=1029,o=!0);o&&(r.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return d!==t&&(e.useProgram(t),d=t,!0)},setBlending:H,setMaterial:function(e,t){2===e.side?W(2884):Z(2884);var r=1===e.side;t&&(r=!r),G(r),1===e.blending&&!1===e.transparent?H(0):H(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),o.setMask(e.colorWrite);var n=e.stencilWrite;u.setTest(n),n&&(u.setMask(e.stencilWriteMask),u.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),u.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),X(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?Z(32926):W(32926)},setFlipSided:G,setCullFace:V,setLineWidth:function(t){t!==T&&(S&&e.lineWidth(t),T=t)},setPolygonOffset:X,setScissorTest:function(e){e?Z(3089):W(3089)},activeTexture:Y,bindTexture:function(t,r){null===P&&Y();var n=D[P];void 0===n&&(n={type:void 0,texture:void 0},D[P]=n),n.type===t&&n.texture===r||(e.bindTexture(t,r||B[t]),n.type=t,n.texture=r)},unbindTexture:function(){var t=D[P];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===U.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),U.copy(t))},viewport:function(t){!1===j.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),j.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===a&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),l={},P=null,D={},c={},h=new WeakMap,f=[],d=null,p=!1,_=null,m=null,v=null,g=null,y=null,b=null,w=null,E=!1,x=null,k=null,T=null,M=null,A=null,U.set(0,0,e.canvas.width,e.canvas.height),j.set(0,0,e.canvas.width,e.canvas.height),o.reset(),s.reset(),u.reset()}}}function as(e,t,r,n,i,a,o){var s,u,l,c=i.isWebGL2,h=i.maxTextures,f=i.maxCubemapSize,d=i.maxTextureSize,p=i.maxSamples,_=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,m=/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap,g=new WeakMap,y=!1;try{y="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(K){}function b(e,t){return y?new OffscreenCanvas(e,t):qt("canvas")}function w(e,t,r,n){var i=1;if((e.width>n||e.height>n)&&(i=n/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?Ht:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===l&&(l=b(o,s));var u=r?b(o,s):l;return u.width=o,u.height=s,u.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function E(e){return zt(e.width)&&zt(e.height)}function x(e,t){return e.generateMipmaps&&t&&e.minFilter!==Me&&e.minFilter!==Se}function k(t){e.generateMipmap(t)}function T(r,n,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===c)return n;if(null!==r){if(void 0!==e[r])return e[r];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+r+"'")}var s=n;return 6403===n&&(5126===i&&(s=33326),5131===i&&(s=33325),5121===i&&(s=33321)),33319===n&&(5126===i&&(s=33328),5131===i&&(s=33327),5121===i&&(s=33323)),6408===n&&(5126===i&&(s=34836),5131===i&&(s=34842),5121===i&&(s=a===Tt&&!1===o?35907:32856),32819===i&&(s=32854),32820===i&&(s=32855)),33325!==s&&33326!==s&&33327!==s&&33328!==s&&34842!==s&&34836!==s||t.get("EXT_color_buffer_float"),s}function M(e,t,r){return!0===x(e,r)||e.isFramebufferTexture&&e.minFilter!==Me&&e.minFilter!==Se?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function A(e){return e===Me||e===Ae||e===Oe?9728:9729}function O(e){var t=e.target;t.removeEventListener("dispose",O),function(e){var t=n.get(e);if(void 0===t.__webglInit)return;var r=e.source,i=g.get(r);if(i){var a=i[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&R(e),0===Object.keys(i).length&&g.delete(r)}n.remove(e)}(t),t.isVideoTexture&&v.delete(t)}function S(t){var r=t.target;r.removeEventListener("dispose",S),function(t){var r=t.texture,i=n.get(t),a=n.get(r);void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(i.__webglFramebuffer[s]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s]);else e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer&&e.deleteRenderbuffer(i.__webglColorRenderbuffer),i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer);if(t.isWebGLMultipleRenderTargets)for(var u=0,l=r.length;u<l;u++){var c=n.get(r[u]);c.__webglTexture&&(e.deleteTexture(c.__webglTexture),o.memory.textures--),n.remove(r[u])}n.remove(r),n.remove(t)}(r)}function R(t){var r=n.get(t);e.deleteTexture(r.__webglTexture);var i=t.source;delete g.get(i)[r.__cacheKey],o.memory.textures--}var C=0;function P(e,t){var i=n.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;v.get(e)!==t&&(v.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&i.__version!==e.version){var a=e.image;if(null===a)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==a.complete)return void j(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}r.activeTexture(33984+t),r.bindTexture(3553,i.__webglTexture)}var D=(s={},(0,fe.Z)(s,xe,10497),(0,fe.Z)(s,ke,33071),(0,fe.Z)(s,Te,33648),s),I=(u={},(0,fe.Z)(u,Me,9728),(0,fe.Z)(u,Ae,9984),(0,fe.Z)(u,Oe,9986),(0,fe.Z)(u,Se,9729),(0,fe.Z)(u,Re,9985),(0,fe.Z)(u,Ce,9987),u);function L(r,a,o){if(o?(e.texParameteri(r,10242,D[a.wrapS]),e.texParameteri(r,10243,D[a.wrapT]),32879!==r&&35866!==r||e.texParameteri(r,32882,D[a.wrapR]),e.texParameteri(r,10240,I[a.magFilter]),e.texParameteri(r,10241,I[a.minFilter])):(e.texParameteri(r,10242,33071),e.texParameteri(r,10243,33071),32879!==r&&35866!==r||e.texParameteri(r,32882,33071),a.wrapS===ke&&a.wrapT===ke||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(r,10240,A(a.magFilter)),e.texParameteri(r,10241,A(a.minFilter)),a.minFilter!==Me&&a.minFilter!==Se&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(a.type===Le&&!1===t.has("OES_texture_float_linear"))return;if(!1===c&&a.type===Ue&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||n.get(a).__currentAnisotropy)&&(e.texParameterf(r,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),n.get(a).__currentAnisotropy=a.anisotropy)}}function U(t,r){var n=!1;void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",O));var i=r.source,a=g.get(i);void 0===a&&(a={},g.set(i,a));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(r);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,n=!0),a[s].usedTimes++;var u=a[t.__cacheKey];void 0!==u&&(a[t.__cacheKey].usedTimes--,0===u.usedTimes&&R(r)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return n}function j(t,n,i){var o=3553;n.isDataArrayTexture&&(o=35866),n.isData3DTexture&&(o=32879);var s=U(t,n),u=n.source;if(r.activeTexture(33984+i),r.bindTexture(o,t.__webglTexture),u.version!==u.__currentVersion||!0===s){e.pixelStorei(37440,n.flipY),e.pixelStorei(37441,n.premultiplyAlpha),e.pixelStorei(3317,n.unpackAlignment),e.pixelStorei(37443,0);var l,h=function(e){return!c&&(e.wrapS!==ke||e.wrapT!==ke||e.minFilter!==Me&&e.minFilter!==Se)}(n)&&!1===E(n.image),f=w(n.image,h,!1,d),p=E(f=z(n,f))||c,_=a.convert(n.format,n.encoding),m=a.convert(n.type),v=T(n.internalFormat,_,m,n.encoding,n.isVideoTexture);L(o,n,p);var g=n.mipmaps,y=c&&!0!==n.isVideoTexture,b=void 0===t.__version,A=M(n,f,p);if(n.isDepthTexture)v=6402,c?v=n.type===Le?36012:n.type===Ie?33190:n.type===je?35056:33189:n.type===Le&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),n.format===Be&&6402===v&&n.type!==De&&n.type!==Ie&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=De,m=a.convert(n.type)),n.format===Ze&&6402===v&&(v=34041,n.type!==je&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=je,m=a.convert(n.type))),y&&b?r.texStorage2D(3553,1,v,f.width,f.height):r.texImage2D(3553,0,v,f.width,f.height,0,_,m,null);else if(n.isDataTexture)if(g.length>0&&p){y&&b&&r.texStorage2D(3553,A,v,g[0].width,g[0].height);for(var O=0,S=g.length;O<S;O++)l=g[O],y?r.texSubImage2D(3553,O,0,0,l.width,l.height,_,m,l.data):r.texImage2D(3553,O,v,l.width,l.height,0,_,m,l.data);n.generateMipmaps=!1}else y?(b&&r.texStorage2D(3553,A,v,f.width,f.height),r.texSubImage2D(3553,0,0,0,f.width,f.height,_,m,f.data)):r.texImage2D(3553,0,v,f.width,f.height,0,_,m,f.data);else if(n.isCompressedTexture){y&&b&&r.texStorage2D(3553,A,v,g[0].width,g[0].height);for(var R=0,C=g.length;R<C;R++)l=g[R],n.format!==Ne?null!==_?y?r.compressedTexSubImage2D(3553,R,0,0,l.width,l.height,_,l.data):r.compressedTexImage2D(3553,R,v,l.width,l.height,0,l.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):y?r.texSubImage2D(3553,R,0,0,l.width,l.height,_,m,l.data):r.texImage2D(3553,R,v,l.width,l.height,0,_,m,l.data)}else if(n.isDataArrayTexture)y?(b&&r.texStorage3D(35866,A,v,f.width,f.height,f.depth),r.texSubImage3D(35866,0,0,0,0,f.width,f.height,f.depth,_,m,f.data)):r.texImage3D(35866,0,v,f.width,f.height,f.depth,0,_,m,f.data);else if(n.isData3DTexture)y?(b&&r.texStorage3D(32879,A,v,f.width,f.height,f.depth),r.texSubImage3D(32879,0,0,0,0,f.width,f.height,f.depth,_,m,f.data)):r.texImage3D(32879,0,v,f.width,f.height,f.depth,0,_,m,f.data);else if(n.isFramebufferTexture)y&&b?r.texStorage2D(3553,A,v,f.width,f.height):r.texImage2D(3553,0,v,f.width,f.height,0,_,m,null);else if(g.length>0&&p){y&&b&&r.texStorage2D(3553,A,v,g[0].width,g[0].height);for(var P=0,D=g.length;P<D;P++)l=g[P],y?r.texSubImage2D(3553,P,0,0,_,m,l):r.texImage2D(3553,P,v,_,m,l);n.generateMipmaps=!1}else y?(b&&r.texStorage2D(3553,A,v,f.width,f.height),r.texSubImage2D(3553,0,0,0,_,m,f)):r.texImage2D(3553,0,v,_,m,f);x(n,p)&&k(o),u.__currentVersion=u.version,n.onUpdate&&n.onUpdate(n)}t.__version=n.version}function N(t,i,o,s,u){var l=a.convert(o.format,o.encoding),c=a.convert(o.type),h=T(o.internalFormat,l,c,o.encoding);n.get(i).__hasExternalTextures||(32879===u||35866===u?r.texImage3D(u,0,h,i.width,i.height,i.depth,0,l,c,null):r.texImage2D(u,0,h,i.width,i.height,0,l,c,null)),r.bindFramebuffer(36160,t),F(i)?_.framebufferTexture2DMultisampleEXT(36160,s,u,n.get(o).__webglTexture,0,W(i)):e.framebufferTexture2D(36160,s,u,n.get(o).__webglTexture,0),r.bindFramebuffer(36160,null)}function B(t,r,n){if(e.bindRenderbuffer(36161,t),r.depthBuffer&&!r.stencilBuffer){var i=33189;if(n||F(r)){var o=r.depthTexture;o&&o.isDepthTexture&&(o.type===Le?i=36012:o.type===Ie&&(i=33190));var s=W(r);F(r)?_.renderbufferStorageMultisampleEXT(36161,s,i,r.width,r.height):e.renderbufferStorageMultisample(36161,s,i,r.width,r.height)}else e.renderbufferStorage(36161,i,r.width,r.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(r.depthBuffer&&r.stencilBuffer){var u=W(r);n&&!1===F(r)?e.renderbufferStorageMultisample(36161,u,35056,r.width,r.height):F(r)?_.renderbufferStorageMultisampleEXT(36161,u,35056,r.width,r.height):e.renderbufferStorage(36161,34041,r.width,r.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else{var l=!0===r.isWebGLMultipleRenderTargets?r.texture[0]:r.texture,c=a.convert(l.format,l.encoding),h=a.convert(l.type),f=T(l.internalFormat,c,h,l.encoding),d=W(r);n&&!1===F(r)?e.renderbufferStorageMultisample(36161,d,f,r.width,r.height):F(r)?_.renderbufferStorageMultisampleEXT(36161,d,f,r.width,r.height):e.renderbufferStorage(36161,f,r.width,r.height)}e.bindRenderbuffer(36161,null)}function Z(t){var i=n.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),P(i.depthTexture,0);var a=n.get(i.depthTexture).__webglTexture,o=W(i);if(i.depthTexture.format===Be)F(i)?_.framebufferTexture2DMultisampleEXT(36160,36096,3553,a,0,o):e.framebufferTexture2D(36160,36096,3553,a,0);else{if(i.depthTexture.format!==Ze)throw new Error("Unknown depthTexture format");F(i)?_.framebufferTexture2DMultisampleEXT(36160,33306,3553,a,0,o):e.framebufferTexture2D(36160,33306,3553,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)r.bindFramebuffer(36160,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),B(i.__webglDepthbuffer[o],t,!1)}else r.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),B(i.__webglDepthbuffer,t,!1);r.bindFramebuffer(36160,null)}function W(e){return Math.min(p,e.samples)}function F(e){var r=n.get(e);return c&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==r.__useRenderToTexture}function z(e,r){var n=e.encoding,i=e.format,a=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===Pt||n!==kt&&(n===Tt?!1===c?!0===t.has("EXT_sRGB")&&i===Ne?(e.format=Pt,e.minFilter=Se,e.generateMipmaps=!1):r=lr.sRGBToLinear(r):i===Ne&&a===Pe||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",n)),r}this.allocateTextureUnit=function(){var e=C;return e>=h&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+h),C+=1,e},this.resetTextureUnits=function(){C=0},this.setTexture2D=P,this.setTexture2DArray=function(e,t){var i=n.get(e);e.version>0&&i.__version!==e.version?j(i,e,t):(r.activeTexture(33984+t),r.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=n.get(e);e.version>0&&i.__version!==e.version?j(i,e,t):(r.activeTexture(33984+t),r.bindTexture(32879,i.__webglTexture))},this.setTextureCube=function(t,i){var o=n.get(t);t.version>0&&o.__version!==t.version?function(t,n,i){if(6!==n.image.length)return;var o=U(t,n),s=n.source;if(r.activeTexture(33984+i),r.bindTexture(34067,t.__webglTexture),s.version!==s.__currentVersion||!0===o){e.pixelStorei(37440,n.flipY),e.pixelStorei(37441,n.premultiplyAlpha),e.pixelStorei(3317,n.unpackAlignment),e.pixelStorei(37443,0);for(var u=n.isCompressedTexture||n.image[0].isCompressedTexture,l=n.image[0]&&n.image[0].isDataTexture,h=[],d=0;d<6;d++)h[d]=u||l?l?n.image[d].image:n.image[d]:w(n.image[d],!1,!0,f),h[d]=z(n,h[d]);var p,_=h[0],m=E(_)||c,v=a.convert(n.format,n.encoding),g=a.convert(n.type),y=T(n.internalFormat,v,g,n.encoding),b=c&&!0!==n.isVideoTexture,A=void 0===t.__version,O=M(n,_,m);if(L(34067,n,m),u){b&&A&&r.texStorage2D(34067,O,y,_.width,_.height);for(var S=0;S<6;S++){p=h[S].mipmaps;for(var R=0;R<p.length;R++){var C=p[R];n.format!==Ne?null!==v?b?r.compressedTexSubImage2D(34069+S,R,0,0,C.width,C.height,v,C.data):r.compressedTexImage2D(34069+S,R,y,C.width,C.height,0,C.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):b?r.texSubImage2D(34069+S,R,0,0,C.width,C.height,v,g,C.data):r.texImage2D(34069+S,R,y,C.width,C.height,0,v,g,C.data)}}}else{p=n.mipmaps,b&&A&&(p.length>0&&O++,r.texStorage2D(34067,O,y,h[0].width,h[0].height));for(var P=0;P<6;P++)if(l){b?r.texSubImage2D(34069+P,0,0,0,h[P].width,h[P].height,v,g,h[P].data):r.texImage2D(34069+P,0,y,h[P].width,h[P].height,0,v,g,h[P].data);for(var D=0;D<p.length;D++){var I=p[D].image[P].image;b?r.texSubImage2D(34069+P,D+1,0,0,I.width,I.height,v,g,I.data):r.texImage2D(34069+P,D+1,y,I.width,I.height,0,v,g,I.data)}}else{b?r.texSubImage2D(34069+P,0,0,0,v,g,h[P]):r.texImage2D(34069+P,0,y,v,g,h[P]);for(var j=0;j<p.length;j++){var N=p[j];b?r.texSubImage2D(34069+P,j+1,0,0,v,g,N.image[P]):r.texImage2D(34069+P,j+1,y,v,g,N.image[P])}}}x(n,m)&&k(34067),s.__currentVersion=s.version,n.onUpdate&&n.onUpdate(n)}t.__version=n.version}(o,t,i):(r.activeTexture(33984+i),r.bindTexture(34067,o.__webglTexture))},this.rebindTextures=function(e,t,r){var i=n.get(e);void 0!==t&&N(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==r&&Z(e)},this.setupRenderTarget=function(t){var s=t.texture,u=n.get(t),l=n.get(s);t.addEventListener("dispose",S),!0!==t.isWebGLMultipleRenderTargets&&(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=s.version,o.memory.textures++);var h=!0===t.isWebGLCubeRenderTarget,f=!0===t.isWebGLMultipleRenderTargets,d=E(t)||c;if(h){u.__webglFramebuffer=[];for(var p=0;p<6;p++)u.__webglFramebuffer[p]=e.createFramebuffer()}else if(u.__webglFramebuffer=e.createFramebuffer(),f)if(i.drawBuffers)for(var _=t.texture,m=0,v=_.length;m<v;m++){var g=n.get(_[m]);void 0===g.__webglTexture&&(g.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(c&&t.samples>0&&!1===F(t)){u.__webglMultisampledFramebuffer=e.createFramebuffer(),u.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,u.__webglColorRenderbuffer);var y=a.convert(s.format,s.encoding),b=a.convert(s.type),w=T(s.internalFormat,y,b,s.encoding),M=W(t);e.renderbufferStorageMultisample(36161,M,w,t.width,t.height),r.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,u.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(u.__webglDepthRenderbuffer=e.createRenderbuffer(),B(u.__webglDepthRenderbuffer,t,!0)),r.bindFramebuffer(36160,null)}if(h){r.bindTexture(34067,l.__webglTexture),L(34067,s,d);for(var A=0;A<6;A++)N(u.__webglFramebuffer[A],t,s,36064,34069+A);x(s,d)&&k(34067),r.unbindTexture()}else if(f){for(var O=t.texture,R=0,C=O.length;R<C;R++){var P=O[R],D=n.get(P);r.bindTexture(3553,D.__webglTexture),L(3553,P,d),N(u.__webglFramebuffer,t,P,36064+R,3553),x(P,d)&&k(3553)}r.unbindTexture()}else{var I=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(c?I=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),r.bindTexture(I,l.__webglTexture),L(I,s,d),N(u.__webglFramebuffer,t,s,36064,I),x(s,d)&&k(I),r.unbindTexture()}t.depthBuffer&&Z(t)},this.updateRenderTargetMipmap=function(e){for(var t=E(e)||c,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],a=0,o=i.length;a<o;a++){var s=i[a];if(x(s,t)){var u=e.isWebGLCubeRenderTarget?34067:3553,l=n.get(s).__webglTexture;r.bindTexture(u,l),k(u),r.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(c&&t.samples>0&&!1===F(t)){var i=t.width,a=t.height,o=16384,s=[36064],u=t.stencilBuffer?33306:36096;t.depthBuffer&&s.push(u);var l=n.get(t),h=void 0!==l.__ignoreDepthValues&&l.__ignoreDepthValues;!1===h&&(t.depthBuffer&&(o|=256),t.stencilBuffer&&(o|=1024)),r.bindFramebuffer(36008,l.__webglMultisampledFramebuffer),r.bindFramebuffer(36009,l.__webglFramebuffer),!0===h&&(e.invalidateFramebuffer(36008,[u]),e.invalidateFramebuffer(36009,[u])),e.blitFramebuffer(0,0,i,a,0,0,i,a,o,9728),m&&e.invalidateFramebuffer(36008,s),r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,l.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=Z,this.setupFrameBufferTexture=N,this.useMultisampledRTT=F}function os(e,t,r){var n=r.isWebGL2;return{convert:function(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e===Pe)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1010===e)return 5120;if(1011===e)return 5122;if(e===De)return 5123;if(1013===e)return 5124;if(e===Ie)return 5125;if(e===Le)return 5126;if(e===Ue)return n?5131:null!==(r=t.get("OES_texture_half_float"))?r.HALF_FLOAT_OES:null;if(1021===e)return 6406;if(e===Ne)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(e===Be)return 6402;if(e===Ze)return 34041;if(1028===e)return 6403;if(1022===e)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(e===Pt)return null!==(r=t.get("EXT_sRGB"))?r.SRGB_ALPHA_EXT:null;if(1029===e)return 36244;if(1030===e)return 33319;if(1031===e)return 33320;if(1033===e)return 36249;if(e===We||e===Fe||e===ze||e===Ke)if(i===Tt){if(null===(r=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(e===We)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(e===Fe)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(e===ze)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(e===Ke)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(r=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===We)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Fe)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===ze)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Ke)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===He||e===Ge||e===Ve||e===Xe){if(null===(r=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===He)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===Ge)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===Ve)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===Xe)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===Ye)return null!==(r=t.get("WEBGL_compressed_texture_etc1"))?r.COMPRESSED_RGB_ETC1_WEBGL:null;if(e===qe||e===$e){if(null===(r=t.get("WEBGL_compressed_texture_etc")))return null;if(e===qe)return i===Tt?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(e===$e)return i===Tt?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}if(e===Je||e===Qe||e===et||e===tt||e===rt||e===nt||e===it||e===at||e===ot||e===st||e===ut||e===lt||e===ct||e===ht){if(null===(r=t.get("WEBGL_compressed_texture_astc")))return null;if(e===Je)return i===Tt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(e===Qe)return i===Tt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(e===et)return i===Tt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(e===tt)return i===Tt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(e===rt)return i===Tt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(e===nt)return i===Tt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(e===it)return i===Tt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(e===at)return i===Tt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(e===ot)return i===Tt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(e===st)return i===Tt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(e===ut)return i===Tt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(e===lt)return i===Tt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(e===ct)return i===Tt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(e===ht)return i===Tt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}if(e===ft){if(null===(r=t.get("EXT_texture_compression_bptc")))return null;if(e===ft)return i===Tt?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT}return e===je?n?34042:null!==(r=t.get("WEBGL_depth_texture"))?r.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}var ss=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,de.Z)(this,r),(e=t.call(this)).cameras=n,e}return(0,pe.Z)(r)}(xi);ss.prototype.isArrayCamera=!0;var us=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e;return(0,de.Z)(this,r),(e=t.call(this)).type="Group",e}return(0,pe.Z)(r)}(xn);us.prototype.isGroup=!0;var ls={type:"move"},cs=function(){function e(){(0,de.Z)(this,e),this._targetRay=null,this._grip=null,this._hand=null}return(0,pe.Z)(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new us,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new us,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new br,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new br),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new us,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new br,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new br),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,r){var n=null,i=null,a=null,o=this._targetRay,s=this._grip,u=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(null!==o&&null!==(n=t.getPose(e.targetRaySpace,r))&&(o.matrix.fromArray(n.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),n.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(n.linearVelocity)):o.hasLinearVelocity=!1,n.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(n.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(ls)),u&&e.hand){a=!0;var l,c=(0,ae.Z)(e.hand.values());try{for(c.s();!(l=c.n()).done;){var h=l.value,f=t.getJointPose(h,r);if(void 0===u.joints[h.jointName]){var d=new us;d.matrixAutoUpdate=!1,d.visible=!1,u.joints[h.jointName]=d,u.add(d)}var p=u.joints[h.jointName];null!==f&&(p.matrix.fromArray(f.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.jointRadius=f.radius),p.visible=null!==f}}catch(g){c.e(g)}finally{c.f()}var _=u.joints["index-finger-tip"],m=u.joints["thumb-tip"],v=_.position.distanceTo(m.position);u.inputState.pinching&&v>.025?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&v<=.015&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,r))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);return null!==o&&(o.visible=null!==n),null!==s&&(s.visible=null!==i),null!==u&&(u.visible=null!==a),this}}]),e}(),hs=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i,a,o,s,u,l,c,h){var f;if((0,de.Z)(this,r),(h=void 0!==h?h:Be)!==Be&&h!==Ze)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&h===Be&&(i=De),void 0===i&&h===Ze&&(i=je),(f=t.call(this,null,a,o,s,u,l,h,i,c)).image={width:e,height:n},f.magFilter=void 0!==u?u:Me,f.minFilter=void 0!==l?l:Me,f.flipY=!1,f.generateMipmaps=!1,f}return(0,pe.Z)(r)}(dr);hs.prototype.isDepthTexture=!0;var fs=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,a){var o;(0,de.Z)(this,r),o=t.call(this);var s=(0,le.Z)(o),u=null,l=1,c=null,h="local-floor",f=null,d=null,p=null,_=null,m=null,v=a.getContextAttributes(),g=null,y=null,b=[],w=new Map,E=new xi;E.layers.enable(1),E.viewport=new pr;var x=new xi;x.layers.enable(2),x.viewport=new pr;var k=[E,x],T=new ss;T.layers.enable(1),T.layers.enable(2);var M=null,A=null;function O(e){var t=w.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function S(){w.forEach((function(e,t){e.disconnect(t)})),w.clear(),M=null,A=null,e.setRenderTarget(g),_=null,p=null,d=null,u=null,y=null,L.stop(),s.isPresenting=!1,s.dispatchEvent({type:"sessionend"})}function R(e){for(var t=u.inputSources,r=0;r<b.length;r++)w.set(t[r],b[r]);for(var n=0;n<e.removed.length;n++){var i=e.removed[n],a=w.get(i);a&&(a.dispatchEvent({type:"disconnected",data:i}),w.delete(i))}for(var o=0;o<e.added.length;o++){var s=e.added[o],l=w.get(s);l&&l.dispatchEvent({type:"connected",data:s})}}o.cameraAutoUpdate=!0,o.enabled=!1,o.isPresenting=!1,o.getController=function(e){var t=b[e];return void 0===t&&(t=new cs,b[e]=t),t.getTargetRaySpace()},o.getControllerGrip=function(e){var t=b[e];return void 0===t&&(t=new cs,b[e]=t),t.getGripSpace()},o.getHand=function(e){var t=b[e];return void 0===t&&(t=new cs,b[e]=t),t.getHandSpace()},o.setFramebufferScaleFactor=function(e){l=e,!0===s.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},o.setReferenceSpaceType=function(e){h=e,!0===s.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},o.getReferenceSpace=function(){return c},o.getBaseLayer=function(){return null!==p?p:_},o.getBinding=function(){return d},o.getFrame=function(){return m},o.getSession=function(){return u},o.setSession=function(){var t=(0,i.Z)((0,n.Z)().mark((function t(r){var i,o,f,m,b;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(u=r)){t.next=24;break}if(g=e.getRenderTarget(),u.addEventListener("select",O),u.addEventListener("selectstart",O),u.addEventListener("selectend",O),u.addEventListener("squeeze",O),u.addEventListener("squeezestart",O),u.addEventListener("squeezeend",O),u.addEventListener("end",S),u.addEventListener("inputsourceschange",R),!0===v.xrCompatible){t.next=14;break}return t.next=14,a.makeXRCompatible();case 14:return void 0===u.renderState.layers||!1===e.capabilities.isWebGL2?(i={antialias:void 0!==u.renderState.layers||v.antialias,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:l},_=new XRWebGLLayer(u,a,i),u.updateRenderState({baseLayer:_}),y=new _r(_.framebufferWidth,_.framebufferHeight,{format:Ne,type:Pe,encoding:e.outputEncoding})):(o=null,f=null,m=null,v.depth&&(m=v.stencil?35056:33190,o=v.stencil?Ze:Be,f=v.stencil?je:De),b={colorFormat:e.outputEncoding===Tt?35907:32856,depthFormat:m,scaleFactor:l},d=new XRWebGLBinding(u,a),p=d.createProjectionLayer(b),u.updateRenderState({layers:[p]}),y=new _r(p.textureWidth,p.textureHeight,{format:Ne,type:Pe,depthTexture:new hs(p.textureWidth,p.textureHeight,f,void 0,void 0,void 0,void 0,void 0,void 0,o),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0}),e.properties.get(y).__ignoreDepthValues=p.ignoreDepthValues),y.isXRRenderTarget=!0,this.setFoveation(1),t.next=19,u.requestReferenceSpace(h);case 19:c=t.sent,L.setContext(u),L.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"});case 24:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();var C=new br,P=new br;function D(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}o.updateCamera=function(e){if(null!==u){T.near=x.near=E.near=e.near,T.far=x.far=E.far=e.far,M===T.near&&A===T.far||(u.updateRenderState({depthNear:T.near,depthFar:T.far}),M=T.near,A=T.far);var t=e.parent,r=T.cameras;D(T,t);for(var n=0;n<r.length;n++)D(r[n],t);T.matrixWorld.decompose(T.position,T.quaternion,T.scale),e.position.copy(T.position),e.quaternion.copy(T.quaternion),e.scale.copy(T.scale),e.matrix.copy(T.matrix),e.matrixWorld.copy(T.matrixWorld);for(var i=e.children,a=0,o=i.length;a<o;a++)i[a].updateMatrixWorld(!0);2===r.length?function(e,t,r){C.setFromMatrixPosition(t.matrixWorld),P.setFromMatrixPosition(r.matrixWorld);var n=C.distanceTo(P),i=t.projectionMatrix.elements,a=r.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],h=(a[8]+1)/a[0],f=o*c,d=o*h,p=n/(-c+h),_=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(_),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+p,v=s+p,g=f-_,y=d+(n-_),b=u*s/v*m,w=l*s/v*m;e.projectionMatrix.makePerspective(g,y,b,w,m,v)}(T,E,x):T.projectionMatrix.copy(E.projectionMatrix)}},o.getCamera=function(){return T},o.getFoveation=function(){return null!==p?p.fixedFoveation:null!==_?_.fixedFoveation:void 0},o.setFoveation=function(e){null!==p&&(p.fixedFoveation=e),null!==_&&void 0!==_.fixedFoveation&&(_.fixedFoveation=e)};var I=null;var L=new Li;return L.setAnimationLoop((function(t,r){if(f=r.getViewerPose(c),m=r,null!==f){var n=f.views;null!==_&&(e.setRenderTargetFramebuffer(y,_.framebuffer),e.setRenderTarget(y));var i=!1;n.length!==T.cameras.length&&(T.cameras.length=0,i=!0);for(var a=0;a<n.length;a++){var o=n[a],s=null;if(null!==_)s=_.getViewport(o);else{var l=d.getViewSubImage(p,o);s=l.viewport,0===a&&(e.setRenderTargetTextures(y,l.colorTexture,p.ignoreDepthValues?void 0:l.depthStencilTexture),e.setRenderTarget(y))}var h=k[a];h.matrix.fromArray(o.transform.matrix),h.projectionMatrix.fromArray(o.projectionMatrix),h.viewport.set(s.x,s.y,s.width,s.height),0===a&&T.matrix.copy(h.matrix),!0===i&&T.cameras.push(h)}}for(var v=u.inputSources,g=0;g<b.length;g++){var w=b[g],E=v[g];w.update(E,r,c)}I&&I(t,r),m=null})),o.setAnimationLoop=function(e){I=e},o.dispose=function(){},o}return(0,pe.Z)(r)}(Dt);function ds(e,t){function r(r,n){r.opacity.value=n.opacity,n.color&&r.diffuse.value.copy(n.color),n.emissive&&r.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(r.map.value=n.map),n.alphaMap&&(r.alphaMap.value=n.alphaMap),n.bumpMap&&(r.bumpMap.value=n.bumpMap,r.bumpScale.value=n.bumpScale,1===n.side&&(r.bumpScale.value*=-1)),n.displacementMap&&(r.displacementMap.value=n.displacementMap,r.displacementScale.value=n.displacementScale,r.displacementBias.value=n.displacementBias),n.emissiveMap&&(r.emissiveMap.value=n.emissiveMap),n.normalMap&&(r.normalMap.value=n.normalMap,r.normalScale.value.copy(n.normalScale),1===n.side&&r.normalScale.value.negate()),n.specularMap&&(r.specularMap.value=n.specularMap),n.alphaTest>0&&(r.alphaTest.value=n.alphaTest);var i,a,o=t.get(n).envMap;if(o&&(r.envMap.value=o,r.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,r.reflectivity.value=n.reflectivity,r.ior.value=n.ior,r.refractionRatio.value=n.refractionRatio),n.lightMap){r.lightMap.value=n.lightMap;var s=!0!==e.physicallyCorrectLights?Math.PI:1;r.lightMapIntensity.value=n.lightMapIntensity*s}n.aoMap&&(r.aoMap.value=n.aoMap,r.aoMapIntensity.value=n.aoMapIntensity),n.map?i=n.map:n.specularMap?i=n.specularMap:n.displacementMap?i=n.displacementMap:n.normalMap?i=n.normalMap:n.bumpMap?i=n.bumpMap:n.roughnessMap?i=n.roughnessMap:n.metalnessMap?i=n.metalnessMap:n.alphaMap?i=n.alphaMap:n.emissiveMap?i=n.emissiveMap:n.clearcoatMap?i=n.clearcoatMap:n.clearcoatNormalMap?i=n.clearcoatNormalMap:n.clearcoatRoughnessMap?i=n.clearcoatRoughnessMap:n.specularIntensityMap?i=n.specularIntensityMap:n.specularColorMap?i=n.specularColorMap:n.transmissionMap?i=n.transmissionMap:n.thicknessMap?i=n.thicknessMap:n.sheenColorMap?i=n.sheenColorMap:n.sheenRoughnessMap&&(i=n.sheenRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),r.uvTransform.value.copy(i.matrix)),n.aoMap?a=n.aoMap:n.lightMap&&(a=n.lightMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),r.uv2Transform.value.copy(a.matrix))}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,n,i,a,o){n.isMeshBasicMaterial||n.isMeshLambertMaterial?r(e,n):n.isMeshToonMaterial?(r(e,n),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,n)):n.isMeshPhongMaterial?(r(e,n),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,n)):n.isMeshStandardMaterial?(r(e,n),function(e,r){e.roughness.value=r.roughness,e.metalness.value=r.metalness,r.roughnessMap&&(e.roughnessMap.value=r.roughnessMap);r.metalnessMap&&(e.metalnessMap.value=r.metalnessMap);t.get(r).envMap&&(e.envMapIntensity.value=r.envMapIntensity)}(e,n),n.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,1===t.side&&e.clearcoatNormalScale.value.negate()));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap);t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}(e,n,o)):n.isMeshMatcapMaterial?(r(e,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,n)):n.isMeshDepthMaterial?r(e,n):n.isMeshDistanceMaterial?(r(e,n),function(e,t){e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,n)):n.isMeshNormalMaterial?r(e,n):n.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,n)):n.isPointsMaterial?function(e,t,r,n){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*n,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);var i;t.map?i=t.map:t.alphaMap&&(i=t.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,n,i,a):n.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);var r;t.map?r=t.map:t.alphaMap&&(r=t.alphaMap);void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}(e,n):n.isShadowMaterial?(e.color.value.copy(n.color),e.opacity.value=n.opacity):n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)}}}function ps(){var e=qt("canvas");return e.style.display="block",e}function _s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=void 0!==t.canvas?t.canvas:ps(),n=void 0!==t.context?t.context:null,i=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,u=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,l=void 0!==t.powerPreference?t.powerPreference:"default",c=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;e=void 0!==t.context?n.getContextAttributes().alpha:void 0!==t.alpha&&t.alpha;var h=null,f=null,d=[],p=[];this.domElement=r,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=kt,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;var _=this,m=!1,v=0,g=0,y=null,b=-1,w=null,E=new pr,x=new pr,k=null,T=r.width,M=r.height,A=1,O=null,S=null,R=new pr(0,0,T,M),C=new pr(0,0,T,M),P=!1,D=new Ii,I=!1,L=!1,U=null,j=new $r,N=new Vt,B=new br,Z={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function W(){return null===y?A:1}var F,z,K,H,G,V,X,Y,q,$,J,Q,ee,te,re,ne,ie,ae,oe,se,ue,le,ce,he=n;function fe(e,t){for(var n=0;n<e.length;n++){var i=e[n],a=r.getContext(i,t);if(null!==a)return a}return null}try{var de={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in r&&r.setAttribute("data-engine","three.js r".concat(ve)),r.addEventListener("webglcontextlost",ge,!1),r.addEventListener("webglcontextrestored",ye,!1),null===he){var pe=["webgl2","webgl","experimental-webgl"];if(!0===_.isWebGL1Renderer&&pe.shift(),null===(he=fe(pe,de)))throw fe(pe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===he.getShaderPrecisionFormat&&(he.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ze){throw console.error("THREE.WebGLRenderer: "+ze.message),ze}function _e(){F=new ua(he),z=new Ki(he,F,t),F.init(z),le=new os(he,F,z),K=new is(he,F,z),H=new ha(he),G=new Ko,V=new as(he,F,K,G,z,le,H),X=new Gi(_),Y=new sa(_),q=new Ui(he,z),ce=new Fi(he,F,q,z),$=new la(he,q,H,ce),J=new ma(he,$,q,H),oe=new _a(he,z,V),ne=new Hi(G),Q=new zo(_,X,Y,F,z,ce,ne),ee=new ds(_,G),te=new Xo,re=new es(F,z),ae=new Wi(_,X,K,J,e,s),ie=new ns(_,J,z),se=new zi(he,F,H,z),ue=new ca(he,F,H,z),H.programs=Q.programs,_.capabilities=z,_.extensions=F,_.properties=G,_.renderLists=te,_.shadowMap=ie,_.state=K,_.info=H}_e();var me=new fs(_,he);function ge(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function ye(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1;var e=H.autoReset,t=ie.enabled,r=ie.autoUpdate,n=ie.needsUpdate,i=ie.type;_e(),H.autoReset=e,ie.enabled=t,ie.autoUpdate=r,ie.needsUpdate=n,ie.type=i}function be(e){var t=e.target;t.removeEventListener("dispose",be),we(t)}function we(e){Ee(e),G.remove(e)}function Ee(e){var t=G.get(e).programs;void 0!==t&&(t.forEach((function(e){Q.releaseProgram(e)})),e.isShaderMaterial&&Q.releaseShaderCache(e))}this.xr=me,this.getContext=function(){return he},this.getContextAttributes=function(){return he.getContextAttributes()},this.forceContextLoss=function(){var e=F.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=F.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return A},this.setPixelRatio=function(e){void 0!==e&&(A=e,this.setSize(T,M,!1))},this.getSize=function(e){return e.set(T,M)},this.setSize=function(e,t,n){me.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(T=e,M=t,r.width=Math.floor(e*A),r.height=Math.floor(t*A),!1!==n&&(r.style.width=e+"px",r.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(T*A,M*A).floor()},this.setDrawingBufferSize=function(e,t,n){T=e,M=t,A=n,r.width=Math.floor(e*n),r.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(E)},this.getViewport=function(e){return e.copy(R)},this.setViewport=function(e,t,r,n){e.isVector4?R.set(e.x,e.y,e.z,e.w):R.set(e,t,r,n),K.viewport(E.copy(R).multiplyScalar(A).floor())},this.getScissor=function(e){return e.copy(C)},this.setScissor=function(e,t,r,n){e.isVector4?C.set(e.x,e.y,e.z,e.w):C.set(e,t,r,n),K.scissor(x.copy(C).multiplyScalar(A).floor())},this.getScissorTest=function(){return P},this.setScissorTest=function(e){K.setScissorTest(P=e)},this.setOpaqueSort=function(e){O=e},this.setTransparentSort=function(e){S=e},this.getClearColor=function(e){return e.copy(ae.getClearColor())},this.setClearColor=function(){ae.setClearColor.apply(ae,arguments)},this.getClearAlpha=function(){return ae.getClearAlpha()},this.setClearAlpha=function(){ae.setClearAlpha.apply(ae,arguments)},this.clear=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;e&&(n|=16384),t&&(n|=256),r&&(n|=1024),he.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){r.removeEventListener("webglcontextlost",ge,!1),r.removeEventListener("webglcontextrestored",ye,!1),te.dispose(),re.dispose(),G.dispose(),X.dispose(),Y.dispose(),J.dispose(),ce.dispose(),Q.dispose(),me.dispose(),me.removeEventListener("sessionstart",Te),me.removeEventListener("sessionend",Me),U&&(U.dispose(),U=null),Ae.stop()},this.renderBufferDirect=function(e,t,r,n,i,a){null===t&&(t=Z);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=Ze(e,t,r,n,i);K.setMaterial(n,o);var u=r.index,l=r.attributes.position;if(null===u){if(void 0===l||0===l.count)return}else if(0===u.count)return;var c,h=1;!0===n.wireframe&&(u=$.getWireframeAttribute(r),h=2),ce.setup(i,n,s,r,u);var f=se;null!==u&&(c=q.get(u),(f=ue).setIndex(c));var d=null!==u?u.count:l.count,p=r.drawRange.start*h,_=r.drawRange.count*h,m=null!==a?a.start*h:0,v=null!==a?a.count*h:1/0,g=Math.max(p,m),y=Math.min(d,p+_,m+v)-1,b=Math.max(0,y-g+1);if(0!==b){if(i.isMesh)!0===n.wireframe?(K.setLineWidth(n.wireframeLinewidth*W()),f.setMode(1)):f.setMode(4);else if(i.isLine){var w=n.linewidth;void 0===w&&(w=1),K.setLineWidth(w*W()),i.isLineSegments?f.setMode(1):i.isLineLoop?f.setMode(2):f.setMode(3)}else i.isPoints?f.setMode(0):i.isSprite&&f.setMode(4);if(i.isInstancedMesh)f.renderInstances(g,b,i.count);else if(r.isInstancedBufferGeometry){var E=Math.min(r.instanceCount,r._maxInstanceCount);f.renderInstances(g,b,E)}else f.render(g,b)}},this.compile=function(e,t){(f=re.get(e)).init(),p.push(f),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(f.pushLight(e),e.castShadow&&f.pushShadow(e))})),f.setupLights(_.physicallyCorrectLights),e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var n=0;n<r.length;n++){je(r[n],e,t)}else je(r,e,t)})),p.pop(),f=null};var xe=null;function ke(e){xe&&xe(e)}function Te(){Ae.stop()}function Me(){Ae.start()}var Ae=new Li;function Oe(e,t,r,n){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)r=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)f.pushLight(e),e.castShadow&&f.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||D.intersectsSprite(e)){n&&B.setFromMatrixPosition(e.matrixWorld).applyMatrix4(j);var i=J.update(e),a=e.material;a.visible&&h.push(e,i,a,r,B.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==H.render.frame&&(e.skeleton.update(),e.skeleton.frame=H.render.frame),!e.frustumCulled||D.intersectsObject(e))){n&&B.setFromMatrixPosition(e.matrixWorld).applyMatrix4(j);var o=J.update(e),s=e.material;if(Array.isArray(s))for(var u=o.groups,l=0,c=u.length;l<c;l++){var d=u[l],p=s[d.materialIndex];p&&p.visible&&h.push(e,o,p,r,B.z,d)}else s.visible&&h.push(e,o,s,r,B.z,null)}for(var _=e.children,m=0,v=_.length;m<v;m++)Oe(_[m],t,r,n)}}function Se(e,t,r,n){var i=e.opaque,a=e.transmissive,o=e.transparent;f.setupLightsView(r),a.length>0&&Re(i,t,r),n&&K.viewport(E.copy(n)),i.length>0&&De(i,t,r),a.length>0&&De(a,t,r),o.length>0&&De(o,t,r),K.buffers.depth.setTest(!0),K.buffers.depth.setMask(!0),K.buffers.color.setMask(!0),K.setPolygonOffset(!1)}function Re(e,t,r){var n=z.isWebGL2;null===U&&(U=new _r(1,1,{generateMipmaps:!0,type:null!==le.convert(Ue)?Ue:Pe,minFilter:Ce,samples:n&&!0===o?4:0})),_.getDrawingBufferSize(N),n?U.setSize(N.x,N.y):U.setSize(Ht(N.x),Ht(N.y));var i=_.getRenderTarget();_.setRenderTarget(U),_.clear();var a=_.toneMapping;_.toneMapping=0,De(e,t,r),_.toneMapping=a,V.updateMultisampleRenderTarget(U),V.updateRenderTargetMipmap(U),_.setRenderTarget(i)}function De(e,t,r){for(var n=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,u=o.geometry,l=null===n?o.material:n,c=o.group;s.layers.test(r.layers)&&Ie(s,t,r,u,l,c)}}function Ie(e,t,r,n,i,a){e.onBeforeRender(_,t,r,n,i,a),e.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(_,t,r,n,e,a),!0===i.transparent&&2===i.side?(i.side=1,i.needsUpdate=!0,_.renderBufferDirect(r,t,n,i,e,a),i.side=0,i.needsUpdate=!0,_.renderBufferDirect(r,t,n,i,e,a),i.side=2):_.renderBufferDirect(r,t,n,i,e,a),e.onAfterRender(_,t,r,n,i,a)}function je(e,t,r){!0!==t.isScene&&(t=Z);var n=G.get(e),i=f.state.lights,a=f.state.shadowsArray,o=i.state.version,s=Q.getParameters(e,i.state,a,t,r),u=Q.getProgramCacheKey(s),l=n.programs;n.environment=e.isMeshStandardMaterial?t.environment:null,n.fog=t.fog,n.envMap=(e.isMeshStandardMaterial?Y:X).get(e.envMap||n.environment),void 0===l&&(e.addEventListener("dispose",be),l=new Map,n.programs=l);var c=l.get(u);if(void 0!==c){if(n.currentProgram===c&&n.lightsStateVersion===o)return Be(e,s),c}else s.uniforms=Q.getUniforms(e),e.onBuild(r,s,_),e.onBeforeCompile(s,_),c=Q.acquireProgram(s,u),l.set(u,c),n.uniforms=s.uniforms;var h=n.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=ne.uniform),Be(e,s),n.needsLights=Fe(e),n.lightsStateVersion=o,n.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotShadowMatrix.value=i.state.spotShadowMatrix,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix);var d=c.getUniforms(),p=wo.seqWithValue(d.seq,h);return n.currentProgram=c,n.uniformsList=p,c}function Be(e,t){var r=G.get(e);r.outputEncoding=t.outputEncoding,r.instancing=t.instancing,r.skinning=t.skinning,r.morphTargets=t.morphTargets,r.morphNormals=t.morphNormals,r.morphColors=t.morphColors,r.morphTargetsCount=t.morphTargetsCount,r.numClippingPlanes=t.numClippingPlanes,r.numIntersection=t.numClipIntersection,r.vertexAlphas=t.vertexAlphas,r.vertexTangents=t.vertexTangents,r.toneMapping=t.toneMapping}function Ze(e,t,r,n,i){!0!==t.isScene&&(t=Z),V.resetTextureUnits();var a=t.fog,o=n.isMeshStandardMaterial?t.environment:null,s=null===y?_.outputEncoding:!0===y.isXRRenderTarget?y.texture.encoding:kt,u=(n.isMeshStandardMaterial?Y:X).get(n.envMap||o),l=!0===n.vertexColors&&!!r.attributes.color&&4===r.attributes.color.itemSize,c=!!n.normalMap&&!!r.attributes.tangent,h=!!r.morphAttributes.position,d=!!r.morphAttributes.normal,p=!!r.morphAttributes.color,m=n.toneMapped?_.toneMapping:0,v=r.morphAttributes.position||r.morphAttributes.normal||r.morphAttributes.color,g=void 0!==v?v.length:0,E=G.get(n),x=f.state.lights;if(!0===I&&(!0===L||e!==w)){var k=e===w&&n.id===b;ne.setState(n,e,k)}var T=!1;n.version===E.__version?E.needsLights&&E.lightsStateVersion!==x.state.version||E.outputEncoding!==s||i.isInstancedMesh&&!1===E.instancing?T=!0:i.isInstancedMesh||!0!==E.instancing?i.isSkinnedMesh&&!1===E.skinning?T=!0:i.isSkinnedMesh||!0!==E.skinning?E.envMap!==u||n.fog&&E.fog!==a?T=!0:void 0===E.numClippingPlanes||E.numClippingPlanes===ne.numPlanes&&E.numIntersection===ne.numIntersection?(E.vertexAlphas!==l||E.vertexTangents!==c||E.morphTargets!==h||E.morphNormals!==d||E.morphColors!==p||E.toneMapping!==m||!0===z.isWebGL2&&E.morphTargetsCount!==g)&&(T=!0):T=!0:T=!0:T=!0:(T=!0,E.__version=n.version);var O=E.currentProgram;!0===T&&(O=je(n,t,i));var S=!1,R=!1,C=!1,P=O.getUniforms(),D=E.uniforms;if(K.useProgram(O.program)&&(S=!0,R=!0,C=!0),n.id!==b&&(b=n.id,R=!0),S||w!==e){if(P.setValue(he,"projectionMatrix",e.projectionMatrix),z.logarithmicDepthBuffer&&P.setValue(he,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),w!==e&&(w=e,R=!0,C=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var j=P.map.cameraPosition;void 0!==j&&j.setValue(he,B.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&P.setValue(he,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||i.isSkinnedMesh)&&P.setValue(he,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){P.setOptional(he,i,"bindMatrix"),P.setOptional(he,i,"bindMatrixInverse");var N=i.skeleton;N&&(z.floatVertexTextures?(null===N.boneTexture&&N.computeBoneTexture(),P.setValue(he,"boneTexture",N.boneTexture,V),P.setValue(he,"boneTextureSize",N.boneTextureSize)):P.setOptional(he,N,"boneMatrices"))}var W=r.morphAttributes;return(void 0!==W.position||void 0!==W.normal||void 0!==W.color&&!0===z.isWebGL2)&&oe.update(i,r,n,O),(R||E.receiveShadow!==i.receiveShadow)&&(E.receiveShadow=i.receiveShadow,P.setValue(he,"receiveShadow",i.receiveShadow)),R&&(P.setValue(he,"toneMappingExposure",_.toneMappingExposure),E.needsLights&&We(D,C),a&&n.fog&&ee.refreshFogUniforms(D,a),ee.refreshMaterialUniforms(D,n,A,M,U),wo.upload(he,E.uniformsList,D,V)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(wo.upload(he,E.uniformsList,D,V),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&P.setValue(he,"center",i.center),P.setValue(he,"modelViewMatrix",i.modelViewMatrix),P.setValue(he,"normalMatrix",i.normalMatrix),P.setValue(he,"modelMatrix",i.matrixWorld),O}function We(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function Fe(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}Ae.setAnimationLoop(ke),"undefined"!==typeof self&&Ae.setContext(self),this.setAnimationLoop=function(e){xe=e,me.setAnimationLoop(e),null===e?Ae.stop():Ae.start()},me.addEventListener("sessionstart",Te),me.addEventListener("sessionend",Me),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==m){!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===me.enabled&&!0===me.isPresenting&&(!0===me.cameraAutoUpdate&&me.updateCamera(t),t=me.getCamera()),!0===e.isScene&&e.onBeforeRender(_,e,t,y),(f=re.get(e,p.length)).init(),p.push(f),j.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),D.setFromProjectionMatrix(j),L=this.localClippingEnabled,I=ne.init(this.clippingPlanes,L,t),(h=te.get(e,d.length)).init(),d.push(h),Oe(e,t,0,_.sortObjects),h.finish(),!0===_.sortObjects&&h.sort(O,S),!0===I&&ne.beginShadows();var r=f.state.shadowsArray;if(ie.render(r,e,t),!0===I&&ne.endShadows(),!0===this.info.autoReset&&this.info.reset(),ae.render(h,e),f.setupLights(_.physicallyCorrectLights),t.isArrayCamera)for(var n=t.cameras,i=0,a=n.length;i<a;i++){var o=n[i];Se(h,e,o,o.viewport)}else Se(h,e,t);null!==y&&(V.updateMultisampleRenderTarget(y),V.updateRenderTargetMipmap(y)),!0===e.isScene&&e.onAfterRender(_,e,t),ce.resetDefaultState(),b=-1,w=null,p.pop(),f=p.length>0?p[p.length-1]:null,d.pop(),h=d.length>0?d[d.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return g},this.getRenderTarget=function(){return y},this.setRenderTargetTextures=function(e,t,r){G.get(e.texture).__webglTexture=t,G.get(e.depthTexture).__webglTexture=r;var n=G.get(e);n.__hasExternalTextures=!0,n.__hasExternalTextures&&(n.__autoAllocateDepthBuffer=void 0===r,n.__autoAllocateDepthBuffer||!0===F.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),n.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var r=G.get(e);r.__webglFramebuffer=t,r.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;y=e,v=t,g=r;var n=!0;if(e){var i=G.get(e);void 0!==i.__useDefaultFramebuffer?(K.bindFramebuffer(36160,null),n=!1):void 0===i.__webglFramebuffer?V.setupRenderTarget(e):i.__hasExternalTextures&&V.rebindTextures(e,G.get(e.texture).__webglTexture,G.get(e.depthTexture).__webglTexture)}var a=null,o=!1,s=!1;if(e){var u=e.texture;(u.isData3DTexture||u.isDataArrayTexture)&&(s=!0);var l=G.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(a=l[t],o=!0):a=z.isWebGL2&&e.samples>0&&!1===V.useMultisampledRTT(e)?G.get(e).__webglMultisampledFramebuffer:l,E.copy(e.viewport),x.copy(e.scissor),k=e.scissorTest}else E.copy(R).multiplyScalar(A).floor(),x.copy(C).multiplyScalar(A).floor(),k=P;var c=K.bindFramebuffer(36160,a);if(c&&z.drawBuffers&&n&&K.drawBuffers(e,a),K.viewport(E),K.scissor(x),K.setScissorTest(k),o){var h=G.get(e.texture);he.framebufferTexture2D(36160,36064,34069+t,h.__webglTexture,r)}else if(s){var f=G.get(e.texture),d=t||0;he.framebufferTextureLayer(36160,36064,f.__webglTexture,r||0,d)}b=-1},this.readRenderTargetPixels=function(e,t,r,n,i,a,o){if(e&&e.isWebGLRenderTarget){var s=G.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){K.bindFramebuffer(36160,s);try{var u=e.texture,l=u.format,c=u.type;if(l!==Ne&&le.convert(l)!==he.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var h=c===Ue&&(F.has("EXT_color_buffer_half_float")||z.isWebGL2&&F.has("EXT_color_buffer_float"));if(c!==Pe&&le.convert(c)!==he.getParameter(35738)&&(c!==Le||!(z.isWebGL2||F.has("OES_texture_float")||F.has("WEBGL_color_buffer_float")))&&!h)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-n&&r>=0&&r<=e.height-i&&he.readPixels(t,r,n,i,le.convert(l),le.convert(c),a)}finally{var f=null!==y?G.get(y).__webglFramebuffer:null;K.bindFramebuffer(36160,f)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!0===t.isFramebufferTexture){var n=Math.pow(2,-r),i=Math.floor(t.image.width*n),a=Math.floor(t.image.height*n);V.setTexture2D(t,0),he.copyTexSubImage2D(3553,r,0,0,e.x,e.y,i,a),K.unbindTexture()}else console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.")},this.copyTextureToTexture=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=le.convert(r.format),s=le.convert(r.type);V.setTexture2D(r,0),he.pixelStorei(37440,r.flipY),he.pixelStorei(37441,r.premultiplyAlpha),he.pixelStorei(3317,r.unpackAlignment),t.isDataTexture?he.texSubImage2D(3553,n,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?he.compressedTexSubImage2D(3553,n,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):he.texSubImage2D(3553,n,e.x,e.y,o,s,t.image),0===n&&r.generateMipmaps&&he.generateMipmap(3553),K.unbindTexture()},this.copyTextureToTexture3D=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(_.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,u=e.max.z-e.min.z+1,l=le.convert(n.format),c=le.convert(n.type);if(n.isData3DTexture)V.setTexture3D(n,0),a=32879;else{if(!n.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");V.setTexture2DArray(n,0),a=35866}he.pixelStorei(37440,n.flipY),he.pixelStorei(37441,n.premultiplyAlpha),he.pixelStorei(3317,n.unpackAlignment);var h=he.getParameter(3314),f=he.getParameter(32878),d=he.getParameter(3316),p=he.getParameter(3315),m=he.getParameter(32877),v=r.isCompressedTexture?r.mipmaps[0]:r.image;he.pixelStorei(3314,v.width),he.pixelStorei(32878,v.height),he.pixelStorei(3316,e.min.x),he.pixelStorei(3315,e.min.y),he.pixelStorei(32877,e.min.z),r.isDataTexture||r.isData3DTexture?he.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,v.data):r.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),he.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,v.data)):he.texSubImage3D(a,i,t.x,t.y,t.z,o,s,u,l,c,v),he.pixelStorei(3314,h),he.pixelStorei(32878,f),he.pixelStorei(3316,d),he.pixelStorei(3315,p),he.pixelStorei(32877,m),0===i&&n.generateMipmaps&&he.generateMipmap(a),K.unbindTexture()}},this.initTexture=function(e){V.setTexture2D(e,0),K.unbindTexture()},this.resetState=function(){v=0,g=0,y=null,K.reset(),ce.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}_s.prototype.isWebGLRenderer=!0;var ms=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){return(0,de.Z)(this,r),t.apply(this,arguments)}return(0,pe.Z)(r)}(_s);ms.prototype.isWebGL1Renderer=!0;var vs=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e;return(0,de.Z)(this,r),(e=t.call(this)).type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:(0,le.Z)(e)})),e}return(0,pe.Z)(r,[{key:"copy",value:function(e,t){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}]),r}(xn);vs.prototype.isScene=!0;var gs=function(){function e(t,r){(0,de.Z)(this,e),this.array=t,this.stride=r,this.count=void 0!==t?t.length/r:0,this.usage=St,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Bt()}return(0,pe.Z)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,r){e*=this.stride,r*=t.stride;for(var n=0,i=this.stride;n<i;n++)this.array[e+n]=t.array[r+n];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Bt()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Bt()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}();gs.prototype.isInterleavedBuffer=!0;var ys=new br,bs=function(){function e(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,de.Z)(this,e),this.name="",this.data=t,this.itemSize=r,this.offset=n,this.normalized=!0===i}return(0,pe.Z)(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,r=this.data.count;t<r;t++)ys.fromBufferAttribute(this,t),ys.applyMatrix4(e),this.setXYZ(t,ys.x,ys.y,ys.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,r=this.count;t<r;t++)ys.fromBufferAttribute(this,t),ys.applyNormalMatrix(e),this.setXYZ(t,ys.x,ys.y,ys.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,r=this.count;t<r;t++)ys.fromBufferAttribute(this,t),ys.transformDirection(e),this.setXYZ(t,ys.x,ys.y,ys.z);return this}},{key:"setX",value:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){return this.data.array[e*this.data.stride+this.offset]}},{key:"getY",value:function(e){return this.data.array[e*this.data.stride+this.offset+1]}},{key:"getZ",value:function(e){return this.data.array[e*this.data.stride+this.offset+2]}},{key:"getW",value:function(e){return this.data.array[e*this.data.stride+this.offset+3]}},{key:"setXY",value:function(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}},{key:"setXYZ",value:function(e,t,r,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this}},{key:"setXYZW",value:function(e,t,r,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var r=[],n=0;n<this.count;n++)for(var i=n*this.data.stride+this.offset,a=0;a<this.itemSize;a++)r.push(this.data.array[i+a]);return new Zn(new this.array.constructor(r),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],r=0;r<this.count;r++)for(var n=r*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[n+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}();bs.prototype.isInterleavedBufferAttribute=!0;var ws,Es=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).type="SpriteMaterial",n.color=new ur(16777215),n.map=null,n.alphaMap=null,n.rotation=0,n.sizeAttenuation=!0,n.transparent=!0,n.setValues(e),n}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}]),r}(Un);Es.prototype.isSpriteMaterial=!0;var xs=new br,ks=new br,Ts=new br,Ms=new Vt,As=new Vt,Os=new $r,Ss=new br,Rs=new br,Cs=new br,Ps=new Vt,Ds=new Vt,Is=new Vt,Ls=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;if((0,de.Z)(this,r),(n=t.call(this)).type="Sprite",void 0===ws){ws=new $n;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new gs(i,5);ws.setIndex([0,1,2,0,2,3]),ws.setAttribute("position",new bs(a,3,0,!1)),ws.setAttribute("uv",new bs(a,2,3,!1))}return n.geometry=ws,n.material=void 0!==e?e:new Es,n.center=new Vt(.5,.5),n}return(0,pe.Z)(r,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ks.setFromMatrixScale(this.matrixWorld),Os.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ts.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&ks.multiplyScalar(-Ts.z);var r,n,i=this.material.rotation;0!==i&&(n=Math.cos(i),r=Math.sin(i));var a=this.center;Us(Ss.set(-.5,-.5,0),Ts,a,ks,r,n),Us(Rs.set(.5,-.5,0),Ts,a,ks,r,n),Us(Cs.set(.5,.5,0),Ts,a,ks,r,n),Ps.set(0,0),Ds.set(1,0),Is.set(1,1);var o=e.ray.intersectTriangle(Ss,Rs,Cs,!1,xs);if(null!==o||(Us(Rs.set(-.5,.5,0),Ts,a,ks,r,n),Ds.set(0,1),null!==(o=e.ray.intersectTriangle(Ss,Cs,Rs,!1,xs)))){var s=e.ray.origin.distanceTo(xs);s<e.near||s>e.far||t.push({distance:s,point:xs.clone(),uv:In.getUV(xs,Ss,Rs,Cs,Ps,Ds,Is,new Vt),face:null,object:this})}}},{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),r}(xn);function Us(e,t,r,n,i,a){Ms.subVectors(e,r).addScalar(.5).multiply(n),void 0!==i?(As.x=a*Ms.x-i*Ms.y,As.y=i*Ms.x+a*Ms.y):As.copy(Ms),e.copy(t),e.x+=As.x,e.y+=As.y,e.applyMatrix4(Os)}Ls.prototype.isSprite=!0;var js=new br,Ns=new pr,Bs=new pr,Zs=new br,Ws=new $r,Fs=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){var i;return(0,de.Z)(this,r),(i=t.call(this,e,n)).type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new $r,i.bindMatrixInverse=new $r,i}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new pr,t=this.geometry.attributes.skinWeight,r=0,n=t.count;r<n;r++){e.fromBufferAttribute(t,r);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){(0,se.Z)((0,ue.Z)(r.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(e,t){var r=this.skeleton,n=this.geometry;Ns.fromBufferAttribute(n.attributes.skinIndex,e),Bs.fromBufferAttribute(n.attributes.skinWeight,e),js.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=Bs.getComponent(i);if(0!==a){var o=Ns.getComponent(i);Ws.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),t.addScaledVector(Zs.copy(js).applyMatrix4(Ws),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),r}(_i);Fs.prototype.isSkinnedMesh=!0;var zs=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e;return(0,de.Z)(this,r),(e=t.call(this)).type="Bone",e}return(0,pe.Z)(r)}(xn);zs.prototype.isBone=!0;var Ks=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Me,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Me,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return(0,de.Z)(this,r),(e=t.call(this,null,u,l,c,h,f,o,s,d,p)).image={data:n,width:i,height:a},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,pe.Z)(r)}(dr);Ks.prototype.isDataTexture=!0;var Hs=new $r,Gs=new $r,Vs=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,de.Z)(this,e),this.uuid=Bt(),this.bones=t.slice(0),this.boneInverses=r,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return(0,pe.Z)(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var r=0,n=this.bones.length;r<n;r++)this.boneInverses.push(new $r)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var r=new $r;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(var n=0,i=this.bones.length;n<i;n++){var a=this.bones[n];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,r=this.boneMatrices,n=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:Gs;Hs.multiplyMatrices(o,t[i]),Hs.toArray(r,16*i)}null!==n&&(n.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=Kt(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var r=new Ks(t,e,e,Ne,Le);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,r=this.bones.length;t<r;t++){var n=this.bones[t];if(n.name===e)return n}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var r=0,n=e.bones.length;r<n;r++){var i=e.bones[r],a=t[i];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),a=new zs),this.bones.push(a),this.boneInverses.push((new $r).fromArray(e.boneInverses[r]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,r=this.boneInverses,n=0,i=t.length;n<i;n++){var a=t[n];e.bones.push(a.uuid);var o=r[n];e.boneInverses.push(o.toArray())}return e}}]),e}(),Xs=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,de.Z)(this,r),"number"===typeof i&&(o=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),(a=t.call(this,e,n,i)).meshPerAttribute=o,a}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),r}(Zn);Xs.prototype.isInstancedBufferAttribute=!0;var Ys=new $r,qs=new $r,$s=[],Js=new _i,Qs=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i){var a;return(0,de.Z)(this,r),(a=t.call(this,e,n)).instanceMatrix=new Xs(new Float32Array(16*i),16),a.instanceColor=null,a.count=i,a.frustumCulled=!1,a}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var r=this.matrixWorld,n=this.count;if(Js.geometry=this.geometry,Js.material=this.material,void 0!==Js.material)for(var i=0;i<n;i++){this.getMatrixAt(i,Ys),qs.multiplyMatrices(r,Ys),Js.matrixWorld=qs,Js.raycast(e,$s);for(var a=0,o=$s.length;a<o;a++){var s=$s[a];s.instanceId=i,s.object=this,t.push(s)}$s.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new Xs(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),r}(_i);Qs.prototype.isInstancedMesh=!0;var eu=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).type="LineBasicMaterial",n.color=new ur(16777215),n.linewidth=1,n.linecap="round",n.linejoin="round",n.setValues(e),n}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}]),r}(Un);eu.prototype.isLineBasicMaterial=!0;var tu=new br,ru=new br,nu=new $r,iu=new qr,au=new Fr,ou=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new eu;return(0,de.Z)(this,r),(e=t.call(this)).type="Line",e.geometry=n,e.material=i,e.updateMorphTargets(),e}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,r=[0],n=1,i=t.count;n<i;n++)tu.fromBufferAttribute(t,n-1),ru.fromBufferAttribute(t,n),r[n]=r[n-1],r[n]+=tu.distanceTo(ru);e.setAttribute("lineDistance",new zn(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}},{key:"raycast",value:function(e,t){var r=this.geometry,n=this.matrixWorld,i=e.params.Line.threshold,a=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),au.copy(r.boundingSphere),au.applyMatrix4(n),au.radius+=i,!1!==e.ray.intersectsSphere(au)){nu.copy(n).invert(),iu.copy(e.ray).applyMatrix4(nu);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=new br,l=new br,c=new br,h=new br,f=this.isLineSegments?2:1;if(r.isBufferGeometry){var d=r.index,p=r.attributes.position;if(null!==d)for(var _=Math.max(0,a.start),m=Math.min(d.count,a.start+a.count)-1;_<m;_+=f){var v=d.getX(_),g=d.getX(_+1);if(u.fromBufferAttribute(p,v),l.fromBufferAttribute(p,g),!(iu.distanceSqToSegment(u,l,h,c)>s)){h.applyMatrix4(this.matrixWorld);var y=e.ray.origin.distanceTo(h);y<e.near||y>e.far||t.push({distance:y,point:c.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else for(var b=Math.max(0,a.start),w=Math.min(p.count,a.start+a.count)-1;b<w;b+=f){if(u.fromBufferAttribute(p,b),l.fromBufferAttribute(p,b+1),!(iu.distanceSqToSegment(u,l,h,c)>s)){h.applyMatrix4(this.matrixWorld);var E=e.ray.origin.distanceTo(h);E<e.near||E>e.far||t.push({distance:E,point:c.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,r=Object.keys(t);if(r.length>0){var n=t[r[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=n.length;i<a;i++){var o=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),r}(xn);ou.prototype.isLine=!0;var su=new br,uu=new br,lu=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){var i;return(0,de.Z)(this,r),(i=t.call(this,e,n)).type="LineSegments",i}return(0,pe.Z)(r,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,r=[],n=0,i=t.count;n<i;n+=2)su.fromBufferAttribute(t,n),uu.fromBufferAttribute(t,n+1),r[n]=0===n?0:r[n-1],r[n+1]=r[n]+su.distanceTo(uu);e.setAttribute("lineDistance",new zn(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}]),r}(ou);lu.prototype.isLineSegments=!0;var cu=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){var i;return(0,de.Z)(this,r),(i=t.call(this,e,n)).type="LineLoop",i}return(0,pe.Z)(r)}(ou);cu.prototype.isLineLoop=!0;var hu=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).type="PointsMaterial",n.color=new ur(16777215),n.map=null,n.alphaMap=null,n.size=1,n.sizeAttenuation=!0,n.setValues(e),n}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}]),r}(Un);hu.prototype.isPointsMaterial=!0;var fu=new $r,du=new qr,pu=new Fr,_u=new br,mu=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hu;return(0,de.Z)(this,r),(e=t.call(this)).type="Points",e.geometry=n,e.material=i,e.updateMorphTargets(),e}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var r=this.geometry,n=this.matrixWorld,i=e.params.Points.threshold,a=r.drawRange;if(null===r.boundingSphere&&r.computeBoundingSphere(),pu.copy(r.boundingSphere),pu.applyMatrix4(n),pu.radius+=i,!1!==e.ray.intersectsSphere(pu)){fu.copy(n).invert(),du.copy(e.ray).applyMatrix4(fu);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o;if(r.isBufferGeometry){var u=r.index,l=r.attributes.position;if(null!==u)for(var c=Math.max(0,a.start),h=Math.min(u.count,a.start+a.count);c<h;c++){var f=u.getX(c);_u.fromBufferAttribute(l,f),vu(_u,f,s,n,e,t,this)}else for(var d=Math.max(0,a.start),p=Math.min(l.count,a.start+a.count);d<p;d++)_u.fromBufferAttribute(l,d),vu(_u,d,s,n,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,r=Object.keys(t);if(r.length>0){var n=t[r[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=n.length;i<a;i++){var o=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),r}(xn);function vu(e,t,r,n,i,a,o){var s=du.distanceSqToPoint(e);if(s<r){var u=new br;du.closestPointToPoint(e,u),u.applyMatrix4(n);var l=i.ray.origin.distanceTo(u);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:u,index:t,face:null,object:o})}}mu.prototype.isPoints=!0,function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i,a,o,s,u,l,c){var h;(0,de.Z)(this,r),(h=t.call(this,e,n,i,a,o,s,u,l,c)).minFilter=void 0!==s?s:Se,h.magFilter=void 0!==o?o:Se,h.generateMipmaps=!1;var f=(0,le.Z)(h);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){f.needsUpdate=!0,e.requestVideoFrameCallback(t)})),h}return(0,pe.Z)(r,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),r}(dr).prototype.isVideoTexture=!0,function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i){var a;return(0,de.Z)(this,r),(a=t.call(this,{width:e,height:n})).format=i,a.magFilter=Me,a.minFilter=Me,a.generateMipmaps=!1,a.needsUpdate=!0,a}return(0,pe.Z)(r)}(dr).prototype.isFramebufferTexture=!0;var gu=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i,a,o,s,u,l,c,h,f,d){var p;return(0,de.Z)(this,r),(p=t.call(this,null,s,u,l,c,h,a,o,f,d)).image={width:n,height:i},p.mipmaps=e,p.flipY=!1,p.generateMipmaps=!1,p}return(0,pe.Z)(r)}(dr);gu.prototype.isCompressedTexture=!0,function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i,a,o,s,u,l,c){var h;return(0,de.Z)(this,r),(h=t.call(this,e,n,i,a,o,s,u,l,c)).needsUpdate=!0,h}return(0,pe.Z)(r)}(dr).prototype.isCanvasTexture=!0;var yu=function(){function e(){(0,de.Z)(this,e),this.type="Curve",this.arcLengthDivisions=200}return(0,pe.Z)(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var r=this.getUtoTmapping(e);return this.getPoint(r,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,r=[],n=this.getPoint(0),i=0;r.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(n),r.push(i),n=t;return this.cacheArcLengths=r,r}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var r,n=this.getLengths(),i=0,a=n.length;r=t||e*n[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=n[i=Math.floor(s+(u-s)/2)]-r)<0)s=i+1;else{if(!(o>0)){u=i;break}u=i-1}if(n[i=u]===r)return i/(a-1);var l=n[i];return(i+(r-l)/(n[i+1]-l))/(a-1)}},{key:"getTangent",value:function(e,t){var r=1e-4,n=e-r,i=e+r;n<0&&(n=0),i>1&&(i=1);var a=this.getPoint(n),o=this.getPoint(i),s=t||(a.isVector2?new Vt:new br);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(e,t){var r=this.getUtoTmapping(e);return this.getTangent(r,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var r=new br,n=[],i=[],a=[],o=new br,s=new $r,u=0;u<=e;u++){var l=u/e;n[u]=this.getTangentAt(l,new br)}i[0]=new br,a[0]=new br;var c=Number.MAX_VALUE,h=Math.abs(n[0].x),f=Math.abs(n[0].y),d=Math.abs(n[0].z);h<=c&&(c=h,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),d<=c&&r.set(0,0,1),o.crossVectors(n[0],r).normalize(),i[0].crossVectors(n[0],o),a[0].crossVectors(n[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(n[p-1],n[p]),o.length()>Number.EPSILON){o.normalize();var _=Math.acos(Zt(n[p-1].dot(n[p]),-1,1));i[p].applyMatrix4(s.makeRotationAxis(o,_))}a[p].crossVectors(n[p],i[p])}if(!0===t){var m=Math.acos(Zt(i[0].dot(i[e]),-1,1));m/=e,n[0].dot(o.crossVectors(i[0],i[e]))>0&&(m=-m);for(var v=1;v<=e;v++)i[v].applyMatrix4(s.makeRotationAxis(n[v],m*v)),a[v].crossVectors(n[v],i[v])}return{tangents:n,normals:i,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),bu=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return(0,de.Z)(this,r),(e=t.call(this)).type="EllipseCurve",e.aX=n,e.aY=i,e.xRadius=a,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=u,e.aClockwise=l,e.aRotation=c,e}return(0,pe.Z)(r,[{key:"getPoint",value:function(e,t){for(var r=t||new Vt,n=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(i=a?0:n),!0!==this.aClockwise||a||(i===n?i=-n:i-=n);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=s-this.aX,f=u-this.aY;s=h*l-f*c+this.aX,u=h*c+f*l+this.aY}return r.set(s,u)}},{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),r}(yu);bu.prototype.isEllipseCurve=!0;var wu=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i,a,o,s){var u;return(0,de.Z)(this,r),(u=t.call(this,e,n,i,i,a,o,s)).type="ArcCurve",u}return(0,pe.Z)(r)}(bu);function Eu(){var e=0,t=0,r=0,n=0;function i(i,a,o,s){e=i,t=o,r=-3*i+3*a-2*o-s,n=2*i-2*a+o+s}return{initCatmullRom:function(e,t,r,n,a){i(t,r,a*(r-e),a*(n-t))},initNonuniformCatmullRom:function(e,t,r,n,a,o,s){var u=(t-e)/a-(r-e)/(a+o)+(r-t)/o,l=(r-t)/o-(n-t)/(o+s)+(n-r)/s;i(t,r,u*=o,l*=o)},calc:function(i){var a=i*i;return e+t*i+r*a+n*(a*i)}}}wu.prototype.isArcCurve=!0;var xu=new br,ku=new Eu,Tu=new Eu,Mu=new Eu,Au=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return(0,de.Z)(this,r),(e=t.call(this)).type="CatmullRomCurve3",e.points=n,e.closed=i,e.curveType=a,e.tension=o,e}return(0,pe.Z)(r,[{key:"getPoint",value:function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new br,i=n,a=this.points,o=a.length,s=(o-(this.closed?0:1))*e,u=Math.floor(s),l=s-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/o)+1)*o:0===l&&u===o-1&&(u=o-2,l=1),this.closed||u>0?t=a[(u-1)%o]:(xu.subVectors(a[0],a[1]).add(a[0]),t=xu);var c=a[u%o],h=a[(u+1)%o];if(this.closed||u+2<o?r=a[(u+2)%o]:(xu.subVectors(a[o-1],a[o-2]).add(a[o-1]),r=xu),"centripetal"===this.curveType||"chordal"===this.curveType){var f="chordal"===this.curveType?.5:.25,d=Math.pow(t.distanceToSquared(c),f),p=Math.pow(c.distanceToSquared(h),f),_=Math.pow(h.distanceToSquared(r),f);p<1e-4&&(p=1),d<1e-4&&(d=p),_<1e-4&&(_=p),ku.initNonuniformCatmullRom(t.x,c.x,h.x,r.x,d,p,_),Tu.initNonuniformCatmullRom(t.y,c.y,h.y,r.y,d,p,_),Mu.initNonuniformCatmullRom(t.z,c.z,h.z,r.z,d,p,_)}else"catmullrom"===this.curveType&&(ku.initCatmullRom(t.x,c.x,h.x,r.x,this.tension),Tu.initCatmullRom(t.y,c.y,h.y,r.y,this.tension),Mu.initCatmullRom(t.z,c.z,h.z,r.z,this.tension));return i.set(ku.calc(l),Tu.calc(l),Mu.calc(l)),i}},{key:"copy",value:function(e){(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){(0,se.Z)((0,ue.Z)(r.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new br).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),r}(yu);function Ou(e,t,r,n,i){var a=.5*(n-t),o=.5*(i-r),s=e*e;return(2*r-2*n+a+o)*(e*s)+(-3*r+3*n-2*a-o)*s+a*e+r}function Su(e,t,r,n){return function(e,t){var r=1-e;return r*r*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,r)+function(e,t){return e*e*t}(e,n)}function Ru(e,t,r,n,i){return function(e,t){var r=1-e;return r*r*r*t}(e,t)+function(e,t){var r=1-e;return 3*r*r*e*t}(e,r)+function(e,t){return 3*(1-e)*e*e*t}(e,n)+function(e,t){return e*e*e*t}(e,i)}Au.prototype.isCatmullRomCurve3=!0;var Cu=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Vt,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Vt,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Vt,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Vt;return(0,de.Z)(this,r),(e=t.call(this)).type="CubicBezierCurve",e.v0=n,e.v1=i,e.v2=a,e.v3=o,e}return(0,pe.Z)(r,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Vt,r=t,n=this.v0,i=this.v1,a=this.v2,o=this.v3;return r.set(Ru(e,n.x,i.x,a.x,o.x),Ru(e,n.y,i.y,a.y,o.y)),r}},{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),r}(yu);Cu.prototype.isCubicBezierCurve=!0;var Pu=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new br,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new br,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new br,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new br;return(0,de.Z)(this,r),(e=t.call(this)).type="CubicBezierCurve3",e.v0=n,e.v1=i,e.v2=a,e.v3=o,e}return(0,pe.Z)(r,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new br,r=t,n=this.v0,i=this.v1,a=this.v2,o=this.v3;return r.set(Ru(e,n.x,i.x,a.x,o.x),Ru(e,n.y,i.y,a.y,o.y),Ru(e,n.z,i.z,a.z,o.z)),r}},{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),r}(yu);Pu.prototype.isCubicBezierCurve3=!0;var Du=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Vt,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Vt;return(0,de.Z)(this,r),(e=t.call(this)).type="LineCurve",e.v1=n,e.v2=i,e}return(0,pe.Z)(r,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Vt,r=t;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e,t){var r=t||new Vt;return r.copy(this.v2).sub(this.v1).normalize(),r}},{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),r}(yu);Du.prototype.isLineCurve=!0;var Iu=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new br,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new br;return(0,de.Z)(this,r),(e=t.call(this)).type="LineCurve3",e.isLineCurve3=!0,e.v1=n,e.v2=i,e}return(0,pe.Z)(r,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new br,r=t;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),r}(yu),Lu=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Vt,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Vt,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Vt;return(0,de.Z)(this,r),(e=t.call(this)).type="QuadraticBezierCurve",e.v0=n,e.v1=i,e.v2=a,e}return(0,pe.Z)(r,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Vt,r=t,n=this.v0,i=this.v1,a=this.v2;return r.set(Su(e,n.x,i.x,a.x),Su(e,n.y,i.y,a.y)),r}},{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),r}(yu);Lu.prototype.isQuadraticBezierCurve=!0;var Uu=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new br,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new br,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new br;return(0,de.Z)(this,r),(e=t.call(this)).type="QuadraticBezierCurve3",e.v0=n,e.v1=i,e.v2=a,e}return(0,pe.Z)(r,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new br,r=t,n=this.v0,i=this.v1,a=this.v2;return r.set(Su(e,n.x,i.x,a.x),Su(e,n.y,i.y,a.y),Su(e,n.z,i.z,a.z)),r}},{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),r}(yu);Uu.prototype.isQuadraticBezierCurve3=!0;var ju=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,de.Z)(this,r),(e=t.call(this)).type="SplineCurve",e.points=n,e}return(0,pe.Z)(r,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Vt,r=t,n=this.points,i=(n.length-1)*e,a=Math.floor(i),o=i-a,s=n[0===a?a:a-1],u=n[a],l=n[a>n.length-2?n.length-1:a+1],c=n[a>n.length-3?n.length-1:a+2];return r.set(Ou(o,s.x,u.x,l.x,c.x),Ou(o,s.y,u.y,l.y,c.y)),r}},{key:"copy",value:function(e){(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var i=this.points[t];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){(0,se.Z)((0,ue.Z)(r.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new Vt).fromArray(i))}return this}}]),r}(yu);ju.prototype.isSplineCurve=!0;var Nu=Object.freeze({__proto__:null,ArcCurve:wu,CatmullRomCurve3:Au,CubicBezierCurve:Cu,CubicBezierCurve3:Pu,EllipseCurve:bu,LineCurve:Du,LineCurve3:Iu,QuadraticBezierCurve:Lu,QuadraticBezierCurve3:Uu,SplineCurve:ju}),Bu=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e;return(0,de.Z)(this,r),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return(0,pe.Z)(r,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Du(t,e))}},{key:"getPoint",value:function(e,t){for(var r=e*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=r){var a=n[i]-r,o=this.curves[i],s=o.getLength(),u=0===s?0:1-a/s;return o.getPointAt(u,t)}i++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,r=0,n=this.curves.length;r<n;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,r=[],n=0,i=this.curves;n<i.length;n++)for(var a=i[n],o=a.isEllipseCurve?2*t:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(r.push(l),e=l)}return this.autoClose&&r.length>1&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r}},{key:"copy",value:function(e){(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){(0,se.Z)((0,ue.Z)(r.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push((new Nu[i.type]).fromJSON(i))}return this}}]),r}(yu),Zu=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).type="Path",n.currentPoint=new Vt,e&&n.setFromPoints(e),n}return(0,pe.Z)(r,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var r=new Du(this.currentPoint.clone(),new Vt(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,r,n){var i=new Lu(this.currentPoint.clone(),new Vt(e,t),new Vt(r,n));return this.curves.push(i),this.currentPoint.set(r,n),this}},{key:"bezierCurveTo",value:function(e,t,r,n,i,a){var o=new Cu(this.currentPoint.clone(),new Vt(e,t),new Vt(r,n),new Vt(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),r=new ju(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,r,n,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,r,n,i,a),this}},{key:"absarc",value:function(e,t,r,n,i,a){return this.absellipse(e,t,r,r,n,i,a),this}},{key:"ellipse",value:function(e,t,r,n,i,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+u,t+l,r,n,i,a,o,s),this}},{key:"absellipse",value:function(e,t,r,n,i,a,o,s){var u=new bu(e,t,r,n,i,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),r}(Bu);new br,new br,new br,new In;var Wu=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this,e)).uuid=Bt(),n.type="Shape",n.holes=[],n}return(0,pe.Z)(r,[{key:"getPointsHoles",value:function(e){for(var t=[],r=0,n=this.holes.length;r<n;r++)t[r]=this.holes[r].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){(0,se.Z)((0,ue.Z)(r.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push((new Zu).fromJSON(i))}return this}}]),r}(Zu),Fu=function(e,t){var r,n,i,a,o,s,u,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,h=c?t[0]*l:e.length,f=zu(e,0,h,l,!0),d=[];if(!f||f.next===f.prev)return d;if(c&&(f=qu(e,t,f,l)),e.length>80*l){r=i=e[0],n=a=e[1];for(var p=l;p<h;p+=l)(o=e[p])<r&&(r=o),(s=e[p+1])<n&&(n=s),o>i&&(i=o),s>a&&(a=s);u=0!==(u=Math.max(i-r,a-n))?1/u:0}return Hu(f,d,l,r,n,u),d};function zu(e,t,r,n,i){var a,o;if(i===function(e,t,r,n){for(var i=0,a=t,o=r-n;a<r;a+=n)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,r,n)>0)for(a=t;a<r;a+=n)o=hl(a,e[a],e[a+1],o);else for(a=r-n;a>=t;a-=n)o=hl(a,e[a],e[a+1],o);return o&&al(o,o.next)&&(fl(o),o=o.next),o}function Ku(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!al(n,n.next)&&0!==il(n.prev,n,n.next))n=n.next;else{if(fl(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function Hu(e,t,r,n,i,a,o){if(e){!o&&a&&function(e,t,r,n){var i=e;do{null===i.z&&(i.z=el(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,a,o,s,u,l=1;do{for(r=e,e=null,a=null,o=0;r;){for(o++,n=r,s=0,t=0;t<l&&(s++,n=n.nextZ);t++);for(u=l;s>0||u>0&&n;)0!==s&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;r=n}a.nextZ=null,l*=2}while(o>1)}(i)}(e,n,i,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?Vu(e,n,i,a):Gu(e))t.push(s.i/r),t.push(e.i/r),t.push(u.i/r),fl(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?Hu(e=Xu(Ku(e),t,r),t,r,n,i,a,2):2===o&&Yu(e,t,r,n,i,a):Hu(Ku(e),t,r,n,i,a,1);break}}}function Gu(e){var t=e.prev,r=e,n=e.next;if(il(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(rl(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&il(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Vu(e,t,r,n){var i=e.prev,a=e,o=e.next;if(il(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,h=el(s,u,t,r,n),f=el(l,c,t,r,n),d=e.prevZ,p=e.nextZ;d&&d.z>=h&&p&&p.z<=f;){if(d!==e.prev&&d!==e.next&&rl(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&il(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,p!==e.prev&&p!==e.next&&rl(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&il(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;d&&d.z>=h;){if(d!==e.prev&&d!==e.next&&rl(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&il(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;p&&p.z<=f;){if(p!==e.prev&&p!==e.next&&rl(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&il(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Xu(e,t,r){var n=e;do{var i=n.prev,a=n.next.next;!al(i,a)&&ol(i,n,n.next,a)&&ll(i,a)&&ll(a,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(a.i/r),fl(n),fl(n.next),n=e=a),n=n.next}while(n!==e);return Ku(n)}function Yu(e,t,r,n,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&nl(o,s)){var u=cl(o,s);return o=Ku(o,o.next),u=Ku(u,u.next),Hu(o,t,r,n,i,a),void Hu(u,t,r,n,i,a)}s=s.next}o=o.next}while(o!==e)}function qu(e,t,r,n){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=zu(e,t[i]*n,i<a-1?t[i+1]*n:e.length,n,!1))===o.next&&(o.steiner=!0),s.push(tl(o));for(s.sort($u),i=0;i<s.length;i++)Ju(s[i],r),r=Ku(r,r.next);return r}function $u(e,t){return e.x-t.x}function Ju(e,t){if(t=function(e,t){var r,n=t,i=e.x,a=e.y,o=-1/0;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>o){if(o=s,s===i){if(a===n.y)return n;if(a===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(i===o)return r;var u,l=r,c=r.x,h=r.y,f=1/0;n=r;do{i>=n.x&&n.x>=c&&i!==n.x&&rl(a<h?i:o,a,c,h,a<h?o:i,a,n.x,n.y)&&(u=Math.abs(a-n.y)/(i-n.x),ll(n,e)&&(u<f||u===f&&(n.x>r.x||n.x===r.x&&Qu(r,n)))&&(r=n,f=u)),n=n.next}while(n!==l);return r}(e,t),t){var r=cl(t,e);Ku(t,t.next),Ku(r,r.next)}}function Qu(e,t){return il(e.prev,e,t.prev)<0&&il(t.next,e,e.next)<0}function el(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function tl(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function rl(e,t,r,n,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(n-s)-(r-o)*(t-s)>=0&&(r-o)*(a-s)-(i-o)*(n-s)>=0}function nl(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&ol(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(ll(e,t)&&ll(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{r.y>a!==r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(il(e.prev,e,t.prev)||il(e,t.prev,t))||al(e,t)&&il(e.prev,e,e.next)>0&&il(t.prev,t,t.next)>0)}function il(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function al(e,t){return e.x===t.x&&e.y===t.y}function ol(e,t,r,n){var i=ul(il(e,t,r)),a=ul(il(e,t,n)),o=ul(il(r,n,e)),s=ul(il(r,n,t));return i!==a&&o!==s||(!(0!==i||!sl(e,r,t))||(!(0!==a||!sl(e,n,t))||(!(0!==o||!sl(r,e,n))||!(0!==s||!sl(r,t,n)))))}function sl(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function ul(e){return e>0?1:e<0?-1:0}function ll(e,t){return il(e.prev,e,e.next)<0?il(e,t,e.next)>=0&&il(e,e.prev,t)>=0:il(e,t,e.prev)<0||il(e,e.next,t)<0}function cl(e,t){var r=new dl(e.i,e.x,e.y),n=new dl(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function hl(e,t,r,n){var i=new dl(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function fl(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function dl(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var pl=function(){function e(){(0,de.Z)(this,e)}return(0,pe.Z)(e,null,[{key:"area",value:function(e){for(var t=e.length,r=0,n=t-1,i=0;i<t;n=i++)r+=e[n].x*e[i].y-e[i].x*e[n].y;return.5*r}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var r=[],n=[],i=[];_l(e),ml(r,e);var a=e.length;t.forEach(_l);for(var o=0;o<t.length;o++)n.push(a),a+=t[o].length,ml(r,t[o]);for(var s=Fu(r,n),u=0;u<s.length;u+=3)i.push(s.slice(u,u+3));return i}}]),e}();function _l(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function ml(e,t){for(var r=0;r<t.length;r++)e.push(t[r].x),e.push(t[r].y)}var vl=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Wu([new Vt(.5,.5),new Vt(-.5,.5),new Vt(-.5,-.5),new Vt(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,de.Z)(this,r),(e=t.call(this)).type="ExtrudeGeometry",e.parameters={shapes:n,options:i},n=Array.isArray(n)?n:[n];for(var a=(0,le.Z)(e),o=[],s=[],u=0,l=n.length;u<l;u++){var c=n[u];h(c)}function h(e){var t=[],r=void 0!==i.curveSegments?i.curveSegments:12,n=void 0!==i.steps?i.steps:1,u=void 0!==i.depth?i.depth:1,l=void 0===i.bevelEnabled||i.bevelEnabled,c=void 0!==i.bevelThickness?i.bevelThickness:.2,h=void 0!==i.bevelSize?i.bevelSize:c-.1,f=void 0!==i.bevelOffset?i.bevelOffset:0,d=void 0!==i.bevelSegments?i.bevelSegments:3,p=i.extrudePath,_=void 0!==i.UVGenerator?i.UVGenerator:gl;void 0!==i.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=i.amount);var m,v,g,y,b,w=!1;p&&(m=p.getSpacedPoints(n),w=!0,l=!1,v=p.computeFrenetFrames(n,!1),g=new br,y=new br,b=new br),l||(d=0,c=0,h=0,f=0);var E=e.extractPoints(r),x=E.shape,k=E.holes;if(!pl.isClockWise(x)){x=x.reverse();for(var T=0,M=k.length;T<M;T++){var A=k[T];pl.isClockWise(A)&&(k[T]=A.reverse())}}for(var O=pl.triangulateShape(x,k),S=x,R=0,C=k.length;R<C;R++){var P=k[R];x=x.concat(P)}function D(e,t,r){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(r).add(e)}var I=x.length,L=O.length;function U(e,t,r){var n,i,a,o=e.x-t.x,s=e.y-t.y,u=r.x-e.x,l=r.y-e.y,c=o*o+s*s,h=o*l-s*u;if(Math.abs(h)>Number.EPSILON){var f=Math.sqrt(c),d=Math.sqrt(u*u+l*l),p=t.x-s/f,_=t.y+o/f,m=((r.x-l/d-p)*l-(r.y+u/d-_)*u)/(o*l-s*u),v=(n=p+o*m-e.x)*n+(i=_+s*m-e.y)*i;if(v<=2)return new Vt(n,i);a=Math.sqrt(v/2)}else{var g=!1;o>Number.EPSILON?u>Number.EPSILON&&(g=!0):o<-Number.EPSILON?u<-Number.EPSILON&&(g=!0):Math.sign(s)===Math.sign(l)&&(g=!0),g?(n=-s,i=o,a=Math.sqrt(c)):(n=o,i=s,a=Math.sqrt(c/2))}return new Vt(n/a,i/a)}for(var j=[],N=0,B=S.length,Z=B-1,W=N+1;N<B;N++,Z++,W++)Z===B&&(Z=0),W===B&&(W=0),j[N]=U(S[N],S[Z],S[W]);for(var F,z=[],K=j.concat(),H=0,G=k.length;H<G;H++){var V=k[H];F=[];for(var X=0,Y=V.length,q=Y-1,$=X+1;X<Y;X++,q++,$++)q===Y&&(q=0),$===Y&&($=0),F[X]=U(V[X],V[q],V[$]);z.push(F),K=K.concat(F)}for(var J=0;J<d;J++){for(var Q=J/d,ee=c*Math.cos(Q*Math.PI/2),te=h*Math.sin(Q*Math.PI/2)+f,re=0,ne=S.length;re<ne;re++){var ie=D(S[re],j[re],te);Ce(ie.x,ie.y,-ee)}for(var ae=0,oe=k.length;ae<oe;ae++){var se=k[ae];F=z[ae];for(var ue=0,le=se.length;ue<le;ue++){var ce=D(se[ue],F[ue],te);Ce(ce.x,ce.y,-ee)}}}for(var he=h+f,fe=0;fe<I;fe++){var de=l?D(x[fe],K[fe],he):x[fe];w?(y.copy(v.normals[0]).multiplyScalar(de.x),g.copy(v.binormals[0]).multiplyScalar(de.y),b.copy(m[0]).add(y).add(g),Ce(b.x,b.y,b.z)):Ce(de.x,de.y,0)}for(var pe=1;pe<=n;pe++)for(var _e=0;_e<I;_e++){var me=l?D(x[_e],K[_e],he):x[_e];w?(y.copy(v.normals[pe]).multiplyScalar(me.x),g.copy(v.binormals[pe]).multiplyScalar(me.y),b.copy(m[pe]).add(y).add(g),Ce(b.x,b.y,b.z)):Ce(me.x,me.y,u/n*pe)}for(var ve=d-1;ve>=0;ve--){for(var ge=ve/d,ye=c*Math.cos(ge*Math.PI/2),be=h*Math.sin(ge*Math.PI/2)+f,we=0,Ee=S.length;we<Ee;we++){var xe=D(S[we],j[we],be);Ce(xe.x,xe.y,u+ye)}for(var ke=0,Te=k.length;ke<Te;ke++){var Me=k[ke];F=z[ke];for(var Ae=0,Oe=Me.length;Ae<Oe;Ae++){var Se=D(Me[Ae],F[Ae],be);w?Ce(Se.x,Se.y+m[n-1].y,m[n-1].x+ye):Ce(Se.x,Se.y,u+ye)}}}function Re(e,t){for(var r=e.length;--r>=0;){var i=r,a=r-1;a<0&&(a=e.length-1);for(var o=0,s=n+2*d;o<s;o++){var u=I*o,l=I*(o+1);De(t+i+u,t+a+u,t+a+l,t+i+l)}}}function Ce(e,r,n){t.push(e),t.push(r),t.push(n)}function Pe(e,t,r){Ie(e),Ie(t),Ie(r);var n=o.length/3,i=_.generateTopUV(a,o,n-3,n-2,n-1);Le(i[0]),Le(i[1]),Le(i[2])}function De(e,t,r,n){Ie(e),Ie(t),Ie(n),Ie(t),Ie(r),Ie(n);var i=o.length/3,s=_.generateSideWallUV(a,o,i-6,i-3,i-2,i-1);Le(s[0]),Le(s[1]),Le(s[3]),Le(s[1]),Le(s[2]),Le(s[3])}function Ie(e){o.push(t[3*e+0]),o.push(t[3*e+1]),o.push(t[3*e+2])}function Le(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(l){for(var t=0,r=I*t,i=0;i<L;i++){var s=O[i];Pe(s[2]+r,s[1]+r,s[0]+r)}r=I*(t=n+2*d);for(var u=0;u<L;u++){var c=O[u];Pe(c[0]+r,c[1]+r,c[2]+r)}}else{for(var h=0;h<L;h++){var f=O[h];Pe(f[2],f[1],f[0])}for(var p=0;p<L;p++){var _=O[p];Pe(_[0]+I*n,_[1]+I*n,_[2]+I*n)}}a.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;Re(S,t),t+=S.length;for(var r=0,n=k.length;r<n;r++){var i=k[r];Re(i,t),t+=i.length}a.addGroup(e,o.length/3-e,1)}()}return e.setAttribute("position",new zn(o,3)),e.setAttribute("uv",new zn(s,2)),e.computeVertexNormals(),e}return(0,pe.Z)(r,[{key:"toJSON",value:function(){var e=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this);return function(e,t,r){if(r.shapes=[],Array.isArray(e))for(var n=0,i=e.length;n<i;n++){var a=e[n];r.shapes.push(a.uuid)}else r.shapes.push(e.uuid);void 0!==t.extrudePath&&(r.options.extrudePath=t.extrudePath.toJSON());return r}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var n=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];n.push(o)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new Nu[s.type]).fromJSON(s)),new r(n,e.options)}}]),r}($n),gl={generateTopUV:function(e,t,r,n,i){var a=t[3*r],o=t[3*r+1],s=t[3*n],u=t[3*n+1],l=t[3*i],c=t[3*i+1];return[new Vt(a,o),new Vt(s,u),new Vt(l,c)]},generateSideWallUV:function(e,t,r,n,i,a){var o=t[3*r],s=t[3*r+1],u=t[3*r+2],l=t[3*n],c=t[3*n+1],h=t[3*n+2],f=t[3*i],d=t[3*i+1],p=t[3*i+2],_=t[3*a],m=t[3*a+1],v=t[3*a+2];return Math.abs(s-c)<Math.abs(o-l)?[new Vt(o,1-u),new Vt(l,1-h),new Vt(f,1-p),new Vt(_,1-v)]:[new Vt(s,1-u),new Vt(c,1-h),new Vt(d,1-p),new Vt(m,1-v)]}};var yl=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Wu([new Vt(0,.5),new Vt(-.5,-.5),new Vt(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;(0,de.Z)(this,r),(e=t.call(this)).type="ShapeGeometry",e.parameters={shapes:n,curveSegments:i};var a=[],o=[],s=[],u=[],l=0,c=0;if(!1===Array.isArray(n))f(n);else for(var h=0;h<n.length;h++)f(n[h]),e.addGroup(l,c,h),l+=c,c=0;function f(e){var t=o.length/3,r=e.extractPoints(i),n=r.shape,l=r.holes;!1===pl.isClockWise(n)&&(n=n.reverse());for(var h=0,f=l.length;h<f;h++){var d=l[h];!0===pl.isClockWise(d)&&(l[h]=d.reverse())}for(var p=pl.triangulateShape(n,l),_=0,m=l.length;_<m;_++){var v=l[_];n=n.concat(v)}for(var g=0,y=n.length;g<y;g++){var b=n[g];o.push(b.x,b.y,0),s.push(0,0,1),u.push(b.x,b.y)}for(var w=0,E=p.length;w<E;w++){var x=p[w],k=x[0]+t,T=x[1]+t,M=x[2]+t;a.push(k,T,M),c+=3}}return e.setIndex(a),e.setAttribute("position",new zn(o,3)),e.setAttribute("normal",new zn(s,3)),e.setAttribute("uv",new zn(u,2)),e}return(0,pe.Z)(r,[{key:"toJSON",value:function(){var e=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var r=0,n=e.length;r<n;r++){var i=e[r];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var n=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];n.push(o)}return new r(n,e.curveSegments)}}]),r}($n);var bl=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).type="ShadowMaterial",n.color=new ur(0),n.transparent=!0,n.setValues(e),n}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.color.copy(e.color),this}}]),r}(Un);bl.prototype.isShadowMaterial=!0;var wl=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this,e)).type="RawShaderMaterial",n}return(0,pe.Z)(r)}(wi);wl.prototype.isRawShaderMaterial=!0;var El=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).defines={STANDARD:""},n.type="MeshStandardMaterial",n.color=new ur(16777215),n.roughness=1,n.metalness=0,n.map=null,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=null,n.aoMapIntensity=1,n.emissive=new ur(0),n.emissiveIntensity=1,n.emissiveMap=null,n.bumpMap=null,n.bumpScale=1,n.normalMap=null,n.normalMapType=0,n.normalScale=new Vt(1,1),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.roughnessMap=null,n.metalnessMap=null,n.alphaMap=null,n.envMap=null,n.envMapIntensity=1,n.wireframe=!1,n.wireframeLinewidth=1,n.wireframeLinecap="round",n.wireframeLinejoin="round",n.flatShading=!1,n.setValues(e),n}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}]),r}(Un);El.prototype.isMeshStandardMaterial=!0;var xl=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).defines={STANDARD:"",PHYSICAL:""},n.type="MeshPhysicalMaterial",n.clearcoatMap=null,n.clearcoatRoughness=0,n.clearcoatRoughnessMap=null,n.clearcoatNormalScale=new Vt(1,1),n.clearcoatNormalMap=null,n.ior=1.5,Object.defineProperty((0,le.Z)(n),"reflectivity",{get:function(){return Zt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),n.sheenColor=new ur(0),n.sheenColorMap=null,n.sheenRoughness=1,n.sheenRoughnessMap=null,n.transmissionMap=null,n.thickness=0,n.thicknessMap=null,n.attenuationDistance=0,n.attenuationColor=new ur(1,1,1),n.specularIntensity=1,n.specularIntensityMap=null,n.specularColor=new ur(1,1,1),n.specularColorMap=null,n._sheen=0,n._clearcoat=0,n._transmission=0,n.setValues(e),n}return(0,pe.Z)(r,[{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),r}(El);xl.prototype.isMeshPhysicalMaterial=!0;var kl=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).type="MeshPhongMaterial",n.color=new ur(16777215),n.specular=new ur(1118481),n.shininess=30,n.map=null,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=null,n.aoMapIntensity=1,n.emissive=new ur(0),n.emissiveIntensity=1,n.emissiveMap=null,n.bumpMap=null,n.bumpScale=1,n.normalMap=null,n.normalMapType=0,n.normalScale=new Vt(1,1),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.specularMap=null,n.alphaMap=null,n.envMap=null,n.combine=0,n.reflectivity=1,n.refractionRatio=.98,n.wireframe=!1,n.wireframeLinewidth=1,n.wireframeLinecap="round",n.wireframeLinejoin="round",n.flatShading=!1,n.setValues(e),n}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}]),r}(Un);kl.prototype.isMeshPhongMaterial=!0;var Tl=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).defines={TOON:""},n.type="MeshToonMaterial",n.color=new ur(16777215),n.map=null,n.gradientMap=null,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=null,n.aoMapIntensity=1,n.emissive=new ur(0),n.emissiveIntensity=1,n.emissiveMap=null,n.bumpMap=null,n.bumpScale=1,n.normalMap=null,n.normalMapType=0,n.normalScale=new Vt(1,1),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.alphaMap=null,n.wireframe=!1,n.wireframeLinewidth=1,n.wireframeLinecap="round",n.wireframeLinejoin="round",n.setValues(e),n}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),r}(Un);Tl.prototype.isMeshToonMaterial=!0;var Ml=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).type="MeshNormalMaterial",n.bumpMap=null,n.bumpScale=1,n.normalMap=null,n.normalMapType=0,n.normalScale=new Vt(1,1),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.wireframe=!1,n.wireframeLinewidth=1,n.fog=!1,n.flatShading=!1,n.setValues(e),n}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),r}(Un);Ml.prototype.isMeshNormalMaterial=!0;var Al=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).type="MeshLambertMaterial",n.color=new ur(16777215),n.map=null,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=null,n.aoMapIntensity=1,n.emissive=new ur(0),n.emissiveIntensity=1,n.emissiveMap=null,n.specularMap=null,n.alphaMap=null,n.envMap=null,n.combine=0,n.reflectivity=1,n.refractionRatio=.98,n.wireframe=!1,n.wireframeLinewidth=1,n.wireframeLinecap="round",n.wireframeLinejoin="round",n.setValues(e),n}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),r}(Un);Al.prototype.isMeshLambertMaterial=!0;var Ol=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).defines={MATCAP:""},n.type="MeshMatcapMaterial",n.color=new ur(16777215),n.matcap=null,n.map=null,n.bumpMap=null,n.bumpScale=1,n.normalMap=null,n.normalMapType=0,n.normalScale=new Vt(1,1),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.alphaMap=null,n.flatShading=!1,n.setValues(e),n}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}]),r}(Un);Ol.prototype.isMeshMatcapMaterial=!0;var Sl=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).type="LineDashedMaterial",n.scale=1,n.dashSize=3,n.gapSize=1,n.setValues(e),n}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),r}(eu);Sl.prototype.isLineDashedMaterial=!0;var Rl={ShadowMaterial:bl,SpriteMaterial:Es,RawShaderMaterial:wl,ShaderMaterial:wi,PointsMaterial:hu,MeshPhysicalMaterial:xl,MeshStandardMaterial:El,MeshPhongMaterial:kl,MeshToonMaterial:Tl,MeshNormalMaterial:Ml,MeshLambertMaterial:Al,MeshDepthMaterial:ts,MeshDistanceMaterial:rs,MeshBasicMaterial:jn,MeshMatcapMaterial:Ol,LineDashedMaterial:Sl,LineBasicMaterial:eu,Material:Un};Un.fromType=function(e){return new Rl[e]};var Cl={arraySlice:function(e,t,r){return Cl.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==r?r:e.length)):e.slice(t,r)},convertArray:function(e,t,r){return!e||!r&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,r=new Array(t),n=0;n!==t;++n)r[n]=n;return r.sort((function(t,r){return e[t]-e[r]})),r},sortedArray:function(e,t,r){for(var n=e.length,i=new e.constructor(n),a=0,o=0;o!==n;++a)for(var s=r[a]*t,u=0;u!==t;++u)i[o++]=e[s+u];return i},flattenJSON:function(e,t,r,n){for(var i=1,a=e[0];void 0!==a&&void 0===a[n];)a=e[i++];if(void 0!==a){var o=a[n];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[n])&&(t.push(a.time),r.push.apply(r,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[n])&&(t.push(a.time),o.toArray(r,r.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[n])&&(t.push(a.time),r.push(o)),a=e[i++]}while(void 0!==a)}},subclip:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var u=a.tracks[s],l=u.getValueSize(),c=[],h=[],f=0;f<u.times.length;++f){var d=u.times[f]*i;if(!(d<r||d>=n)){c.push(u.times[f]);for(var p=0;p<l;++p)h.push(u.values[f*l+p])}}0!==c.length&&(u.times=Cl.convertArray(c,u.times.constructor),u.values=Cl.convertArray(h,u.values.constructor),o.push(u))}a.tracks=o;for(var _=1/0,m=0;m<a.tracks.length;++m)_>a.tracks[m].times[0]&&(_=a.tracks[m].times[0]);for(var v=0;v<a.tracks.length;++v)a.tracks[v].shift(-1*_);return a.resetDuration(),a},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;n<=0&&(n=30);for(var i=r.tracks.length,a=t/n,o=function(t){var n=r.tracks[t],i=n.ValueTypeName;if("bool"===i||"string"===i)return"continue";var o=e.tracks.find((function(e){return e.name===n.name&&e.ValueTypeName===i}));if(void 0===o)return"continue";var s=0,u=n.getValueSize();n.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=u/3);var l=0,c=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=c/3);var h=n.times.length-1,f=void 0;if(a<=n.times[0]){var d=s,p=u-s;f=Cl.arraySlice(n.values,d,p)}else if(a>=n.times[h]){var _=h*u+s,m=_+u-s;f=Cl.arraySlice(n.values,_,m)}else{var v=n.createInterpolant(),g=s,y=u-s;v.evaluate(a),f=Cl.arraySlice(v.resultBuffer,g,y)}"quaternion"===i&&(new yr).fromArray(f).normalize().conjugate().toArray(f);for(var b=o.times.length,w=0;w<b;++w){var E=w*c+l;if("quaternion"===i)yr.multiplyQuaternionsFlat(o.values,E,f,0,o.values,E);else for(var x=c-2*l,k=0;k<x;++k)o.values[E+k]-=f[k]}},s=0;s<i;++s)o(s);return e.blendMode=xt,e}},Pl=function(){function e(t,r,n,i){(0,de.Z)(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new r.constructor(n),this.sampleValues=r,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}return(0,pe.Z)(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,r=this._cachedIndex,n=t[r],i=t[r-1];e:{t:{var a;r:{n:if(!(e<n)){for(var o=r+2;;){if(void 0===n){if(e<i)break n;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,i)}if(r===o)break;if(i=n,e<(n=t[++r]))break t}a=t.length;break r}if(e>=i)break e;var s=t[1];e<s&&(r=2,i=s);for(var u=r-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(r===u)break;if(n=i,e>=(i=t[--r-1]))break t}a=r,r=0}for(;r<a;){var l=r+a>>>1;e<t[l]?a=l:r=l+1}if(n=t[r],void 0===(i=t[r-1]))return this._cachedIndex=0,this.beforeStart_(0,e,n);if(void 0===n)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,i,e)}this._cachedIndex=r,this.intervalChanged_(r,i,n)}return this.interpolate_(r,i,e,n)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=e*n,a=0;a!==n;++a)t[a]=r[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}();Pl.prototype.beforeStart_=Pl.prototype.copySampleValue_,Pl.prototype.afterEnd_=Pl.prototype.copySampleValue_;var Dl=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i,a){var o;return(0,de.Z)(this,r),(o=t.call(this,e,n,i,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:yt,endingEnd:yt},o}return(0,pe.Z)(r,[{key:"intervalChanged_",value:function(e,t,r){var n=this.parameterPositions,i=e-2,a=e+1,o=n[i],s=n[a];if(void 0===o)switch(this.getSettings_().endingStart){case bt:i=e,o=2*t-r;break;case wt:o=t+n[i=n.length-2]-n[i+1];break;default:i=e,o=r}if(void 0===s)switch(this.getSettings_().endingEnd){case bt:a=e,s=2*r-t;break;case wt:a=1,s=r+n[1]-n[0];break;default:a=e-1,s=t}var u=.5*(r-t),l=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-r),this._offsetPrev=i*l,this._offsetNext=a*l}},{key:"interpolate_",value:function(e,t,r,n){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(r-t)/(n-t),p=d*d,_=p*d,m=-h*_+2*h*p-h*d,v=(1+h)*_+(-1.5-2*h)*p+(-.5+h)*d+1,g=(-1-f)*_+(1.5+f)*p+.5*d,y=f*_-f*p,b=0;b!==o;++b)i[b]=m*a[l+b]+v*a[u+b]+g*a[s+b]+y*a[c+b];return i}}]),r}(Pl),Il=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i,a){return(0,de.Z)(this,r),t.call(this,e,n,i,a)}return(0,pe.Z)(r,[{key:"interpolate_",value:function(e,t,r,n){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=(r-t)/(n-t),c=1-l,h=0;h!==o;++h)i[h]=a[u+h]*c+a[s+h]*l;return i}}]),r}(Pl),Ll=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i,a){return(0,de.Z)(this,r),t.call(this,e,n,i,a)}return(0,pe.Z)(r,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),r}(Pl),Ul=function(){function e(t,r,n,i){if((0,de.Z)(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===r||0===r.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Cl.convertArray(r,this.TimeBufferType),this.values=Cl.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return(0,pe.Z)(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new Ll(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new Il(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new Dl(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case mt:t=this.InterpolantFactoryMethodDiscrete;break;case vt:t=this.InterpolantFactoryMethodLinear;break;case gt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return mt;case this.InterpolantFactoryMethodLinear:return vt;case this.InterpolantFactoryMethodSmooth:return gt}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,r=0,n=t.length;r!==n;++r)t[r]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,r=0,n=t.length;r!==n;++r)t[r]*=e;return this}},{key:"trim",value:function(e,t){for(var r=this.times,n=r.length,i=0,a=n-1;i!==n&&r[i]<e;)++i;for(;-1!==a&&r[a]>t;)--a;if(++a,0!==i||a!==n){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Cl.arraySlice(r,i,a),this.values=Cl.arraySlice(this.values,i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var r=this.times,n=this.values,i=r.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=r[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==n&&Cl.isTypedArray(n))for(var u=0,l=n.length;u!==l;++u){var c=n[u];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=Cl.arraySlice(this.times),t=Cl.arraySlice(this.values),r=this.getValueSize(),n=this.getInterpolation()===gt,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,u=e[o];if(u!==e[o+1]&&(1!==o||u!==e[0]))if(n)s=!0;else for(var l=o*r,c=l-r,h=l+r,f=0;f!==r;++f){var d=t[l+f];if(d!==t[c+f]||d!==t[h+f]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*r,_=a*r,m=0;m!==r;++m)t[_+m]=t[p+m]}++a}}if(i>0){e[a]=e[i];for(var v=i*r,g=a*r,y=0;y!==r;++y)t[g+y]=t[v+y];++a}return a!==e.length?(this.times=Cl.arraySlice(e,0,a),this.values=Cl.arraySlice(t,0,a*r)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=Cl.arraySlice(this.times,0),t=Cl.arraySlice(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}],[{key:"toJSON",value:function(e){var t,r=e.constructor;if(r.toJSON!==this.toJSON)t=r.toJSON(e);else{t={name:e.name,times:Cl.convertArray(e.times,Array),values:Cl.convertArray(e.values,Array)};var n=e.getInterpolation();n!==e.DefaultInterpolation&&(t.interpolation=n)}return t.type=e.ValueTypeName,t}}]),e}();Ul.prototype.TimeBufferType=Float32Array,Ul.prototype.ValueBufferType=Float32Array,Ul.prototype.DefaultInterpolation=vt;var jl=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){return(0,de.Z)(this,r),t.apply(this,arguments)}return(0,pe.Z)(r)}(Ul);jl.prototype.ValueTypeName="bool",jl.prototype.ValueBufferType=Array,jl.prototype.DefaultInterpolation=mt,jl.prototype.InterpolantFactoryMethodLinear=void 0,jl.prototype.InterpolantFactoryMethodSmooth=void 0;var Nl=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){return(0,de.Z)(this,r),t.apply(this,arguments)}return(0,pe.Z)(r)}(Ul);Nl.prototype.ValueTypeName="color";var Bl=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){return(0,de.Z)(this,r),t.apply(this,arguments)}return(0,pe.Z)(r)}(Ul);Bl.prototype.ValueTypeName="number";var Zl=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i,a){return(0,de.Z)(this,r),t.call(this,e,n,i,a)}return(0,pe.Z)(r,[{key:"interpolate_",value:function(e,t,r,n){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(r-t)/(n-t),u=e*o,l=u+o;u!==l;u+=4)yr.slerpFlat(i,0,a,u-o,a,u,s);return i}}]),r}(Pl),Wl=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){return(0,de.Z)(this,r),t.apply(this,arguments)}return(0,pe.Z)(r,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new Zl(this.times,this.values,this.getValueSize(),e)}}]),r}(Ul);Wl.prototype.ValueTypeName="quaternion",Wl.prototype.DefaultInterpolation=vt,Wl.prototype.InterpolantFactoryMethodSmooth=void 0;var Fl=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){return(0,de.Z)(this,r),t.apply(this,arguments)}return(0,pe.Z)(r)}(Ul);Fl.prototype.ValueTypeName="string",Fl.prototype.ValueBufferType=Array,Fl.prototype.DefaultInterpolation=mt,Fl.prototype.InterpolantFactoryMethodLinear=void 0,Fl.prototype.InterpolantFactoryMethodSmooth=void 0;var zl=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){return(0,de.Z)(this,r),t.apply(this,arguments)}return(0,pe.Z)(r)}(Ul);zl.prototype.ValueTypeName="vector";var Kl=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Et;(0,de.Z)(this,e),this.name=t,this.tracks=n,this.duration=r,this.blendMode=i,this.uuid=Bt(),this.duration<0&&this.resetDuration()}return(0,pe.Z)(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,r=this.tracks.length;t!==r;++t){var n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],r=e.tracks,n=1/(e.fps||1),i=0,a=r.length;i!==a;++i)t.push(Hl(r[i]).scale(n));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],r=e.tracks,n={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=r.length;i!==a;++i)t.push(Ul.toJSON(r[i]));return n}},{key:"CreateFromMorphTargetSequence",value:function(e,t,r,n){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],u=[];s.push((o+i-1)%i,o,(o+1)%i),u.push(0,1,0);var l=Cl.getKeyframeOrder(s);s=Cl.sortedArray(s,1,l),u=Cl.sortedArray(u,1,l),n||0!==s[0]||(s.push(i),u.push(u[0])),a.push(new Bl(".morphTargetInfluences["+t[o].name+"]",s,u).scale(1/r))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var r=e;if(!Array.isArray(e)){var n=e;r=n.geometry&&n.geometry.animations||n.animations}for(var i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,r){for(var n={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],u=s.name.match(i);if(u&&u.length>1){var l=u[1],c=n[l];c||(n[l]=c=[]),c.push(s)}}var h=[];for(var f in n)h.push(this.CreateFromMorphTargetSequence(f,n[f],t,r));return h}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var r=function(e,t,r,n,i){if(0!==r.length){var a=[],o=[];Cl.flattenJSON(r,a,o,n),0!==a.length&&i.push(new e(t,a,o))}},n=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,u=e.hierarchy||[],l=0;l<u.length;l++){var c=u[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){var h={},f=void 0;for(f=0;f<c.length;f++)if(c[f].morphTargets)for(var d=0;d<c[f].morphTargets.length;d++)h[c[f].morphTargets[d]]=-1;for(var p in h){for(var _=[],m=[],v=0;v!==c[f].morphTargets.length;++v){var g=c[f];_.push(g.time),m.push(g.morphTarget===p?1:0)}n.push(new Bl(".morphTargetInfluence["+p+"]",_,m))}s=h.length*a}else{var y=".bones["+t[l].name+"]";r(zl,y+".position",c,"pos",n),r(Wl,y+".quaternion",c,"rot",n),r(zl,y+".scale",c,"scl",n)}}return 0===n.length?null:new this(i,s,n,o)}}]),e}();function Hl(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Bl;case"vector":case"vector2":case"vector3":case"vector4":return zl;case"color":return Nl;case"quaternion":return Wl;case"bool":case"boolean":return jl;case"string":return Fl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var r=[],n=[];Cl.flattenJSON(e.keys,r,n,"value"),e.times=r,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var Gl={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Vl=(0,pe.Z)((function e(t,r,n){(0,de.Z)(this,e);var i=this,a=!1,o=0,s=0,u=void 0,l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=r,this.onError=n,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return u?u(e):e},this.setURLModifier=function(e){return u=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){var t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(var t=0,r=l.length;t<r;t+=2){var n=l[t],i=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null}})),Xl=new Vl,Yl=function(){function e(t){(0,de.Z)(this,e),this.manager=void 0!==t?t:Xl,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return(0,pe.Z)(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var r=this;return new Promise((function(n,i){r.load(e,n,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),ql={},$l=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){return(0,de.Z)(this,r),t.call(this,e)}return(0,pe.Z)(r,[{key:"load",value:function(e,t,r,n){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=Gl.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===ql[e]){ql[e]=[],ql[e].push({onLoad:t,onProgress:r,onError:n});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,u=this.responseType;fetch(o).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var r=ql[e],n=t.body.getReader(),i=t.headers.get("Content-Length"),a=i?parseInt(i):0,o=0!==a,s=0,u=new ReadableStream({start:function(e){!function t(){n.read().then((function(n){var i=n.done,u=n.value;if(i)e.close();else{s+=u.byteLength;for(var l=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a}),c=0,h=r.length;c<h;c++){var f=r[c];f.onProgress&&f.onProgress(l)}e.enqueue(u),t()}}))}()}});return new Response(u)}throw Error('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText))})).then((function(e){switch(u){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(s),r=t&&t[1]?t[1].toLowerCase():void 0,n=new TextDecoder(r);return e.arrayBuffer().then((function(e){return n.decode(e)}))}})).then((function(t){Gl.add(e,t);var r=ql[e];delete ql[e];for(var n=0,i=r.length;n<i;n++){var a=r[n];a.onLoad&&a.onLoad(t)}})).catch((function(t){var r=ql[e];if(void 0===r)throw i.manager.itemError(e),t;delete ql[e];for(var n=0,a=r.length;n<a;n++){var o=r[n];o.onError&&o.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else ql[e].push({onLoad:t,onProgress:r,onError:n})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),r}(Yl),Jl=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){return(0,de.Z)(this,r),t.call(this,e)}return(0,pe.Z)(r,[{key:"load",value:function(e,t,r,n){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Gl.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=qt("img");function s(){l(),Gl.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){l(),n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)}function l(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),r}(Yl),Ql=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){return(0,de.Z)(this,r),t.call(this,e)}return(0,pe.Z)(r,[{key:"load",value:function(e,t,r,n){var i=new Mi,a=new Jl(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(r){a.load(e[r],(function(e){i.images[r]=e,6===++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,n)}for(var u=0;u<e.length;++u)s(u);return i}}]),r}(Yl),ec=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){return(0,de.Z)(this,r),t.call(this,e)}return(0,pe.Z)(r,[{key:"load",value:function(e,t,r,n){var i=this,a=new Ks,o=new $l(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){var r=i.parse(e);r&&(void 0!==r.image?a.image=r.image:void 0!==r.data&&(a.image.width=r.width,a.image.height=r.height,a.image.data=r.data),a.wrapS=void 0!==r.wrapS?r.wrapS:ke,a.wrapT=void 0!==r.wrapT?r.wrapT:ke,a.magFilter=void 0!==r.magFilter?r.magFilter:Se,a.minFilter=void 0!==r.minFilter?r.minFilter:Se,a.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,void 0!==r.encoding&&(a.encoding=r.encoding),void 0!==r.flipY&&(a.flipY=r.flipY),void 0!==r.format&&(a.format=r.format),void 0!==r.type&&(a.type=r.type),void 0!==r.mipmaps&&(a.mipmaps=r.mipmaps,a.minFilter=Ce),1===r.mipmapCount&&(a.minFilter=Se),void 0!==r.generateMipmaps&&(a.generateMipmaps=r.generateMipmaps),a.needsUpdate=!0,t&&t(a,r))}),r,n),a}}]),r}(Yl),tc=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){return(0,de.Z)(this,r),t.call(this,e)}return(0,pe.Z)(r,[{key:"load",value:function(e,t,r,n){var i=new dr,a=new Jl(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),r,n),i}}]),r}(Yl),rc=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,de.Z)(this,r),(n=t.call(this)).type="Light",n.color=new ur(e),n.intensity=i,n}return(0,pe.Z)(r,[{key:"dispose",value:function(){}},{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),r}(xn);rc.prototype.isLight=!0,function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i){var a;return(0,de.Z)(this,r),(a=t.call(this,e,i)).type="HemisphereLight",a.position.copy(xn.DefaultUp),a.updateMatrix(),a.groundColor=new ur(n),a}return(0,pe.Z)(r,[{key:"copy",value:function(e){return rc.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}]),r}(rc).prototype.isHemisphereLight=!0;var nc=new $r,ic=new br,ac=new br,oc=function(){function e(t){(0,de.Z)(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vt(512,512),this.map=null,this.mapPass=null,this.matrix=new $r,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ii,this._frameExtents=new Vt(1,1),this._viewportCount=1,this._viewports=[new pr(0,0,1,1)]}return(0,pe.Z)(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,r=this.matrix;ic.setFromMatrixPosition(e.matrixWorld),t.position.copy(ic),ac.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(ac),t.updateMatrixWorld(),nc.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nc),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),sc=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e;return(0,de.Z)(this,r),(e=t.call(this,new xi(50,1,.5,500))).focus=1,e}return(0,pe.Z)(r,[{key:"updateMatrices",value:function(e){var t=this.camera,n=2*Nt*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;n===t.fov&&i===t.aspect&&a===t.far||(t.fov=n,t.aspect=i,t.far=a,t.updateProjectionMatrix()),(0,se.Z)((0,ue.Z)(r.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),r}(oc);sc.prototype.isSpotLightShadow=!0;var uc=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return(0,de.Z)(this,r),(i=t.call(this,e,n)).type="SpotLight",i.position.copy(xn.DefaultUp),i.updateMatrix(),i.target=new xn,i.distance=a,i.angle=o,i.penumbra=s,i.decay=u,i.shadow=new sc,i}return(0,pe.Z)(r,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),r}(rc);uc.prototype.isSpotLight=!0;var lc=new $r,cc=new br,hc=new br,fc=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e;return(0,de.Z)(this,r),(e=t.call(this,new xi(90,1,.5,500)))._frameExtents=new Vt(4,2),e._viewportCount=6,e._viewports=[new pr(2,1,1,1),new pr(0,1,1,1),new pr(3,1,1,1),new pr(1,1,1,1),new pr(3,0,1,1),new pr(1,0,1,1)],e._cubeDirections=[new br(1,0,0),new br(-1,0,0),new br(0,0,1),new br(0,0,-1),new br(0,1,0),new br(0,-1,0)],e._cubeUps=[new br(0,1,0),new br(0,1,0),new br(0,1,0),new br(0,1,0),new br(0,0,1),new br(0,0,-1)],e}return(0,pe.Z)(r,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.camera,n=this.matrix,i=e.distance||r.far;i!==r.far&&(r.far=i,r.updateProjectionMatrix()),cc.setFromMatrixPosition(e.matrixWorld),r.position.copy(cc),hc.copy(r.position),hc.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(hc),r.updateMatrixWorld(),n.makeTranslation(-cc.x,-cc.y,-cc.z),lc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(lc)}}]),r}(oc);fc.prototype.isPointLightShadow=!0;var dc=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,de.Z)(this,r),(i=t.call(this,e,n)).type="PointLight",i.distance=a,i.decay=o,i.shadow=new fc,i}return(0,pe.Z)(r,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),r}(rc);dc.prototype.isPointLight=!0;var pc=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){return(0,de.Z)(this,r),t.call(this,new Vi(-5,5,5,-5,.5,500))}return(0,pe.Z)(r)}(oc);pc.prototype.isDirectionalLightShadow=!0;var _c=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){var i;return(0,de.Z)(this,r),(i=t.call(this,e,n)).type="DirectionalLight",i.position.copy(xn.DefaultUp),i.updateMatrix(),i.target=new xn,i.shadow=new pc,i}return(0,pe.Z)(r,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),r}(rc);_c.prototype.isDirectionalLight=!0,function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){var i;return(0,de.Z)(this,r),(i=t.call(this,e,n)).type="AmbientLight",i}return(0,pe.Z)(r)}(rc).prototype.isAmbientLight=!0;var mc=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return(0,de.Z)(this,r),(i=t.call(this,e,n)).type="RectAreaLight",i.width=a,i.height=o,i}return(0,pe.Z)(r,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),r}(rc);mc.prototype.isRectAreaLight=!0;var vc=function(){function e(){(0,de.Z)(this,e),this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new br)}return(0,pe.Z)(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var r=e.x,n=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*n),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*r),t.addScaledVector(a[4],r*n*1.092548),t.addScaledVector(a[5],n*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],r*i*1.092548),t.addScaledVector(a[8],.546274*(r*r-n*n)),t}},{key:"getIrradianceAt",value:function(e,t){var r=e.x,n=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*n),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*r),t.addScaledVector(a[4],.858086*r*n),t.addScaledVector(a[5],.858086*n*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*r*i),t.addScaledVector(a[8],.429043*(r*r-n*n)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.coefficients,n=0;n<9;n++)r[n].fromArray(e,t+3*n);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.coefficients,n=0;n<9;n++)r[n].toArray(e,t+3*n);return e}}],[{key:"getBasisAt",value:function(e,t){var r=e.x,n=e.y,i=e.z;t[0]=.282095,t[1]=.488603*n,t[2]=.488603*i,t[3]=.488603*r,t[4]=1.092548*r*n,t[5]=1.092548*n*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*r*i,t[8]=.546274*(r*r-n*n)}}]),e}();vc.prototype.isSphericalHarmonics3=!0;var gc=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new vc,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,de.Z)(this,r),(e=t.call(this,void 0,i)).sh=n,e}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),r}(rc);gc.prototype.isLightProbe=!0;var yc=function(){function e(){(0,de.Z)(this,e)}return(0,pe.Z)(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",r=0,n=e.length;r<n;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(Dh){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}();(function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e;return(0,de.Z)(this,r),(e=t.call(this)).type="InstancedBufferGeometry",e.instanceCount=1/0,e}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this,this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),r})($n).prototype.isInstancedBufferGeometry=!0;var bc,wc=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),n=t.call(this,e),"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),n.options={premultiplyAlpha:"none"},n}return(0,pe.Z)(r,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Gl.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(r){Gl.add(e,r),t&&t(r),i.manager.itemEnd(e)})).catch((function(t){n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}]),r}(Yl);wc.prototype.isImageBitmapLoader=!0;var Ec=function(){return void 0===bc&&(bc=new(window.AudioContext||window.webkitAudioContext)),bc},xc=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){return(0,de.Z)(this,r),t.call(this,e)}return(0,pe.Z)(r,[{key:"load",value:function(e,t,r,n){var i=this,a=new $l(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(r){try{var a=r.slice(0);Ec().decodeAudioData(a,(function(e){t(e)}))}catch(Dh){n?n(Dh):console.error(Dh),i.manager.itemError(e)}}),r,n)}}]),r}(Yl),kc=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(0,de.Z)(this,r),i=t.call(this,void 0,a);var o=(new ur).set(e),s=(new ur).set(n),u=new br(o.r,o.g,o.b),l=new br(s.r,s.g,s.b),c=Math.sqrt(Math.PI),h=c*Math.sqrt(.75);return i.sh.coefficients[0].copy(u).add(l).multiplyScalar(c),i.sh.coefficients[1].copy(u).sub(l).multiplyScalar(h),i}return(0,pe.Z)(r)}(gc);kc.prototype.isHemisphereLightProbe=!0;var Tc=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,de.Z)(this,r),n=t.call(this,void 0,i);var a=(new ur).set(e);return n.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI)),n}return(0,pe.Z)(r)}(gc);Tc.prototype.isAmbientLightProbe=!0;var Mc=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).type="Audio",n.listener=e,n.context=e.context,n.gain=n.context.createGain(),n.gain.connect(e.getInput()),n.autoplay=!1,n.buffer=null,n.detune=0,n.loop=!1,n.loopStart=0,n.loopEnd=0,n.offset=0,n.duration=void 0,n.playbackRate=1,n.isPlaying=!1,n.hasPlaybackControl=!0,n.source=null,n.sourceType="empty",n._startedAt=0,n._progress=0,n._connected=!1,n.filters=[],n}return(0,pe.Z)(r,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),r}(xn),Ac=function(){function e(t,r,n){var i,a,o;switch((0,de.Z)(this,e),this.binding=t,this.valueSize=n,r){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return(0,pe.Z)(e,[{key:"accumulate",value:function(e,t){var r=this.buffer,n=this.valueSize,i=e*n+n,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==n;++o)r[i+o]=r[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(r,i,0,s,n)}this.cumulativeWeight=a}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,r=this.valueSize,n=r*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,n,0,e,r),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,r=this.buffer,n=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(r,n,s,1-i,t)}a>0&&this._mixBufferRegionAdditive(r,n,this._addIndex*t,1,t);for(var u=t,l=t+t;u!==l;++u)if(r[u]!==r[u+t]){o.setValue(r,n);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,r=this.valueSize,n=r*this._origIndex;e.getValue(t,n);for(var i=r,a=n;i!==a;++i)t[i]=t[n+i%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,r=e;r<t;r++)this.buffer[r]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}},{key:"_select",value:function(e,t,r,n,i){if(n>=.5)for(var a=0;a!==i;++a)e[t+a]=e[r+a]}},{key:"_slerp",value:function(e,t,r,n){yr.slerpFlat(e,t,e,t,e,r,n)}},{key:"_slerpAdditive",value:function(e,t,r,n,i){var a=this._workIndex*i;yr.multiplyQuaternionsFlat(e,a,e,t,e,r),yr.slerpFlat(e,t,e,t,e,a,n)}},{key:"_lerp",value:function(e,t,r,n,i){for(var a=1-n,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[r+o]*n}}},{key:"_lerpAdditive",value:function(e,t,r,n,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[r+a]*n}}}]),e}(),Oc="\\[\\]\\.:\\/",Sc=new RegExp("[\\[\\]\\.:\\/]","g"),Rc="[^\\[\\]\\.:\\/]",Cc="[^"+Oc.replace("\\.","")+"]",Pc=/((?:WC+[\/:])*)/.source.replace("WC",Rc),Dc=/(WCOD+)?/.source.replace("WCOD",Cc),Ic=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Rc),Lc=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Rc),Uc=new RegExp("^"+Pc+Dc+Ic+Lc+"$"),jc=["material","materials","bones"],Nc=function(){function e(t,r,n){(0,de.Z)(this,e);var i=n||Bc.parseTrackName(r);this._targetGroup=t,this._bindings=t.subscribe_(r,i)}return(0,pe.Z)(e,[{key:"getValue",value:function(e,t){this.bind();var r=this._targetGroup.nCachedObjects_,n=this._bindings[r];void 0!==n&&n.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var r=this._bindings,n=this._targetGroup.nCachedObjects_,i=r.length;n!==i;++n)r[n].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}]),e}(),Bc=function(){function e(t,r,n){(0,de.Z)(this,e),this.path=r,this.parsedPath=n||e.parseTrackName(r),this.node=e.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return(0,pe.Z)(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)e[t++]=r[n]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,r=this.parsedPath,n=r.objectName,i=r.propertyName,a=r.propertyIndex;if(t||(t=e.findNode(this.rootNode,r.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var o=r.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var u=t[i];if(void 0!==u){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=a}else void 0!==u.fromArray&&void 0!==u.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(c=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var h=r.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+i+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,r,n){return t&&t.isAnimationObjectGroup?new e.Composite(t,r,n):new e(t,r,n)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(Sc,"")}},{key:"parseTrackName",value:function(e){var t=Uc.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){var i=r.nodeName.substring(n+1);-1!==jc.indexOf(i)&&(r.nodeName=r.nodeName.substring(0,n),r.objectName=i)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var r=e.skeleton.getBoneByName(t);if(void 0!==r)return r}if(e.children){var n=function e(r){for(var n=0;n<r.length;n++){var i=r[n];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(n)return n}return null}}]),e}();Bc.Composite=Nc,Bc.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Bc.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Bc.prototype.GetterByBindingType=[Bc.prototype._getValue_direct,Bc.prototype._getValue_array,Bc.prototype._getValue_arrayElement,Bc.prototype._getValue_toArray],Bc.prototype.SetterByBindingTypeAndVersioning=[[Bc.prototype._setValue_direct,Bc.prototype._setValue_direct_setNeedsUpdate,Bc.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Bc.prototype._setValue_array,Bc.prototype._setValue_array_setNeedsUpdate,Bc.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Bc.prototype._setValue_arrayElement,Bc.prototype._setValue_arrayElement_setNeedsUpdate,Bc.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Bc.prototype._setValue_fromArray,Bc.prototype._setValue_fromArray_setNeedsUpdate,Bc.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var Zc=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.blendMode;(0,de.Z)(this,e),this._mixer=t,this._clip=r,this._localRoot=n,this.blendMode=i;for(var a=r.tracks,o=a.length,s=new Array(o),u={endingStart:yt,endingEnd:yt},l=0;l!==o;++l){var c=a[l].createInterpolant(null);s[l]=c,c.settings=u}this._interpolantSettings=u,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=pt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return(0,pe.Z)(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){var n=this._clip.duration,i=e._clip.duration,a=i/n,o=n/i;e.warp(1,a,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,r){return e.crossFadeFrom(this,t,r)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,r){var n=this._mixer,i=n.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=n._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+r,u[0]=e/a,u[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,r,n){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*r;if(a<0||0===r)return;this._startTime=null,t=r*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var u=this._interpolants,l=this._propertyBindings;if(this.blendMode===xt)for(var c=0,h=u.length;c!==h;++c)u[c].evaluate(o),l[c].accumulateAdditive(s);else for(var f=0,d=u.length;f!==d;++f)u[f].evaluate(o),l[f].accumulate(n,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var r=this._weightInterpolant;if(null!==r){var n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var r=this._timeScaleInterpolant;if(null!==r)t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,r=this.loop,n=this.time+e,i=this._loopCount,a=r===_t;if(0===e)return-1===i?n:a&&1===(1&i)?t-n:n;if(r===dt){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n>=t)n=t;else{if(!(n<0)){this.time=n;break e}n=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),n>=t||n<0){var o=Math.floor(n/t);n-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,n=e>0?t:0,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=n;if(a&&1===(1&i))return t-n}return n}},{key:"_setEndings",value:function(e,t,r){var n=this._interpolantSettings;r?(n.endingStart=bt,n.endingEnd=bt):(n.endingStart=e?this.zeroSlopeAtStart?bt:yt:wt,n.endingEnd=t?this.zeroSlopeAtEnd?bt:yt:wt)}},{key:"_scheduleFading",value:function(e,t,r){var n=this._mixer,i=n.time,a=this._weightInterpolant;null===a&&(a=n._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=r,this}}]),e}(),Wc=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this))._root=e,n._initMemoryManager(),n._accuIndex=0,n.time=0,n.timeScale=1,n}return(0,pe.Z)(r,[{key:"_bindAction",value:function(e,t){var r=e._localRoot||this._root,n=e._clip.tracks,i=n.length,a=e._propertyBindings,o=e._interpolants,s=r.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var c=0;c!==i;++c){var h=n[c],f=h.name,d=l[f];if(void 0!==d)++d.referenceCount,a[c]=d;else{if(void 0!==(d=a[c])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,f));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(d=new Ac(Bc.create(r,f,p),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(d,s,f),a[c]=d}o[c].resultBuffer=d.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,r=e._clip.uuid,n=this._actionsByClip[r];this._bindAction(e,n&&n.knownActions[0]),this._addInactiveAction(e,r,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,r=0,n=t.length;r!==n;++r){var i=t[r];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,r){var n=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=n.length,n.push(e),a.actionByRoot[r]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,r=t[t.length-1],n=e._cacheIndex;r._cacheIndex=n,t[n]=r,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,u=s[s.length-1],l=e._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,r=0,n=t.length;r!==n;++r){var i=t[r];0===--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,r=e._cacheIndex,n=this._nActiveActions++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,r=e._cacheIndex,n=--this._nActiveActions,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}},{key:"_addInactiveBinding",value:function(e,t,r){var n=this._bindingsByRootAndName,i=this._bindings,a=n[t];void 0===a&&(a={},n[t]=a),a[r]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,r=e.binding,n=r.rootNode.uuid,i=r.path,a=this._bindingsByRootAndName,o=a[n],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[n]}},{key:"_lendBinding",value:function(e){var t=this._bindings,r=e._cacheIndex,n=this._nActiveBindings++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,r=e._cacheIndex,n=--this._nActiveBindings,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,r=e[t];return void 0===r&&((r=new Il(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=r),r}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,r=e.__cacheIndex,n=--this._nActiveControlInterpolants,i=t[n];e.__cacheIndex=n,t[n]=e,i.__cacheIndex=r,t[r]=i}},{key:"clipAction",value:function(e,t,r){var n=t||this._root,i=n.uuid,a="string"===typeof e?Kl.findByName(n,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],u=null;if(void 0===r&&(r=null!==a?a.blendMode:Et),void 0!==s){var l=s.actionByRoot[i];if(void 0!==l&&l.blendMode===r)return l;u=s.knownActions[0],null===a&&(a=u._clip)}if(null===a)return null;var c=new Zc(this,a,t,r);return this._bindAction(c,u),this._addInactiveAction(c,o,i),c}},{key:"existingAction",value:function(e,t){var r=t||this._root,n=r.uuid,i="string"===typeof e?Kl.findByName(r,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[n]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,r=this._nActiveActions,n=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==r;++o){t[o]._update(n,e,i,a)}for(var s=this._bindings,u=this._nActiveBindings,l=0;l!==u;++l)s[l].apply(a);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,r=e.uuid,n=this._actionsByClip,i=n[r];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,c=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=l,t[l]=c,t.pop(),this._removeInactiveBindingsForAction(u)}delete n[r]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,r=this._actionsByClip;for(var n in r){var i=r[n].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var r=this.existingAction(e,t);null!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}}]),r}(Dt);Wc.prototype._controlInterpolantsResultBuffer=new Float32Array(1);var Fc=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,de.Z)(this,r),(i=t.call(this,e,n)).meshPerAttribute=a,i}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=(0,se.Z)((0,ue.Z)(r.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=(0,se.Z)((0,ue.Z)(r.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),r}(gs);Fc.prototype.isInstancedInterleavedBuffer=!0;var zc=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;(0,de.Z)(this,e),this.ray=new qr(t,r),this.near=n,this.far=i,this.camera=null,this.layers=new ln,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return(0,pe.Z)(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Hc(e,this,r,t),r.sort(Kc),r}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=0,i=e.length;n<i;n++)Hc(e[n],this,r,t);return r.sort(Kc),r}}]),e}();function Kc(e,t){return e.distance-t.distance}function Hc(e,t,r,n){if(e.layers.test(t.layers)&&e.raycast(t,r),!0===n)for(var i=e.children,a=0,o=i.length;a<o;a++)Hc(i[a],t,r,!0)}var Gc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,de.Z)(this,e),this.radius=t,this.phi=r,this.theta=n,this}return(0,pe.Z)(e,[{key:"set",value:function(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Zt(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Vc=new br,Xc=new $r,Yc=new $r,qc=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;(0,de.Z)(this,r);for(var i=$c(e),a=new $n,o=[],s=[],u=new ur(0,0,1),l=new ur(0,1,0),c=0;c<i.length;c++){var h=i[c];h.parent&&h.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(u.r,u.g,u.b),s.push(l.r,l.g,l.b))}a.setAttribute("position",new zn(o,3)),a.setAttribute("color",new zn(s,3));var f=new eu({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(n=t.call(this,a,f)).type="SkeletonHelper",n.isSkeletonHelper=!0,n.root=e,n.bones=i,n.matrix=e.matrixWorld,n.matrixAutoUpdate=!1,n}return(0,pe.Z)(r,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,n=this.geometry,i=n.getAttribute("position");Yc.copy(this.root.matrixWorld).invert();for(var a=0,o=0;a<t.length;a++){var s=t[a];s.parent&&s.parent.isBone&&(Xc.multiplyMatrices(Yc,s.matrixWorld),Vc.setFromMatrixPosition(Xc),i.setXYZ(o,Vc.x,Vc.y,Vc.z),Xc.multiplyMatrices(Yc,s.parent.matrixWorld),Vc.setFromMatrixPosition(Xc),i.setXYZ(o+1,Vc.x,Vc.y,Vc.z),o+=2)}n.getAttribute("position").needsUpdate=!0,(0,se.Z)((0,ue.Z)(r.prototype),"updateMatrixWorld",this).call(this,e)}}]),r}(lu);function $c(e){var t=[];!0===e.isBone&&t.push(e);for(var r=0;r<e.children.length;r++)t.push.apply(t,$c(e.children[r]));return t}for(var Jc=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;(0,de.Z)(this,r),a=new ur(a),o=new ur(o);for(var s=i/2,u=n/i,l=n/2,c=[],h=[],f=0,d=0,p=-l;f<=i;f++,p+=u){c.push(-l,0,p,l,0,p),c.push(p,0,-l,p,0,l);var _=f===s?a:o;_.toArray(h,d),d+=3,_.toArray(h,d),d+=3,_.toArray(h,d),d+=3,_.toArray(h,d),d+=3}var m=new $n;m.setAttribute("position",new zn(c,3)),m.setAttribute("color",new zn(h,3));var v=new eu({vertexColors:!0,toneMapped:!1});return(e=t.call(this,m,v)).type="GridHelper",e}return(0,pe.Z)(r)}(lu),Qc=function(){function e(){(0,de.Z)(this,e)}return(0,pe.Z)(e,null,[{key:"toHalfFloat",value:function(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Zt(e,-65504,65504),th[0]=e;var t=rh[0],r=t>>23&511;return nh[r]+((8388607&t)>>ih[r])}},{key:"fromHalfFloat",value:function(e){var t=e>>10;return rh[0]=sh[lh[t]+(1023&e)]+uh[t],th[0]}}]),e}(),eh=new ArrayBuffer(4),th=new Float32Array(eh),rh=new Uint32Array(eh),nh=new Uint32Array(512),ih=new Uint32Array(512),ah=0;ah<256;++ah){var oh=ah-127;oh<-27?(nh[ah]=0,nh[256|ah]=32768,ih[ah]=24,ih[256|ah]=24):oh<-14?(nh[ah]=1024>>-oh-14,nh[256|ah]=1024>>-oh-14|32768,ih[ah]=-oh-1,ih[256|ah]=-oh-1):oh<=15?(nh[ah]=oh+15<<10,nh[256|ah]=oh+15<<10|32768,ih[ah]=13,ih[256|ah]=13):oh<128?(nh[ah]=31744,nh[256|ah]=64512,ih[ah]=24,ih[256|ah]=24):(nh[ah]=31744,nh[256|ah]=64512,ih[ah]=13,ih[256|ah]=13)}for(var sh=new Uint32Array(2048),uh=new Uint32Array(64),lh=new Uint32Array(64),ch=1;ch<1024;++ch){for(var hh=ch<<13,fh=0;0===(8388608&hh);)hh<<=1,fh-=8388608;hh&=-8388609,fh+=947912704,sh[ch]=hh|fh}for(var dh=1024;dh<2048;++dh)sh[dh]=939524096+(dh-1024<<13);for(var ph=1;ph<31;++ph)uh[ph]=ph<<23;uh[31]=1199570944,uh[32]=2147483648;for(var _h=33;_h<63;++_h)uh[_h]=2147483648+(_h-32<<23);uh[63]=3347054592;for(var mh=1;mh<64;++mh)32!==mh&&(lh[mh]=1024);yu.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(yu.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Zu.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)},Jc.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},qc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Yl.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),yc.extractUrlBase(e)},Yl.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},xr.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},xr.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},xr.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},xr.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},xr.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},un.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")},Fr.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Ii.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},Xt.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},Xt.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},Xt.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Xt.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},Xt.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Xt.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},$r.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},$r.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},$r.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new br).setFromMatrixColumn(this,3)},$r.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},$r.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},$r.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},$r.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},$r.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},$r.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},$r.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},$r.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},$r.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},$r.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},$r.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},$r.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},$r.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},$r.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},$r.prototype.makeFrustum=function(e,t,r,n,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,n,r,i,a)},$r.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},Ci.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},yr.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},yr.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},qr.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},qr.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},qr.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},In.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},In.prototype.barycoordFromPoint=function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},In.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},In.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},In.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},In.barycoordFromPoint=function(e,t,r,n,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),In.getBarycoord(e,t,r,n,i)},In.normal=function(e,t,r,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),In.getNormal(e,t,r,n)},Wu.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},Wu.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new vl(this,e)},Wu.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new yl(this,e)},Vt.prototype.fromAttribute=function(e,t,r){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},Vt.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Vt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},br.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},br.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},br.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},br.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},br.prototype.getColumnFromMatrix=function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},br.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},br.prototype.fromAttribute=function(e,t,r){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},br.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},br.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},pr.prototype.fromAttribute=function(e,t,r){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},pr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},xn.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},xn.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},xn.prototype.translate=function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},xn.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},xn.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(xn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),_i.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(_i.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Fs.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},xi.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(rc.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Zn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Rt},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Rt)}}}),Zn.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Rt:St),this},Zn.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Zn.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},$n.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},$n.prototype.addAttribute=function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Zn(arguments[1],arguments[2])))},$n.prototype.addDrawCall=function(e,t,r){void 0!==r&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},$n.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},$n.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},$n.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},$n.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties($n.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),gs.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Rt:St),this},gs.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},vl.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},vl.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},vl.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},vs.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Object.defineProperties(Un.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new ur}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(wi.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),_s.prototype.clearTarget=function(e,t,r,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,r,n)},_s.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},_s.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},_s.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},_s.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},_s.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},_s.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},_s.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},_s.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},_s.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},_s.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},_s.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},_s.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},_s.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},_s.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},_s.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},_s.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},_s.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},_s.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},_s.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},_s.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},_s.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},_s.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},_s.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},_s.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(_s.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?Tt:kt}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}}),Object.defineProperties(ns.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(_r.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Mc.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new xc).load(e,(function(e){t.setBuffer(e)})),this},Ti.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},Ti.prototype.clear=function(e,t,r,n){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,r,n)},lr.crossOrigin=void 0,lr.loadTexture=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new tc;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,r,void 0,n);return t&&(a.mapping=t),a},lr.loadTextureCube=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Ql;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,r,void 0,n);return t&&(a.mapping=t),a},lr.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},lr.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ve}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ve);var vh,gh,yh=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,bh=Symbol(),wh=new Map,Eh=function(){function e(t,r){if((0,de.Z)(this,e),this._$cssResult$=!0,r!==bh)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}return(0,pe.Z)(e,[{key:"styleSheet",get:function(){var e=wh.get(this.cssText);return yh&&void 0===e&&(wh.set(this.cssText,e=new CSSStyleSheet),e.replaceSync(this.cssText)),e}},{key:"toString",value:function(){return this.cssText}}]),e}(),xh=yh?function(e){return e}:function(e){return e instanceof CSSStyleSheet?function(e){var t,r="",n=(0,ae.Z)(e.cssRules);try{for(n.s();!(t=n.n()).done;){r+=t.value.cssText}}catch(i){n.e(i)}finally{n.f()}return function(e){return new Eh("string"==typeof e?e:e+"",bh)}(r)}(e):e},kh=window.trustedTypes,Th=kh?kh.emptyScript:"",Mh=window.reactiveElementPolyfillSupport,Ah={toAttribute:function(e,t){switch(t){case Boolean:e=e?Th:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute:function(e,t){var r=e;switch(t){case Boolean:r=null!==e;break;case Number:r=null===e?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(e){r=null}}return r}},Oh=function(e,t){return t!==e&&(t==t||e==e)},Sh={attribute:!0,type:String,converter:Ah,reflect:!1,hasChanged:Oh},Rh=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e;return(0,de.Z)(this,r),(e=t.call(this))._$Et=new Map,e.isUpdatePending=!1,e.hasUpdated=!1,e._$Ei=null,e.o(),e}return(0,pe.Z)(r,[{key:"o",value:function(){var e,t=this;this._$Ep=new Promise((function(e){return t.enableUpdating=e})),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(e=this.constructor.l)||void 0===e||e.forEach((function(e){return e(t)}))}},{key:"addController",value:function(e){var t,r;(null!==(t=this._$Eg)&&void 0!==t?t:this._$Eg=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(r=e.hostConnected)||void 0===r||r.call(e))}},{key:"removeController",value:function(e){var t;null===(t=this._$Eg)||void 0===t||t.splice(this._$Eg.indexOf(e)>>>0,1)}},{key:"_$Em",value:function(){var e=this;this.constructor.elementProperties.forEach((function(t,r){e.hasOwnProperty(r)&&(e._$Et.set(r,e[r]),delete e[r])}))}},{key:"createRenderRoot",value:function(){var e,t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return function(e,t){yh?e.adoptedStyleSheets=t.map((function(e){return e instanceof CSSStyleSheet?e:e.styleSheet})):t.forEach((function(t){var r=document.createElement("style"),n=window.litNonce;void 0!==n&&r.setAttribute("nonce",n),r.textContent=t.cssText,e.appendChild(r)}))}(t,this.constructor.elementStyles),t}},{key:"connectedCallback",value:function(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$Eg)||void 0===e||e.forEach((function(e){var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}},{key:"enableUpdating",value:function(e){}},{key:"disconnectedCallback",value:function(){var e;null===(e=this._$Eg)||void 0===e||e.forEach((function(e){var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}},{key:"attributeChangedCallback",value:function(e,t,r){this._$AK(e,r)}},{key:"_$ES",value:function(e,t){var r,n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sh,a=this.constructor._$Eh(e,i);if(void 0!==a&&!0===i.reflect){var o=(null!==(n=null===(r=i.converter)||void 0===r?void 0:r.toAttribute)&&void 0!==n?n:Ah.toAttribute)(t,i.type);this._$Ei=e,null==o?this.removeAttribute(a):this.setAttribute(a,o),this._$Ei=null}}},{key:"_$AK",value:function(e,t){var r,n,i,a=this.constructor,o=a._$Eu.get(e);if(void 0!==o&&this._$Ei!==o){var s=a.getPropertyOptions(o),u=s.converter,l=null!==(i=null!==(n=null===(r=u)||void 0===r?void 0:r.fromAttribute)&&void 0!==n?n:"function"==typeof u?u:null)&&void 0!==i?i:Ah.fromAttribute;this._$Ei=o,this[o]=l(t,s.type),this._$Ei=null}}},{key:"requestUpdate",value:function(e,t,r){var n=!0;void 0!==e&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||Oh)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===r.reflect&&this._$Ei!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,r))):n=!1),!this.isUpdatePending&&n&&(this._$Ep=this._$E_())}},{key:"_$E_",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isUpdatePending=!0,e.prev=1,e.next=4,this._$Ep;case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),Promise.reject(e.t0);case 9:if(t=this.scheduleUpdate(),e.t1=null!=t,!e.t1){e.next=14;break}return e.next=14,t;case 14:return e.abrupt("return",!this.isUpdatePending);case 15:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var e,t=this;if(this.isUpdatePending){this.hasUpdated,this._$Et&&(this._$Et.forEach((function(e,r){return t[r]=e})),this._$Et=void 0);var r=!1,n=this._$AL;try{(r=this.shouldUpdate(n))?(this.willUpdate(n),null===(e=this._$Eg)||void 0===e||e.forEach((function(e){var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(n)):this._$EU()}catch(e){throw r=!1,this._$EU(),e}r&&this._$AE(n)}}},{key:"willUpdate",value:function(e){}},{key:"_$AE",value:function(e){var t;null===(t=this._$Eg)||void 0===t||t.forEach((function(e){var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}},{key:"_$EU",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$Ep}},{key:"shouldUpdate",value:function(e){return!0}},{key:"update",value:function(e){var t=this;void 0!==this._$EC&&(this._$EC.forEach((function(e,r){return t._$ES(r,t[r],e)})),this._$EC=void 0),this._$EU()}},{key:"updated",value:function(e){}},{key:"firstUpdated",value:function(e){}}],[{key:"addInitializer",value:function(e){var t;null!==(t=this.l)&&void 0!==t||(this.l=[]),this.l.push(e)}},{key:"observedAttributes",get:function(){var e=this;this.finalize();var t=[];return this.elementProperties.forEach((function(r,n){var i=e._$Eh(n,r);void 0!==i&&(e._$Eu.set(i,n),t.push(i))})),t}},{key:"createProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sh;if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){var r="symbol"==typeof e?Symbol():"__"+e,n=this.getPropertyDescriptor(e,r,t);void 0!==n&&Object.defineProperty(this.prototype,e,n)}}},{key:"getPropertyDescriptor",value:function(e,t,r){return{get:function(){return this[t]},set:function(n){var i=this[e];this[t]=n,this.requestUpdate(e,i,r)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(e){return this.elementProperties.get(e)||Sh}},{key:"finalize",value:function(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){var t,r=this.properties,n=[].concat((0,ne.Z)(Object.getOwnPropertyNames(r)),(0,ne.Z)(Object.getOwnPropertySymbols(r))),i=(0,ae.Z)(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;this.createProperty(a,r[a])}}catch(o){i.e(o)}finally{i.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(e){var t=[];if(Array.isArray(e)){var r,n=new Set(e.flat(1/0).reverse()),i=(0,ae.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;t.unshift(xh(a))}}catch(o){i.e(o)}finally{i.f()}}else void 0!==e&&t.push(xh(e));return t}},{key:"_$Eh",value:function(e,t){var r=t.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof e?e.toLowerCase():void 0}}]),r}((0,ie.Z)(HTMLElement));Rh.finalized=!0,Rh.elementProperties=new Map,Rh.elementStyles=[],Rh.shadowRootOptions={mode:"open"},null==Mh||Mh({ReactiveElement:Rh}),(null!==(vh=globalThis.reactiveElementVersions)&&void 0!==vh?vh:globalThis.reactiveElementVersions=[]).push("1.3.2");var Ch=globalThis.trustedTypes,Ph=Ch?Ch.createPolicy("lit-html",{createHTML:function(e){return e}}):void 0,Dh="lit$".concat((Math.random()+"").slice(9),"$"),Ih="?"+Dh,Lh="<".concat(Ih,">"),Uh=document,jh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Uh.createComment(e)},Nh=function(e){return null===e||"object"!=typeof e&&"function"!=typeof e},Bh=Array.isArray,Zh=function(e){var t;return Bh(e)||"function"==typeof(null===(t=e)||void 0===t?void 0:t[Symbol.iterator])},Wh=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Fh=/-->/g,zh=/>/g,Kh=/>|[ \x09\n\x0c\r](?:([^\s"'>=/]+)([ \x09\n\x0c\r]*=[ \x09\n\x0c\r]*(?:[^ \x09\n\x0c\r"'`<>=]|("|')|))|$)/g,Hh=/'/g,Gh=/"/g,Vh=/^(?:script|style|textarea|title)$/i,Xh=function(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return{_$litType$:e,strings:t,values:n}}}(1),Yh=Symbol.for("lit-noChange"),qh=Symbol.for("lit-nothing"),$h=new WeakMap,Jh=function(e,t,r){var n,i,a=null!==(n=null==r?void 0:r.renderBefore)&&void 0!==n?n:t,o=a._$litPart$;if(void 0===o){var s=null!==(i=null==r?void 0:r.renderBefore)&&void 0!==i?i:null;a._$litPart$=o=new sf(t.insertBefore(jh(),s),s,void 0,null!=r?r:{})}return o._$AI(e),o},Qh=Uh.createTreeWalker(Uh,129,null,!1),ef=function(e,t){for(var r,n=e.length-1,i=[],a=2===t?"<svg>":"",o=Wh,s=0;s<n;s++){for(var u=e[s],l=void 0,c=void 0,h=-1,f=0;f<u.length&&(o.lastIndex=f,null!==(c=o.exec(u)));)f=o.lastIndex,o===Wh?"!--"===c[1]?o=Fh:void 0!==c[1]?o=zh:void 0!==c[2]?(Vh.test(c[2])&&(r=RegExp("</"+c[2],"g")),o=Kh):void 0!==c[3]&&(o=Kh):o===Kh?">"===c[0]?(o=null!=r?r:Wh,h=-1):void 0===c[1]?h=-2:(h=o.lastIndex-c[2].length,l=c[1],o=void 0===c[3]?Kh:'"'===c[3]?Gh:Hh):o===Gh||o===Hh?o=Kh:o===Fh||o===zh?o=Wh:(o=Kh,r=void 0);var d=o===Kh&&e[s+1].startsWith("/>")?" ":"";a+=o===Wh?u+Lh:h>=0?(i.push(l),u.slice(0,h)+"$lit$"+u.slice(h)+Dh+d):u+Dh+(-2===h?(i.push(void 0),s):d)}var p=a+(e[n]||"<?>")+(2===t?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==Ph?Ph.createHTML(p):p,i]},tf=function(){function e(t,r){var n,i=t.strings,o=t._$litType$;(0,de.Z)(this,e),this.parts=[];var s=0,u=0,l=i.length-1,c=this.parts,h=ef(i,o),f=(0,a.Z)(h,2),d=f[0],p=f[1];if(this.el=e.createElement(d,r),Qh.currentNode=this.el.content,2===o){var _=this.el.content,m=_.firstChild;m.remove(),_.append.apply(_,(0,ne.Z)(m.childNodes))}for(;null!==(n=Qh.nextNode())&&c.length<l;){if(1===n.nodeType){if(n.hasAttributes()){var v,g=[],y=(0,ae.Z)(n.getAttributeNames());try{for(y.s();!(v=y.n()).done;){var b=v.value;if(b.endsWith("$lit$")||b.startsWith(Dh)){var w=p[u++];if(g.push(b),void 0!==w){var E=n.getAttribute(w.toLowerCase()+"$lit$").split(Dh),x=/([.?@])?(.*)/.exec(w);c.push({type:1,index:s,name:x[2],strings:E,ctor:"."===x[1]?lf:"?"===x[1]?hf:"@"===x[1]?ff:uf})}else c.push({type:6,index:s})}}}catch(C){y.e(C)}finally{y.f()}for(var k=0,T=g;k<T.length;k++){var M=T[k];n.removeAttribute(M)}}if(Vh.test(n.tagName)){var A=n.textContent.split(Dh),O=A.length-1;if(O>0){n.textContent=Ch?Ch.emptyScript:"";for(var S=0;S<O;S++)n.append(A[S],jh()),Qh.nextNode(),c.push({type:2,index:++s});n.append(A[O],jh())}}}else if(8===n.nodeType)if(n.data===Ih)c.push({type:2,index:s});else for(var R=-1;-1!==(R=n.data.indexOf(Dh,R+1));)c.push({type:7,index:s}),R+=Dh.length-1;s++}}return(0,pe.Z)(e,null,[{key:"createElement",value:function(e,t){var r=Uh.createElement("template");return r.innerHTML=e,r}}]),e}();function rf(e,t){var r,n,i,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,s=arguments.length>3?arguments[3]:void 0;if(t===Yh)return t;var u=void 0!==s?null===(r=o._$Cl)||void 0===r?void 0:r[s]:o._$Cu,l=Nh(t)?void 0:t._$litDirective$;return(null==u?void 0:u.constructor)!==l&&(null===(n=null==u?void 0:u._$AO)||void 0===n||n.call(u,!1),void 0===l?u=void 0:(u=new l(e))._$AT(e,o,s),void 0!==s?(null!==(i=(a=o)._$Cl)&&void 0!==i?i:a._$Cl=[])[s]=u:o._$Cu=u),void 0!==u&&(t=rf(e,u._$AS(e,t.values),u,s)),t}var nf,af,of=function(){function e(t,r){(0,de.Z)(this,e),this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=r}return(0,pe.Z)(e,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"p",value:function(e){var t,r=this._$AD,n=r.el.content,i=r.parts,a=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:Uh).importNode(n,!0);Qh.currentNode=a;for(var o=Qh.nextNode(),s=0,u=0,l=i[0];void 0!==l;){if(s===l.index){var c=void 0;2===l.type?c=new sf(o,o.nextSibling,this,e):1===l.type?c=new l.ctor(o,l.name,l.strings,this,e):6===l.type&&(c=new df(o,this,e)),this.v.push(c),l=i[++u]}s!==(null==l?void 0:l.index)&&(o=Qh.nextNode(),s++)}return a}},{key:"m",value:function(e){var t,r=0,n=(0,ae.Z)(this.v);try{for(n.s();!(t=n.n()).done;){var i=t.value;void 0!==i&&(void 0!==i.strings?(i._$AI(e,i,r),r+=i.strings.length-2):i._$AI(e[r])),r++}}catch(a){n.e(a)}finally{n.f()}}}]),e}(),sf=function(){function e(t,r,n,i){var a;(0,de.Z)(this,e),this.type=2,this._$AH=qh,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=n,this.options=i,this._$Cg=null===(a=null==i?void 0:i.isConnected)||void 0===a||a}return(0,pe.Z)(e,[{key:"_$AU",get:function(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cg}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,t=this._$AM;return void 0!==t&&11===e.nodeType&&(e=t.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;e=rf(this,e,t),Nh(e)?e===qh||null==e||""===e?(this._$AH!==qh&&this._$AR(),this._$AH=qh):e!==this._$AH&&e!==Yh&&this.$(e):void 0!==e._$litType$?this.T(e):void 0!==e.nodeType?this.k(e):Zh(e)?this.S(e):this.$(e)}},{key:"M",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(e,t)}},{key:"k",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.M(e))}},{key:"$",value:function(e){this._$AH!==qh&&Nh(this._$AH)?this._$AA.nextSibling.data=e:this.k(Uh.createTextNode(e)),this._$AH=e}},{key:"T",value:function(e){var t,r=e.values,n=e._$litType$,i="number"==typeof n?this._$AC(e):(void 0===n.el&&(n.el=tf.createElement(n.h,this.options)),n);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===i)this._$AH.m(r);else{var a=new of(i,this),o=a.p(this.options);a.m(r),this.k(o),this._$AH=a}}},{key:"_$AC",value:function(e){var t=$h.get(e.strings);return void 0===t&&$h.set(e.strings,t=new tf(e)),t}},{key:"S",value:function(t){Bh(this._$AH)||(this._$AH=[],this._$AR());var r,n,i=this._$AH,a=0,o=(0,ae.Z)(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;a===i.length?i.push(r=new e(this.M(jh()),this.M(jh()),this,this.options)):r=i[a],r._$AI(s),a++}}catch(u){o.e(u)}finally{o.f()}a<i.length&&(this._$AR(r&&r._$AB.nextSibling,a),i.length=a)}},{key:"_$AR",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,r=arguments.length>1?arguments[1]:void 0;for(null===(e=this._$AP)||void 0===e||e.call(this,!1,!0,r);t&&t!==this._$AB;){var n=t.nextSibling;t.remove(),t=n}}},{key:"setConnected",value:function(e){var t;void 0===this._$AM&&(this._$Cg=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}]),e}(),uf=function(){function e(t,r,n,i,a){(0,de.Z)(this,e),this.type=1,this._$AH=qh,this._$AN=void 0,this.element=t,this.name=r,this._$AM=i,this.options=a,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=qh}return(0,pe.Z)(e,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=this.strings,a=!1;if(void 0===i)e=rf(this,e,t,0),(a=!Nh(e)||e!==this._$AH&&e!==Yh)&&(this._$AH=e);else{var o,s,u=e;for(e=i[0],o=0;o<i.length-1;o++)(s=rf(this,u[r+o],t,o))===Yh&&(s=this._$AH[o]),a||(a=!Nh(s)||s!==this._$AH[o]),s===qh?e=qh:e!==qh&&(e+=(null!=s?s:"")+i[o+1]),this._$AH[o]=s}a&&!n&&this.C(e)}},{key:"C",value:function(e){e===qh?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}]),e}(),lf=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e;return(0,de.Z)(this,r),(e=t.apply(this,arguments)).type=3,e}return(0,pe.Z)(r,[{key:"C",value:function(e){this.element[this.name]=e===qh?void 0:e}}]),r}(uf),cf=Ch?Ch.emptyScript:"",hf=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e;return(0,de.Z)(this,r),(e=t.apply(this,arguments)).type=4,e}return(0,pe.Z)(r,[{key:"C",value:function(e){e&&e!==qh?this.element.setAttribute(this.name,cf):this.element.removeAttribute(this.name)}}]),r}(uf),ff=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i,a,o){var s;return(0,de.Z)(this,r),(s=t.call(this,e,n,i,a,o)).type=5,s}return(0,pe.Z)(r,[{key:"_$AI",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;if((e=null!==(t=rf(this,e,r,0))&&void 0!==t?t:qh)!==Yh){var n=this._$AH,i=e===qh&&n!==qh||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,a=e!==qh&&(n===qh||i);i&&this.element.removeEventListener(this.name,this,n),a&&this.element.addEventListener(this.name,this,e),this._$AH=e}}},{key:"handleEvent",value:function(e){var t,r;"function"==typeof this._$AH?this._$AH.call(null!==(r=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==r?r:this.element,e):this._$AH.handleEvent(e)}}]),r}(uf),df=function(){function e(t,r,n){(0,de.Z)(this,e),this.element=t,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}return(0,pe.Z)(e,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){rf(this,e)}}]),e}(),pf=window.litHtmlPolyfillSupport;null==pf||pf(tf,sf),(null!==(gh=globalThis.litHtmlVersions)&&void 0!==gh?gh:globalThis.litHtmlVersions=[]).push("2.2.3");var _f=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e;return(0,de.Z)(this,r),(e=t.apply(this,arguments)).renderOptions={host:(0,le.Z)(e)},e._$Dt=void 0,e}return(0,pe.Z)(r,[{key:"createRenderRoot",value:function(){var e,t,n=(0,se.Z)((0,ue.Z)(r.prototype),"createRenderRoot",this).call(this);return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=n.firstChild),n}},{key:"update",value:function(e){var t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),(0,se.Z)((0,ue.Z)(r.prototype),"update",this).call(this,e),this._$Dt=Jh(t,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var e;(0,se.Z)((0,ue.Z)(r.prototype),"connectedCallback",this).call(this),null===(e=this._$Dt)||void 0===e||e.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var e;(0,se.Z)((0,ue.Z)(r.prototype),"disconnectedCallback",this).call(this),null===(e=this._$Dt)||void 0===e||e.setConnected(!1)}},{key:"render",value:function(){return Yh}}]),r}(Rh);_f.finalized=!0,_f._$litElement$=!0,null===(nf=globalThis.litElementHydrateSupport)||void 0===nf||nf.call(globalThis,{LitElement:_f});var mf=globalThis.litElementPolyfillSupport;null==mf||mf({LitElement:_f}),(null!==(af=globalThis.litElementVersions)&&void 0!==af?af:globalThis.litElementVersions=[]).push("3.2.0");var vf=null!=navigator.xr&&null!=self.XRSession&&null!=navigator.xr.isSessionSupported,gf=vf&&self.XRSession.prototype.requestHitTestSource,yf=null!=self.ResizeObserver,bf=null!=self.IntersectionObserver,wf=gf;!function(){var e=navigator.userAgent||navigator.vendor||self.opera,t=!1;(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(),/\bCrOS\b/.test(navigator.userAgent);var Ef=/android/i.test(navigator.userAgent),xf=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!self.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,kf=function(){var e=document.createElement("a");return Boolean(e.relList&&e.relList.supports&&e.relList.supports("ar"))}();/Safari\//.test(navigator.userAgent);var Tf=/firefox/i.test(navigator.userAgent),Mf=/OculusBrowser/.test(navigator.userAgent);xf&&/CriOS\//.test(navigator.userAgent);var Af=Ef&&!Tf&&!Mf,Of=Xh(J||(J=q(['\n<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="#000000">\n    \x3c!-- NOTE(cdata): This SVG filter is a stop-gap until we can implement\n         support for dynamic re-coloring of UI components --\x3e\n    <defs>\n      <filter id="drop-shadow" x="-100%" y="-100%" width="300%" height="300%">\n        <feGaussianBlur in="SourceAlpha" stdDeviation="1"/>\n        <feOffset dx="0" dy="0" result="offsetblur"/>\n        <feFlood flood-color="#000000"/>\n        <feComposite in2="offsetblur" operator="in"/>\n        <feMerge>\n          <feMergeNode/>\n          <feMergeNode in="SourceGraphic"/>\n        </feMerge>\n      </filter>\n    </defs>\n    <path filter="url(#drop-shadow)" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>']))),Sf=Xh(Q||(Q=q(['\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="36">\n    <defs>\n        <path id="A" d="M.001.232h24.997V36H.001z" />\n    </defs>\n    <g transform="translate(-11 -4)" fill="none" fill-rule="evenodd">\n        <path fill-opacity="0" fill="#fff" d="M0 0h44v44H0z" />\n        <g transform="translate(11 3)">\n            <path d="M8.733 11.165c.04-1.108.766-2.027 1.743-2.307a2.54 2.54 0 0 1 .628-.089c.16 0 .314.017.463.044 1.088.2 1.9 1.092 1.9 2.16v8.88h1.26c2.943-1.39 5-4.45 5-8.025a9.01 9.01 0 0 0-1.9-5.56l-.43-.5c-.765-.838-1.683-1.522-2.712-2-1.057-.49-2.226-.77-3.46-.77s-2.4.278-3.46.77c-1.03.478-1.947 1.162-2.71 2l-.43.5a9.01 9.01 0 0 0-1.9 5.56 9.04 9.04 0 0 0 .094 1.305c.03.21.088.41.13.617l.136.624c.083.286.196.56.305.832l.124.333a8.78 8.78 0 0 0 .509.953l.065.122a8.69 8.69 0 0 0 3.521 3.191l1.11.537v-9.178z" fill-opacity=".5" fill="#e4e4e4" />\n            <path d="M22.94 26.218l-2.76 7.74c-.172.485-.676.8-1.253.8H12.24c-1.606 0-3.092-.68-3.98-1.82-1.592-2.048-3.647-3.822-6.11-5.27-.095-.055-.15-.137-.152-.23-.004-.1.046-.196.193-.297.56-.393 1.234-.6 1.926-.6a3.43 3.43 0 0 1 .691.069l4.922.994V10.972c0-.663.615-1.203 1.37-1.203s1.373.54 1.373 1.203v9.882h2.953c.273 0 .533.073.757.21l6.257 3.874c.027.017.045.042.07.06.41.296.586.77.426 1.22M4.1 16.614c-.024-.04-.042-.083-.065-.122a8.69 8.69 0 0 1-.509-.953c-.048-.107-.08-.223-.124-.333l-.305-.832c-.058-.202-.09-.416-.136-.624l-.13-.617a9.03 9.03 0 0 1-.094-1.305c0-2.107.714-4.04 1.9-5.56l.43-.5c.764-.84 1.682-1.523 2.71-2 1.058-.49 2.226-.77 3.46-.77s2.402.28 3.46.77c1.03.477 1.947 1.16 2.712 2l.428.5a9 9 0 0 1 1.901 5.559c0 3.577-2.056 6.636-5 8.026h-1.26v-8.882c0-1.067-.822-1.96-1.9-2.16-.15-.028-.304-.044-.463-.044-.22 0-.427.037-.628.09-.977.28-1.703 1.198-1.743 2.306v9.178l-1.11-.537C6.18 19.098 4.96 18 4.1 16.614M22.97 24.09l-6.256-3.874c-.102-.063-.218-.098-.33-.144 2.683-1.8 4.354-4.855 4.354-8.243 0-.486-.037-.964-.104-1.43a9.97 9.97 0 0 0-1.57-4.128l-.295-.408-.066-.092a10.05 10.05 0 0 0-.949-1.078c-.342-.334-.708-.643-1.094-.922-1.155-.834-2.492-1.412-3.94-1.65l-.732-.088-.748-.03a9.29 9.29 0 0 0-1.482.119c-1.447.238-2.786.816-3.94 1.65a9.33 9.33 0 0 0-.813.686 9.59 9.59 0 0 0-.845.877l-.385.437-.36.5-.288.468-.418.778-.04.09c-.593 1.28-.93 2.71-.93 4.222 0 3.832 2.182 7.342 5.56 8.938l1.437.68v4.946L5 25.64a4.44 4.44 0 0 0-.888-.086c-.017 0-.034.003-.05.003-.252.004-.503.033-.75.08a5.08 5.08 0 0 0-.237.056c-.193.046-.382.107-.568.18-.075.03-.15.057-.225.1-.25.114-.494.244-.723.405a1.31 1.31 0 0 0-.566 1.122 1.28 1.28 0 0 0 .645 1.051C4 29.925 5.96 31.614 7.473 33.563a5.06 5.06 0 0 0 .434.491c1.086 1.082 2.656 1.713 4.326 1.715h6.697c.748-.001 1.43-.333 1.858-.872.142-.18.256-.38.336-.602l2.757-7.74c.094-.26.13-.53.112-.794s-.088-.52-.203-.76a2.19 2.19 0 0 0-.821-.91" fill-opacity=".6" fill="#000" />\n            <path d="M22.444 24.94l-6.257-3.874a1.45 1.45 0 0 0-.757-.211h-2.953v-9.88c0-.663-.616-1.203-1.373-1.203s-1.37.54-1.37 1.203v16.643l-4.922-.994a3.44 3.44 0 0 0-.692-.069 3.35 3.35 0 0 0-1.925.598c-.147.102-.198.198-.194.298.004.094.058.176.153.23 2.462 1.448 4.517 3.22 6.11 5.27.887 1.14 2.373 1.82 3.98 1.82h6.686c.577 0 1.08-.326 1.253-.8l2.76-7.74c.16-.448-.017-.923-.426-1.22-.025-.02-.043-.043-.07-.06z" fill="#fff" />\n            <g transform="translate(0 .769)">\n                <mask id="B" fill="#fff">\n                    <use xlink:href="#A" />\n                </mask>\n                <path d="M23.993 24.992a1.96 1.96 0 0 1-.111.794l-2.758 7.74c-.08.22-.194.423-.336.602-.427.54-1.11.87-1.857.872h-6.698c-1.67-.002-3.24-.633-4.326-1.715-.154-.154-.3-.318-.434-.49C5.96 30.846 4 29.157 1.646 27.773c-.385-.225-.626-.618-.645-1.05a1.31 1.31 0 0 1 .566-1.122 4.56 4.56 0 0 1 .723-.405l.225-.1a4.3 4.3 0 0 1 .568-.18l.237-.056c.248-.046.5-.075.75-.08.018 0 .034-.003.05-.003.303-.001.597.027.89.086l3.722.752V20.68l-1.436-.68c-3.377-1.596-5.56-5.106-5.56-8.938 0-1.51.336-2.94.93-4.222.015-.03.025-.06.04-.09.127-.267.268-.525.418-.778.093-.16.186-.316.288-.468.063-.095.133-.186.2-.277L3.773 5c.118-.155.26-.29.385-.437.266-.3.544-.604.845-.877a9.33 9.33 0 0 1 .813-.686C6.97 2.167 8.31 1.59 9.757 1.35a9.27 9.27 0 0 1 1.481-.119 8.82 8.82 0 0 1 .748.031c.247.02.49.05.733.088 1.448.238 2.786.816 3.94 1.65.387.28.752.588 1.094.922a9.94 9.94 0 0 1 .949 1.078l.066.092c.102.133.203.268.295.408a9.97 9.97 0 0 1 1.571 4.128c.066.467.103.945.103 1.43 0 3.388-1.67 6.453-4.353 8.243.11.046.227.08.33.144l6.256 3.874c.37.23.645.55.82.9.115.24.185.498.203.76m.697-1.195c-.265-.55-.677-1.007-1.194-1.326l-5.323-3.297c2.255-2.037 3.564-4.97 3.564-8.114 0-2.19-.637-4.304-1.84-6.114-.126-.188-.26-.37-.4-.552-.645-.848-1.402-1.6-2.252-2.204C15.472.91 13.393.232 11.238.232A10.21 10.21 0 0 0 5.23 2.19c-.848.614-1.606 1.356-2.253 2.205-.136.18-.272.363-.398.55C1.374 6.756.737 8.87.737 11.06c0 4.218 2.407 8.08 6.133 9.842l.863.41v3.092l-2.525-.51c-.356-.07-.717-.106-1.076-.106a5.45 5.45 0 0 0-3.14.996c-.653.46-1.022 1.202-.99 1.983a2.28 2.28 0 0 0 1.138 1.872c2.24 1.318 4.106 2.923 5.543 4.772 1.26 1.62 3.333 2.59 5.55 2.592h6.698c1.42-.001 2.68-.86 3.134-2.138l2.76-7.74c.272-.757.224-1.584-.134-2.325" fill-opacity=".05" fill="#000" mask="url(#B)" />\n            </g>\n        </g>\n    </g>\n</svg>']))),Rf=Xh(ee||(ee=q(['\n<svg version="1.1" id="view_x5F_in_x5F_AR_x5F_icon"\n\t xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px"\n\t viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">\n<rect id="Bounding_Box" x="0" y="0" fill="none" width="24" height="24"/>\n<g id="Art_layer">\n\t<path d="M3,4c0-0.55,0.45-1,1-1h2V1H4C2.35,1,1,2.35,1,4v2h2V4z"/>\n\t<path d="M20,3c0.55,0,1,0.45,1,1v2h2V4c0-1.65-1.35-3-3-3h-2v2H20z"/>\n\t<path d="M4,21c-0.55,0-1-0.45-1-1v-2H1v2c0,1.65,1.35,3,3,3h2v-2H4z"/>\n\t<path d="M20,21c0.55,0,1-0.45,1-1v-2h2v2c0,1.65-1.35,3-3,3h-2v-2H20z"/>\n\t<g>\n\t\t<path d="M18.25,7.6l-5.5-3.18c-0.46-0.27-1.04-0.27-1.5,0L5.75,7.6C5.29,7.87,5,8.36,5,8.9v6.35c0,0.54,0.29,1.03,0.75,1.3\n\t\t\tl5.5,3.18c0.46,0.27,1.04,0.27,1.5,0l5.5-3.18c0.46-0.27,0.75-0.76,0.75-1.3V8.9C19,8.36,18.71,7.87,18.25,7.6z M7,14.96v-4.62\n\t\t\tl4,2.32v4.61L7,14.96z M12,10.93L8,8.61l4-2.31l4,2.31L12,10.93z M13,17.27v-4.61l4-2.32v4.62L13,17.27z"/>\n\t</g>\n</g>\n</svg>']))),Cf=Xh(te||(te=q(['\n<style>\n:host {\n  display: block;\n  position: relative;\n  contain: strict;\n  width: 300px;\n  height: 150px;\n}\n\n/* NOTE: This ruleset is our integration surface area with the\n * :focus-visible polyfill.\n *\n * @see https://github.com/WICG/focus-visible/pull/196 */\n:host([data-js-focus-visible]:focus:not(.focus-visible)),\n:host([data-js-focus-visible]) :focus:not(.focus-visible) {\n  outline: none;\n}\n\n.container {\n  position: relative;\n}\n\n.userInput {\n  width: 100%;\n  height: 100%;\n  display: block;\n  position: relative;\n  overflow: hidden;\n}\n\ncanvas {\n  position: absolute;\n  display: none;\n  pointer-events: none;\n  /* NOTE(cdata): Chrome 76 and below apparently have a bug\n   * that causes our canvas not to display pixels unless it is\n   * on its own render layer\n   * @see https://github.com/google/model-viewer/pull/755#issuecomment-536597893\n   */\n  transform: translateZ(0);\n}\n\ncanvas.show {\n  display: block;\n}\n\n/* Adapted from HTML5 Boilerplate\n *\n * @see https://github.com/h5bp/html5-boilerplate/blob/ceb4620c78fc82e13534fc44202a3f168754873f/dist/css/main.css#L122-L133 */\n.screen-reader-only {\n  border: 0;\n  left: 0;\n  top: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n  pointer-events: none;\n}\n\n.slot {\n  position: absolute;\n  pointer-events: none;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.slot > * {\n  pointer-events: initial;\n}\n\n.annotation-wrapper ::slotted(*) {\n  opacity: var(--max-hotspot-opacity, 1);\n  transition: opacity 0.3s;\n}\n\n.pointer-tumbling .annotation-wrapper ::slotted(*) {\n  pointer-events: none;\n}\n\n.annotation-wrapper ::slotted(*) {\n  pointer-events: initial;\n}\n\n.annotation-wrapper.hide ::slotted(*) {\n  opacity: var(--min-hotspot-opacity, 0.25);\n}\n\n.slot.poster {\n  opacity: 0;\n  transition: opacity 0.3s 0.3s;\n  background-color: inherit;\n}\n\n.slot.poster.show {\n  opacity: 1;\n  transition: none;\n}\n\n.slot.poster.quick {\n  transition: none;\n}\n\n.slot.poster > * {\n  pointer-events: initial;\n}\n\n.slot.poster:not(.show) > * {\n  pointer-events: none;\n}\n\n#default-poster {\n  width: 100%;\n  height: 100%;\n  /* The default poster is a <button> so we need to set display\n   * to prevent it from being affected by text-align: */\n  display: block;\n  position: absolute;\n  border: none;\n  padding: 0;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: var(--poster-color, #fff);\n  background-image: var(--poster-image, none);\n}\n\n#default-progress-bar {\n  display: block;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  overflow: hidden;\n}\n\n#default-progress-bar > .mask {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: var(--progress-mask, #fff);\n  transition: opacity 0.3s;\n  opacity: 0.2;\n}\n\n#default-progress-bar > .bar {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: var(--progress-bar-height, 5px);\n  background-color: var(--progress-bar-color, rgba(0, 0, 0, 0.4));\n  transition: transform 0.09s;\n  transform-origin: top left;\n  transform: scaleX(0);\n  overflow: hidden;\n}\n\n#default-progress-bar > .bar.hide {\n  transition: opacity 0.3s 1s;\n  opacity: 0;\n}\n\n.centered {\n  align-items: center;\n  justify-content: center;\n}\n\n.cover {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n\n.slot.interaction-prompt {\n  display: var(--interaction-prompt-display, flex);\n  overflow: hidden;\n  opacity: 0;\n  will-change: opacity;\n  transition: opacity 0.3s;\n}\n\n.slot.interaction-prompt.visible {\n  opacity: 1;\n}\n\n.animated-container {\n  will-change: transform, opacity;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n\n.slot.interaction-prompt > * {\n  pointer-events: none;\n}\n\n.slot.ar-button {\n  -moz-user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  user-select: none;\n\n  display: var(--ar-button-display, block);\n}\n\n.slot.ar-button:not(.enabled) {\n  display: none;\n}\n\n.fab {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  width: 40px;\n  height: 40px;\n  cursor: pointer;\n  background-color: #fff;\n  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.15);\n  border-radius: 100px;\n}\n\n.fab > * {\n  opacity: 0.87;\n}\n\n#default-ar-button {\n  position: absolute;\n  bottom: 16px;\n  right: 16px;\n  transform: scale(var(--ar-button-scale, 1));\n  transform-origin: bottom right;\n}\n\n.slot.pan-target {\n  display: block;\n  position: absolute;\n  width: 0;\n  height: 0;\n  left: 50%;\n  top: 50%;\n  transform: translate3d(-50%, -50%, 0);\n  background-color: transparent;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n\n#default-pan-target {\n  width: 6px;\n  height: 6px;\n  border-radius: 6px;\n  border: 1px solid white;\n  box-shadow: 0px 0px 2px 1px rgba(0, 0, 0, 0.8);\n}\n\n.slot.default {\n  pointer-events: none;\n}\n\n.slot.progress-bar {\n  pointer-events: none;\n}\n\n.slot.exit-webxr-ar-button {\n  pointer-events: none;\n}\n\n.slot.exit-webxr-ar-button:not(.enabled) {\n  display: none;\n}\n\n#default-exit-webxr-ar-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  width: 40px;\n  height: 40px;\n  box-sizing: border-box;\n}\n\n#default-exit-webxr-ar-button > svg {\n  fill: #fff;\n}\n</style>\n<div class="container">\n  <div class="userInput" tabindex="0" role="img"\n      aria-label="3D model">\n      <div class="slot canvas">\n        <slot name="canvas">\n          <canvas></canvas>\n        </slot>\n      </div>\n\n  </div>\n\n  \x3c!-- NOTE(cdata): We need to wrap slots because browsers without ShadowDOM\n        will have their <slot> elements removed by ShadyCSS --\x3e\n  <div class="slot poster">\n    <slot name="poster">\n      <button type="button" id="default-poster" aria-hidden="true" aria-label="Loading 3D model"></button>\n    </slot>\n  </div>\n\n  <div class="slot ar-button">\n    <slot name="ar-button">\n      <a id="default-ar-button" part="default-ar-button" class="fab"\n          tabindex="2"\n          aria-label="View in your space">\n        ','\n      </a>\n    </slot>\n  </div>\n\n  <div class="slot pan-target">\n    <slot name="pan-target">\n      <div id="default-pan-target">\n      </div>\n    </slot>\n  </div>\n\n  <div class="slot interaction-prompt cover centered">\n    <div id="prompt" class="animated-container">\n      <slot name="interaction-prompt" aria-hidden="true">\n        ','\n      </slot>\n    </div>\n  </div>\n\n  <div id="finger0" class="animated-container cover">\n    <slot name="finger0" aria-hidden="true">\n    </slot>\n  </div>\n  <div id="finger1" class="animated-container cover">\n    <slot name="finger1" aria-hidden="true">\n    </slot>\n  </div>\n\n  <div class="slot default">\n    <slot></slot>\n\n    <div class="slot progress-bar">\n      <slot name="progress-bar">\n        <div id="default-progress-bar" aria-hidden="true">\n          <div class="mask" part="default-progress-mask"></div>\n          <div class="bar" part="default-progress-bar"></div>\n        </div>\n      </slot>\n    </div>\n\n    <div class="slot exit-webxr-ar-button">\n      <slot name="exit-webxr-ar-button">\n        <a id="default-exit-webxr-ar-button" part="default-exit-webxr-ar-button"\n            tabindex="3"\n            aria-label="Exit AR"\n            aria-hidden="true">\n          ','\n        </a>\n      </slot>\n    </div>\n  </div>\n</div>\n<div class="screen-reader-only" role="region" aria-label="Live announcements">\n  <span id="status" role="status"></span>\n</div>'])),Rf,Sf,Of),Pf=new WeakMap,Df=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this,e)).decoderPath="",n.decoderConfig={},n.decoderBinary=null,n.decoderPending=null,n.workerLimit=4,n.workerPool=[],n.workerNextTaskID=1,n.workerSourceURL="",n.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},n.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"},n}return(0,pe.Z)(r,[{key:"setDecoderPath",value:function(e){return this.decoderPath=e,this}},{key:"setDecoderConfig",value:function(e){return this.decoderConfig=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerLimit=e,this}},{key:"load",value:function(e,t,r,n){var i=this,a=new $l(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){var r={attributeIDs:i.defaultAttributeIDs,attributeTypes:i.defaultAttributeTypes,useUniqueIDs:!1};i.decodeGeometry(e,r).then(t).catch(n)}),r,n)}},{key:"decodeDracoFile",value:function(e,t,r,n){var i={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:n||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,i).then(t)}},{key:"decodeGeometry",value:function(e,t){var r=this;for(var n in t.attributeTypes){var i=t.attributeTypes[n];void 0!==i.BYTES_PER_ELEMENT&&(t.attributeTypes[n]=i.name)}var a,o=JSON.stringify(t);if(Pf.has(e)){var s=Pf.get(e);if(s.key===o)return s.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var u=this.workerNextTaskID++,l=e.byteLength,c=this._getWorker(u,l).then((function(r){return a=r,new Promise((function(r,n){a._callbacks[u]={resolve:r,reject:n},a.postMessage({type:"decode",id:u,taskConfig:t,buffer:e},[e])}))})).then((function(e){return r._createGeometry(e.geometry)}));return c.catch((function(){return!0})).then((function(){a&&u&&r._releaseTask(a,u)})),Pf.set(e,{key:o,promise:c}),c}},{key:"_createGeometry",value:function(e){var t=new $n;e.index&&t.setIndex(new Zn(e.index.array,1));for(var r=0;r<e.attributes.length;r++){var n=e.attributes[r],i=n.name,a=n.array,o=n.itemSize;t.setAttribute(i,new Zn(a,o))}return t}},{key:"_loadLibrary",value:function(e,t){var r=new $l(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((function(t,n){r.load(e,t,void 0,n)}))}},{key:"preload",value:function(){return this._initDecoder(),this}},{key:"_initDecoder",value:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,r=[];return t?r.push(this._loadLibrary("draco_decoder.js","text")):(r.push(this._loadLibrary("draco_wasm_wrapper.js","text")),r.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(r).then((function(r){var n=r[0];t||(e.decoderConfig.wasmBinary=r[1]);var i=If.toString(),a=["/* draco decoder */",n,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([a]))})),this.decoderPending}},{key:"_getWorker",value:function(e,t){var r=this;return this._initDecoder().then((function(){if(r.workerPool.length<r.workerLimit){var n=new Worker(r.workerSourceURL);n._callbacks={},n._taskCosts={},n._taskLoad=0,n.postMessage({type:"init",decoderConfig:r.decoderConfig}),n.onmessage=function(e){var t=e.data;switch(t.type){case"decode":n._callbacks[t.id].resolve(t);break;case"error":n._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},r.workerPool.push(n)}else r.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));var i=r.workerPool[r.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i}))}},{key:"_releaseTask",value:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}},{key:"debug",value:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))}},{key:"dispose",value:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}]),r}(Yl);function If(){var e,t;function r(e,t,r,n,i,a){var o=a.num_components(),s=r.num_points()*o,u=s*i.BYTES_PER_ELEMENT,l=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,i),c=e._malloc(u);t.GetAttributeDataArrayForAllPoints(r,a,l,u,c);var h=new i(e.HEAPF32.buffer,c,s).slice();return e._free(c),{name:n,array:h,itemSize:o}}onmessage=function(n){var i=n.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var a=i.buffer,o=i.taskConfig;t.then((function(e){var t=e.draco,n=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(a),a.byteLength);try{var u=function(e,t,n,i){var a,o,s=i.attributeIDs,u=i.attributeTypes,l=t.GetEncodedGeometryType(n);if(l===e.TRIANGULAR_MESH)a=new e.Mesh,o=t.DecodeBufferToMesh(n,a);else{if(l!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");a=new e.PointCloud,o=t.DecodeBufferToPointCloud(n,a)}if(!o.ok()||0===a.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+o.error_msg());var c={index:null,attributes:[]};for(var h in s){var f=self[u[h]],d=void 0,p=void 0;if(i.useUniqueIDs)p=s[h],d=t.GetAttributeByUniqueId(a,p);else{if(-1===(p=t.GetAttributeId(a,e[s[h]])))continue;d=t.GetAttribute(a,p)}c.attributes.push(r(e,t,a,h,f,d))}l===e.TRIANGULAR_MESH&&(c.index=function(e,t,r){var n=3*r.num_faces(),i=4*n,a=e._malloc(i);t.GetTrianglesUInt32Array(r,i,a);var o=new Uint32Array(e.HEAPF32.buffer,a,n).slice();return e._free(a),{array:o,itemSize:1}}(e,t,a));return e.destroy(a),c}(t,n,s,o),l=u.attributes.map((function(e){return e.array.buffer}));u.index&&l.push(u.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:u},l)}catch(c){console.error(c),self.postMessage({type:"error",id:i.id,error:c.message})}finally{t.destroy(s),t.destroy(n)}}))}}}var Lf=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this,e)).dracoLoader=null,n.ktx2Loader=null,n.meshoptDecoder=null,n.pluginCallbacks=[],n.register((function(e){return new Zf(e)})),n.register((function(e){return new Gf(e)})),n.register((function(e){return new Vf(e)})),n.register((function(e){return new Wf(e)})),n.register((function(e){return new Ff(e)})),n.register((function(e){return new zf(e)})),n.register((function(e){return new Kf(e)})),n.register((function(e){return new Hf(e)})),n.register((function(e){return new Nf(e)})),n.register((function(e){return new Xf(e)})),n}return(0,pe.Z)(r,[{key:"load",value:function(e,t,r,n){var i,a=this;i=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:yc.extractUrlBase(e),this.manager.itemStart(e);var o=function(t){n?n(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},s=new $l(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(r){try{a.parse(r,i,(function(r){t(r),a.manager.itemEnd(e)}),o)}catch(Dh){o(Dh)}}),r,o)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,r,n){var i,a={},o={};if("string"===typeof e)i=e;else if(yc.decodeText(new Uint8Array(e,0,4))===Yf){try{a[jf.KHR_BINARY_GLTF]=new Jf(e)}catch(p){return void(n&&n(p))}i=a[jf.KHR_BINARY_GLTF].content}else i=yc.decodeText(new Uint8Array(e));var s=JSON.parse(i);if(void 0===s.asset||s.asset.version[0]<2)n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var u=new Cd(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(var l=0;l<this.pluginCallbacks.length;l++){var c=this.pluginCallbacks[l](u);o[c.name]=c,a[c.name]=!0}if(s.extensionsUsed)for(var h=0;h<s.extensionsUsed.length;++h){var f=s.extensionsUsed[h],d=s.extensionsRequired||[];switch(f){case jf.KHR_MATERIALS_UNLIT:a[f]=new Bf;break;case jf.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:a[f]=new rd;break;case jf.KHR_DRACO_MESH_COMPRESSION:a[f]=new Qf(s,this.dracoLoader);break;case jf.KHR_TEXTURE_TRANSFORM:a[f]=new ed;break;case jf.KHR_MESH_QUANTIZATION:a[f]=new nd;break;default:d.indexOf(f)>=0&&void 0===o[f]&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}u.setExtensions(a),u.setPlugins(o),u.parse(r,n)}}},{key:"parseAsync",value:function(e,t){var r=this;return new Promise((function(n,i){r.parse(e,t,n,i)}))}}]),r}(Yl);function Uf(){var e={};return{get:function(t){return e[t]},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var jf={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"},Nf=function(){function e(t){(0,de.Z)(this,e),this.parser=t,this.name=jf.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return(0,pe.Z)(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],r=0,n=t.length;r<n;r++){var i=t[r];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,r="light:"+e,n=t.cache.get(r);if(n)return n;var i,a=t.json,o=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],s=new ur(16777215);void 0!==o.color&&s.fromArray(o.color);var u=void 0!==o.range?o.range:0;switch(o.type){case"directional":(i=new _c(s)).target.position.set(0,0,-1),i.add(i.target);break;case"point":(i=new dc(s)).distance=u;break;case"spot":(i=new uc(s)).distance=u,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,i.angle=o.spot.outerConeAngle,i.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,i.target.position.set(0,0,-1),i.add(i.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return i.position.set(0,0,0),i.decay=2,void 0!==o.intensity&&(i.intensity=o.intensity),i.name=t.createUniqueName(o.name||"light_"+e),n=Promise.resolve(i),t.cache.add(r,n),n}},{key:"createNodeAttachment",value:function(e){var t=this,r=this.parser,n=r.json.nodes[e],i=(n.extensions&&n.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return r._getNodeRef(t.cache,i,e)}))}}]),e}(),Bf=function(){function e(){(0,de.Z)(this,e),this.name=jf.KHR_MATERIALS_UNLIT}return(0,pe.Z)(e,[{key:"getMaterialType",value:function(){return jn}},{key:"extendParams",value:function(e,t,r){var n=[];e.color=new ur(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var a=i.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}void 0!==i.baseColorTexture&&n.push(r.assignTexture(e,"map",i.baseColorTexture,Tt))}return Promise.all(n)}}]),e}(),Zf=function(){function e(t){(0,de.Z)(this,e),this.parser=t,this.name=jf.KHR_MATERIALS_CLEARCOAT}return(0,pe.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?xl:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var i=[],a=n.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(r.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(r.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(r.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Vt(o,o)}return Promise.all(i)}}]),e}(),Wf=function(){function e(t){(0,de.Z)(this,e),this.parser=t,this.name=jf.KHR_MATERIALS_SHEEN}return(0,pe.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?xl:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var i=[];t.sheenColor=new ur(0,0,0),t.sheenRoughness=0,t.sheen=1;var a=n.extensions[this.name];return void 0!==a.sheenColorFactor&&t.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&i.push(r.assignTexture(t,"sheenColorMap",a.sheenColorTexture,Tt)),void 0!==a.sheenRoughnessTexture&&i.push(r.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(i)}}]),e}(),Ff=function(){function e(t){(0,de.Z)(this,e),this.parser=t,this.name=jf.KHR_MATERIALS_TRANSMISSION}return(0,pe.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?xl:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var i=[],a=n.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(r.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}]),e}(),zf=function(){function e(t){(0,de.Z)(this,e),this.parser=t,this.name=jf.KHR_MATERIALS_VOLUME}return(0,pe.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?xl:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var i=[],a=n.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&i.push(r.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||0;var o=a.attenuationColor||[1,1,1];return t.attenuationColor=new ur(o[0],o[1],o[2]),Promise.all(i)}}]),e}(),Kf=function(){function e(t){(0,de.Z)(this,e),this.parser=t,this.name=jf.KHR_MATERIALS_IOR}return(0,pe.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?xl:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var n=r.extensions[this.name];return t.ior=void 0!==n.ior?n.ior:1.5,Promise.resolve()}}]),e}(),Hf=function(){function e(t){(0,de.Z)(this,e),this.parser=t,this.name=jf.KHR_MATERIALS_SPECULAR}return(0,pe.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?xl:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var i=[],a=n.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&i.push(r.assignTexture(t,"specularIntensityMap",a.specularTexture));var o=a.specularColorFactor||[1,1,1];return t.specularColor=new ur(o[0],o[1],o[2]),void 0!==a.specularColorTexture&&i.push(r.assignTexture(t,"specularColorMap",a.specularColorTexture,Tt)),Promise.all(i)}}]),e}(),Gf=function(){function e(t){(0,de.Z)(this,e),this.parser=t,this.name=jf.KHR_TEXTURE_BASISU}return(0,pe.Z)(e,[{key:"loadTexture",value:function(e){var t=this.parser,r=t.json,n=r.textures[e];if(!n.extensions||!n.extensions[this.name])return null;var i=n.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,a)}}]),e}(),Vf=function(){function e(t){(0,de.Z)(this,e),this.parser=t,this.name=jf.EXT_TEXTURE_WEBP,this.isSupported=null}return(0,pe.Z)(e,[{key:"loadTexture",value:function(e){var t=this.name,r=this.parser,n=r.json,i=n.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],o=n.images[a.source],s=r.textureLoader;if(o.uri){var u=r.options.manager.getHandler(o.uri);null!==u&&(s=u)}return this.detectSupport().then((function(i){if(i)return r.loadTextureImage(e,a.source,s);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),Xf=function(){function e(t){(0,de.Z)(this,e),this.name=jf.EXT_MESHOPT_COMPRESSION,this.parser=t}return(0,pe.Z)(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){var n=r.extensions[this.name],i=this.parser.getDependency("buffer",n.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([i,a.ready]).then((function(e){var t=n.byteOffset||0,r=n.byteLength||0,i=n.count,o=n.byteStride,s=new ArrayBuffer(i*o),u=new Uint8Array(e[0],t,r);return a.decodeGltfBuffer(new Uint8Array(s),i,o,u,n.mode,n.filter),s}))}return null}}]),e}(),Yf="glTF",qf=1313821514,$f=5130562,Jf=(0,pe.Z)((function e(t){(0,de.Z)(this,e),this.name=jf.KHR_BINARY_GLTF,this.content=null,this.body=null;var r=new DataView(t,0,12);if(this.header={magic:yc.decodeText(new Uint8Array(t.slice(0,4))),version:r.getUint32(4,!0),length:r.getUint32(8,!0)},this.header.magic!==Yf)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var n=this.header.length-12,i=new DataView(t,12),a=0;a<n;){var o=i.getUint32(a,!0);a+=4;var s=i.getUint32(a,!0);if(a+=4,s===qf){var u=new Uint8Array(t,12+a,o);this.content=yc.decodeText(u)}else if(s===$f){var l=12+a;this.body=t.slice(l,l+o)}a+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),Qf=function(){function e(t,r){if((0,de.Z)(this,e),!r)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=jf.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=r,this.dracoLoader.preload()}return(0,pe.Z)(e,[{key:"decodePrimitive",value:function(e,t){var r=this.json,n=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},u={};for(var l in a){var c=gd[l]||l.toLowerCase();o[c]=a[l]}for(var h in e.attributes){var f=gd[h]||h.toLowerCase();if(void 0!==a[h]){var d=r.accessors[e.attributes[h]],p=pd[d.componentType];u[f]=p,s[f]=!0===d.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){n.decodeDracoFile(e,(function(e){for(var r in e.attributes){var n=e.attributes[r],i=s[r];void 0!==i&&(n.normalized=i)}t(e)}),o,u)}))}))}}]),e}(),ed=function(){function e(){(0,de.Z)(this,e),this.name=jf.KHR_TEXTURE_TRANSFORM}return(0,pe.Z)(e,[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]),e}(),td=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;(0,de.Z)(this,r),(n=t.call(this)).isGLTFSpecularGlossinessMaterial=!0;var i=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),a=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),o=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),u=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),l={specular:{value:(new ur).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};return n._extraUniforms=l,n.onBeforeCompile=function(e){for(var t in l)e.uniforms[t]=l[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",i).replace("#include <metalnessmap_pars_fragment>",a).replace("#include <roughnessmap_fragment>",o).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",u)},Object.defineProperties((0,le.Z)(n),{specular:{get:function(){return l.specular.value},set:function(e){l.specular.value=e}},specularMap:{get:function(){return l.specularMap.value},set:function(e){l.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return l.glossiness.value},set:function(e){l.glossiness.value=e}},glossinessMap:{get:function(){return l.glossinessMap.value},set:function(e){l.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete n.metalness,delete n.roughness,delete n.metalnessMap,delete n.roughnessMap,n.setValues(e),n}return(0,pe.Z)(r,[{key:"copy",value:function(e){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}]),r}(El),rd=function(){function e(){(0,de.Z)(this,e),this.name=jf.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}return(0,pe.Z)(e,[{key:"getMaterialType",value:function(){return td}},{key:"extendParams",value:function(e,t,r){var n=t.extensions[this.name];e.color=new ur(1,1,1),e.opacity=1;var i=[];if(Array.isArray(n.diffuseFactor)){var a=n.diffuseFactor;e.color.fromArray(a),e.opacity=a[3]}if(void 0!==n.diffuseTexture&&i.push(r.assignTexture(e,"map",n.diffuseTexture,Tt)),e.emissive=new ur(0,0,0),e.glossiness=void 0!==n.glossinessFactor?n.glossinessFactor:1,e.specular=new ur(1,1,1),Array.isArray(n.specularFactor)&&e.specular.fromArray(n.specularFactor),void 0!==n.specularGlossinessTexture){var o=n.specularGlossinessTexture;i.push(r.assignTexture(e,"glossinessMap",o)),i.push(r.assignTexture(e,"specularMap",o,Tt))}return Promise.all(i)}},{key:"createMaterial",value:function(e){var t=new td(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=0,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t}}]),e}(),nd=(0,pe.Z)((function e(){(0,de.Z)(this,e),this.name=jf.KHR_MESH_QUANTIZATION})),id=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i,a){return(0,de.Z)(this,r),t.call(this,e,n,i,a)}return(0,pe.Z)(r,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=e*n*3+n,a=0;a!==n;a++)t[a]=r[i+a];return t}}]),r}(Pl);id.prototype.beforeStart_=id.prototype.copySampleValue_,id.prototype.afterEnd_=id.prototype.copySampleValue_,id.prototype.interpolate_=function(e,t,r,n){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,u=3*o,l=n-t,c=(r-t)/l,h=c*c,f=h*c,d=e*u,p=d-u,_=-2*f+3*h,m=f-h,v=1-_,g=m-h+c,y=0;y!==o;y++){var b=a[p+y+o],w=a[p+y+s]*l,E=a[d+y+o],x=a[d+y]*l;i[y]=v*b+g*w+_*E+m*x}return i};var ad=new yr,od=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){return(0,de.Z)(this,r),t.apply(this,arguments)}return(0,pe.Z)(r,[{key:"interpolate_",value:function(e,t,n,i){var a=(0,se.Z)((0,ue.Z)(r.prototype),"interpolate_",this).call(this,e,t,n,i);return ad.fromArray(a).normalize().toArray(a),a}}]),r}(id),sd=0,ud=1,ld=2,cd=3,hd=4,fd=5,dd=6,pd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},_d={9728:Me,9729:Se,9984:Ae,9985:Re,9986:Oe,9987:Ce},md={33071:ke,33648:Te,10497:xe},vd={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},gd={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},yd={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},bd={CUBICSPLINE:void 0,LINEAR:vt,STEP:mt},wd="OPAQUE",Ed="MASK",xd="BLEND";function kd(e){return void 0===e.DefaultMaterial&&(e.DefaultMaterial=new El({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),e.DefaultMaterial}function Td(e,t,r){for(var n in r.extensions)void 0===e[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=r.extensions[n])}function Md(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Ad(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var r=0,n=t.weights.length;r<n;r++)e.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(var a=0,o=i.length;a<o;a++)e.morphTargetDictionary[i[a]]=a}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Od(e){var t=e.extensions&&e.extensions[jf.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+Sd(t.attributes):e.indices+":"+Sd(e.attributes)+":"+e.mode}function Sd(e){for(var t="",r=Object.keys(e).sort(),n=0,i=r.length;n<i;n++)t+=r[n]+":"+e[r[n]]+";";return t}function Rd(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var Cd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,de.Z)(this,e),this.json=t,this.extensions={},this.plugins={},this.options=r,this.cache=new Uf,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={},"undefined"!==typeof createImageBitmap&&!1===/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?this.textureLoader=new wc(this.options.manager):this.textureLoader=new tc(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new $l(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return(0,pe.Z)(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var r=this,n=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])})).then((function(t){var a={scene:t[0][n.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:n.asset,parser:r,userData:{}};Td(i,a,n),Md(a,n),Promise.all(r._invokeAll((function(e){return e.afterRoot&&e.afterRoot(a)}))).then((function(){e(a)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[],n=0,i=t.length;n<i;n++)for(var a=t[n].joints,o=0,s=a.length;o<s;o++)e[a[o]].isBone=!0;for(var u=0,l=e.length;u<l;u++){var c=e[u];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(r[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,r){var n=this;if(e.refs[t]<=1)return r;var i=r.clone();return function e(t,r){var i=n.associations.get(t);null!=i&&n.associations.set(r,i);var o,s=(0,ae.Z)(t.children.entries());try{for(s.s();!(o=s.n()).done;){var u=(0,a.Z)(o.value,2),l=u[0];e(u[1],r.children[l])}}catch(c){s.e(c)}finally{s.f()}}(r,i),i.name+="_instance_"+e.uses[t]++,i}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var r=0;r<t.length;r++){var n=e(t[r]);if(n)return n}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var r=[],n=0;n<t.length;n++){var i=e(t[n]);i&&r.push(i)}return r}},{key:"getDependency",value:function(e,t){var r=e+":"+t,n=this.cache.get(r);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this.loadNode(t);break;case"mesh":n=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":n=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":n=this.loadSkin(t);break;case"animation":n=this.loadAnimation(t);break;case"camera":n=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,n)}return n}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var r=this,n=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(n.map((function(t,n){return r.getDependency(e,n)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[jf.KHR_BINARY_GLTF].body);var n=this.options;return new Promise((function(e,i){r.load(yc.resolveURL(t.uri,n.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var r=t.byteLength||0,n=t.byteOffset||0;return e.slice(n,n+r)}))}},{key:"loadAccessor",value:function(e){var t=this,r=this.json,n=this.json.accessors[e];if(void 0===n.bufferView&&void 0===n.sparse)return Promise.resolve(null);var i=[];return void 0!==n.bufferView?i.push(this.getDependency("bufferView",n.bufferView)):i.push(null),void 0!==n.sparse&&(i.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(i).then((function(e){var i,a,o=e[0],s=vd[n.type],u=pd[n.componentType],l=u.BYTES_PER_ELEMENT,c=l*s,h=n.byteOffset||0,f=void 0!==n.bufferView?r.bufferViews[n.bufferView].byteStride:void 0,d=!0===n.normalized;if(f&&f!==c){var p=Math.floor(h/f),_="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+p+":"+n.count,m=t.cache.get(_);m||(i=new u(o,p*f,n.count*f/l),m=new gs(i,f/l),t.cache.add(_,m)),a=new bs(m,s,h%f/l,d)}else i=null===o?new u(n.count*s):new u(o,h,n.count*s),a=new Zn(i,s,d);if(void 0!==n.sparse){var v=vd.SCALAR,g=pd[n.sparse.indices.componentType],y=n.sparse.indices.byteOffset||0,b=n.sparse.values.byteOffset||0,w=new g(e[1],y,n.sparse.count*v),E=new u(e[2],b,n.sparse.count*s);null!==o&&(a=new Zn(a.array.slice(),a.itemSize,a.normalized));for(var x=0,k=w.length;x<k;x++){var T=w[x];if(a.setX(T,E[x*s]),s>=2&&a.setY(T,E[x*s+1]),s>=3&&a.setZ(T,E[x*s+2]),s>=4&&a.setW(T,E[x*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))}},{key:"loadTexture",value:function(e){var t=this.json,r=this.options,n=t.textures[e].source,i=t.images[n],a=this.textureLoader;if(i.uri){var o=r.manager.getHandler(i.uri);null!==o&&(a=o)}return this.loadTextureImage(e,n,a)}},{key:"loadTextureImage",value:function(e,t,r){var n=this,i=this.json,a=i.textures[e],o=i.images[t],s=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[s])return this.textureCache[s];var u=this.loadImageSource(t,r).then((function(t){t.flipY=!1,a.name&&(t.name=a.name);var r=(i.samplers||{})[a.sampler]||{};return t.magFilter=_d[r.magFilter]||Se,t.minFilter=_d[r.minFilter]||Ce,t.wrapS=md[r.wrapS]||xe,t.wrapT=md[r.wrapT]||xe,n.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[s]=u,u}},{key:"loadImageSource",value:function(e,t){var r=this.json,n=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((function(e){return e.clone()}));var i=r.images[e],a=self.URL||self.webkitURL,o=i.uri||"",s=!1;if(void 0!==i.bufferView)o=this.getDependency("bufferView",i.bufferView).then((function(e){s=!0;var t=new Blob([e],{type:i.mimeType});return o=a.createObjectURL(t)}));else if(void 0===i.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var u=Promise.resolve(o).then((function(e){return new Promise((function(r,i){var a=r;!0===t.isImageBitmapLoader&&(a=function(e){var t=new dr(e);t.needsUpdate=!0,r(t)}),t.load(yc.resolveURL(e,n.path),a,void 0,i)}))})).then((function(e){var t;return!0===s&&a.revokeObjectURL(o),e.userData.mimeType=i.mimeType||((t=i.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e}));return this.sourceCache[e]=u,u}},{key:"assignTexture",value:function(e,t,r,n){var i=this;return this.getDependency("texture",r.index).then((function(a){if(void 0===r.texCoord||0==r.texCoord||"aoMap"===t&&1==r.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),i.extensions[jf.KHR_TEXTURE_TRANSFORM]){var o=void 0!==r.extensions?r.extensions[jf.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var s=i.associations.get(a);a=i.extensions[jf.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),i.associations.set(a,s)}}return void 0!==n&&(a.encoding=n),e[t]=a,a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,r=e.material,n=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){var o="PointsMaterial:"+r.uuid,s=this.cache.get(o);s||(s=new hu,Un.prototype.copy.call(s,r),s.color.copy(r.color),s.map=r.map,s.sizeAttenuation=!1,this.cache.add(o,s)),r=s}else if(e.isLine){var u="LineBasicMaterial:"+r.uuid,l=this.cache.get(u);l||(l=new eu,Un.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(u,l)),r=l}if(n||i||a){var c="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(c+="specular-glossiness:"),n&&(c+="derivative-tangents:"),i&&(c+="vertex-colors:"),a&&(c+="flat-shading:");var h=this.cache.get(c);h||(h=r.clone(),i&&(h.vertexColors=!0),a&&(h.flatShading=!0),n&&(h.normalScale&&(h.normalScale.y*=-1),h.clearcoatNormalScale&&(h.clearcoatNormalScale.y*=-1)),this.cache.add(c,h),this.associations.set(h,this.associations.get(r))),r=h}r.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=r}},{key:"getMaterialType",value:function(){return El}},{key:"loadMaterial",value:function(e){var t,r=this,n=this.json,i=this.extensions,a=n.materials[e],o={},s=a.extensions||{},u=[];if(s[jf.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var l=i[jf.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=l.getMaterialType(),u.push(l.extendParams(o,a,r))}else if(s[jf.KHR_MATERIALS_UNLIT]){var c=i[jf.KHR_MATERIALS_UNLIT];t=c.getMaterialType(),u.push(c.extendParams(o,a,r))}else{var h=a.pbrMetallicRoughness||{};if(o.color=new ur(1,1,1),o.opacity=1,Array.isArray(h.baseColorFactor)){var f=h.baseColorFactor;o.color.fromArray(f),o.opacity=f[3]}void 0!==h.baseColorTexture&&u.push(r.assignTexture(o,"map",h.baseColorTexture,Tt)),o.metalness=void 0!==h.metallicFactor?h.metallicFactor:1,o.roughness=void 0!==h.roughnessFactor?h.roughnessFactor:1,void 0!==h.metallicRoughnessTexture&&(u.push(r.assignTexture(o,"metalnessMap",h.metallicRoughnessTexture)),u.push(r.assignTexture(o,"roughnessMap",h.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),u.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===a.doubleSided&&(o.side=2);var d=a.alphaMode||wd;if(d===xd?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,d===Ed&&(o.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==jn&&(u.push(r.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new Vt(1,1),void 0!==a.normalTexture.scale)){var p=a.normalTexture.scale;o.normalScale.set(p,p)}return void 0!==a.occlusionTexture&&t!==jn&&(u.push(r.assignTexture(o,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(o.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==jn&&(o.emissive=(new ur).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&t!==jn&&u.push(r.assignTexture(o,"emissiveMap",a.emissiveTexture,Tt)),Promise.all(u).then((function(){var n;return n=t===td?i[jf.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):new t(o),a.name&&(n.name=a.name),Md(n,a),r.associations.set(n,{materials:e}),a.extensions&&Td(i,n,a),n}))}},{key:"createUniqueName",value:function(e){for(var t=Bc.sanitizeNodeName(e||""),r=t,n=1;this.nodeNamesUsed[r];++n)r=t+"_"+n;return this.nodeNamesUsed[r]=!0,r}},{key:"loadGeometries",value:function(e){var t=this,r=this.extensions,n=this.primitiveCache;function i(e){return r[jf.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(r){return Dd(r,e,t)}))}for(var a=[],o=0,s=e.length;o<s;o++){var u=e[o],l=Od(u),c=n[l];if(c)a.push(c.promise);else{var h=void 0;h=u.extensions&&u.extensions[jf.KHR_DRACO_MESH_COMPRESSION]?i(u):Dd(new $n,u,t),n[l]={primitive:u,promise:h},a.push(h)}}return Promise.all(a)}},{key:"loadMesh",value:function(e){for(var t=this,r=this.json,n=this.extensions,i=r.meshes[e],a=i.primitives,o=[],s=0,u=a.length;s<u;s++){var l=void 0===a[s].material?kd(this.cache):this.getDependency("material",a[s].material);o.push(l)}return o.push(t.loadGeometries(a)),Promise.all(o).then((function(r){for(var o=r.slice(0,r.length-1),s=r[r.length-1],u=[],l=0,c=s.length;l<c;l++){var h=s[l],f=a[l],d=void 0,p=o[l];if(f.mode===hd||f.mode===fd||f.mode===dd||void 0===f.mode)!0!==(d=!0===i.isSkinnedMesh?new Fs(h,p):new _i(h,p)).isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),f.mode===fd?d.geometry=Id(d.geometry,1):f.mode===dd&&(d.geometry=Id(d.geometry,2));else if(f.mode===ud)d=new lu(h,p);else if(f.mode===cd)d=new ou(h,p);else if(f.mode===ld)d=new cu(h,p);else{if(f.mode!==sd)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+f.mode);d=new mu(h,p)}Object.keys(d.geometry.morphAttributes).length>0&&Ad(d,i),d.name=t.createUniqueName(i.name||"mesh_"+e),Md(d,i),f.extensions&&Td(n,d,f),t.assignFinalMaterial(d),u.push(d)}for(var _=0,m=u.length;_<m;_++)t.associations.set(u[_],{meshes:e,primitives:_});if(1===u.length)return u[0];var v=new us;t.associations.set(v,{meshes:e});for(var g=0,y=u.length;g<y;g++)v.add(u[g]);return v}))}},{key:"loadCamera",value:function(e){var t,r=this.json.cameras[e],n=r[r.type];if(n)return"perspective"===r.type?t=new xi(Gt.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===r.type&&(t=new Vi(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Md(t,r),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){var t=this.json.skins[e],r={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return r.inverseBindMatrices=e,r}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],r=[],n=[],i=[],a=[],o=[],s=0,u=t.channels.length;s<u;s++){var l=t.channels[s],c=t.samplers[l.sampler],h=l.target,f=void 0!==h.node?h.node:h.id,d=void 0!==t.parameters?t.parameters[c.input]:c.input,p=void 0!==t.parameters?t.parameters[c.output]:c.output;r.push(this.getDependency("node",f)),n.push(this.getDependency("accessor",d)),i.push(this.getDependency("accessor",p)),a.push(c),o.push(h)}return Promise.all([Promise.all(r),Promise.all(n),Promise.all(i),Promise.all(a),Promise.all(o)]).then((function(r){for(var n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],u=[],l=function(e,t){var r=n[e],l=i[e],c=a[e],h=o[e],f=s[e];if(void 0===r)return"continue";r.updateMatrix(),r.matrixAutoUpdate=!0;var d=void 0;switch(yd[f.path]){case yd.weights:d=Bl;break;case yd.rotation:d=Wl;break;default:d=zl}var p=r.name?r.name:r.uuid,_=void 0!==h.interpolation?bd[h.interpolation]:vt,m=[];yd[f.path]===yd.weights?r.traverse((function(e){e.morphTargetInfluences&&m.push(e.name?e.name:e.uuid)})):m.push(p);var v=c.array;if(c.normalized){for(var g=Rd(v.constructor),y=new Float32Array(v.length),b=0,w=v.length;b<w;b++)y[b]=v[b]*g;v=y}for(var E=0,x=m.length;E<x;E++){var k=new d(m[E]+"."+yd[f.path],l.array,v,_);"CUBICSPLINE"===h.interpolation&&(k.createInterpolant=function(e){return new(this instanceof Wl?od:id)(this.times,this.values,this.getValueSize()/3,e)},k.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),u.push(k)}},c=0,h=n.length;c<h;c++)l(c);var f=t.name?t.name:"animation_"+e;return new Kl(f,void 0,u)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,r=this,n=t.nodes[e];return void 0===n.mesh?null:r.getDependency("mesh",n.mesh).then((function(e){var t=r._getNodeRef(r.meshCache,n.mesh,e);return void 0!==n.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,r=n.weights.length;t<r;t++)e.morphTargetInfluences[t]=n.weights[t]})),t}))}},{key:"loadNode",value:function(e){var t=this.json,r=this.extensions,n=this,i=t.nodes[e],a=i.name?n.createUniqueName(i.name):"";return function(){var t=[],r=n._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return r&&t.push(r),void 0!==i.camera&&t.push(n.getDependency("camera",i.camera).then((function(e){return n._getNodeRef(n.cameraCache,i.camera,e)}))),n._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)}().then((function(t){var o;if((o=!0===i.isBone?new zs:t.length>1?new us:1===t.length?t[0]:new xn)!==t[0])for(var s=0,u=t.length;s<u;s++)o.add(t[s]);if(i.name&&(o.userData.name=i.name,o.name=a),Md(o,i),i.extensions&&Td(r,o,i),void 0!==i.matrix){var l=new $r;l.fromArray(i.matrix),o.applyMatrix4(l)}else void 0!==i.translation&&o.position.fromArray(i.translation),void 0!==i.rotation&&o.quaternion.fromArray(i.rotation),void 0!==i.scale&&o.scale.fromArray(i.scale);return n.associations.has(o)||n.associations.set(o,{}),n.associations.get(o).nodes=e,o}))}},{key:"loadScene",value:function(e){var t=this.json,r=this.extensions,n=this.json.scenes[e],i=this,o=new us;n.name&&(o.name=i.createUniqueName(n.name)),Md(o,n),n.extensions&&Td(r,o,n);for(var s=n.nodes||[],u=[],l=0,c=s.length;l<c;l++)u.push(Pd(s[l],o,t,i));return Promise.all(u).then((function(){return i.associations=function(e){var t,r=new Map,n=(0,ae.Z)(i.associations);try{for(n.s();!(t=n.n()).done;){var o=(0,a.Z)(t.value,2),s=o[0],u=o[1];(s instanceof Un||s instanceof dr)&&r.set(s,u)}}catch(l){n.e(l)}finally{n.f()}return e.traverse((function(e){var t=i.associations.get(e);null!=t&&r.set(e,t)})),r}(o),o}))}}]),e}();function Pd(e,t,r,n){var i=r.nodes[e];return n.getDependency("node",e).then((function(e){return void 0===i.skin?e:n.getDependency("skin",i.skin).then((function(e){for(var r=[],i=0,a=(t=e).joints.length;i<a;i++)r.push(n.getDependency("node",t.joints[i]));return Promise.all(r)})).then((function(r){return e.traverse((function(e){if(e.isMesh){for(var n=[],i=[],a=0,o=r.length;a<o;a++){var s=r[a];if(s){n.push(s);var u=new $r;void 0!==t.inverseBindMatrices&&u.fromArray(t.inverseBindMatrices.array,16*a),i.push(u)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}e.bind(new Vs(n,i),e.matrixWorld)}})),e}));var t})).then((function(e){t.add(e);var a=[];if(i.children)for(var o=i.children,s=0,u=o.length;s<u;s++){var l=o[s];a.push(Pd(l,e,r,n))}return Promise.all(a)}))}function Dd(e,t,r){var n=t.attributes,i=[];function a(t,n){return r.getDependency("accessor",t).then((function(t){e.setAttribute(n,t)}))}for(var o in n){var s=gd[o]||o.toLowerCase();s in e.attributes||i.push(a(n[o],s))}if(void 0!==t.indices&&!e.index){var u=r.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(u)}return Md(e,t),function(e,t,r){var n=t.attributes,i=new xr;if(void 0!==n.POSITION){var a=r.json.accessors[n.POSITION],o=a.min,s=a.max;if(void 0!==o&&void 0!==s){if(i.set(new br(o[0],o[1],o[2]),new br(s[0],s[1],s[2])),a.normalized){var u=Rd(pd[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}var l=t.targets;if(void 0!==l){for(var c=new br,h=new br,f=0,d=l.length;f<d;f++){var p=l[f];if(void 0!==p.POSITION){var _=r.json.accessors[p.POSITION],m=_.min,v=_.max;if(void 0!==m&&void 0!==v){if(h.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),h.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),h.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),_.normalized){var g=Rd(pd[_.componentType]);h.multiplyScalar(g)}c.max(h)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(c)}e.boundingBox=i;var y=new Fr;i.getCenter(y.center),y.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=y}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,r),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,r){for(var n=!1,i=!1,a=!1,o=0,s=t.length;o<s;o++){var u=t[o];if(void 0!==u.POSITION&&(n=!0),void 0!==u.NORMAL&&(i=!0),void 0!==u.COLOR_0&&(a=!0),n&&i&&a)break}if(!n&&!i&&!a)return Promise.resolve(e);for(var l=[],c=[],h=[],f=0,d=t.length;f<d;f++){var p=t[f];if(n){var _=void 0!==p.POSITION?r.getDependency("accessor",p.POSITION):e.attributes.position;l.push(_)}if(i){var m=void 0!==p.NORMAL?r.getDependency("accessor",p.NORMAL):e.attributes.normal;c.push(m)}if(a){var v=void 0!==p.COLOR_0?r.getDependency("accessor",p.COLOR_0):e.attributes.color;h.push(v)}}return Promise.all([Promise.all(l),Promise.all(c),Promise.all(h)]).then((function(t){var r=t[0],o=t[1],s=t[2];return n&&(e.morphAttributes.position=r),i&&(e.morphAttributes.normal=o),a&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e}))}(e,t.targets,r):e}))}function Id(e,t){var r=e.getIndex();if(null===r){var n=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<i.count;a++)n.push(a);e.setIndex(n),r=e.getIndex()}var o=r.count-2,s=[];if(2===t)for(var u=1;u<=o;u++)s.push(r.getX(0)),s.push(r.getX(u)),s.push(r.getX(u+1));else for(var l=0;l<o;l++)l%2===0?(s.push(r.getX(l)),s.push(r.getX(l+1)),s.push(r.getX(l+2))):(s.push(r.getX(l+2)),s.push(r.getX(l+1)),s.push(r.getX(l)));s.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(s),c}var Ld,Ud,jd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;(0,de.Z)(this,e),this.pool=t,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}return(0,pe.Z)(e,[{key:"_initWorker",value:function(e){if(!this.workers[e]){var t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}},{key:"_getIdleWorker",value:function(){for(var e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}},{key:"_onMessage",value:function(e,t){var r=this.workersResolve[e];if(r&&r(t),this.queue.length){var n=this.queue.shift(),i=n.resolve,a=n.msg,o=n.transfer;this.workersResolve[e]=i,this.workers[e].postMessage(a,o)}else this.workerStatus^=1<<e}},{key:"setWorkerCreator",value:function(e){this.workerCreator=e}},{key:"setWorkerLimit",value:function(e){this.pool=e}},{key:"postMessage",value:function(e,t){var r=this;return new Promise((function(n){var i=r._getIdleWorker();-1!==i?(r._initWorker(i),r.workerStatus|=1<<i,r.workersResolve[i]=n,r.workers[i].postMessage(e,t)):r.queue.push({resolve:n,msg:e,transfer:t})}))}},{key:"dispose",value:function(){this.workers.forEach((function(e){return e.terminate()})),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}]),e}(),Nd=new WeakMap,Bd=0,Zd=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this,e)).transcoderPath="",n.transcoderBinary=null,n.transcoderPending=null,n.workerPool=new jd,n.workerSourceURL="",n.workerConfig=null,"undefined"!==typeof MSC_TRANSCODER&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.'),n}return(0,pe.Z)(r,[{key:"setTranscoderPath",value:function(e){return this.transcoderPath=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerPool.setWorkerLimit(e),this}},{key:"detectSupport",value:function(e){return this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},e.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}},{key:"init",value:function(){var e=this;if(!this.transcoderPending){var t=new $l(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);var n=t.loadAsync("basis_transcoder.js"),i=new $l(this.manager);i.setPath(this.transcoderPath),i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);var o=i.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([n,o]).then((function(t){var n=(0,a.Z)(t,2),i=n[0],o=n[1],s=r.BasisWorker.toString(),u=["/* constants */","let _EngineFormat = "+JSON.stringify(r.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(r.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(r.BasisFormat),"/* basis_transcoder.js */",i,"/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([u])),e.transcoderBinary=o,e.workerPool.setWorkerCreator((function(){var t=new Worker(e.workerSourceURL),r=e.transcoderBinary.slice(0);return t.postMessage({type:"init",config:e.workerConfig,transcoderBinary:r},[r]),t}))})),Bd>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),Bd++}return this.transcoderPending}},{key:"load",value:function(e,t,r,n){var i=this;if(null===this.workerConfig)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");var a=new $l(this.manager);a.setResponseType("arraybuffer"),a.setWithCredentials(this.withCredentials);var o=new gu;return a.load(e,(function(e){if(Nd.has(e))return Nd.get(e).promise.then(t).catch(n);i._createTexture([e]).then((function(e){o.copy(e),o.needsUpdate=!0,t&&t(o)})).catch(n)}),r,n),o}},{key:"_createTextureFrom",value:function(e){var t=e.mipmaps,r=e.width,n=e.height,i=e.format,a=e.type,o=e.error,s=e.dfdTransferFn,u=e.dfdFlags;if("error"===a)return Promise.reject(o);var l=new gu(t,r,n,i,Pe);return l.minFilter=1===t.length?Se:Ce,l.magFilter=Se,l.generateMipmaps=!1,l.needsUpdate=!0,l.encoding=2===s?Tt:kt,l.premultiplyAlpha=!!(1&u),l}},{key:"_createTexture",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r,i=this.init().then((function(){return t.workerPool.postMessage({type:"transcode",buffers:e,taskConfig:n},e)})).then((function(e){return t._createTextureFrom(e.data)}));return Nd.set(e[0],{promise:i}),i}},{key:"dispose",value:function(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),Bd--,this}}]),r}(Yl);Zd.BasisFormat={ETC1S:0,UASTC_4x4:1},Zd.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},Zd.EngineFormat={RGBAFormat:Ne,RGBA_ASTC_4x4_Format:Je,RGBA_BPTC_Format:ft,RGBA_ETC2_EAC_Format:$e,RGBA_PVRTC_4BPPV1_Format:Ve,RGBA_S3TC_DXT5_Format:Ke,RGB_ETC1_Format:Ye,RGB_ETC2_Format:qe,RGB_PVRTC_4BPPV1_Format:He,RGB_S3TC_DXT1_Format:We},Zd.BasisWorker=function(){var e,t,r,n=_EngineFormat,i=_TranscoderFormat,a=_BasisFormat;self.addEventListener("message",(function(o){var c,h=o.data;switch(h.type){case"init":e=h.config,c=h.transcoderBinary,t=new Promise((function(e){r={wasmBinary:c,onRuntimeInitialized:e},BASIS(r)})).then((function(){r.initializeBasis(),void 0===r.KTX2File&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")}));break;case"transcode":t.then((function(){try{for(var t=function(t){var o=new r.KTX2File(new Uint8Array(t));function c(){o.close(),o.delete()}if(!o.isValid())throw c(),new Error("THREE.KTX2Loader:\tInvalid or unsupported .ktx2 file");var h=o.isUASTC()?a.UASTC_4x4:a.ETC1S,f=o.getWidth(),d=o.getHeight(),p=o.getLevels(),_=o.getHasAlpha(),m=o.getDFDTransferFunc(),v=o.getDFDFlags(),g=function(t,r,o,c){for(var h,f,d=t===a.ETC1S?s:u,p=0;p<d.length;p++){var _=d[p];if(e[_.if]&&(_.basisFormat.includes(t)&&!(c&&_.transcoderFormat.length<2)&&(!_.needsPowerOfTwo||l(r)&&l(o))))return{transcoderFormat:h=_.transcoderFormat[c?1:0],engineFormat:f=_.engineFormat[c?1:0]}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),h=i.RGBA32,f=n.RGBAFormat,{transcoderFormat:h,engineFormat:f}}(h,f,d,_),y=g.transcoderFormat,b=g.engineFormat;if(!f||!d||!p)throw c(),new Error("THREE.KTX2Loader:\tInvalid texture");if(!o.startTranscoding())throw c(),new Error("THREE.KTX2Loader: .startTranscoding failed");for(var w=[],E=0;E<p;E++){var x=o.getImageLevelInfo(E,0,0),k=x.origWidth,T=x.origHeight,M=new Uint8Array(o.getImageTranscodedSizeInBytes(E,0,0,y));if(!o.transcodeImage(M,E,0,0,y,0,-1,-1))throw c(),new Error("THREE.KTX2Loader: .transcodeImage failed.");w.push({data:M,width:k,height:T})}return c(),{width:f,height:d,hasAlpha:_,mipmaps:w,format:b,dfdTransferFn:m,dfdFlags:v}}(h.buffers[0]),o=t.width,c=t.height,f=t.hasAlpha,d=t.mipmaps,p=t.format,_=t.dfdTransferFn,m=t.dfdFlags,v=[],g=0;g<d.length;++g)v.push(d[g].data.buffer);self.postMessage({type:"transcode",id:h.id,width:o,height:c,hasAlpha:f,mipmaps:d,format:p,dfdTransferFn:_,dfdFlags:m},v)}catch(y){console.error(y),self.postMessage({type:"error",id:h.id,error:y.message})}}))}}));var o=[{if:"astcSupported",basisFormat:[a.UASTC_4x4],transcoderFormat:[i.ASTC_4x4,i.ASTC_4x4],engineFormat:[n.RGBA_ASTC_4x4_Format,n.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.BC7_M5,i.BC7_M5],engineFormat:[n.RGBA_BPTC_Format,n.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.BC1,i.BC3],engineFormat:[n.RGB_S3TC_DXT1_Format,n.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC2],engineFormat:[n.RGB_ETC2_Format,n.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.ETC1],engineFormat:[n.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.PVRTC1_4_RGB,i.PVRTC1_4_RGBA],engineFormat:[n.RGB_PVRTC_4BPPV1_Format,n.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],s=o.sort((function(e,t){return e.priorityETC1S-t.priorityETC1S})),u=o.sort((function(e,t){return e.priorityUASTC-t.priorityUASTC}));function l(e){return e<=2||0===(e&e-1)&&0!==e}};var Wd,Fd,zd,Kd,Hd,Gd,Vd=Symbol("retainerCount"),Xd=Symbol("recentlyUsed"),Yd=Symbol("evict"),qd=Symbol("evictionThreshold"),$d=Symbol("cache"),Jd=function(e){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;(0,de.Z)(this,t),this[Ld]=new Map,this[Ud]=[],this[$d]=e,this[qd]=r}return(0,pe.Z)(t,[{key:"evictionThreshold",get:function(){return this[qd]},set:function(e){this[qd]=e,this[Yd]()}},{key:"cache",get:function(){return this[$d]}},{key:"retainerCount",value:function(e){return this[Vd].get(e)||0}},{key:"reset",value:function(){this[Vd].clear(),this[Xd]=[]}},{key:"retain",value:function(e){this[Vd].has(e)||this[Vd].set(e,0),this[Vd].set(e,this[Vd].get(e)+1);var t=this[Xd].indexOf(e);-1!==t&&this[Xd].splice(t,1),this[Xd].unshift(e),this[Yd]()}},{key:"release",value:function(e){this[Vd].has(e)&&this[Vd].set(e,Math.max(this[Vd].get(e)-1,0)),this[Yd]()}},{key:e,value:function(){if(!(this[Xd].length<this[qd]))for(var e=this[Xd].length-1;e>=this[qd];--e){var t=this[Xd][e];0===this[Vd].get(t)&&(this[$d].delete(t),this[Xd].splice(e,1))}}}]),t}((Ld=Vd,Ud=Xd,Yd)),Qd=function(e){var t,r=new Map,n=(0,ae.Z)(e.mappings);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=(0,ae.Z)(a.variants);try{for(o.s();!(i=o.n()).done;){var s=i.value;r.set(s,{material:null,gltfMaterialIndex:a.material})}}catch(u){o.e(u)}finally{o.f()}}}catch(u){n.e(u)}finally{n.f()}return r},ep=function(){function e(t){(0,de.Z)(this,e),this.parser=t,this.name="KHR_materials_variants"}return(0,pe.Z)(e,[{key:"afterRoot",value:function(e){var t=this,r=this.parser,n=r.json;if(void 0===n.extensions||void 0===n.extensions[this.name])return null;var i,a=function(e){var t,r=[],n=new Set,i=(0,ae.Z)(e);try{for(i.s();!(t=i.n()).done;){for(var a=t.value,o=a,s=0;n.has(o);)o=a+"."+ ++s;n.add(o),r.push(o)}}catch(u){i.e(u)}finally{i.f()}return r}((n.extensions[this.name].variants||[]).map((function(e){return e.name}))),o=(0,ae.Z)(e.scenes);try{for(o.s();!(i=o.n()).done;){i.value.traverse((function(e){var i=e;if(i.isMesh){var a=r.associations.get(i);if(null!=a&&null!=a.meshes&&null!=a.primitives){var o=n.meshes[a.meshes].primitives[a.primitives].extensions;o&&o[t.name]&&(i.userData.variantMaterials=Qd(o[t.name]))}}}))}}catch(s){o.e(s)}finally{o.f()}return e.userData.variants=a,Promise.resolve()}}]),e}(),tp=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=function(e){var t=e.loaded/e.total;r(Math.max(0,Math.min(1,isFinite(t)?t:1)))};return new Promise((function(r,i){t.load(e,r,n,i)}))},rp=new Map,np=new Map,ip=new Df,ap=new Zd,op=Symbol("loader"),sp=Symbol("evictionPolicy"),up=Symbol("GLTFInstance"),lp=function(e,t){(0,ce.Z)(a,e);var r=(0,he.Z)(a);function a(e){var t;return(0,de.Z)(this,a),(t=r.call(this))[Fd]=(new Lf).register((function(e){return new ep(e)})),t[up]=e,t[op].setDRACOLoader(ip),t[op].setKTX2Loader(ap),t}return(0,pe.Z)(a,[{key:t,get:function(){return this.constructor[sp]}},{key:"preload",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r){var i,o,s,u,l=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=l.length>2&&void 0!==l[2]?l[2]:function(){},this[op].setWithCredentials(a.withCredentials),this.dispatchEvent({type:"preload",element:r,src:t}),rp.has(t)){e.next=14;break}if(null==Gd){e.next=10;break}return e.t0=this[op],e.next=8,Gd;case 8:e.t1=e.sent,e.t0.setMeshoptDecoder.call(e.t0,e.t1);case 10:o=tp(t,this[op],(function(e){i(.8*e)})),s=this[up],u=o.then((function(e){return s.prepare(e)})).then((function(e){return i(.9),new s(e)})).catch((function(e){return console.error(e),new s})),rp.set(t,u);case 14:return e.next=16,rp.get(t);case 16:np.set(t,!0),i&&i(1);case 18:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r){var i,a,o,s=this,u=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>2&&void 0!==u[2]?u[2]:function(){},e.next=3,this.preload(t,r,i);case 3:return e.next=5,rp.get(t);case 5:return a=e.sent,e.next=8,a.clone();case 8:return o=e.sent,this[sp].retain(t),o.dispose=function(){s[sp].release(t)},e.abrupt("return",o);case 12:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}],[{key:"setDRACODecoderLocation",value:function(e){zd=e,ip.setDecoderPath(e)}},{key:"getDRACODecoderLocation",value:function(){return zd}},{key:"setKTX2TranscoderLocation",value:function(e){Kd=e,ap.setTranscoderPath(e)}},{key:"getKTX2TranscoderLocation",value:function(){return Kd}},{key:"setMeshoptDecoderLocation",value:function(e){Hd!==e&&(Hd=e,Gd=function(e){return new Promise((function(t,r){var n=document.createElement("script");document.body.appendChild(n),n.onload=t,n.onerror=r,n.async=!0,n.src=e}))}(e).then((function(){return MeshoptDecoder.ready})).then((function(){return MeshoptDecoder})))}},{key:"getMeshoptDecoderLocation",value:function(){return Hd}},{key:"initializeKTX2Loader",value:function(e){ap.detectSupport(e)}},{key:"cache",get:function(){return rp}},{key:"clearCache",value:function(){var e=this;rp.forEach((function(t,r){e.delete(r)})),this[sp].reset()}},{key:"has",value:function(e){return rp.has(e)}},{key:"delete",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.has(t)){e.next=2;break}return e.abrupt("return");case 2:return r=rp.get(t),np.delete(t),rp.delete(t),e.next=7,r;case 7:e.sent.dispose();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hasFinishedLoading",value:function(e){return!!np.get(e)}}]),a}(Dt,(Wd=sp,Fd=op,sp));lp[Wd]=new Jd(lp);var cp=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("div");return(0,de.Z)(this,r),(e=t.call(this)).element=n,e.element.style.position="absolute",e.element.style.userSelect="none",e.element.setAttribute("draggable",!1),e.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))})),e}return(0,pe.Z)(r,[{key:"copy",value:function(e,t){return(0,se.Z)((0,ue.Z)(r.prototype),"copy",this).call(this,e,t),this.element=e.element.cloneNode(!0),this}}]),r}(xn);cp.prototype.isCSS2DObject=!0;for(var hp=new br,fp=new $r,dp=new $r,pp=new br,_p=new br,mp=(0,pe.Z)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,de.Z)(this,e);var r,n,i,a,o=this,s={objects:new WeakMap},u=void 0!==t.element?t.element:document.createElement("div");function l(e,t,r){if(e.isCSS2DObject){hp.setFromMatrixPosition(e.matrixWorld),hp.applyMatrix4(dp);var n=!0===e.visible&&hp.z>=-1&&hp.z<=1&&!0===e.layers.test(r.layers);if(e.element.style.display=!0===n?"":"none",!0===n){e.onBeforeRender(o,t,r);var h=e.element;/apple/i.test(navigator.vendor)?h.style.transform="translate(-50%,-50%) translate("+Math.round(hp.x*i+i)+"px,"+Math.round(-hp.y*a+a)+"px)":h.style.transform="translate(-50%,-50%) translate("+(hp.x*i+i)+"px,"+(-hp.y*a+a)+"px)",h.parentNode!==u&&u.appendChild(h),e.onAfterRender(o,t,r)}var f={distanceToCameraSquared:c(r,e)};s.objects.set(e,f)}for(var d=0,p=e.children.length;d<p;d++)l(e.children[d],t,r)}function c(e,t){return pp.setFromMatrixPosition(e.matrixWorld),_p.setFromMatrixPosition(t.matrixWorld),pp.distanceToSquared(_p)}function h(e){var t=[];return e.traverse((function(e){e.isCSS2DObject&&t.push(e)})),t}function f(e){for(var t=h(e).sort((function(e,t){return e.renderOrder!==t.renderOrder?t.renderOrder-e.renderOrder:s.objects.get(e).distanceToCameraSquared-s.objects.get(t).distanceToCameraSquared})),r=t.length,n=0,i=t.length;n<i;n++)t[n].element.style.zIndex=r-n}u.style.overflow="hidden",this.domElement=u,this.getSize=function(){return{width:r,height:n}},this.render=function(e,t){!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),fp.copy(t.matrixWorldInverse),dp.multiplyMatrices(t.projectionMatrix,fp),l(e,e,t),f(e)},this.setSize=function(e,t){i=(r=e)/2,a=(n=t)/2,u.style.width=e+"px",u.style.height=t+"px"}})),vp=function(e){return e&&"null"!==e?yp(e):null},gp=function(){if(!wf){var e=[];throw vf||e.push("WebXR Device API"),gf||e.push("WebXR Hit Test API"),new Error("The following APIs are required for AR, but are missing in this browser: ".concat(e.join(", ")))}},yp=function(e){return new URL(e,window.location.toString()).toString()},bp=function(e,t){var r=null,n=function(){null==r&&(e.apply(void 0,arguments),r=self.setTimeout((function(){return r=null}),t))};return n.flush=function(){null!=r&&(self.clearTimeout(r),r=null)},n},wp=function(e,t){var r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];null!=r&&self.clearTimeout(r),r=self.setTimeout((function(){r=null,e.apply(void 0,i)}),t)}},Ep=function(e,t,r){return Math.max(t,Math.min(r,e))},xp=function(){var e=function(){var e;if(null===(e=document.documentElement.getAttribute("itemtype"))||void 0===e?void 0:e.includes("schema.org/SearchResultsPage"))return!0;var t,r=null!=document.head?Array.from(document.head.querySelectorAll("meta")):[],n=(0,ae.Z)(r);try{for(n.s();!(t=n.n()).done;){if("viewport"===t.value.name)return!0}}catch(i){n.e(i)}finally{n.f()}return!1}();return e||console.warn('No <meta name="viewport"> detected; <model-viewer> will cap pixel density at 1.'),function(){return e?window.devicePixelRatio:1}}(),kp=function(){var e=new RegExp("[?&]".concat("model-viewer-debug-mode","(&|$)"));return function(){return self.ModelViewerElement&&self.ModelViewerElement.debugMode||self.location&&self.location.search&&self.location.search.match(e)}}(),Tp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return setTimeout(t,e)}))},Mp=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(n){e.addEventListener(t,(function i(a){r&&!r(a)||(n(a),e.removeEventListener(t,i))}))}))},Ap=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;(0,de.Z)(this,e),this.velocity=0,this.naturalFrequency=0,this.setDecayTime(t)}return(0,pe.Z)(e,[{key:"setDecayTime",value:function(e){this.naturalFrequency=1/Math.max(.001,e)}},{key:"update",value:function(e,t,r,n){var i=2e-4*this.naturalFrequency;if(null==e||0===n)return t;if(e===t&&0===this.velocity)return t;if(r<0)return e;var a=e-t,o=this.velocity+this.naturalFrequency*a,s=a+r*o,u=Math.exp(-this.naturalFrequency*r),l=(o-this.naturalFrequency*s)*u,c=-this.naturalFrequency*(l+o*u);return Math.abs(l)<i*Math.abs(n)&&c*a>=0?(this.velocity=0,t):(this.velocity=l,t+s*u)}}]),e}(),Op=function(e,t){return{type:"number",number:e,unit:t}},Sp=function(){var e={};return function(t){var r=t;if(r in e)return e[r];for(var n=[],i=0;t;){if(++i>1e3){t="";break}var a=Rp(t),o=a.nodes[0];if(null==o||0===o.terms.length)break;n.push(o),t=a.remainingInput}return e[r]=n}}(),Rp=function(){var e=/^(\-\-|[a-z\u0240-\uffff])/i,t=/^([\*\+\/]|[\-]\s)/i,r=/^[\),]/;return function(n){for(var i=[];n.length&&(n=n.trim(),!r.test(n));)if("("===n[0]){var a=Ip(n),o=a.nodes;n=a.remainingInput,i.push({type:"function",name:{type:"ident",value:"calc"},arguments:o})}else if(e.test(n)){var s=Cp(n),u=s.nodes[0];if("("===(n=s.remainingInput)[0]){var l=Ip(n),c=l.nodes,h=l.remainingInput;i.push({type:"function",name:u,arguments:c}),n=h}else i.push(u)}else if(t.test(n))i.push({type:"operator",value:n[0]}),n=n.slice(1);else{var f="#"===n[0]?Dp(n):Pp(n),d=f.nodes,p=f.remainingInput;if(0===d.length)break;i.push(d[0]),n=p}return{nodes:[{type:"expression",terms:i}],remainingInput:n}}}(),Cp=function(){var e=/[^a-z0-9_\-\u0240-\uffff]/i;return function(t){var r=t.match(e);return{nodes:[{type:"ident",value:null==r?t:t.substr(0,r.index)}],remainingInput:null==r?"":t.substr(r.index)}}}(),Pp=function(){var e=/[\+\-]?(\d+[\.]\d+|\d+|[\.]\d+)([eE][\+\-]?\d+)?/,t=/^[a-z%]+/i,r=/^(m|mm|cm|rad|deg|[%])$/;return function(n){var i=n.match(e),a=null==i?"0":i[0],o=(n=null==a?n:n.slice(a.length)).match(t),s=null!=o&&""!==o[0]?o[0]:null,u=null==o?n:n.slice(s.length);return null==s||r.test(s)||(s=null),{nodes:[{type:"number",number:parseFloat(a)||0,unit:s}],remainingInput:u}}}(),Dp=function(){var e=/^[a-f0-9]*/i;return function(t){var r=(t=t.slice(1).trim()).match(e);return{nodes:null==r?[]:[{type:"hex",value:r[0]}],remainingInput:null==r?t:t.slice(r[0].length)}}}(),Ip=function(e){var t=[];for(e=e.slice(1).trim();e.length;){var r=Rp(e);if(t.push(r.nodes[0]),","===(e=r.remainingInput.trim())[0])e=e.slice(1).trim();else if(")"===e[0]){e=e.slice(1);break}}return{nodes:t,remainingInput:e}},Lp=Symbol("visitedTypes"),Up=function(){function e(t){(0,de.Z)(this,e),this[Lp]=t}return(0,pe.Z)(e,[{key:"walk",value:function(e,t){for(var r=e.slice();r.length;){var n=r.shift();switch(this[Lp].indexOf(n.type)>-1&&t(n),n.type){case"expression":r.unshift.apply(r,(0,ne.Z)(n.terms));break;case"function":r.unshift.apply(r,[n.name].concat((0,ne.Z)(n.arguments)))}}}}]),e}(),jp=Object.freeze({type:"number",number:0,unit:null}),Np=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.number,n=e.unit;if(isFinite(r)){if("rad"===e.unit||null==e.unit)return e}else r=t,n="rad";var i="deg"===n&&null!=r,a=i?r:0,o=a*Math.PI/180;return{type:"number",number:o,unit:"rad"}},Bp=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.number,i=e.unit;if(isFinite(n)){if("m"===e.unit)return e}else n=r,i="m";switch(i){default:t=1;break;case"cm":t=.01;break;case"mm":t=.001}var a=t*n;return{type:"number",number:a,unit:"m"}},Zp=function(){var e=function(e){return e},t={rad:e,deg:Np,m:e,mm:Bp,cm:Bp};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jp;isFinite(e.number)||(e.number=r.number,e.unit=r.unit);var n=e.unit;if(null==n)return e;var i=t[n];return null==i?r:i(e)}}(),Wp=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this,document.createElement("div"))).normal=new br(0,1,0),n.initialized=!1,n.referenceCount=1,n.pivot=document.createElement("div"),n.slot=document.createElement("slot"),n.element.classList.add("annotation-wrapper"),n.slot.name=e.name,n.element.appendChild(n.pivot),n.pivot.appendChild(n.slot),n.updatePosition(e.position),n.updateNormal(e.normal),n}return(0,pe.Z)(r,[{key:"facingCamera",get:function(){return!this.element.classList.contains("hide")}},{key:"show",value:function(){this.facingCamera&&this.initialized||this.updateVisibility(!0)}},{key:"hide",value:function(){!this.facingCamera&&this.initialized||this.updateVisibility(!1)}},{key:"increment",value:function(){this.referenceCount++}},{key:"decrement",value:function(){return this.referenceCount>0&&--this.referenceCount,0===this.referenceCount}},{key:"updatePosition",value:function(e){if(null!=e){for(var t=Sp(e)[0].terms,r=0;r<3;++r)this.position.setComponent(r,Zp(t[r]).number);this.updateMatrixWorld()}}},{key:"updateNormal",value:function(e){if(null!=e)for(var t=Sp(e)[0].terms,r=0;r<3;++r)this.normal.setComponent(r,Zp(t[r]).number)}},{key:"orient",value:function(e){this.pivot.style.transform="rotate(".concat(e,"rad)")}},{key:"updateVisibility",value:function(e){e?this.element.classList.remove("hide"):this.element.classList.add("hide"),this.slot.assignedNodes().forEach((function(t){if(t.nodeType===Node.ELEMENT_NODE){var r=t,n=r.dataset.visibilityAttribute;if(null!=n){var i="data-".concat(n);e?r.setAttribute(i,""):r.removeAttribute(i)}r.dispatchEvent(new CustomEvent("hotspot-visibility",{detail:{visible:e}}))}})),this.initialized=!0}}]),r}(cp),Fp=function(e,t,r){var n=r,i=new br;return e.traverseVisible((function(e){var r,a;e.updateWorldMatrix(!1,!1);var o=e.geometry;if(void 0!==o)if(o.isGeometry){var s=o.vertices;for(r=0,a=s.length;r<a;r++)i.copy(s[r]),e.isSkinnedMesh?e.boneTransform(r,i):i.applyMatrix4(e.matrixWorld),n=t(n,i)}else if(o.isBufferGeometry){var u=o.attributes.position;if(void 0!==u){var l=function(e){if(!e.normalized)return 1;var t=e.array;return t instanceof Int8Array?1/127:t instanceof Uint8Array?1/255:t instanceof Int16Array?1/32767:t instanceof Uint16Array?1/65535:1}(u);for(r=0,a=u.count;r<a;r++)i.fromBufferAttribute(u,r),i.multiplyScalar(l),e.isSkinnedMesh?e.boneTransform(r,i):i.applyMatrix4(e.matrixWorld),n=t(n,i)}}})),n},zp={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float h;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}"},Kp={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float v;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}"},Hp=[],Gp=0;Gp<256;Gp++)Hp[Gp]=(Gp<16?"0":"")+Gp.toString(16);function Vp(e,t,r){return(1-r)*e+r*t}var Xp=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i){var a;(0,de.Z)(this,r),(a=t.call(this)).camera=new Vi,a.renderTarget=null,a.renderTargetBlur=null,a.depthMaterial=new ts,a.horizontalBlurMaterial=new wi(zp),a.verticalBlurMaterial=new wi(Kp),a.intensity=0,a.softness=1,a.boundingBox=new xr,a.size=new br,a.maxDimension=0,a.isAnimated=!1,a.needsUpdate=!1;var o=(0,le.Z)(a).camera;o.rotation.x=Math.PI/2,o.left=-.5,o.right=.5,o.bottom=-.5,o.top=.5,a.add(o);var s=new ji,u=new jn({opacity:1,transparent:!0,side:1});return a.floor=new _i(s,u),a.floor.userData.shadow=!0,o.add(a.floor),a.blurPlane=new _i(s),a.blurPlane.visible=!1,o.add(a.blurPlane),e.target.add((0,le.Z)(a)),a.depthMaterial.onBeforeCompile=function(e){e.fragmentShader=e.fragmentShader.replace("gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );","gl_FragColor = vec4( vec3( 0.0 ), ( 1.0 - fragCoordZ ) * opacity );")},a.horizontalBlurMaterial.depthTest=!1,a.verticalBlurMaterial.depthTest=!1,a.setScene(e,n,i),a}return(0,pe.Z)(r,[{key:"setScene",value:function(e,t,r){var n=this.boundingBox,i=this.size,a=this.rotation,o=this.position;if(this.isAnimated=e.animationNames.length>0,this.boundingBox.copy(e.boundingBox),this.size.copy(e.size),this.maxDimension=Math.max(i.x,i.y,i.z)*(this.isAnimated?2:1),this.boundingBox.getCenter(o),"back"===r){var s=n.min,u=n.max,l=[s.z,s.y];s.y=l[0],s.z=l[1];var c=[u.z,u.y];u.y=c[0],u.z=c[1];var h=[i.z,i.y];i.y=h[0],i.z=h[1],a.x=Math.PI/2,a.y=Math.PI}else a.x=0,a.y=0;if(this.isAnimated){var f=n.min.y,d=n.max.y;i.y=this.maxDimension,n.expandByVector(i.subScalar(this.maxDimension).multiplyScalar(-.5)),n.min.y=f,n.max.y=d,i.set(this.maxDimension,d-f,this.maxDimension)}"bottom"===r?o.y=n.min.y:o.z=n.min.y,this.setSoftness(t)}},{key:"setSoftness",value:function(e){this.softness=e;var t=this.size,r=this.camera,n=this.isAnimated?2:1,i=n*Math.pow(2,9-3*e);this.setMapSize(i);var a=t.y/2,o=t.y*n;r.near=0,r.far=Vp(o,a,e),this.depthMaterial.opacity=1/e,r.updateProjectionMatrix(),this.setIntensity(this.intensity),this.setOffset(0)}},{key:"setMapSize",value:function(e){var t=this.size;this.isAnimated&&(e*=2);var r=Math.floor(t.x>t.z?e:e*t.x/t.z),n=Math.floor(t.x>t.z?e*t.z/t.x:e),i=10+r,a=10+n;if(null==this.renderTarget||this.renderTarget.width===i&&this.renderTarget.height===a||(this.renderTarget.dispose(),this.renderTarget=null,this.renderTargetBlur.dispose(),this.renderTargetBlur=null),null==this.renderTarget){var o={format:Ne};this.renderTarget=new _r(i,a,o),this.renderTargetBlur=new _r(i,a,o),this.floor.material.map=this.renderTarget.texture}this.camera.scale.set(t.x*(1+10/r),t.z*(1+10/n),1),this.needsUpdate=!0}},{key:"setIntensity",value:function(e){this.intensity=e,e>0?(this.visible=!0,this.floor.visible=!0,this.floor.material.opacity=e*Vp(.3,1,this.softness*this.softness)):(this.visible=!1,this.floor.visible=!1)}},{key:"getIntensity",value:function(){return this.intensity}},{key:"setOffset",value:function(e){this.floor.position.z=-e+.001*this.maxDimension}},{key:"render",value:function(e,t){t.overrideMaterial=this.depthMaterial;var r=e.getClearAlpha();e.setClearAlpha(0),this.floor.visible=!1;var n=e.xr.enabled;e.xr.enabled=!1;var i=e.getRenderTarget();e.setRenderTarget(this.renderTarget),e.render(t,this.camera),t.overrideMaterial=null,this.floor.visible=!0,this.blurShadow(e),e.xr.enabled=n,e.setRenderTarget(i),e.setClearAlpha(r)}},{key:"blurShadow",value:function(e){var t=this.camera,r=this.horizontalBlurMaterial,n=this.verticalBlurMaterial,i=this.renderTarget,a=this.renderTargetBlur,o=this.blurPlane;o.visible=!0,o.material=r,r.uniforms.h.value=1/this.renderTarget.width,r.uniforms.tDiffuse.value=this.renderTarget.texture,e.setRenderTarget(a),e.render(o,t),o.material=n,n.uniforms.v.value=1/this.renderTarget.height,n.uniforms.tDiffuse.value=this.renderTargetBlur.texture,e.setRenderTarget(i),e.render(o,t),o.visible=!1}}]),r}(xn),Yp=new br,qp=new br,$p=new br,Jp=new zc,Qp=new br,e_=new Vt,t_=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n,i=e.canvas,a=e.element,o=e.width,s=e.height;(0,de.Z)(this,r),(n=t.call(this)).context=null,n.annotationRenderer=new mp,n.schemaElement=document.createElement("script"),n.width=1,n.height=1,n.aspect=1,n.renderCount=0,n.externalRenderer=null,n.camera=new xi(45,1,.1,100),n.xrCamera=null,n.url=null,n.target=new xn,n.modelContainer=new xn,n.animationNames=[],n.boundingBox=new xr,n.boundingSphere=new Fr,n.size=new br,n.idealAspect=0,n.framedFoVDeg=0,n.shadow=null,n.shadowIntensity=0,n.shadowSoftness=1,n.bakedShadows=new Set,n.exposure=1,n.canScale=!0,n.tightBounds=!1,n.isDirty=!1,n.goalTarget=new br,n.targetDamperX=new Ap,n.targetDamperY=new Ap,n.targetDamperZ=new Ap,n._currentGLTF=null,n.cancelPendingSourceChange=null,n.animationsByName=new Map,n.currentAnimationAction=null,n.name="ModelScene",n.element=a,n.canvas=i,n.camera=new xi(45,1,.1,100),n.camera.name="MainCamera",n.add(n.target),n.setSize(o,s),n.target.name="Target",n.modelContainer.name="ModelContainer",n.target.add(n.modelContainer),n.mixer=new Wc(n.modelContainer);var u=n.annotationRenderer.domElement,l=u.style;return l.display="none",l.pointerEvents="none",l.position="absolute",l.top="0",n.element.shadowRoot.querySelector(".default").appendChild(u),n.schemaElement.setAttribute("type","application/ld+json"),n}return(0,pe.Z)(r,[{key:"createContext",value:function(){this.context=this.canvas.getContext("2d")}},{key:"getCamera",value:function(){return null!=this.xrCamera?this.xrCamera:this.camera}},{key:"queueRender",value:function(){this.isDirty=!0}},{key:"shouldRender",value:function(){return this.isDirty}},{key:"hasRendered",value:function(){this.isDirty=!1}},{key:"setObject",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.reset(),this.modelContainer.add(t),e.next=4,this.setupScene();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setSource",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,a,o,s,u,l,c,h,f,d=this,p=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.length>1&&void 0!==p[1]?p[1]:function(){},t&&t!==this.url){e.next=4;break}return r(1),e.abrupt("return");case 4:if(this.reset(),this.url=t,null==this.externalRenderer){e.next=14;break}return e.next=9,this.externalRenderer.load(r);case 9:return a=e.sent,this.boundingSphere.radius=a.framedRadius,this.idealAspect=a.fieldOfViewAspect,this.dispatchEvent({type:"model-load",url:this.url}),e.abrupt("return");case 14:return null!=this.cancelPendingSourceChange&&(this.cancelPendingSourceChange(),this.cancelPendingSourceChange=null),e.prev=15,e.next=18,new Promise(function(){var e=(0,i.Z)((0,n.Z)().mark((function e(i,a){var o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.cancelPendingSourceChange=function(){return a()},e.prev=1,e.next=4,d.element[Vm].loader.load(t,d.element,r);case 4:o=e.sent,i(o),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}());case 18:o=e.sent,e.next=26;break;case 21:if(e.prev=21,e.t0=e.catch(15),null!=e.t0){e.next=25;break}return e.abrupt("return");case 25:throw e.t0;case 26:this.reset(),this.url=t,this._currentGLTF=o,null!=o&&this.modelContainer.add(o.scene),s=o.animations,u=new Map,l=[],c=(0,ae.Z)(s);try{for(c.s();!(h=c.n()).done;)f=h.value,u.set(f.name,f),l.push(f.name)}catch(_){c.e(_)}finally{c.f()}return this.animations=s,this.animationsByName=u,this.animationNames=l,e.next=40,this.setupScene();case 40:case"end":return e.stop()}}),e,this,[[15,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setupScene",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.updateBoundingBox(),e.next=3,this.updateFraming();case 3:this.updateShadow(),this.setShadowIntensity(this.shadowIntensity),this.dispatchEvent({type:"model-load",url:this.url});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.url=null,this.queueRender(),null!=this.shadow&&this.shadow.setIntensity(0),this.bakedShadows.clear();var e=this._currentGLTF;if(null!=e){var t,r=(0,ae.Z)(this.modelContainer.children);try{for(r.s();!(t=r.n()).done;){var n=t.value;this.modelContainer.remove(n)}}catch(i){r.e(i)}finally{r.f()}e.dispose(),this._currentGLTF=null}null!=this.currentAnimationAction&&(this.currentAnimationAction.stop(),this.currentAnimationAction=null),this.mixer.stopAllAction(),this.mixer.uncacheRoot(this)}},{key:"currentGLTF",get:function(){return this._currentGLTF}},{key:"setSize",value:function(e,t){if(this.width!==e||this.height!==t){if(this.width=Math.max(e,1),this.height=Math.max(t,1),this.annotationRenderer.setSize(e,t),this.aspect=this.width/this.height,null!=this.externalRenderer){var r=xp();this.externalRenderer.resize(e*r,t*r)}this.queueRender()}}},{key:"markBakedShadow",value:function(e){e.userData.shadow=!0,this.bakedShadows.add(e)}},{key:"unmarkBakedShadow",value:function(e){e.userData.shadow=!1,e.visible=!0,this.bakedShadows.delete(e),this.boundingBox.expandByObject(e)}},{key:"findBakedShadows",value:function(e){var t=this,r=new xr;e.traverse((function(e){var n=e;if(n.isMesh&&n.material.transparent){r.setFromObject(n);var i=r.getSize(Qp),a=Math.min(i.x,i.y,i.z);Math.max(i.x,i.y,i.z)<100*a||t.markBakedShadow(n)}}))}},{key:"checkBakedShadows",value:function(){var e=this.boundingBox,t=e.min,r=e.max,n=new xr;this.boundingBox.getSize(this.size);var i,a=(0,ae.Z)(this.bakedShadows);try{for(a.s();!(i=a.n()).done;){var o=i.value;n.setFromObject(o),n.min.y<t.y+this.size.y/100&&n.min.x<=t.x&&n.max.x>=r.x&&n.min.z<=t.z&&n.max.z>=r.z||(n.min.z<t.z+this.size.z/100&&n.min.x<=t.x&&n.max.x>=r.x&&n.min.y<=t.y&&n.max.y>=r.y||this.unmarkBakedShadow(o))}}catch(s){a.e(s)}finally{a.f()}}},{key:"updateBoundingBox",value:function(){var e=this;if(this.target.remove(this.modelContainer),this.findBakedShadows(this.modelContainer),!0===this.tightBounds){var t=function(e,t){return e.expandByPoint(t)};this.setBakedShadowVisibility(!1),this.boundingBox=Fp(this.modelContainer,t,new xr),this.boundingBox.isEmpty()&&(this.setBakedShadowVisibility(!0),this.bakedShadows.forEach((function(t){return e.unmarkBakedShadow(t)})),this.boundingBox=Fp(this.modelContainer,t,new xr)),this.checkBakedShadows(),this.setBakedShadowVisibility()}else this.boundingBox.setFromObject(this.modelContainer);this.boundingBox.getSize(this.size),this.target.add(this.modelContainer)}},{key:"updateFraming",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,r,i,a=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.target.remove(this.modelContainer),this.setBakedShadowVisibility(!1),t=this.boundingSphere.center,!0!==this.tightBounds){e.next=10;break}return this.element.requestUpdate("cameraTarget"),e.next=7,this.element.updateComplete;case 7:t.copy(this.getTarget()),e.next=11;break;case 10:this.boundingBox.getCenter(t);case 11:r=function(e,r){return Math.max(e,t.distanceToSquared(r))},this.boundingSphere.radius=Math.sqrt(Fp(this.modelContainer,r,0)),i=function(e,r){r.sub(t);var n=Math.sqrt(r.x*r.x+r.z*r.z);return Math.max(e,n/(a.idealCameraDistance()-Math.abs(r.y)))},this.idealAspect=Fp(this.modelContainer,i,0)/Math.tan(this.framedFoVDeg/2*Math.PI/180),this.setBakedShadowVisibility(),this.target.add(this.modelContainer);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setBakedShadowVisibility",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.shadowIntensity<=0,r=(0,ae.Z)(this.bakedShadows);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.visible=t}}catch(i){r.e(i)}finally{r.f()}}},{key:"idealCameraDistance",value:function(){var e=this.framedFoVDeg/2*Math.PI/180;return this.boundingSphere.radius/Math.sin(e)}},{key:"adjustedFoV",value:function(e){var t=Math.tan(e/2*Math.PI/180)*Math.max(1,this.idealAspect/this.aspect);return 2*Math.atan(t)*180/Math.PI}},{key:"getNDC",value:function(e,t){if(null!=this.xrCamera)e_.set(e/window.screen.width,t/window.screen.height);else{var r=this.element.getBoundingClientRect();e_.set((e-r.x)/this.width,(t-r.y)/this.height)}return e_.multiplyScalar(2).subScalar(1),e_.y*=-1,e_}},{key:"getSize",value:function(){return{width:this.width,height:this.height}}},{key:"setTarget",value:function(e,t,r){this.goalTarget.set(-e,-t,-r)}},{key:"setTargetDamperDecayTime",value:function(e){this.targetDamperX.setDecayTime(e),this.targetDamperY.setDecayTime(e),this.targetDamperZ.setDecayTime(e)}},{key:"getTarget",value:function(){return Qp.copy(this.goalTarget).multiplyScalar(-1)}},{key:"jumpToGoal",value:function(){this.updateTarget(1e4)}},{key:"updateTarget",value:function(e){var t=this.goalTarget,r=this.target.position;if(t.equals(r))return!1;var n=this.boundingSphere.radius/10,i=r.x,a=r.y,o=r.z;return i=this.targetDamperX.update(i,t.x,e,n),a=this.targetDamperY.update(a,t.y,e,n),o=this.targetDamperZ.update(o,t.z,e,n),this.target.position.set(i,a,o),this.target.updateMatrixWorld(),this.queueRender(),!0}},{key:"pointTowards",value:function(e,t){var r=this.position,n=r.x,i=r.z;this.yaw=Math.atan2(e-n,t-i)}},{key:"yaw",get:function(){return this.rotation.y},set:function(e){this.rotation.y=e,this.queueRender()}},{key:"animationTime",get:function(){if(null!=this.currentAnimationAction){var e=Math.max(this.currentAnimationAction._loopCount,0);return this.currentAnimationAction.loop===_t&&1===(1&e)?this.duration-this.currentAnimationAction.time:this.currentAnimationAction.time}return 0},set:function(e){this.mixer.setTime(e),this.queueShadowRender()}},{key:"animationTimeScale",get:function(){return this.mixer.timeScale},set:function(e){this.mixer.timeScale=e}},{key:"duration",get:function(){return null!=this.currentAnimationAction&&this.currentAnimationAction.getClip()?this.currentAnimationAction.getClip().duration:0}},{key:"hasActiveAnimation",get:function(){return null!=this.currentAnimationAction}},{key:"playAnimation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pt,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;if(null!=this._currentGLTF){var i=this.animations;if(null!=i&&0!==i.length){var a=null;if(null!=e&&null==(a=this.animationsByName.get(e))){var o=parseInt(e);!isNaN(o)&&o>=0&&o<i.length&&(a=i[o])}null==a&&(a=i[0]);try{var s=this.currentAnimationAction,u=this.mixer.clipAction(a,this);this.currentAnimationAction=u,this.element.paused?this.mixer.stopAllAction():(u.paused=!1,null!=s&&u!==s?u.crossFadeFrom(s,t,!1):this.animationTimeScale>0&&this.animationTime==this.duration&&(this.animationTime=0)),u.setLoop(r,n),u.enabled=!0,u.clampWhenFinished=!0,u.play()}catch(l){console.error(l)}}else console.warn("Cannot play animation (model does not have any animations)")}}},{key:"stopAnimation",value:function(){this.currentAnimationAction=null,this.mixer.stopAllAction()}},{key:"updateAnimation",value:function(e){this.mixer.update(e),this.queueShadowRender()}},{key:"subscribeMixerEvent",value:function(e,t){this.mixer.addEventListener(e,t)}},{key:"updateShadow",value:function(){var e=this.shadow;if(null!=e){var t="wall"===this.element.arPlacement?"back":"bottom";e.setScene(this,this.shadowSoftness,t),e.needsUpdate=!0}}},{key:"renderShadow",value:function(e){var t=this.shadow;null!=t&&1==t.needsUpdate&&(t.render(e,this),t.needsUpdate=!1)}},{key:"queueShadowRender",value:function(){null!=this.shadow&&(this.shadow.needsUpdate=!0)}},{key:"setShadowIntensity",value:function(e){if(this.shadowIntensity=e,null!=this._currentGLTF&&(this.setBakedShadowVisibility(),!(e<=0&&null==this.shadow))){if(null==this.shadow){var t="wall"===this.element.arPlacement?"back":"bottom";this.shadow=new Xp(this,this.shadowSoftness,t)}this.shadow.setIntensity(e)}}},{key:"setShadowSoftness",value:function(e){this.shadowSoftness=e;var t=this.shadow;null!=t&&t.setSoftness(e)}},{key:"setShadowOffset",value:function(e){var t=this.shadow;null!=t&&t.setOffset(e)}},{key:"raycaster",get:function(){return Jp}},{key:"positionAndNormalFromPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;this.raycaster.setFromCamera(e,this.getCamera());var r=this.raycaster.intersectObject(t,!0),n=r.find((function(e){return!e.object.userData.shadow}));return null==n||null==n.face?null:null==n.uv?{position:n.point,normal:n.face.normal,uv:null}:(n.face.normal.applyNormalMatrix((new Xt).getNormalMatrix(n.object.matrixWorld)),{position:n.point,normal:n.face.normal,uv:n.uv})}},{key:"addHotspot",value:function(e){this.target.add(e),this.annotationRenderer.domElement.appendChild(e.element)}},{key:"removeHotspot",value:function(e){this.target.remove(e)}},{key:"forHotspots",value:function(e){for(var t=this.target.children,r=0,n=t.length;r<n;r++){var i=t[r];i instanceof Wp&&e(i)}}},{key:"updateHotspots",value:function(e){var t=this;this.forHotspots((function(r){Yp.copy(e),qp.setFromMatrixPosition(r.matrixWorld),Yp.sub(qp),$p.copy(r.normal).transformDirection(t.target.matrixWorld),Yp.dot($p)<0?r.hide():r.show()}))}},{key:"orientHotspots",value:function(e){this.forHotspots((function(t){t.orient(e)}))}},{key:"setHotspotsVisibility",value:function(e){this.forHotspots((function(t){t.visible=e}))}},{key:"updateSchema",value:function(e){var t,r=this.schemaElement,n=this.element,i=n.alt,a=n.poster,o=n.iosSrc;if(null!=e){var s=[{"@type":"MediaObject",contentUrl:e,encodingFormat:"gltf"===(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase())?"model/gltf+json":"model/gltf-binary"}];o&&s.push({"@type":"MediaObject",contentUrl:o,encodingFormat:"model/vnd.usdz+zip"});var u={"@context":"http://schema.org/","@type":"3DModel",image:null!==a&&void 0!==a?a:void 0,name:null!==i&&void 0!==i?i:void 0,encoding:s};r.textContent=JSON.stringify(u),document.head.appendChild(r)}else null!=r.parentElement&&r.parentElement.removeChild(r)}}]),r}(vs),r_=function(e,t,r,n){for(var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n,s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},n_=Symbol("currentEnvironmentMap"),i_=Symbol("applyEnvironmentMap"),a_=Symbol("updateEnvironment"),o_=Symbol("cancelEnvironmentUpdate"),s_=Symbol("onPreload"),u_=function(){function e(t,r,n,i,a){var o=this;(0,de.Z)(this,e),this.xrLight=t,this.renderer=r,this.lightProbe=n,this.xrWebGLBinding=null,this.estimationStartCallback=a,this.frameCallback=this.onXRFrame.bind(this);var s=r.xr.getSession();if(i&&"XRWebGLBinding"in window){var u=new Ai(16);t.environment=u.texture;var l=r.getContext();switch(s.preferredReflectionFormat){case"srgba8":l.getExtension("EXT_sRGB");break;case"rgba16f":l.getExtension("OES_texture_half_float")}this.xrWebGLBinding=new XRWebGLBinding(s,l),this.lightProbe.addEventListener("reflectionchange",(function(){o.updateReflection()}))}s.requestAnimationFrame(this.frameCallback)}return(0,pe.Z)(e,[{key:"updateReflection",value:function(){var e=this.renderer.properties.get(this.xrLight.environment);if(e){var t=this.xrWebGLBinding.getReflectionCubeMap(this.lightProbe);t&&(e.__webglTexture=t,this.xrLight.environment.needsPMREMUpdate=!0)}}},{key:"onXRFrame",value:function(e,t){if(this.xrLight){t.session.requestAnimationFrame(this.frameCallback);var r=t.getLightEstimate(this.lightProbe);if(r){this.xrLight.lightProbe.sh.fromArray(r.sphericalHarmonicsCoefficients),this.xrLight.lightProbe.intensity=1;var n=Math.max(1,Math.max(r.primaryLightIntensity.x,Math.max(r.primaryLightIntensity.y,r.primaryLightIntensity.z)));this.xrLight.directionalLight.color.setRGB(r.primaryLightIntensity.x/n,r.primaryLightIntensity.y/n,r.primaryLightIntensity.z/n),this.xrLight.directionalLight.intensity=n,this.xrLight.directionalLight.position.copy(r.primaryLightDirection),this.estimationStartCallback&&(this.estimationStartCallback(),this.estimationStartCallback=null)}}}},{key:"dispose",value:function(){this.xrLight=null,this.renderer=null,this.lightProbe=null,this.xrWebGLBinding=null}}]),e}(),l_=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,de.Z)(this,r),(n=t.call(this)).lightProbe=new gc,n.lightProbe.intensity=0,n.add(n.lightProbe),n.directionalLight=new _c,n.directionalLight.intensity=0,n.add(n.directionalLight),n.environment=null;var a=null,o=!1;return e.xr.addEventListener("sessionstart",(function(){var t=e.xr.getSession();"requestLightProbe"in t&&t.requestLightProbe({reflectionFormat:t.preferredReflectionFormat}).then((function(t){a=new u_((0,le.Z)(n),e,t,i,(function(){o=!0,n.dispatchEvent({type:"estimationstart"})}))}))})),e.xr.addEventListener("sessionend",(function(){a&&(a.dispose(),a=null),o&&n.dispatchEvent({type:"estimationend"})})),n.dispose=function(){a&&(a.dispose(),a=null),n.remove(n.lightProbe),n.lightProbe=null,n.remove(n.directionalLight),n.directionalLight=null,n.environment=null},n}return(0,pe.Z)(r)}(us),c_=.2,h_=Math.PI/24,f_=new Vt,d_=function(e,t,r){for(var n=t>0?r>0?0:-Math.PI/2:r>0?Math.PI/2:Math.PI,i=0;i<=12;++i)e.push(t+.17*Math.cos(n),r+.17*Math.sin(n),0,t+c_*Math.cos(n),r+c_*Math.sin(n),0),n+=h_},p_=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){var i;(0,de.Z)(this,r);var a=new $n,o=[],s=[],u=e.size,l=e.boundingBox,c=u.x/2,h=("back"===n?u.y:u.z)/2;d_(s,c,h),d_(s,-c,h),d_(s,-c,-h),d_(s,c,-h);for(var f=s.length/3,d=0;d<f-2;d+=2)o.push(d,d+1,d+3,d,d+3,d+2);var p=f-2;o.push(p,p+1,1,p,1,0),a.setAttribute("position",new zn(s,3)),a.setIndex(o),(i=t.call(this,a)).side=n;var _=i.material;switch(_.side=0,_.transparent=!0,_.opacity=0,i.goalOpacity=0,i.opacityDamper=new Ap,i.hitPlane=new _i(new ji(2*(c+c_),2*(h+c_))),i.hitPlane.visible=!1,i.add(i.hitPlane),l.getCenter(i.position),n){case"bottom":i.rotateX(-Math.PI/2),i.shadowHeight=l.min.y,i.position.y=i.shadowHeight;break;case"back":i.shadowHeight=l.min.z,i.position.z=i.shadowHeight}return e.target.add((0,le.Z)(i)),i.offsetHeight=0,i}return(0,pe.Z)(r,[{key:"getHit",value:function(e,t,r){f_.set(t,-r),this.hitPlane.visible=!0;var n=e.positionAndNormalFromPoint(f_,this.hitPlane);return this.hitPlane.visible=!1,null==n?null:n.position}},{key:"getExpandedHit",value:function(e,t,r){this.hitPlane.scale.set(1e3,1e3,1e3);var n=this.getHit(e,t,r);return this.hitPlane.scale.set(1,1,1),n}},{key:"offsetHeight",get:function(){return"back"===this.side?this.position.z-this.shadowHeight:this.position.y-this.shadowHeight},set:function(e){e-=.001,"back"===this.side?this.position.z=this.shadowHeight+e:this.position.y=this.shadowHeight+e}},{key:"show",set:function(e){this.goalOpacity=e?.75:0}},{key:"updateOpacity",value:function(e){var t=this.material;t.opacity=this.opacityDamper.update(t.opacity,this.goalOpacity,e,1),this.visible=t.opacity>0}},{key:"dispose",value:function(){var e,t=this.hitPlane,r=t.geometry,n=t.material;r.dispose(),n.dispose(),this.geometry.dispose(),this.material.dispose(),null===(e=this.parent)||void 0===e||e.remove(this)}}]),r}(_i),__="not-presenting",m_="session-started",v_="object-placed",g_="failed",y_="tracking",b_="not-tracking",w_=new br,E_=new $r,x_=new br,k_=new xi(45,1,.1,100),T_=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).renderer=e,n.currentSession=null,n.placeOnWall=!1,n.placementBox=null,n.lastTick=null,n.turntableRotation=null,n.oldShadowIntensity=null,n.oldBackground=null,n.oldEnvironment=null,n.frame=null,n.initialHitSource=null,n.transientHitTestSource=null,n.inputSource=null,n._presentedScene=null,n.resolveCleanup=null,n.exitWebXRButtonContainer=null,n.overlay=null,n.xrLight=null,n.tracking=!0,n.frames=0,n.initialized=!1,n.oldTarget=new br,n.placementComplete=!1,n.isTranslating=!1,n.isRotating=!1,n.isTwoFingering=!1,n.lastDragPosition=new br,n.firstRatio=0,n.lastAngle=0,n.goalPosition=new br,n.goalYaw=0,n.goalScale=1,n.xDamper=new Ap,n.yDamper=new Ap,n.zDamper=new Ap,n.yawDamper=new Ap,n.scaleDamper=new Ap,n.onExitWebXRButtonContainerClick=function(){return n.stopPresenting()},n.onUpdateScene=function(){null!=n.placementBox&&n.isPresenting&&(n.placementBox.dispose(),n.placementBox=new p_(n.presentedScene,n.placeOnWall?"back":"bottom"))},n.onSelectStart=function(e){var t=n.transientHitTestSource;if(null!=t){var r=n.frame.getHitTestResultsForTransientInput(t),i=n.presentedScene,a=n.placementBox;if(1===r.length){n.inputSource=e.inputSource;var o=n.inputSource.gamepad.axes,s=a.getHit(n.presentedScene,o[0],o[1]);a.show=!0,null!=s?(n.isTranslating=!0,n.lastDragPosition.copy(s)):!1===n.placeOnWall&&(n.isRotating=!0,n.lastAngle=1.5*o[0])}else if(2===r.length){a.show=!0,n.isTwoFingering=!0;var u=n.fingerPolar(r).separation;n.firstRatio=u/i.scale.x}}},n.onSelectEnd=function(){n.isTranslating=!1,n.isRotating=!1,n.isTwoFingering=!1,n.inputSource=null,n.goalPosition.y+=n.placementBox.offsetHeight*n.presentedScene.scale.x,n.placementBox.show=!1},n.threeRenderer=e.threeRenderer,n.threeRenderer.xr.enabled=!0,n}return(0,pe.Z)(r,[{key:"resolveARSession",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gp(),e.next=3,navigator.xr.requestSession("immersive-ar",{requiredFeatures:["hit-test"],optionalFeatures:["dom-overlay","light-estimation"],domOverlay:{root:this.overlay}});case 3:return t=e.sent,this.threeRenderer.xr.setReferenceSpaceType("local"),e.next=7,this.threeRenderer.xr.setSession(t);case 7:return this.threeRenderer.xr.cameraAutoUpdate=!1,e.abrupt("return",t);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"presentedScene",get:function(){return this._presentedScene}},{key:"supportsPresentation",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,gp(),e.next=4,navigator.xr.isSessionSupported("immersive-ar");case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),console.warn("Request to present in WebXR denied:"),console.warn(e.t0),console.warn("Falling back to next ar-mode"),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"present",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,a,o,s,u,l,c=this,h=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]&&h[1],this.isPresenting&&console.warn("Cannot present while a model is already presenting"),i=new Promise((function(e,t){requestAnimationFrame((function(){return e()}))})),t.setHotspotsVisibility(!1),t.queueRender(),e.next=7,i;case 7:return this._presentedScene=t,this.overlay=t.element.shadowRoot.querySelector("div.default"),!0===r&&(this.xrLight=new l_(this.threeRenderer),this.xrLight.addEventListener("estimationstart",(function(){if(c.isPresenting&&null!=c.xrLight){var e=c.presentedScene;e.add(c.xrLight),c.oldEnvironment=e.environment,e.environment=c.xrLight.environment}}))),e.next=12,this.resolveARSession();case 12:return(a=e.sent).addEventListener("end",(function(){c.postSessionCleanup()}),{once:!0}),(o=t.element.shadowRoot.querySelector(".slot.exit-webxr-ar-button")).classList.add("enabled"),o.addEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=o,e.next=20,a.requestReferenceSpace("viewer");case 20:s=e.sent,this.tracking=!0,this.frames=0,this.initialized=!1,this.turntableRotation=t.yaw,this.goalYaw=t.yaw,this.goalScale=1,this.oldBackground=t.background,t.background=null,this.oldShadowIntensity=t.shadowIntensity,t.setShadowIntensity(.01),this.oldTarget.copy(t.getTarget()),t.addEventListener("model-load",this.onUpdateScene),u=20*Math.PI/180,l=!0===this.placeOnWall?void 0:new XRRay(new DOMPoint(0,0,0),{x:0,y:-Math.sin(u),z:-Math.cos(u)}),a.requestHitTestSource({space:s,offsetRay:l}).then((function(e){c.initialHitSource=e})),this.currentSession=a,this.placementBox=new p_(t,this.placeOnWall?"back":"bottom"),this.placementComplete=!1,this.lastTick=performance.now(),this.dispatchEvent({type:"status",status:m_});case 41:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopPresenting",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,r=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isPresenting){e.next=2;break}return e.abrupt("return");case 2:return t=new Promise((function(e){r.resolveCleanup=e})),e.prev=3,e.next=6,this.currentSession.end();case 6:return e.next=8,t;case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),console.warn("Error while trying to end WebXR AR session"),console.warn(e.t0),this.postSessionCleanup();case 15:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"isPresenting",get:function(){return null!=this.presentedScene}},{key:"target",get:function(){return this.oldTarget}},{key:"updateTarget",value:function(){var e=this.presentedScene;if(null!=e){var t=e.getTarget();this.oldTarget.copy(t),this.placeOnWall?t.z=e.boundingBox.min.z:t.y=e.boundingBox.min.y,e.setTarget(t.x,t.y,t.z)}}},{key:"postSessionCleanup",value:function(){var e=this.currentSession;null!=e&&(e.removeEventListener("selectstart",this.onSelectStart),e.removeEventListener("selectend",this.onSelectEnd),this.currentSession=null);var t=this.presentedScene;if(null!=t){var r=t.element;null!=this.xrLight&&(t.remove(this.xrLight),null!=this.oldEnvironment&&(t.environment=this.oldEnvironment,this.oldEnvironment=null),this.xrLight.dispose(),this.xrLight=null),t.position.set(0,0,0),t.scale.set(1,1,1),t.setShadowOffset(0);var n=this.turntableRotation;null!=n&&(t.yaw=n);var i=this.oldShadowIntensity;null!=i&&t.setShadowIntensity(i);var a=this.oldBackground;null!=a&&(t.background=a);var o=this.oldTarget;t.setTarget(o.x,o.y,o.z),t.xrCamera=null,t.removeEventListener("model-load",this.onUpdateScene),t.orientHotspots(0),r.requestUpdate("cameraTarget"),r.requestUpdate("maxCameraOrbit"),r[Gm](r.getBoundingClientRect())}this.renderer.height=0;var s=this.exitWebXRButtonContainer;null!=s&&(s.classList.remove("enabled"),s.removeEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=null);var u=this.transientHitTestSource;null!=u&&(u.cancel(),this.transientHitTestSource=null);var l=this.initialHitSource;null!=l&&(l.cancel(),this.initialHitSource=null),null!=this.placementBox&&(this.placementBox.dispose(),this.placementBox=null),this.lastTick=null,this.turntableRotation=null,this.oldShadowIntensity=null,this.oldBackground=null,this._presentedScene=null,this.frame=null,this.inputSource=null,this.overlay=null,null!=this.resolveCleanup&&this.resolveCleanup(),this.dispatchEvent({type:"status",status:__})}},{key:"updateView",value:function(e){var t=this.presentedScene,r=this.threeRenderer.xr;r.updateCamera(k_),t.xrCamera=r.getCamera();var n=t.getCamera().matrixWorld.elements;if(t.orientHotspots(Math.atan2(n[1],n[5])),this.initialized||(this.placeInitially(),this.initialized=!0),e.requestViewportScale&&e.recommendedViewportScale){var i=e.recommendedViewportScale;e.requestViewportScale(Math.max(i,.25))}var a=this.currentSession.renderState.baseLayer.getViewport(e);this.threeRenderer.setViewport(a.x,a.y,a.width,a.height)}},{key:"placeInitially",value:function(){var e=this,t=this.presentedScene,r=t.position,n=t.element,i=t.getCamera(),a=this.overlay.getBoundingClientRect(),o=a.width,s=a.height;t.setSize(o,s),i.projectionMatrixInverse.copy(i.projectionMatrix).invert();var u=n.getCameraOrbit(),l=u.theta,c=u.radius,h=i.getWorldDirection(w_);t.yaw=Math.atan2(-h.x,-h.z)-l,this.goalYaw=t.yaw,r.copy(i.position).add(h.multiplyScalar(c)),this.updateTarget();var f=t.getTarget();r.add(f).sub(this.oldTarget),this.goalPosition.copy(r),t.setHotspotsVisibility(!0);var d=this.frame.session;d.addEventListener("selectstart",this.onSelectStart),d.addEventListener("selectend",this.onSelectEnd),d.requestHitTestSourceForTransientInput({profile:"generic-touchscreen"}).then((function(t){e.transientHitTestSource=t}))}},{key:"getTouchLocation",value:function(){var e=this.inputSource.gamepad.axes,t=this.placementBox.getExpandedHit(this.presentedScene,e[0],e[1]);return null!=t&&(w_.copy(t).sub(this.presentedScene.getCamera().position),w_.length()>10)?null:t}},{key:"getHitPoint",value:function(e){var t=this.threeRenderer.xr.getReferenceSpace(),r=e.getPose(t);if(null==r)return null;var n=E_.fromArray(r.transform.matrix);return!0===this.placeOnWall&&(this.goalYaw=Math.atan2(n.elements[4],n.elements[6])),n.elements[5]>.75!==this.placeOnWall?x_.setFromMatrixPosition(n):null}},{key:"moveToFloor",value:function(e){var t=this.initialHitSource;if(null!=t){var r=e.getHitTestResults(t);if(0!=r.length){var n=r[0],i=this.getHitPoint(n);null!=i&&(this.placementBox.show=!0,this.isTranslating||(this.placeOnWall?this.goalPosition.copy(i):this.goalPosition.y=i.y),t.cancel(),this.initialHitSource=null,this.dispatchEvent({type:"status",status:v_}))}}}},{key:"fingerPolar",value:function(e){var t=e[0].inputSource.gamepad.axes,r=e[1].inputSource.gamepad.axes,n=r[0]-t[0],i=r[1]-t[1],a=Math.atan2(i,n),o=this.lastAngle-a;return o>Math.PI?o-=2*Math.PI:o<-Math.PI&&(o+=2*Math.PI),this.lastAngle=a,{separation:Math.sqrt(n*n+i*i),deltaYaw:o}}},{key:"processInput",value:function(e){var t=this,r=this.transientHitTestSource;if(null!=r&&(this.isTranslating||this.isTwoFingering||this.isRotating)){var n=e.getHitTestResultsForTransientInput(r),i=this.presentedScene,a=i.scale.x;if(this.isTwoFingering)if(n.length<2)this.isTwoFingering=!1;else{var o=this.fingerPolar(n),s=o.separation,u=o.deltaYaw;if(!1===this.placeOnWall&&(this.goalYaw+=u),i.canScale){var l=s/this.firstRatio;this.goalScale=l<1.3&&l>.7692307692307692?1:l}}else if(2!==n.length)if(this.isRotating){var c=1.5*this.inputSource.gamepad.axes[0];this.goalYaw+=c-this.lastAngle,this.lastAngle=c}else this.isTranslating&&n.forEach((function(e){if(e.inputSource===t.inputSource){var r=null;if(e.results.length>0&&(r=t.getHitPoint(e.results[0])),null==r&&(r=t.getTouchLocation()),null!=r){if(t.goalPosition.sub(t.lastDragPosition),!1===t.placeOnWall){var n=r.y-t.lastDragPosition.y;if(n<0){t.placementBox.offsetHeight=n/a,t.presentedScene.setShadowOffset(n);var o=w_.copy(i.getCamera().position),s=-n/(o.y-r.y);o.multiplyScalar(s),r.multiplyScalar(1-s).add(o)}}t.goalPosition.add(r),t.lastDragPosition.copy(r)}}}));else{this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!0;var h=this.fingerPolar(n).separation;this.firstRatio=h/a}}}},{key:"moveScene",value:function(e){var t=this.presentedScene,r=t.position,n=t.yaw,i=t.boundingSphere.radius,a=this.goalPosition,o=t.scale.x,s=this.placementBox;if(!a.equals(r)||this.goalScale!==o){var u=r.x,l=r.y,c=r.z;u=this.xDamper.update(u,a.x,e,i),l=this.yDamper.update(l,a.y,e,i),c=this.zDamper.update(c,a.z,e,i),r.set(u,l,c);var h=this.scaleDamper.update(o,this.goalScale,e,1);if(t.scale.set(h,h,h),!this.isTranslating){var f=a.y-l;this.placementComplete&&!1===this.placeOnWall?(s.offsetHeight=f/h,t.setShadowOffset(f)):0===f&&(this.placementComplete=!0,s.show=!1,t.setShadowIntensity(.8))}}s.updateOpacity(e),t.updateTarget(e),t.yaw=this.yawDamper.update(n,this.goalYaw,e,Math.PI)}},{key:"onWebXRFrame",value:function(e,t){this.frame=t,++this.frames;var r=this.threeRenderer.xr.getReferenceSpace(),n=t.getViewerPose(r);null==n&&!0===this.tracking&&this.frames>30&&(this.tracking=!1,this.dispatchEvent({type:"tracking",status:b_}));var i=this.presentedScene;if(null!=n&&null!=i&&i.element[Jm]()){!1===this.tracking&&(this.tracking=!0,this.dispatchEvent({type:"tracking",status:y_}));var a,o=!0,s=(0,ae.Z)(n.views);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(this.updateView(u),o){this.moveToFloor(t),this.processInput(t);var l=e-this.lastTick;this.moveScene(l),this.renderer.preRender(i,e,l),this.lastTick=e,i.renderShadow(this.threeRenderer)}this.threeRenderer.render(i,i.getCamera()),o=!1}}catch(c){s.e(c)}finally{s.f()}}else this.threeRenderer.clear()}}]),r}(Dt),M_=function(){function e(t){(0,de.Z)(this,e),t.threeRenderer.debug={checkShaderErrors:!0},Promise.resolve().then((function(){self.dispatchEvent(new CustomEvent("model-viewer-renderer-debug",{detail:{renderer:t,THREE:{ShaderMaterial:wi,Texture:dr,Mesh:_i,Scene:vs,PlaneBufferGeometry:ji,OrthographicCamera:Vi,WebGLRenderTarget:_r}}}))}))}return(0,pe.Z)(e,[{key:"addScene",value:function(e){self.dispatchEvent(new CustomEvent("model-viewer-scene-added-debug",{detail:{scene:e}}))}},{key:"removeScene",value:function(e){self.dispatchEvent(new CustomEvent("model-viewer-scene-removed-debug",{detail:{scene:e}}))}}]),e}();function A_(e){var t=new Map,r=new Map,n=e.clone();return O_(e,n,(function(e,n){t.set(n,e),r.set(e,n)})),n.traverse((function(e){if(e.isSkinnedMesh){var n=e,i=t.get(e),a=i.skeleton.bones;n.skeleton=i.skeleton.clone(),n.bindMatrix.copy(i.bindMatrix),n.skeleton.bones=a.map((function(e){return r.get(e)})),n.bind(n.skeleton,n.bindMatrix)}})),n}function O_(e,t,r){r(e,t);for(var n=0;n<e.children.length;n++)O_(e.children[n],t.children[n],r)}var S_=Symbol("prepared"),R_=Symbol("prepare"),C_=Symbol("preparedGLTF"),P_=Symbol("clone"),D_=function(){function e(t){(0,de.Z)(this,e),this[C_]=t}return(0,pe.Z)(e,[{key:"parser",get:function(){return this[C_].parser}},{key:"animations",get:function(){return this[C_].animations}},{key:"scene",get:function(){return this[C_].scene}},{key:"scenes",get:function(){return this[C_].scenes}},{key:"cameras",get:function(){return this[C_].cameras}},{key:"asset",get:function(){return this[C_].asset}},{key:"userData",get:function(){return this[C_].userData}},{key:"clone",value:function(){return new(0,this.constructor)(this[P_]())}},{key:"dispose",value:function(){this.scenes.forEach((function(e){e.traverse((function(e){if(e.isMesh){var t=e;(Array.isArray(t.material)?t.material:[t.material]).forEach((function(e){for(var t in e){var r=e[t];if(r instanceof dr){var n=r.source.data;n instanceof ImageBitmap&&n.close(),r.dispose()}}e.dispose()})),t.geometry.dispose()}}))}))}},{key:P_,value:function(){var e=this[C_],t=A_(this.scene);I_(t,this.scene);var r=[t],n=e.userData?Object.assign({},e.userData):{};return Object.assign(Object.assign({},e),{scene:t,scenes:r,userData:n})}}],[{key:"prepare",value:function(e){if(null==e.scene)throw new Error("Model does not have a scene");if(e[S_])return e;var t=this[R_](e);return t[S_]=!0,t}},{key:R_,value:function(e){var t=e.scene,r=[t];return Object.assign(Object.assign({},e),{scene:t,scenes:r})}}]),e}(),I_=function(e,t){L_(e,t,(function(e,t){void 0!==t.userData.variantMaterials&&(e.userData.variantMaterials=new Map(t.userData.variantMaterials)),void 0!==t.userData.variantData&&(e.userData.variantData=t.userData.variantData),void 0!==t.userData.originalMaterial&&(e.userData.originalMaterial=t.userData.originalMaterial)}))},L_=function e(t,r,n){n(t,r);for(var i=0;i<t.children.length;i++)e(t.children[i],r.children[i],n)},U_=Symbol("threeGLTF"),j_=Symbol("gltf"),N_=Symbol("gltfElementMap"),B_=Symbol("threeObjectMap"),Z_=Symbol("parallelTraverseThreeScene"),W_=Symbol("correlateOriginalThreeGLTF"),F_=Symbol("correlateCloneThreeGLTF"),z_=function(){function e(t,r,n,i){(0,de.Z)(this,e),this[U_]=t,this[j_]=r,this[N_]=i,this[B_]=n}return(0,pe.Z)(e,[{key:"threeGLTF",get:function(){return this[U_]}},{key:"gltf",get:function(){return this[j_]}},{key:"gltfElementMap",get:function(){return this[N_]}},{key:"threeObjectMap",get:function(){return this[B_]}}],[{key:"from",value:function(e,t){return null!=t?this[F_](e,t):this[W_](e)}},{key:W_,value:function(t){var r,n=t.parser.json,i=t.parser.associations,o=new Map,s={name:"Default"},u={type:"materials",index:-1},l=(0,ae.Z)(i.keys());try{for(l.s();!(r=l.n()).done;){var c=r.value;c instanceof Un&&null==i.get(c)&&(u.index<0&&(null==n.materials&&(n.materials=[]),u.index=n.materials.length,n.materials.push(s)),c.name=s.name,i.set(c,{materials:u.index}))}}catch(w){l.e(w)}finally{l.f()}var h,f=(0,ae.Z)(i);try{for(f.s();!(h=f.n()).done;){var d=(0,a.Z)(h.value,2),p=d[0],_=d[1];if(_){var m=p;m.userData=m.userData||{},m.userData.associations=_}for(var v in _)if(null!=v&&"primitives"!==v){var g=v,y=(n[g]||[])[_[g]];if(null==y)continue;var b=o.get(y);null==b&&(b=new Set,o.set(y,b)),b.add(p)}}}catch(w){f.e(w)}finally{f.f()}return new e(t,n,i,o)}},{key:F_,value:function(t,r){for(var n=r.threeGLTF,i=r.gltf,a=JSON.parse(JSON.stringify(i)),o=new Map,s=new Map,u=0;u<n.scenes.length;u++)this[Z_](n.scenes[u],t.scenes[u],(function(e,t){var n=r.threeObjectMap.get(e);if(null!=n)for(var i in n)if(null!=i&&"primitives"!==i){var u=i,l=n[u],c=a[u][l],h=o.get(t)||{};h[u]=l,o.set(t,h);var f=s.get(c)||new Set;f.add(t),s.set(c,f)}}));return new e(t,a,o,s)}},{key:Z_,value:function(e,t,r){!function e(t,n){if(r(t,n),t.isObject3D){if(t.isMesh)if(Array.isArray(t.material))for(var i=0;i<t.material.length;++i)e(t.material[i],n.material[i]);else e(t.material,n.material);for(var a=0;a<t.children.length;++a)e(t.children[a],n.children[a])}}(e,t)}}]),e}(),K_=Symbol("correlatedSceneGraph"),H_=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){return(0,de.Z)(this,r),t.apply(this,arguments)}return(0,pe.Z)(r,[{key:"correlatedSceneGraph",get:function(){return this[C_][K_]}},{key:P_,value:function(){var e=(0,se.Z)((0,ue.Z)(r.prototype),P_,this).call(this),t=new Map;return e.scene.traverse((function(e){if(e.isMesh){var r=e,n=r.material;if(null!=n){if(t.has(n.uuid))return void(r.material=t.get(n.uuid));r.material=n.clone(),t.set(n.uuid,r.material)}}})),e[K_]=z_.from(e,this.correlatedSceneGraph),e}}],[{key:R_,value:function(e){var t=(0,se.Z)((0,ue.Z)(r),R_,this).call(this,e);null==t[K_]&&(t[K_]=z_.from(t));var n=t.scene,i=new Fr(void 0,1/0);return n.traverse((function(e){e.renderOrder=1e3,e.frustumCulled=!1,e.name||(e.name=e.uuid);var r=e;if(r.isMesh){var n=r.geometry;r.castShadow=!0,r.isSkinnedMesh&&(n.boundingSphere=i,n.boundingBox=null);var a=r.material;if(!0===a.isMeshBasicMaterial&&(a.toneMapped=!1),a.shadowSide=0,a.aoMap){var o=t[K_],s=o.gltf,u=o.threeObjectMap.get(a);if(null!=s.materials&&null!=u&&null!=u.materials){var l=s.materials[u.materials];l.occlusionTexture&&0===l.occlusionTexture.texCoord&&null!=n.attributes.uv&&n.setAttribute("uv2",n.attributes.uv)}}}})),t}}]),r}(D_),G_=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this,e)).type=Ue,n}return(0,pe.Z)(r,[{key:"parse",value:function(e){var t=function(e,t){switch(e){case 1:console.error("THREE.RGBELoader Read Error: "+(t||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(t||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(t||""));break;default:console.error("THREE.RGBELoader: Error: "+(t||""))}return-1},r=function(e,t,r){t=t||1024;for(var n=e.pos,i=-1,a=0,o="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(n,n+128)));0>(i=s.indexOf("\n"))&&a<t&&n<e.byteLength;)o+=s,a+=s.length,n+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(n,n+128)));return-1<i&&(!1!==r&&(e.pos+=a+i+1),o+s.slice(0,i))},n=function(e,t,r,n){var i=e[t+3],a=Math.pow(2,i-128)/255;r[n+0]=e[t+0]*a,r[n+1]=e[t+1]*a,r[n+2]=e[t+2]*a,r[n+3]=1},i=function(e,t,r,n){var i=e[t+3],a=Math.pow(2,i-128)/255;r[n+0]=Qc.toHalfFloat(Math.min(e[t+0]*a,65504)),r[n+1]=Qc.toHalfFloat(Math.min(e[t+1]*a,65504)),r[n+2]=Qc.toHalfFloat(Math.min(e[t+2]*a,65504)),r[n+3]=Qc.toHalfFloat(1)},a=new Uint8Array(e);a.pos=0;var o=function(e){var n,i,a=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,s=/^\s*FORMAT=(\S+)\s*$/,u=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,l={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(e.pos>=e.byteLength||!(n=r(e)))return t(1,"no header found");if(!(i=n.match(/^#\?(\S+)/)))return t(3,"bad initial token");for(l.valid|=1,l.programtype=i[1],l.string+=n+"\n";!1!==(n=r(e));)if(l.string+=n+"\n","#"!==n.charAt(0)){if((i=n.match(a))&&(l.gamma=parseFloat(i[1])),(i=n.match(o))&&(l.exposure=parseFloat(i[1])),(i=n.match(s))&&(l.valid|=2,l.format=i[1]),(i=n.match(u))&&(l.valid|=4,l.height=parseInt(i[1],10),l.width=parseInt(i[2],10)),2&l.valid&&4&l.valid)break}else l.comments+=n+"\n";return 2&l.valid?4&l.valid?l:t(3,"missing image size specifier"):t(3,"missing format specifier")}(a);if(-1!==o){var s=o.width,u=o.height,l=function(e,r,n){var i=r;if(i<8||i>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(i!==(e[2]<<8|e[3]))return t(3,"wrong scanline width");var a=new Uint8Array(4*r*n);if(!a.length)return t(4,"unable to allocate buffer space");for(var o=0,s=0,u=4*i,l=new Uint8Array(4),c=new Uint8Array(u),h=n;h>0&&s<e.byteLength;){if(s+4>e.byteLength)return t(1);if(l[0]=e[s++],l[1]=e[s++],l[2]=e[s++],l[3]=e[s++],2!=l[0]||2!=l[1]||(l[2]<<8|l[3])!=i)return t(3,"bad rgbe scanline format");for(var f=0,d=void 0;f<u&&s<e.byteLength;){var p=(d=e[s++])>128;if(p&&(d-=128),0===d||f+d>u)return t(3,"bad scanline data");if(p)for(var _=e[s++],m=0;m<d;m++)c[f++]=_;else c.set(e.subarray(s,s+d),f),f+=d,s+=d}for(var v=i,g=0;g<v;g++){var y=0;a[o]=c[g+y],y+=i,a[o+1]=c[g+y],y+=i,a[o+2]=c[g+y],y+=i,a[o+3]=c[g+y],o+=4}h--}return a}(a.subarray(a.pos),s,u);if(-1!==l){var c,h,f;switch(this.type){case Le:f=l.length/4;for(var d=new Float32Array(4*f),p=0;p<f;p++)n(l,4*p,d,4*p);c=d,h=Le;break;case Ue:f=l.length/4;for(var _=new Uint16Array(4*f),m=0;m<f;m++)i(l,4*m,_,4*m);c=_,h=Ue;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:s,height:u,data:c,header:o.string,gamma:o.gamma,exposure:o.exposure,format:undefined,type:h}}}return null}},{key:"setDataType",value:function(e){return this.type=e,this}},{key:"load",value:function(e,t,n,i){return(0,se.Z)((0,ue.Z)(r.prototype),"load",this).call(this,e,(function(e,r){switch(e.type){case Le:case Ue:e.encoding=kt,e.minFilter=Se,e.magFilter=Se,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,r)}),n,i)}}]),r}(ec),V_=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e;(0,de.Z)(this,r),(e=t.call(this)).position.y=-3.5;var n=new vi;n.deleteAttribute("uv");var i=new El({metalness:0,side:1}),a=new El({metalness:0}),o=new dc(16777215,500,28,2);o.position.set(.418,16.199,.3),e.add(o);var s=new _i(n,i);s.position.set(-.757,13.219,.717),s.scale.set(31.713,28.305,28.591),e.add(s);var u=new _i(n,a);u.position.set(-10.906,2.009,1.846),u.rotation.set(0,-.195,0),u.scale.set(2.328,7.905,4.651),e.add(u);var l=new _i(n,a);l.position.set(-5.607,-.754,-.758),l.rotation.set(0,.994,0),l.scale.set(1.97,1.534,3.955),e.add(l);var c=new _i(n,a);c.position.set(6.167,.857,7.803),c.rotation.set(0,.561,0),c.scale.set(3.927,6.285,3.687),e.add(c);var h=new _i(n,a);h.position.set(-2.017,.018,6.124),h.rotation.set(0,.333,0),h.scale.set(2.002,4.566,2.064),e.add(h);var f=new _i(n,a);f.position.set(2.291,-.756,-2.621),f.rotation.set(0,-.286,0),f.scale.set(1.546,1.552,1.496),e.add(f);var d=new _i(n,a);d.position.set(-2.193,-.369,-5.547),d.rotation.set(0,.516,0),d.scale.set(3.875,3.487,2.986),e.add(d);var p=new _i(n,e.createAreaLightMaterial(50));p.position.set(-16.116,14.37,8.208),p.scale.set(.1,2.428,2.739),e.add(p);var _=new _i(n,e.createAreaLightMaterial(50));_.position.set(-16.109,18.021,-8.207),_.scale.set(.1,2.425,2.751),e.add(_);var m=new _i(n,e.createAreaLightMaterial(17));m.position.set(14.904,12.198,-1.832),m.scale.set(.15,4.265,6.331),e.add(m);var v=new _i(n,e.createAreaLightMaterial(43));v.position.set(-.462,8.89,14.52),v.scale.set(4.38,5.441,.088),e.add(v);var g=new _i(n,e.createAreaLightMaterial(20));g.position.set(3.235,11.486,-12.541),g.scale.set(2.5,2,.1),e.add(g);var y=new _i(n,e.createAreaLightMaterial(100));return y.position.set(0,20,0),y.scale.set(1,.1,1),e.add(y),e}return(0,pe.Z)(r,[{key:"createAreaLightMaterial",value:function(e){var t=new jn;return t.color.setScalar(e),t}}]),r}(vs),X_=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e;(0,de.Z)(this,r),(e=t.call(this)).position.y=-3.5;var n=new vi;n.deleteAttribute("uv");var i=new El({metalness:0,side:1}),a=new El({metalness:0}),o=new dc(16777215,400,28,2);o.position.set(.5,14,.5),e.add(o);var s=new _i(n,i);s.position.set(0,13.2,0),s.scale.set(31.5,28.5,31.5),e.add(s);var u=new _i(n,a);u.position.set(-10.906,-1,1.846),u.rotation.set(0,-.195,0),u.scale.set(2.328,7.905,4.651),e.add(u);var l=new _i(n,a);l.position.set(-5.607,-.754,-.758),l.rotation.set(0,.994,0),l.scale.set(1.97,1.534,3.955),e.add(l);var c=new _i(n,a);c.position.set(6.167,-.16,7.803),c.rotation.set(0,.561,0),c.scale.set(3.927,6.285,3.687),e.add(c);var h=new _i(n,a);h.position.set(-2.017,.018,6.124),h.rotation.set(0,.333,0),h.scale.set(2.002,4.566,2.064),e.add(h);var f=new _i(n,a);f.position.set(2.291,-.756,-2.621),f.rotation.set(0,-.286,0),f.scale.set(1.546,1.552,1.496),e.add(f);var d=new _i(n,a);d.position.set(-2.193,-.369,-5.547),d.rotation.set(0,.516,0),d.scale.set(3.875,3.487,2.986),e.add(d);var p=new _i(n,e.createAreaLightMaterial(80));p.position.set(-14,10,8),p.scale.set(.1,2.5,2.5),e.add(p);var _=new _i(n,e.createAreaLightMaterial(80));_.position.set(-14,14,-4),_.scale.set(.1,2.5,2.5),e.add(_);var m=new _i(n,e.createAreaLightMaterial(23));m.position.set(14,12,0),m.scale.set(.1,5,5),e.add(m);var v=new _i(n,e.createAreaLightMaterial(16));v.position.set(0,9,14),v.scale.set(5,5,.1),e.add(v);var g=new _i(n,e.createAreaLightMaterial(80));g.position.set(7,8,-14),g.scale.set(2.5,2.5,.1),e.add(g);var y=new _i(n,e.createAreaLightMaterial(80));y.position.set(-7,16,-14),y.scale.set(2.5,2.5,.1),e.add(y);var b=new _i(n,e.createAreaLightMaterial(1));return b.position.set(0,20,0),b.scale.set(.1,.1,.1),e.add(b),e}return(0,pe.Z)(r,[{key:"createAreaLightMaterial",value:function(e){var t=new jn;return t.color.setScalar(e),t}}]),r}(vs),Y_=20,q_=/\.hdr(\.js)?$/,$_=new tc,J_=new G_;J_.setDataType(Ue);var Q_=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this)).threeRenderer=e,n.generatedEnvironmentMap=null,n.generatedEnvironmentMapAlt=null,n.skyboxCache=new Map,n.blurMaterial=null,n.blurScene=null,n}return(0,pe.Z)(r,[{key:"load",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,a,o,s=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:function(){},e.prev=1,i=q_.test(t),a=i?J_:$_,e.next=6,new Promise((function(e,n){return a.load(t,e,(function(e){r(e.loaded/e.total*.9)}),n)}));case 6:return o=e.sent,r(1),o.name=t,o.mapping=we,i||(o.encoding=Tt),e.abrupt("return",o);case 12:return e.prev=12,r&&r(1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,,12,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"generateEnvironmentMapAndSkybox",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,r,i,o,s,u,l,c,h,f,d,p=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:null,r=p.length>1&&void 0!==p[1]?p[1]:null,i=p.length>2&&void 0!==p[2]?p[2]:{},o=i.progressTracker,!0===(s="neutral"===r)&&(r=null),r=vp(r),u=Promise.resolve(null),t&&(u=this.loadEquirectFromUrl(t,o)),l=r?this.loadEquirectFromUrl(r,o):t?this.loadEquirectFromUrl(t,o):!0===s?this.loadGeneratedEnvironmentMapAlt():this.loadGeneratedEnvironmentMap(),e.next=12,Promise.all([l,u]);case 12:if(c=e.sent,h=(0,a.Z)(c,2),f=h[0],d=h[1],null!=f){e.next=18;break}throw new Error("Failed to load environment map.");case 18:return e.abrupt("return",{environmentMap:f,skybox:d});case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadEquirectFromUrl",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r){var i,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.skyboxCache.has(t)||(i=r?r.beginActivity():function(){},a=this.load(t,i),this.skyboxCache.set(t,a)),e.abrupt("return",this.skyboxCache.get(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"GenerateEnvironmentMap",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r){var i,a,o,s,u,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tp();case 2:return i=this.threeRenderer,a=new Ai(256,{generateMipmaps:!1,type:Ue,format:Ne,encoding:kt,depthBuffer:!0}),o=new Ti(.1,100,a),(s=o.renderTarget.texture).name=r,u=i.outputEncoding,l=i.toneMapping,i.toneMapping=0,i.outputEncoding=kt,o.update(i,t),this.blurCubemap(a,.04),i.toneMapping=l,i.outputEncoding=u,e.abrupt("return",s);case 16:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"loadGeneratedEnvironmentMap",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==this.generatedEnvironmentMap&&(this.generatedEnvironmentMap=this.GenerateEnvironmentMap(new V_,"default")),e.abrupt("return",this.generatedEnvironmentMap);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadGeneratedEnvironmentMapAlt",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==this.generatedEnvironmentMapAlt&&(this.generatedEnvironmentMapAlt=this.GenerateEnvironmentMap(new X_,"neutral")),e.abrupt("return",this.generatedEnvironmentMapAlt);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"blurCubemap",value:function(e,t){if(null==this.blurMaterial){this.blurMaterial=this.getBlurShader(Y_);var r=new vi,n=new _i(r,this.blurMaterial);this.blurScene=new vs,this.blurScene.add(n)}var i=e.clone();this.halfblur(e,i,t,"latitudinal"),this.halfblur(i,e,t,"longitudinal")}},{key:"halfblur",value:function(e,t,r,n){var i=e.width,a=isFinite(r)?Math.PI/(2*i):2*Math.PI/39,o=r/a,s=isFinite(r)?1+Math.floor(3*o):Y_;s>Y_&&console.warn("sigmaRadians, ".concat(r,", is too large and will clip, as it requested ").concat(s," samples when the maximum is set to ").concat(Y_));for(var u=[],l=0,c=0;c<Y_;++c){var h=c/o,f=Math.exp(-h*h/2);u.push(f),0==c?l+=f:c<s&&(l+=2*f)}for(var d=0;d<u.length;d++)u[d]=u[d]/l;var p=this.blurMaterial.uniforms;p.envMap.value=e.texture,p.samples.value=s,p.weights.value=u,p.latitudinal.value="latitudinal"===n,p.dTheta.value=a,new Ti(.1,100,t).update(this.threeRenderer,this.blurScene)}},{key:"getBlurShader",value:function(e){var t=new Float32Array(e),r=new br(0,1,0);return new wi({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},poleAxis:{value:r}},vertexShader:"\n      \n      varying vec3 vOutputDirection;\n  \n      void main() {\n  \n        vOutputDirection = vec3( position );\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  \n      }\n    ",fragmentShader:"\n        varying vec3 vOutputDirection;\n  \n        uniform samplerCube envMap;\n        uniform int samples;\n        uniform float weights[ n ];\n        uniform bool latitudinal;\n        uniform float dTheta;\n        uniform vec3 poleAxis;\n  \n        vec3 getSample( float theta, vec3 axis ) {\n  \n          float cosTheta = cos( theta );\n          // Rodrigues' axis-angle rotation\n          vec3 sampleDirection = vOutputDirection * cosTheta\n            + cross( axis, vOutputDirection ) * sin( theta )\n            + axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n  \n          return vec3( textureCube( envMap, sampleDirection ) );\n  \n        }\n  \n        void main() {\n  \n          vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n  \n          if ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n  \n            axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n  \n          }\n  \n          axis = normalize( axis );\n  \n          gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n          gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n  \n          for ( int i = 1; i < n; i++ ) {\n  \n            if ( i >= samples ) {\n  \n              break;\n  \n            }\n  \n            float theta = dTheta * float( i );\n            gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n            gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n  \n          }\n        }\n      ",blending:0,depthTest:!1,depthWrite:!1,side:1})}},{key:"dispose",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,r,i,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,ae.Z)(this.skyboxCache),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=11;break}return i=(0,a.Z)(r.value,2),o=i[1],e.next=7,o;case 7:e.sent.dispose();case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:if(null==this.generatedEnvironmentMap){e.next=24;break}return e.next=22,this.generatedEnvironmentMap;case 22:e.sent.dispose(),this.generatedEnvironmentMap=null;case 24:if(null==this.generatedEnvironmentMapAlt){e.next=29;break}return e.next=27,this.generatedEnvironmentMapAlt;case 27:e.sent.dispose(),this.generatedEnvironmentMapAlt=null;case 29:null!=this.blurMaterial&&this.blurMaterial.dispose();case 30:case"end":return e.stop()}}),e,this,[[1,13,16,19]])})));return function(){return e.apply(this,arguments)}}()}]),r}(Dt),em=[1,.79,.62,.5,.4,.31,.25],tm="high-performance",rm=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;(0,de.Z)(this,r),(n=t.call(this)).loader=new lp(H_),n.width=0,n.height=0,n.dpr=1,n.debugger=null,n.scenes=new Set,n.multipleScenesVisible=!1,n.scaleStep=0,n.lastStep=3,n.avgFrameDuration=22,n.onWebGLContextLost=function(e){n.dispatchEvent({type:"contextlost",sourceEvent:e})},n.onWebGLContextRestored=function(){var e;null===(e=n.textureUtils)||void 0===e||e.dispose(),n.textureUtils=new Q_(n.threeRenderer);var t,r=(0,ae.Z)(n.scenes);try{for(r.s();!(t=r.n()).done;){t.value.element[a_]()}}catch(i){r.e(i)}finally{r.f()}},n.dpr=xp(),n.canvas3D=document.createElement("canvas"),n.canvas3D.id="webgl-canvas";try{n.threeRenderer=new _s({canvas:n.canvas3D,alpha:!0,antialias:!0,powerPreference:e.powerPreference,preserveDrawingBuffer:!0}),n.threeRenderer.autoClear=!0,n.threeRenderer.outputEncoding=Tt,n.threeRenderer.physicallyCorrectLights=!0,n.threeRenderer.setPixelRatio(1),n.debugger=e.debug?new M_((0,le.Z)(n)):null,n.threeRenderer.debug={checkShaderErrors:!!n.debugger},n.threeRenderer.toneMapping=4}catch(i){console.warn(i)}return n.arRenderer=new T_((0,le.Z)(n)),n.textureUtils=n.canRender?new Q_(n.threeRenderer):null,lp.initializeKTX2Loader(n.threeRenderer),n.canvas3D.addEventListener("webglcontextlost",n.onWebGLContextLost),n.canvas3D.addEventListener("webglcontextrestored",n.onWebGLContextRestored),n.updateRendererSize(),n.lastTick=performance.now(),n.avgFrameDuration=0,n}return(0,pe.Z)(r,[{key:"canRender",get:function(){return null!=this.threeRenderer}},{key:"scaleFactor",get:function(){return em[this.scaleStep]}},{key:"minScale",set:function(e){for(var t=1;t<em.length&&!(em[t]<e);)++t;this.lastStep=t-1}},{key:"updateRendererSize",value:function(){var e=xp();if(e!==this.dpr){var t,r=(0,ae.Z)(this.scenes);try{for(r.s();!(t=r.n()).done;){var n=t.value.element;n[Om](n.getBoundingClientRect())}}catch(m){r.e(m)}finally{r.f()}}var i,a=0,o=0,s=(0,ae.Z)(this.scenes);try{for(s.s();!(i=s.n()).done;){var u=i.value;a=Math.max(a,u.width),o=Math.max(o,u.height)}}catch(m){s.e(m)}finally{s.f()}if(a!==this.width||o!==this.height||e!==this.dpr){this.width=a,this.height=o,this.dpr=e,this.canRender&&this.threeRenderer.setSize(a*e,o*e,!1);var l=this.scaleFactor,c=a/l,h=o/l;this.canvas3D.style.width="".concat(c,"px"),this.canvas3D.style.height="".concat(h,"px");var f,d=(0,ae.Z)(this.scenes);try{for(d.s();!(f=d.n()).done;){var p=f.value,_=p.canvas;_.width=Math.round(a*e),_.height=Math.round(o*e),_.style.width="".concat(c,"px"),_.style.height="".concat(h,"px"),p.queueRender()}}catch(m){d.e(m)}finally{d.f()}}}},{key:"updateRendererScale",value:function(){var e=this.scaleStep;if(this.avgFrameDuration>26?++this.scaleStep:this.avgFrameDuration<18&&this.scaleStep>0&&--this.scaleStep,this.scaleStep=Math.min(this.scaleStep,this.lastStep),e!=this.scaleStep){var t=this.scaleFactor;this.avgFrameDuration=22;var r=this.width/t,n=this.height/t;this.canvas3D.style.width="".concat(r,"px"),this.canvas3D.style.height="".concat(n,"px");var i,a=(0,ae.Z)(this.scenes);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.canvas.style;s.width="".concat(r,"px"),s.height="".concat(n,"px"),o.queueRender(),this.dispatchRenderScale(o)}}catch(u){a.e(u)}finally{a.f()}}}},{key:"dispatchRenderScale",value:function(e){var t=this.scaleFactor,r=this.dpr*t,n=t<1?"GPU throttling":this.dpr!==window.devicePixelRatio?"No meta viewport tag":"";e.element.dispatchEvent(new CustomEvent("render-scale",{detail:{reportedDpr:window.devicePixelRatio,renderedDpr:r,minimumDpr:this.dpr*em[this.lastStep],pixelWidth:Math.ceil(e.width*r),pixelHeight:Math.ceil(e.height*r),reason:n}}))}},{key:"registerScene",value:function(e){var t=this;this.scenes.add(e);var r=e.canvas,n=this.scaleFactor;r.width=Math.round(this.width*this.dpr),r.height=Math.round(this.height*this.dpr),r.style.width="".concat(this.width/n,"px"),r.style.height="".concat(this.height/n,"px"),this.multipleScenesVisible&&r.classList.add("show"),e.queueRender(),this.dispatchRenderScale(e),this.canRender&&this.scenes.size>0&&this.threeRenderer.setAnimationLoop((function(e,r){return t.render(e,r)})),null!=this.debugger&&this.debugger.addScene(e)}},{key:"unregisterScene",value:function(e){this.scenes.delete(e),this.canRender&&0===this.scenes.size&&this.threeRenderer.setAnimationLoop(null),null!=this.debugger&&this.debugger.removeScene(e)}},{key:"displayCanvas",value:function(e){return this.multipleScenesVisible?e.element[Wm]:this.canvas3D}},{key:"selectCanvas",value:function(){var e,t=0,r=null,n=(0,ae.Z)(this.scenes);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.element.modelIsVisible&&null==i.externalRenderer&&(++t,r=i.canvas)}}catch(h){n.e(h)}finally{n.f()}if(null!=r){var a=t>1,o=this.canvas3D;if(a!==this.multipleScenesVisible||!a&&o.parentElement!==r.parentElement){this.multipleScenesVisible=a,a&&o.classList.remove("show");var s,u=(0,ae.Z)(this.scenes);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(null==l.externalRenderer){var c=l.element[Wm];a?(c.classList.add("show"),l.queueRender()):l.canvas===r&&(l.canvas.parentElement.appendChild(o),o.classList.add("show"),c.classList.remove("show"),l.queueRender())}}}catch(h){u.e(h)}finally{u.f()}}}}},{key:"orderedScenes",value:function(){for(var e=[],t=0,r=[!1,!0];t<r.length;t++){var n,i=r[t],a=(0,ae.Z)(this.scenes);try{for(a.s();!(n=a.n()).done;){var o=n.value;o.element.modelIsVisible===i&&e.push(o)}}catch(s){a.e(s)}finally{a.f()}}return e}},{key:"isPresenting",get:function(){return this.arRenderer.isPresenting}},{key:"preRender",value:function(e,t,r){var n=e.element,i=e.exposure;n[Km](t,r);var a="number"===typeof i&&!self.isNaN(i);this.threeRenderer.toneMappingExposure=a?i:1}},{key:"render",value:function(e,t){if(null==t){var r=e-this.lastTick;if(this.lastTick=e,this.canRender&&!this.isPresenting){this.avgFrameDuration+=Ep(.2*(r-this.avgFrameDuration),-2,2),this.selectCanvas(),this.updateRendererSize(),this.updateRendererScale();var n,i=this.dpr,a=this.scaleFactor,o=(0,ae.Z)(this.orderedScenes());try{for(o.s();!(n=o.n()).done;){var s=n.value,u=s.element;if((u.modelIsVisible||!(s.renderCount>0))&&(this.preRender(s,e,r),s.shouldRender()))if(null==s.externalRenderer){if(!u.modelIsVisible&&!this.multipleScenesVisible){var l,c=(0,ae.Z)(this.scenes);try{for(c.s();!(l=c.n()).done;){var h=l.value;h.element.modelIsVisible&&h.queueRender()}}catch(b){c.e(b)}finally{c.f()}}var f=Math.min(Math.ceil(s.width*a*i),this.canvas3D.width),d=Math.min(Math.ceil(s.height*a*i),this.canvas3D.height);if(s.renderShadow(this.threeRenderer),this.threeRenderer.setRenderTarget(null),this.threeRenderer.setViewport(0,Math.floor(this.height*i)-d,f,d),this.threeRenderer.render(s,s.camera),this.multipleScenesVisible){null==s.context&&s.createContext();var p=s.context;p.clearRect(0,0,f,d),p.drawImage(this.canvas3D,0,0,f,d,0,0,f,d)}s.hasRendered(),u.loaded&&++s.renderCount}else{var _=s.getCamera();_.updateMatrix();var m=_.matrix,v=_.projectionMatrix,g=m.elements.slice(),y=s.getTarget();g[12]+=y.x,g[13]+=y.y,g[14]+=y.z,s.externalRenderer.render({viewMatrix:g,projectionMatrix:v.elements})}}}catch(b){o.e(b)}finally{o.f()}}}else this.arRenderer.onWebXRFrame(e,t)}},{key:"dispose",value:function(){null!=this.textureUtils&&this.textureUtils.dispose(),null!=this.threeRenderer&&this.threeRenderer.dispose(),this.textureUtils=null,this.threeRenderer=null;var e,t=[],r=(0,ae.Z)(this.scenes);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push(n.element)}}catch(i){r.e(i)}finally{r.f()}return this.canvas3D.removeEventListener("webglcontextlost",this.onWebGLContextLost),this.canvas3D.removeEventListener("webglcontextrestored",this.onWebGLContextRestored),t}}],[{key:"singleton",get:function(){return this._singleton}},{key:"resetSingleton",value:function(){var e,t=this._singleton.dispose(),n=(0,ae.Z)(t);try{for(n.s();!(e=n.n()).done;){e.value.disconnectedCallback()}}catch(o){n.e(o)}finally{n.f()}this._singleton=new r({powerPreference:(self.ModelViewerElement||{}).powerPreference||tm,debug:kp()});var i,a=(0,ae.Z)(t);try{for(a.s();!(i=a.n()).done;){i.value.connectedCallback()}}catch(o){a.e(o)}finally{a.f()}}}]),r}(Dt);rm._singleton=new rm({powerPreference:(self.ModelViewerElement||{}).powerPreference||tm,debug:kp()});var nm,im,am,om,sm,um,lm,cm,hm,fm,dm,pm,_m=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=t.match(/data:(.*);/);if(!n)return r(new Error("".concat(t," is not a valid data Url")));for(var i=n[1],a=t.replace(/data:image\/\w+;base64,/,""),o=atob(a),s=[],u=0;u<o.length;u+=512){for(var l=o.slice(u,u+512),c=new Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);var f=new Uint8Array(c);s.push(f)}e(new Blob(s,{type:i}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mm=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){var e;return(0,de.Z)(this,r),(e=t.apply(this,arguments)).ongoingActivities=new Set,e.totalProgress=0,e}return(0,pe.Z)(r,[{key:"ongoingActivityCount",get:function(){return this.ongoingActivities.size}},{key:"beginActivity",value:function(){var e=this,t={progress:0,completed:!1};return this.ongoingActivities.add(t),1===this.ongoingActivityCount&&this.announceTotalProgress(t,0),function(r){var n;return(n=Math.max(Ep(r,0,1),t.progress))!==t.progress&&e.announceTotalProgress(t,n),t.progress}}},{key:"announceTotalProgress",value:function(e,t){var r=0,n=0;1==t&&(e.completed=!0);var i,a=(0,ae.Z)(this.ongoingActivities);try{for(a.s();!(i=a.n()).done;){var o=i.value;r+=1-o.progress,!0===o.completed&&n++}}catch(l){a.e(l)}finally{a.f()}var s=e.progress;e.progress=t,this.totalProgress+=(t-s)*(1-this.totalProgress)/r;var u=n===this.ongoingActivityCount?1:this.totalProgress;this.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:u}})),n===this.ongoingActivityCount&&(this.totalProgress=0,this.ongoingActivities.clear())}}]),r}((0,ie.Z)(EventTarget)),vm=function(e,t,r,n){for(var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n,s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},gm=document.createElement("canvas"),ym=Symbol("fallbackResizeHandler"),bm=Symbol("defaultAriaLabel"),wm=Symbol("resizeObserver"),Em=Symbol("clearModelTimeout"),xm=Symbol("onContextLost"),km=Symbol("loaded"),Tm=Symbol("status"),Mm=Symbol("onFocus"),Am=Symbol("onBlur"),Om=Symbol("updateSize"),Sm=Symbol("intersectionObserver"),Rm=Symbol("isElementInViewport"),Cm=Symbol("announceModelVisibility"),Pm=Symbol("ariaLabel"),Dm=Symbol("altDefaulted"),Im=Symbol("statusElement"),Lm=Symbol("updateStatus"),Um=Symbol("loadedTime"),jm=Symbol("updateSource"),Nm=Symbol("markLoaded"),Bm=Symbol("container"),Zm=Symbol("input"),Wm=Symbol("canvas"),Fm=Symbol("scene"),zm=Symbol("needsRender"),Km=Symbol("tick"),Hm=Symbol("onModelLoad"),Gm=Symbol("onResize"),Vm=Symbol("renderer"),Xm=Symbol("progressTracker"),Ym=Symbol("getLoaded"),qm=Symbol("getModelIsVisible"),$m=Symbol("shouldAttemptPreload"),Jm=Symbol("sceneIsReady"),Qm=Symbol("hasTransitioned"),ev=function(e){return{x:e.x,y:e.y,z:e.z,toString:function(){return"".concat(this.x,"m ").concat(this.y,"m ").concat(this.z,"m")}}},tv=function(e,t,r,a){(0,ce.Z)(s,e);var o=(0,he.Z)(s);function s(){var e;(0,de.Z)(this,s),(e=o.call(this)).alt=null,e.src=null,e.withCredentials=!1,e[nm]=!1,e[im]=!1,e[am]=0,e[om]=null,e[sm]=wp((function(){var t=e.getBoundingClientRect();e[Om](t)}),50),e[um]=wp((function(t){var r=e.modelIsVisible;r!==t&&e.dispatchEvent(new CustomEvent("model-visibility",{detail:{visible:r}}))}),0),e[lm]=null,e[cm]=null,e[hm]=new mm,e[fm]=function(){e[Im].textContent=e[Tm]},e[dm]=function(){e[Im].textContent=""},e[pm]=function(t){e.dispatchEvent(new CustomEvent("error",{detail:{type:"webglcontextlost",sourceError:t.sourceEvent}}))},e.attachShadow({mode:"open"});var t,r,a=e.shadowRoot;if(function(e){Jh(Cf,e)}(a),e[Bm]=a.querySelector(".container"),e[Zm]=a.querySelector(".userInput"),e[Wm]=a.querySelector("canvas"),e[Im]=a.querySelector("#status"),e[bm]=e[Zm].getAttribute("aria-label"),e.isConnected){var u=e.getBoundingClientRect();t=u.width,r=u.height}else t=300,r=150;return e[Fm]=new t_({canvas:e[Wm],element:(0,le.Z)(e),width:t,height:r}),e[Fm].addEventListener("model-load",function(){var t=(0,i.Z)((0,n.Z)().mark((function t(r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e[Nm](),e[Hm](),t.next=4,Tp();case 4:e.dispatchEvent(new CustomEvent("load",{detail:{url:r.url}}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Promise.resolve().then((function(){e[Om](e.getBoundingClientRect())})),yf&&(e[wm]=new ResizeObserver((function(t){if(!e[Vm].isPresenting){var r,n=(0,ae.Z)(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;i.target===(0,le.Z)(e)&&e[Om](i.contentRect)}}catch(a){n.e(a)}finally{n.f()}}}))),bf?e[Sm]=new IntersectionObserver((function(t){var r,n=(0,ae.Z)(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.target===(0,le.Z)(e)){var a=e.modelIsVisible;e[Rm]=i.isIntersecting,e[Cm](a),e[Rm]&&!e[Jm]()&&e[jm]()}}}catch(o){n.e(o)}finally{n.f()}}),{root:null,rootMargin:"0px",threshold:0}):e[Rm]=!0,e}return(0,pe.Z)(s,[{key:"loaded",get:function(){return this[Ym]()}},{key:t,get:function(){return rm.singleton}},{key:"modelIsVisible",get:function(){return this[qm]()}},{key:"connectedCallback",value:function(){(0,se.Z)((0,ue.Z)(s.prototype),"connectedCallback",this)&&(0,se.Z)((0,ue.Z)(s.prototype),"connectedCallback",this).call(this),yf?this[wm].observe(this):self.addEventListener("resize",this[ym]),bf&&this[Sm].observe(this),this.addEventListener("focus",this[Mm]),this.addEventListener("blur",this[Am]);var e=this[Vm];e.addEventListener("contextlost",this[xm]),e.registerScene(this[Fm]),null!=this[Em]&&(self.clearTimeout(this[Em]),this[Em]=null,this.requestUpdate("src",null))}},{key:"disconnectedCallback",value:function(){var e=this;(0,se.Z)((0,ue.Z)(s.prototype),"disconnectedCallback",this)&&(0,se.Z)((0,ue.Z)(s.prototype),"disconnectedCallback",this).call(this),yf?this[wm].unobserve(this):self.removeEventListener("resize",this[ym]),bf&&this[Sm].unobserve(this),this.removeEventListener("focus",this[Mm]),this.removeEventListener("blur",this[Am]);var t=this[Vm];t.removeEventListener("contextlost",this[xm]),t.unregisterScene(this[Fm]),this[Em]=self.setTimeout((function(){e[Fm].reset()}),1e3)}},{key:"updated",value:function(e){(0,se.Z)((0,ue.Z)(s.prototype),"updated",this).call(this,e),e.has("src")&&(null==this.src?(this[km]=!1,this[Um]=0,this[Fm].reset()):this.src!==this[Fm].url&&(this[km]=!1,this[Um]=0,this[jm]())),e.has("alt")&&this[Zm].setAttribute("aria-label",this[Pm]),e.has("withCredentials")&&(lp.withCredentials=this.withCredentials)}},{key:"toDataURL",value:function(e,t){return this[Vm].displayCanvas(this[Fm]).toDataURL(e,t)}},{key:"toBlob",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,a,o,s,u,l,c,h,f,d,p,_,m,v,g,y,b,w=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t?t.mimeType:void 0,a=t?t.qualityArgument:void 0,o=t?t.idealAspect:void 0,s=this[Fm],u=s.width,l=s.height,c=s.idealAspect,h=s.aspect,f=this[Vm],d=f.dpr,p=f.scaleFactor,_=u*p*d,m=l*p*d,v=0,g=0,!0===o&&(c>h?(y=m,m=Math.round(_/c),g=(y-m)/2):(b=_,_=Math.round(m*c),v=(b-_)/2)),gm.width=_,gm.height=m,e.prev=12,e.abrupt("return",new Promise(function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,i){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gm.getContext("2d").drawImage(w[Vm].displayCanvas(w[Fm]),v,g,_,m,0,0,_,m),!gm.msToBlob){e.next=4;break}if(r&&"image/png"!==r){e.next=4;break}return e.abrupt("return",t(gm.msToBlob()));case 4:if(gm.toBlob){e.next=10;break}return e.t0=t,e.next=8,_m(gm.toDataURL(r,a));case 8:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 10:gm.toBlob((function(e){if(!e)return i(new Error("Unable to retrieve canvas blob"));t(e)}),r,a);case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 14:return e.prev=14,this[Om]({width:u,height:l}),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[12,,14,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"registerRenderer",value:function(e){this[Fm].externalRenderer=e}},{key:"unregisterRenderer",value:function(){this[Fm].externalRenderer=null}},{key:Pm,get:function(){return this[Dm]}},{key:Dm,get:function(){return null==this.alt||"null"===this.alt?this[bm]:this.alt}},{key:Ym,value:function(){return this[km]}},{key:qm,value:function(){return this.loaded&&this[Rm]}},{key:Qm,value:function(){return this.modelIsVisible}},{key:$m,value:function(){return!!this.src&&this[Rm]}},{key:Jm,value:function(){return this[km]}},{key:Om,value:function(e){var t=e.width,r=e.height;this[Bm].style.width="".concat(t,"px"),this[Bm].style.height="".concat(r,"px"),this[Gm]({width:parseFloat(t),height:parseFloat(r)})}},{key:Km,value:function(e,t){}},{key:Nm,value:function(){this[km]||(this[km]=!0,this[Um]=performance.now())}},{key:zm,value:function(){this[Fm].queueRender()}},{key:Hm,value:function(){}},{key:Lm,value:function(e){this[Tm]=e;var t=this.getRootNode();null!=t&&t.activeElement===this&&this[Im].textContent!=e&&(this[Im].textContent=e)}},{key:r,value:function(e){this[Fm].setSize(e.width,e.height)}},{key:a,value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loaded&&this[$m]()){e.next=2;break}return e.abrupt("return");case 2:return t=this[Xm].beginActivity(),r=this.src,e.prev=4,e.next=7,this[Fm].setSource(r,(function(e){return t(.95*e)}));case 7:i={url:r},this.dispatchEvent(new CustomEvent("preload",{detail:i})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),this.dispatchEvent(new CustomEvent("error",{detail:e.t0}));case 14:return e.prev=14,requestAnimationFrame((function(){requestAnimationFrame((function(){t(1)}))})),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[4,11,14,17]])})));return function(){return e.apply(this,arguments)}}()}],[{key:"is",get:function(){return"model-viewer"}},{key:"modelCacheSize",get:function(){return lp[sp].evictionThreshold},set:function(e){lp[sp].evictionThreshold=e}},{key:"minimumRenderScale",get:function(){return rm.singleton.minScale},set:function(e){e>1&&console.warn("<model-viewer> minimumRenderScale has been clamped to a maximum value of 1."),e<=0&&console.warn("<model-viewer> minimumRenderScale has been clamped to a minimum value of 0.25."),rm.singleton.minScale=e}}]),s}(Rh,(nm=Rm,im=km,am=Um,om=Em,sm=ym,um=Cm,lm=wm,cm=Sm,hm=Xm,Vm),(fm=Mm,dm=Am,Gm),(pm=xm,jm));vm([me({type:String})],tv.prototype,"alt",void 0),vm([me({type:String})],tv.prototype,"src",void 0),vm([me({type:Boolean,attribute:"with-credentials"})],tv.prototype,"withCredentials",void 0);var rv=function(e,t,r,n){for(var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n,s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},nv=1e3,iv=Symbol("changeAnimation"),av=Symbol("paused"),ov={repetitions:1/0,pingpong:!1},sv=Symbol("hotspotMap"),uv=Symbol("mutationCallback"),lv=Symbol("observer"),cv=Symbol("addHotspot"),hv=Symbol("removeHotspot"),fv=new $r,dv=new Xt,pv=function(e){return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};try{URL.revokeObjectURL(pv(""))}catch(Dh){pv=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)}}var _v=Uint8Array,mv=Uint16Array,vv=Uint32Array,gv=new _v([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),yv=new _v([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bv=new _v([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wv=function(e,t){for(var r=new mv(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new vv(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return[r,i]},Ev=wv(gv,2),xv=Ev[0],kv=Ev[1];xv[28]=258,kv[258]=28;for(var Tv=wv(yv,0)[1],Mv=new mv(32768),Av=0;Av<32768;++Av){var Ov=(43690&Av)>>>1|(21845&Av)<<1;Ov=(61680&(Ov=(52428&Ov)>>>2|(13107&Ov)<<2))>>>4|(3855&Ov)<<4,Mv[Av]=((65280&Ov)>>>8|(255&Ov)<<8)>>>1}var Sv=function(e,t,r){for(var n=e.length,i=0,a=new mv(t);i<n;++i)++a[e[i]-1];var o,s=new mv(t);for(i=0;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;if(r){o=new mv(1<<t);var u=15-t;for(i=0;i<n;++i)if(e[i])for(var l=i<<4|e[i],c=t-e[i],h=s[e[i]-1]++<<c,f=h|(1<<c)-1;h<=f;++h)o[Mv[h]>>>u]=l}else for(o=new mv(n),i=0;i<n;++i)e[i]&&(o[i]=Mv[s[e[i]-1]++]>>>15-e[i]);return o},Rv=new _v(288);for(Av=0;Av<144;++Av)Rv[Av]=8;for(Av=144;Av<256;++Av)Rv[Av]=9;for(Av=256;Av<280;++Av)Rv[Av]=7;for(Av=280;Av<288;++Av)Rv[Av]=8;var Cv=new _v(32);for(Av=0;Av<32;++Av)Cv[Av]=5;var Pv=Sv(Rv,9,0),Dv=Sv(Cv,5,0),Iv=function(e){return(e/8|0)+(7&e&&1)},Lv=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(e instanceof mv?mv:e instanceof vv?vv:_v)(r-t);return n.set(e.subarray(t,r)),n},Uv=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8},jv=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},Nv=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return[Hv,0];if(1==i){var o=new _v(r[0].s+1);return o[r[0].s]=1,[o,1]}r.sort((function(e,t){return e.f-t.f})),r.push({s:-1,f:25001});var s=r[0],u=r[1],l=0,c=1,h=2;for(r[0]={s:-1,f:s.f+u.f,l:s,r:u};c!=i-1;)s=r[r[l].f<r[h].f?l++:h++],u=r[l!=c&&r[l].f<r[h].f?l++:h++],r[c++]={s:-1,f:s.f+u.f,l:s,r:u};var f=a[0].s;for(n=1;n<i;++n)a[n].s>f&&(f=a[n].s);var d=new mv(f+1),p=Bv(r[c-1],d,0);if(p>t){n=0;var _=0,m=p-t,v=1<<m;for(a.sort((function(e,t){return d[t.s]-d[e.s]||e.f-t.f}));n<i;++n){var g=a[n].s;if(!(d[g]>t))break;_+=v-(1<<p-d[g]),d[g]=t}for(_>>>=m;_>0;){var y=a[n].s;d[y]<t?_-=1<<t-d[y]++-1:++n}for(;n>=0&&_;--n){var b=a[n].s;d[b]==t&&(--d[b],++_)}p=t}return[new _v(d),p]},Bv=function e(t,r,n){return-1==t.s?Math.max(e(t.l,r,n+1),e(t.r,r,n+1)):r[t.s]=n},Zv=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new mv(++t),n=0,i=e[0],a=1,o=function(e){r[n++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return[r.subarray(0,n),t]},Wv=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Fv=function(e,t,r){var n=r.length,i=Iv(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<n;++a)e[i+a+4]=r[a];return 8*(i+4+n)},zv=function(e,t,r,n,i,a,o,s,u,l,c){Uv(t,c++,r),++i[256];for(var h=Nv(i,15),f=h[0],d=h[1],p=Nv(a,15),_=p[0],m=p[1],v=Zv(f),g=v[0],y=v[1],b=Zv(_),w=b[0],E=b[1],x=new mv(19),k=0;k<g.length;++k)x[31&g[k]]++;for(k=0;k<w.length;++k)x[31&w[k]]++;for(var T=Nv(x,7),M=T[0],A=T[1],O=19;O>4&&!M[bv[O-1]];--O);var S,R,C,P,D=l+5<<3,I=Wv(i,Rv)+Wv(a,Cv)+o,L=Wv(i,f)+Wv(a,_)+o+14+3*O+Wv(x,M)+(2*x[16]+3*x[17]+7*x[18]);if(D<=I&&D<=L)return Fv(t,c,e.subarray(u,u+l));if(Uv(t,c,1+(L<I)),c+=2,L<I){S=Sv(f,d,0),R=f,C=Sv(_,m,0),P=_;var U=Sv(M,A,0);Uv(t,c,y-257),Uv(t,c+5,E-1),Uv(t,c+10,O-4),c+=14;for(k=0;k<O;++k)Uv(t,c+3*k,M[bv[k]]);c+=3*O;for(var j=[g,w],N=0;N<2;++N){var B=j[N];for(k=0;k<B.length;++k){var Z=31&B[k];Uv(t,c,U[Z]),c+=M[Z],Z>15&&(Uv(t,c,B[k]>>>5&127),c+=B[k]>>>12)}}}else S=Pv,R=Rv,C=Dv,P=Cv;for(k=0;k<s;++k)if(n[k]>255){Z=n[k]>>>18&31;jv(t,c,S[Z+257]),c+=R[Z+257],Z>7&&(Uv(t,c,n[k]>>>23&31),c+=gv[Z]);var W=31&n[k];jv(t,c,C[W]),c+=P[W],W>3&&(jv(t,c,n[k]>>>5&8191),c+=yv[W])}else jv(t,c,S[n[k]]),c+=R[n[k]];return jv(t,c,S[256]),c+R[256]},Kv=new vv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Hv=new _v(0),Gv=function(){for(var e=new vv(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&3988292384)^r>>>1;e[t]=r}return e}(),Vv=function(){var e=-1;return{p:function(t){for(var r=e,n=0;n<t.length;++n)r=Gv[255&r^t[n]]^r>>>8;e=r},d:function(){return~e}}},Xv=function(e,t,r,n,i){return function(e,t,r,n,i,a){var o=e.length,s=new _v(n+o+5*(1+Math.ceil(o/7e3))+i),u=s.subarray(n,s.length-i),l=0;if(!t||o<8)for(var c=0;c<=o;c+=65535){var h=c+65535;h<o?l=Fv(u,l,e.subarray(c,h)):(u[c]=a,l=Fv(u,l,e.subarray(c,o)))}else{for(var f=Kv[t-1],d=f>>>13,p=8191&f,_=(1<<r)-1,m=new mv(32768),v=new mv(_+1),g=Math.ceil(r/3),y=2*g,b=function(t){return(e[t]^e[t+1]<<g^e[t+2]<<y)&_},w=new vv(25e3),E=new mv(288),x=new mv(32),k=0,T=0,M=(c=0,0),A=0,O=0;c<o;++c){var S=b(c),R=32767&c,C=v[S];if(m[R]=C,v[S]=R,A<=c){var P=o-c;if((k>7e3||M>24576)&&P>423){l=zv(e,u,0,w,E,x,T,M,O,c-O,l),M=k=T=0,O=c;for(var D=0;D<286;++D)E[D]=0;for(D=0;D<30;++D)x[D]=0}var I=2,L=0,U=p,j=R-C&32767;if(P>2&&S==b(c-j))for(var N=Math.min(d,P)-1,B=Math.min(32767,c),Z=Math.min(258,P);j<=B&&--U&&R!=C;){if(e[c+I]==e[c+I-j]){for(var W=0;W<Z&&e[c+W]==e[c+W-j];++W);if(W>I){if(I=W,L=j,W>N)break;var F=Math.min(j,W-2),z=0;for(D=0;D<F;++D){var K=c-j+D+32768&32767,H=K-m[K]+32768&32767;H>z&&(z=H,C=K)}}}j+=(R=C)-(C=m[R])+32768&32767}if(L){w[M++]=268435456|kv[I]<<18|Tv[L];var G=31&kv[I],V=31&Tv[L];T+=gv[G]+yv[V],++E[257+G],++x[V],A=c+I,++k}else w[M++]=e[c],++E[e[c]]}}l=zv(e,u,a,w,E,x,T,M,O,c-O,l),!a&&7&l&&(l=Fv(u,l+1,Hv))}return Lv(s,0,n+Iv(l)+i)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!i)},Yv=function(e,t){var r={};for(var n in e)r[n]=e[n];for(var n in t)r[n]=t[n];return r},qv=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8};function $v(e,t){return Xv(e,t||{},0,0)}var Jv=function e(t,r,n,i){for(var a in t){var o=t[a],s=r+a;o instanceof _v?n[s]=[o,i]:Array.isArray(o)?n[s]=[o[0],Yv(i,o[1])]:e(o,s+"/",n,i)}},Qv="undefined"!=typeof TextEncoder&&new TextEncoder,eg="undefined"!=typeof TextDecoder&&new TextDecoder;try{eg.decode(Hv,{stream:!0}),1}catch(Dh){}function tg(e,t){if(t){for(var r=new _v(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}if(Qv)return Qv.encode(e);var i=e.length,a=new _v(e.length+(e.length>>1)),o=0,s=function(e){a[o++]=e};for(n=0;n<i;++n){if(o+5>a.length){var u=new _v(o+8+(i-n<<1));u.set(a),a=u}var l=e.charCodeAt(n);l<128||t?s(l):l<2048?(s(192|l>>6),s(128|63&l)):l>55295&&l<57344?(s(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++n))>>18),s(128|l>>12&63),s(128|l>>6&63),s(128|63&l)):(s(224|l>>12),s(128|l>>6&63),s(128|63&l))}return Lv(a,0,o)}var rg=function(e){var t=0;if(e)for(var r in e){var n=e[r].length;if(n>65535)throw"extra field too long";t+=n+4}return t},ng=function(e,t,r,n,i,a,o,s){var u=n.length,l=r.extra,c=s&&s.length,h=rg(l);qv(e,t,null!=o?33639248:67324752),t+=4,null!=o&&(e[t++]=20,e[t++]=r.os),e[t]=20,t+=2,e[t++]=r.flag<<1|(null==a&&8),e[t++]=i&&8,e[t++]=255&r.compression,e[t++]=r.compression>>8;var f=new Date(null==r.mtime?Date.now():r.mtime),d=f.getFullYear()-1980;if(d<0||d>119)throw"date not in range 1980-2099";if(qv(e,t,d<<25|f.getMonth()+1<<21|f.getDate()<<16|f.getHours()<<11|f.getMinutes()<<5|f.getSeconds()>>>1),t+=4,null!=a&&(qv(e,t,r.crc),qv(e,t+4,a),qv(e,t+8,r.size)),qv(e,t+12,u),qv(e,t+14,h),t+=16,null!=o&&(qv(e,t,c),qv(e,t+6,r.attrs),qv(e,t+10,o),t+=14),e.set(n,t),t+=u,h)for(var p in l){var _=l[p],m=_.length;qv(e,t,+p),qv(e,t+2,m),e.set(_,t+4),t+=4+m}return c&&(e.set(s,t),t+=c),t};function ig(e,t){t||(t={});var r={},n=[];Jv(e,"",r,t);var i=0,a=0;for(var o in r){var s=r[o],u=s[0],l=s[1],c=0==l.level?0:8,h=(x=tg(o)).length,f=l.comment,d=f&&tg(f),p=d&&d.length,_=rg(l.extra);if(h>65535)throw"filename too long";var m=c?$v(u,l):u,v=m.length,g=Vv();g.p(u),n.push(Yv(l,{size:u.length,crc:g.d(),c:m,f:x,m:d,u:h!=o.length||d&&f.length!=p,o:i,compression:c})),i+=30+h+_+v,a+=76+2*(h+_)+(p||0)+v}for(var y=new _v(a+22),b=i,w=a-i,E=0;E<n.length;++E){var x=n[E];ng(y,x.o,x,x.f,x.u,x.c.length);var k=30+x.f.length+rg(x.extra);y.set(x.c,x.o+k),ng(y,i,x,x.f,x.u,x.c.length,x.o,x.m),i+=16+k+(x.m?x.m.length:0)}return function(e,t,r,n,i){qv(e,t,101010256),qv(e,t+8,r),qv(e,t+10,r),qv(e,t+12,n),qv(e,t+16,i)}(y,i,n.length,w,b),y}var ag=function(){function e(){(0,de.Z)(this,e)}return(0,pe.Z)(e,[{key:"parse",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,a,o,s,u,l,c,h,f,d,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"model.usda",(r={})["model.usda"]=null,i='#usda 1.0\n(\n    customLayerData = {\n        string creator = "Three.js USDZExporter"\n    }\n    metersPerUnit = 1\n    upAxis = "Y"\n)\n\n',a={},o={},t.traverseVisible((function(e){if(e.isMesh)if(e.material.isMeshStandardMaterial){var t=e.geometry,n=e.material,o="geometries/Geometry_"+t.id+".usd";if(!(o in r)){var s=cg(t);r[o]=sg(s)}n.uuid in a||(a[n.uuid]=n),i+=ug(e,t,n)}else console.warn("THREE.USDZExporter: Unsupported material type (USDZ only supports MeshStandardMaterial)",e)})),i+=fg(a,o),r["model.usda"]=tg(i),i=null,s=(0,n.Z)().mark((function e(t){var i,a,s,u,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o[t],a=t.split("_")[1],s=1023===i.format,u=og(i.image,a),e.next=6,new Promise((function(e){return u.toBlob(e,s?"image/png":"image/jpeg",1)}));case 6:return l=e.sent,e.t0=Uint8Array,e.next=10,l.arrayBuffer();case 10:e.t1=e.sent,r["textures/Texture_".concat(t,".").concat(s?"png":"jpg")]=new e.t0(e.t1);case 12:case"end":return e.stop()}}),e)})),e.t0=(0,n.Z)().keys(o);case 12:if((e.t1=e.t0()).done){e.next=17;break}return u=e.t1.value,e.delegateYield(s(u),"t2",15);case 15:e.next=12;break;case 17:for(c in l=0,r)h=r[c],f=34+c.length,4!==(d=63&(l+=f))&&(p=new Uint8Array(64-d),r[c]=[h,{extra:{12345:p}}]),l=h.length;return e.abrupt("return",ig(r,{level:0}));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function og(e,t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var r=1024/Math.max(e.width,e.height),n=document.createElement("canvas");n.width=e.width*Math.min(1,r),n.height=e.height*Math.min(1,r);var i=n.getContext("2d");if(i.drawImage(e,0,0,n.width,n.height),void 0!==t){for(var a=parseInt(t,16),o=(a>>16&255)/255,s=(a>>8&255)/255,u=(255&a)/255,l=i.getImageData(0,0,n.width,n.height),c=l.data,h=0;h<c.length;h+=4)c[h+0]=c[h+0]*o,c[h+1]=c[h+1]*s,c[h+2]=c[h+2]*u;i.putImageData(l,0,0)}return n}}function sg(e){var t='#usda 1.0\n(\n    customLayerData = {\n        string creator = "Three.js USDZExporter"\n    }\n    metersPerUnit = 1\n    upAxis = "Y"\n)\n\n';return tg(t+=e)}function ug(e,t,r){var n="Object_"+e.id,i=function(e){var t=e.elements;return"( ".concat(lg(t,0),", ").concat(lg(t,4),", ").concat(lg(t,8),", ").concat(lg(t,12)," )")}(e.matrixWorld);return e.matrixWorld.determinant()<0&&console.warn("THREE.USDZExporter: USDZ does not support negative scales",e),'def Xform "'.concat(n,'" (\n    prepend references = @./geometries/Geometry_').concat(t.id,".usd@</Geometry>\n)\n{\n    matrix4d xformOp:transform = ").concat(i,'\n    uniform token[] xformOpOrder = ["xformOp:transform"]\n\n    rel material:binding = </Materials/Material_').concat(r.id,">\n}\n\n")}function lg(e,t){return"(".concat(e[t+0],", ").concat(e[t+1],", ").concat(e[t+2],", ").concat(e[t+3],")")}function cg(e){var t=function(e){var t="Geometry",r=e.attributes,n=r.position.count;return'\n    def Mesh "'.concat(t,'"\n    {\n        int[] faceVertexCounts = [').concat(function(e){var t=null!==e.index?e.index.count:e.attributes.position.count;return Array(t/3).fill(3).join(", ")}(e),"]\n        int[] faceVertexIndices = [").concat(function(e){var t=e.index,r=[];if(null!==t)for(var n=0;n<t.count;n++)r.push(t.getX(n));else for(var i=e.attributes.position.count,a=0;a<i;a++)r.push(a);return r.join(", ")}(e),"]\n        normal3f[] normals = [").concat(hg(r.normal,n),'] (\n            interpolation = "vertex"\n        )\n        point3f[] points = [').concat(hg(r.position,n),"]\n        float2[] primvars:st = [").concat(function(e,t){if(void 0===e)return console.warn("USDZExporter: UVs missing."),Array(t).fill("(0, 0)").join(", ");for(var r=[],n=0;n<e.count;n++){var i=e.getX(n),a=e.getY(n);r.push("(".concat(i.toPrecision(7),", ").concat(1-a.toPrecision(7),")"))}return r.join(", ")}(r.uv,n),'] (\n            interpolation = "vertex"\n        )\n        uniform token subdivisionScheme = "none"\n    }\n')}(e);return'\ndef "Geometry"\n{\n  '.concat(t,"\n}\n")}function hg(e,t){if(void 0===e)return console.warn("USDZExporter: Normals missing."),Array(t).fill("(0, 0, 0)").join(", ");for(var r=[],n=0;n<e.count;n++){var i=e.getX(n),a=e.getY(n),o=e.getZ(n);r.push("(".concat(i.toPrecision(7),", ").concat(a.toPrecision(7),", ").concat(o.toPrecision(7),")"))}return r.join(", ")}function fg(e,t){var r=[];for(var n in e){var i=e[n];r.push(dg(i,t))}return'def "Materials"\n{\n'.concat(r.join(""),"\n}\n\n")}function dg(e,t){var r="            ",n=[],i=[];function a(r,n,i){var a=r.id+(i?"_"+i.getHexString():""),o=1023===r.format;return t[a]=r,'\n        def Shader "Transform2d_'.concat(n,'" (\n            sdrMetadata = {\n                string role = "math"\n            }\n        )\n        {\n            uniform token info:id = "UsdTransform2d"\n            float2 inputs:in.connect = </Materials/Material_').concat(e.id,"/uvReader_st.outputs:result>\n            float2 inputs:scale = ").concat(_g(r.repeat),"\n            float2 inputs:translation = ").concat(_g(r.offset),'\n            float2 outputs:result\n        }\n\n        def Shader "Texture_').concat(r.id,"_").concat(n,'"\n        {\n            uniform token info:id = "UsdUVTexture"\n            asset inputs:file = @textures/Texture_').concat(a,".").concat(o?"png":"jpg","@\n            float2 inputs:st.connect = </Materials/Material_").concat(e.id,"/Transform2d_").concat(n,'.outputs:result>\n            token inputs:wrapS = "repeat"\n            token inputs:wrapT = "repeat"\n            float outputs:r\n            float outputs:g\n            float outputs:b\n            float3 outputs:rgb\n            ').concat(e.transparent||e.alphaTest>0?"float outputs:a":"","\n        }")}return null!==e.map?(n.push("".concat(r,"color3f inputs:diffuseColor.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.map.id,"_diffuse.outputs:rgb>")),e.transparent?n.push("".concat(r,"float inputs:opacity.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.map.id,"_diffuse.outputs:a>")):e.alphaTest>0&&(n.push("".concat(r,"float inputs:opacity.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.map.id,"_diffuse.outputs:a>")),n.push("".concat(r,"float inputs:opacityThreshold = ").concat(e.alphaTest))),i.push(a(e.map,"diffuse",e.color))):n.push("".concat(r,"color3f inputs:diffuseColor = ").concat(pg(e.color))),null!==e.emissiveMap?(n.push("".concat(r,"color3f inputs:emissiveColor.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.emissiveMap.id,"_emissive.outputs:rgb>")),i.push(a(e.emissiveMap,"emissive"))):e.emissive.getHex()>0&&n.push("".concat(r,"color3f inputs:emissiveColor = ").concat(pg(e.emissive))),null!==e.normalMap&&(n.push("".concat(r,"normal3f inputs:normal.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.normalMap.id,"_normal.outputs:rgb>")),i.push(a(e.normalMap,"normal"))),null!==e.aoMap&&(n.push("".concat(r,"float inputs:occlusion.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.aoMap.id,"_occlusion.outputs:r>")),i.push(a(e.aoMap,"occlusion"))),null!==e.roughnessMap&&1===e.roughness?(n.push("".concat(r,"float inputs:roughness.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.roughnessMap.id,"_roughness.outputs:g>")),i.push(a(e.roughnessMap,"roughness"))):n.push("".concat(r,"float inputs:roughness = ").concat(e.roughness)),null!==e.metalnessMap&&1===e.metalness?(n.push("".concat(r,"float inputs:metallic.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.metalnessMap.id,"_metallic.outputs:b>")),i.push(a(e.metalnessMap,"metallic"))):n.push("".concat(r,"float inputs:metallic = ").concat(e.metalness)),null!==e.alphaMap?(n.push("".concat(r,"float inputs:opacity.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.alphaMap.id,"_opacity.outputs:r>")),n.push("".concat(r,"float inputs:opacityThreshold = 0.0001")),i.push(a(e.alphaMap,"opacity"))):n.push("".concat(r,"float inputs:opacity = ").concat(e.opacity)),e.isMeshPhysicalMaterial&&(n.push("".concat(r,"float inputs:clearcoat = ").concat(e.clearcoat)),n.push("".concat(r,"float inputs:clearcoatRoughness = ").concat(e.clearcoatRoughness)),n.push("".concat(r,"float inputs:ior = ").concat(e.ior))),'\n    def Material "Material_'.concat(e.id,'"\n    {\n        def Shader "PreviewSurface"\n        {\n            uniform token info:id = "UsdPreviewSurface"\n').concat(n.join("\n"),"\n            int inputs:useSpecularWorkflow = 0\n            token outputs:surface\n        }\n\n        token outputs:surface.connect = </Materials/Material_").concat(e.id,'/PreviewSurface.outputs:surface>\n        token inputs:frame:stPrimvarName = "st"\n\n        def Shader "uvReader_st"\n        {\n            uniform token info:id = "UsdPrimvarReader_float2"\n            token inputs:varname.connect = </Materials/Material_').concat(e.id,".inputs:frame:stPrimvarName>\n            float2 inputs:fallback = (0.0, 0.0)\n            float2 outputs:result\n        }\n\n").concat(i.join("\n"),"\n\n    }\n")}function pg(e){return"(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")}function _g(e){return"(".concat(e.x,", ").concat(e.y,")")}var mg,vg,gg,yg,bg=function(e,t,r,n){for(var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n,s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},wg=!1,Eg=!1,xg="#model-viewer-no-ar-fallback",kg=(mg=["quick-look","scene-viewer","webxr","none"],function(e){try{var t,r=Sp(e),n=(r.length?r[0].terms:[]).filter((function(e){return e&&"ident"===e.type})).map((function(e){return e.value})).filter((function(e){return mg.indexOf(e)>-1})),i=new Set,a=(0,ae.Z)(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;i.add(o)}}catch(s){a.e(s)}finally{a.f()}return i}catch(u){}return new Set}),Tg="webxr scene-viewer",Mg="quick-look",Ag="scene-viewer",Og="webxr",Sg="none",Rg=Symbol("arButtonContainer"),Cg=Symbol("enterARWithWebXR"),Pg=Symbol("openSceneViewer"),Dg=Symbol("openIOSARQuickLook"),Ig=Symbol("canActivateAR"),Lg=Symbol("arMode"),Ug=Symbol("arModes"),jg=Symbol("arAnchor"),Ng=Symbol("preload"),Bg=Symbol("onARButtonContainerClick"),Zg=Symbol("onARStatus"),Wg=Symbol("onARTracking"),Fg=Symbol("onARTap"),zg=Symbol("selectARMode"),Kg=Symbol("triggerLoad"),Hg=Symbol("evaluate"),Gg=Symbol("lastValue"),Vg=function(){function e(){(0,de.Z)(this,e),this[vg]=null}return(0,pe.Z)(e,[{key:"isConstant",get:function(){return!1}},{key:"evaluate",value:function(){return this.isConstant&&null!=this[Gg]||(this[Gg]=this[Hg]()),this[Gg]}}],[{key:"evaluatableFor",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jp;if(t instanceof e)return t;if("number"===t.type)return"%"===t.unit?new ey(t,r):t;switch(t.name.value){case"calc":return new ay(t,r);case"env":return new ry(t)}return jp}},{key:"evaluate",value:function(t){return t instanceof e?t.evaluate():t}},{key:"isConstant",value:function(t){return!(t instanceof e)||t.isConstant}},{key:"applyIntrinsics",value:function(e,t){var r=t.basis,n=t.keywords,i=n.auto;return r.map((function(t,r){var a=null==i[r]?t:i[r],o=e[r]?e[r]:a;if("ident"===o.type){var s=o.value;s in n&&(o=n[s][r])}return null!=o&&"ident"!==o.type||(o=a),"%"===o.unit?Op(o.number/100*t.number,t.unit):(o=Zp(o,t)).unit!==t.unit?t:o}))}}]),e}();vg=Gg;var Xg,Yg,qg,$g,Jg=Symbol("percentage"),Qg=Symbol("basis"),ey=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){var i;return(0,de.Z)(this,r),(i=t.call(this))[Jg]=e,i[Qg]=n,i}return(0,pe.Z)(r,[{key:"isConstant",get:function(){return!0}},{key:Hg,value:function(){return Op(this[Jg].number/100*this[Qg].number,this[Qg].unit)}}]),r}(Vg),ty=Symbol("identNode"),ry=function(e,t){(0,ce.Z)(n,e);var r=(0,he.Z)(n);function n(e){var t;(0,de.Z)(this,n),(t=r.call(this))[gg]=null;var i=e.arguments.length?e.arguments[0].terms[0]:null;return null!=i&&"ident"===i.type&&(t[ty]=i),t}return(0,pe.Z)(n,[{key:"isConstant",get:function(){return!1}},{key:t,value:function(){if(null!=this[ty]&&"window-scroll-y"===this[ty].value)return{type:"number",number:window.pageYOffset/(Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)-window.innerHeight)||0,unit:null};return jp}}]),n}(Vg,(gg=ty,Hg)),ny=/[\*\/]/,iy=Symbol("evalutor"),ay=function(e,t){(0,ce.Z)(n,e);var r=(0,he.Z)(n);function n(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jp;if((0,de.Z)(this,n),(t=r.call(this))[yg]=null,1!==e.arguments.length)return(0,oe.Z)(t);for(var o=e.arguments[0].terms.slice(),s=[];o.length;){var u=o.shift();if(s.length>0){var l=s[s.length-1];if("operator"===l.type&&ny.test(l.value)){var c=s.pop(),h=s.pop();if(null==h)return(0,oe.Z)(t);s.push(new ly(c,Vg.evaluatableFor(h,i),Vg.evaluatableFor(u,i)));continue}}s.push("operator"===u.type?u:Vg.evaluatableFor(u,i))}for(;s.length>2;){var f=s.splice(0,3),d=(0,a.Z)(f,3),p=d[0],_=d[1],m=d[2];if("operator"!==_.type)return(0,oe.Z)(t);s.unshift(new ly(_,Vg.evaluatableFor(p,i),Vg.evaluatableFor(m,i)))}return 1===s.length&&(t[iy]=s[0]),t}return(0,pe.Z)(n,[{key:"isConstant",get:function(){return null==this[iy]||Vg.isConstant(this[iy])}},{key:t,value:function(){return null!=this[iy]?Vg.evaluate(this[iy]):jp}}]),n}(Vg,(yg=iy,Hg)),oy=Symbol("operator"),sy=Symbol("left"),uy=Symbol("right"),ly=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i){var a;return(0,de.Z)(this,r),(a=t.call(this))[oy]=e,a[sy]=n,a[uy]=i,a}return(0,pe.Z)(r,[{key:"isConstant",get:function(){return Vg.isConstant(this[sy])&&Vg.isConstant(this[uy])}},{key:Hg,value:function(){var e=Zp(Vg.evaluate(this[sy])),t=Zp(Vg.evaluate(this[uy])),r=e.number,n=e.unit,i=t.number,a=t.unit;if(null!=a&&null!=n&&a!=n)return jp;var o,s=n||a;switch(this[oy].value){case"+":o=r+i;break;case"-":o=r-i;break;case"/":o=r/i;break;case"*":o=r*i;break;default:return jp}return{type:"number",number:o,unit:s}}}]),r}(Vg),cy=Symbol("evaluatables"),hy=Symbol("intrinsics"),fy=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){var i;(0,de.Z)(this,r),(i=t.call(this))[hy]=n;var a=e[0],o=null!=a?a.terms:[];return i[cy]=n.basis.map((function(e,t){var r=o[t];return null==r?{type:"ident",value:"auto"}:"ident"===r.type?r:Vg.evaluatableFor(r,e)})),i}return(0,pe.Z)(r,[{key:"isConstant",get:function(){var e,t=(0,ae.Z)(this[cy]);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(!Vg.isConstant(r))return!1}}catch(n){t.e(n)}finally{t.f()}return!0}},{key:Hg,value:function(){var e=this[cy].map((function(e){return Vg.evaluate(e)}));return Vg.applyIntrinsics(e,this[hy]).map((function(e){return e.number}))}}]),r}(Vg),dy=Symbol("instances"),py=Symbol("activateListener"),_y=Symbol("deactivateListener"),my=Symbol("notifyInstances"),vy=Symbol("notify"),gy=Symbol("callback"),yy=function(e){function t(e){(0,de.Z)(this,t),this[gy]=e}return(0,pe.Z)(t,[{key:"observe",value:function(){0===t[dy].size&&t[py](),t[dy].add(this)}},{key:"disconnect",value:function(){t[dy].delete(this),0===t[dy].size&&t[_y]()}},{key:vy,value:function(){this[gy]()}}],[{key:my,value:function(){var e,r=(0,ae.Z)(t[dy]);try{for(r.s();!(e=r.n()).done;){e.value[vy]()}}catch(n){r.e(n)}finally{r.f()}}},{key:e,value:function(){window.addEventListener("scroll",this[my],{passive:!0})}},{key:_y,value:function(){window.removeEventListener("scroll",this[my])}}]),t}((Xg=dy,py));yy[Xg]=new Set;var by=Symbol("computeStyleCallback"),wy=Symbol("astWalker"),Ey=Symbol("dependencies"),xy=Symbol("onScroll"),ky=function(){function e(t){var r=this;(0,de.Z)(this,e),this[Yg]={},this[qg]=new Up(["function"]),this[$g]=function(){r[by]({relatedState:"window-scroll"})},this[by]=t}return(0,pe.Z)(e,[{key:"observeEffectsFor",value:function(e){var t=this,r={},n=this[Ey];for(var i in this[wy].walk(e,(function(e){var i=e.name,a=e.arguments[0].terms[0];if("env"===i.value&&null!=a&&"ident"===a.type&&"window-scroll-y"===a.value)if(null==r["window-scroll"]){var o="window-scroll"in n?n["window-scroll"]:new yy(t[xy]);o.observe(),delete n["window-scroll"],r["window-scroll"]=o}})),n){n[i].disconnect()}this[Ey]=r}},{key:"dispose",value:function(){for(var e in this[Ey]){this[Ey][e].disconnect()}}}]),e}();Yg=Ey,qg=wy,$g=xy;var Ty=function(e){var t=e.observeEffects||!1,r=e.intrinsics instanceof Function?e.intrinsics:function(){return e.intrinsics};return function(n,i){var a,o=n.updated,s=n.connectedCallback,u=n.disconnectedCallback,l=Symbol("".concat(i,"StyleEffector")),c=Symbol("".concat(i,"StyleEvaluator")),h=Symbol("".concat(i,"UpdateEvaluator")),f=Symbol("".concat(i,"EvaluateAndSync"));Object.defineProperties(n,(a={},(0,fe.Z)(a,l,{value:null,writable:!0}),(0,fe.Z)(a,c,{value:null,writable:!0}),(0,fe.Z)(a,h,{value:function(){var e=this,n=Sp(this[i]);this[c]=new fy(n,r(this)),null==this[l]&&t&&(this[l]=new ky((function(){return e[f]()}))),null!=this[l]&&this[l].observeEffectsFor(n)}}),(0,fe.Z)(a,f,{value:function(){if(null!=this[c]){var t=this[c].evaluate();this[e.updateHandler](t)}}}),(0,fe.Z)(a,"updated",{value:function(e){e.has(i)&&(this[h](),this[f]()),o.call(this,e)}}),(0,fe.Z)(a,"connectedCallback",{value:function(){s.call(this),this.requestUpdate(i,this[i])}}),(0,fe.Z)(a,"disconnectedCallback",{value:function(){u.call(this),null!=this[l]&&(this[l].dispose(),this[l]=null)}}),a))}},My=new Vt,Ay=new br,Oy=Object.freeze({minimumRadius:0,maximumRadius:1/0,minimumPolarAngle:Math.PI/8,maximumPolarAngle:Math.PI-Math.PI/8,minimumAzimuthalAngle:-1/0,maximumAzimuthalAngle:1/0,minimumFieldOfView:10,maximumFieldOfView:45,interactionPolicy:"always-allow",touchAction:"pan-y"}),Sy=Math.PI/8,Ry=.04,Cy=33,Py=34,Dy=37,Iy=38,Ly=39,Uy=40,jy="user-interaction",Ny="none",By=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i){var a;return(0,de.Z)(this,r),(a=t.call(this)).camera=e,a.element=n,a.scene=i,a.sensitivity=1,a.isUserChange=!1,a._interactionEnabled=!1,a._disableZoom=!1,a.isUserPointing=!1,a.enablePan=!0,a.panProjection=new Xt,a.panPerPixel=0,a.spherical=new Gc,a.goalSpherical=new Gc,a.thetaDamper=new Ap,a.phiDamper=new Ap,a.radiusDamper=new Ap,a.logFov=Math.log(Oy.maximumFieldOfView),a.goalLogFov=a.logFov,a.fovDamper=new Ap,a.touchMode=null,a.pointers=[],a.startTime=0,a.startPointerPosition={clientX:0,clientY:0},a.lastSeparation=0,a.touchDecided=!1,a.onContext=function(e){if(a.enablePan)e.preventDefault();else{var t,r=(0,ae.Z)(a.pointers);try{for(r.s();!(t=r.n()).done;){var n=t.value;a.onPointerUp(new PointerEvent("pointercancel",Object.assign(Object.assign({},a.startPointerPosition),{pointerId:n.id})))}}catch(i){r.e(i)}finally{r.f()}}},a.touchModeZoom=function(e,t){if(!a._disableZoom){var r=a.twoTouchDistance(a.pointers[0],a.pointers[1]),n=Ry*(a.lastSeparation-r)*50/a.scene.height;a.lastSeparation=r,a.userAdjustOrbit(0,0,n)}a.panPerPixel>0&&a.movePan(e,t)},a.disableScroll=function(e){e.preventDefault()},a.touchModeRotate=function(e,t){var r=a._options.touchAction;if(!a.touchDecided&&"none"!==r){a.touchDecided=!0;var n=Math.abs(e),i=Math.abs(t);if(a.isUserChange&&("pan-y"===r&&i>n||"pan-x"===r&&n>i))return void(a.touchMode=null);a.element.addEventListener("touchmove",a.disableScroll,{passive:!1})}a.handleSinglePointerMove(e,t)},a.onPointerDown=function(e){if(a.canInteract&&!(a.pointers.length>2)){var t=(0,le.Z)(a).element;0===a.pointers.length&&(t.addEventListener("pointermove",a.onPointerMove),t.addEventListener("pointerup",a.onPointerUp),a.touchMode=null,a.touchDecided=!1,a.startPointerPosition.clientX=e.clientX,a.startPointerPosition.clientY=e.clientY,a.startTime=performance.now());try{t.setPointerCapture(e.pointerId)}catch(rx){}a.pointers.push({clientX:e.clientX,clientY:e.clientY,id:e.pointerId}),a.isUserPointing=!1,"touch"===e.pointerType?(a.isUserChange=!e.altKey,a.onTouchChange(e)):(a.isUserChange=!0,a.onMouseDown(e))}},a.onPointerMove=function(e){var t=a.pointers.find((function(t){return t.id===e.pointerId}));if(null!=t){var r=a.pointers.length,n=(e.clientX-t.clientX)/r,i=(e.clientY-t.clientY)/r;0===n&&0===i||(t.clientX=e.clientX,t.clientY=e.clientY,"touch"===e.pointerType?(a.isUserChange=!e.altKey,null!==a.touchMode&&a.touchMode(n,i)):(a.isUserChange=!0,a.panPerPixel>0?a.movePan(n,i):a.handleSinglePointerMove(n,i)))}},a.onPointerUp=function(e){var t=(0,le.Z)(a).element,r=a.pointers.findIndex((function(t){return t.id===e.pointerId}));-1!==r&&a.pointers.splice(r,1),a.panPerPixel>0&&!e.altKey&&a.resetRadius(),0===a.pointers.length?(t.removeEventListener("pointermove",a.onPointerMove),t.removeEventListener("pointerup",a.onPointerUp),t.removeEventListener("touchmove",a.disableScroll),a.enablePan&&a.recenter(e)):null!==a.touchMode&&a.onTouchChange(e),a.scene.element[db].style.opacity=0,t.style.cursor="grab",a.panPerPixel=0,a.isUserPointing&&a.dispatchEvent({type:"pointer-change-end"})},a.onWheel=function(e){if(a.canInteract){a.isUserChange=!0;var t=e.deltaY*(1==e.deltaMode?18:1)*Ry/30;a.userAdjustOrbit(0,0,t),e.preventDefault()}},a.onKeyDown=function(e){var t=!0,r=(0,le.Z)(a).isUserChange;switch(a.isUserChange=!0,e.keyCode){case Cy:a.userAdjustOrbit(0,0,Ry);break;case Py:a.userAdjustOrbit(0,0,-.04);break;case Iy:a.userAdjustOrbit(0,-Sy,0);break;case Uy:a.userAdjustOrbit(0,Sy,0);break;case Dy:a.userAdjustOrbit(-Sy,0,0);break;case Ly:a.userAdjustOrbit(Sy,0,0);break;default:t=!1,a.isUserChange=r}t&&e.preventDefault()},a._options=Object.assign({},Oy),a.setOrbit(0,Math.PI/2,1),a.setFieldOfView(100),a.jumpToGoal(),a}return(0,pe.Z)(r,[{key:"interactionEnabled",get:function(){return this._interactionEnabled}},{key:"enableInteraction",value:function(){if(!1===this._interactionEnabled){var e=this.element;e.addEventListener("pointerdown",this.onPointerDown),e.addEventListener("pointercancel",this.onPointerUp),this._disableZoom||e.addEventListener("wheel",this.onWheel),e.addEventListener("keydown",this.onKeyDown),e.addEventListener("touchmove",(function(){}),{passive:!1}),e.addEventListener("contextmenu",this.onContext),this.element.style.cursor="grab",this._interactionEnabled=!0,this.updateTouchActionStyle()}}},{key:"disableInteraction",value:function(){if(!0===this._interactionEnabled){var e=this.element;e.removeEventListener("pointerdown",this.onPointerDown),e.removeEventListener("pointermove",this.onPointerMove),e.removeEventListener("pointerup",this.onPointerUp),e.removeEventListener("pointercancel",this.onPointerUp),e.removeEventListener("wheel",this.onWheel),e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("contextmenu",this.onContext),e.style.cursor="",this.touchMode=null,this._interactionEnabled=!1,this.updateTouchActionStyle()}}},{key:"options",get:function(){return this._options}},{key:"disableZoom",set:function(e){this._disableZoom!=e&&(this._disableZoom=e,!0===e?this.element.removeEventListener("wheel",this.onWheel):this.element.addEventListener("wheel",this.onWheel),this.updateTouchActionStyle())}},{key:"getCameraSpherical",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gc;return e.copy(this.spherical)}},{key:"getFieldOfView",value:function(){return this.camera.fov}},{key:"applyOptions",value:function(e){Object.assign(this._options,e),this.setOrbit(),this.setFieldOfView(Math.exp(this.goalLogFov))}},{key:"updateNearFar",value:function(e,t){this.camera.near=Math.max(e,t/1e3),this.camera.far=t,this.camera.updateProjectionMatrix()}},{key:"updateAspect",value:function(e){this.camera.aspect=e,this.camera.updateProjectionMatrix()}},{key:"setOrbit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.goalSpherical.theta,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.goalSpherical.phi,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.goalSpherical.radius,n=this._options,i=n.minimumAzimuthalAngle,a=n.maximumAzimuthalAngle,o=n.minimumPolarAngle,s=n.maximumPolarAngle,u=n.minimumRadius,l=n.maximumRadius,c=this.goalSpherical,h=c.theta,f=c.phi,d=c.radius,p=Ep(e,i,a);isFinite(i)||isFinite(a)||(this.spherical.theta=this.wrapAngle(this.spherical.theta-p)+p);var _=Ep(t,o,s),m=Ep(r,u,l);return(p!==h||_!==f||m!==d)&&(this.goalSpherical.theta=p,this.goalSpherical.phi=_,this.goalSpherical.radius=m,this.goalSpherical.makeSafe(),!0)}},{key:"setRadius",value:function(e){this.goalSpherical.radius=e,this.setOrbit()}},{key:"setFieldOfView",value:function(e){var t=this._options,r=t.minimumFieldOfView,n=t.maximumFieldOfView;e=Ep(e,r,n),this.goalLogFov=Math.log(e)}},{key:"setDamperDecayTime",value:function(e){this.thetaDamper.setDecayTime(e),this.phiDamper.setDecayTime(e),this.radiusDamper.setDecayTime(e),this.fovDamper.setDecayTime(e)}},{key:"adjustOrbit",value:function(e,t,r){var n=this.goalSpherical,i=n.theta,a=n.phi,o=n.radius,s=this._options,u=s.minimumRadius,l=s.maximumRadius,c=s.minimumFieldOfView,h=s.maximumFieldOfView,f=this.spherical.theta-i,d=Math.PI-.001,p=i-Ep(e,-d-f,d-f),_=a-t,m=0===r?0:((r>0?l:u)-o)/(Math.log(r>0?h:c)-this.goalLogFov),v=o+r*(isFinite(m)?m:2*(l-u));if(this.setOrbit(p,_,v),0!==r){var g=this.goalLogFov+r;this.setFieldOfView(Math.exp(g))}}},{key:"jumpToGoal",value:function(){this.update(0,1e4)}},{key:"update",value:function(e,t){if(!this.isStationary()){var r=this._options,n=r.maximumPolarAngle,i=r.maximumRadius,a=this.spherical.theta-this.goalSpherical.theta;Math.abs(a)>Math.PI&&!isFinite(this._options.minimumAzimuthalAngle)&&!isFinite(this._options.maximumAzimuthalAngle)&&(this.spherical.theta-=2*Math.sign(a)*Math.PI),this.spherical.theta=this.thetaDamper.update(this.spherical.theta,this.goalSpherical.theta,t,Math.PI),this.spherical.phi=this.phiDamper.update(this.spherical.phi,this.goalSpherical.phi,t,n),this.spherical.radius=this.radiusDamper.update(this.spherical.radius,this.goalSpherical.radius,t,i),this.logFov=this.fovDamper.update(this.logFov,this.goalLogFov,t,1),this.moveCamera()}}},{key:"updateTouchActionStyle",value:function(){var e=this.element.style;if(this._interactionEnabled){var t=this._options.touchAction;this._disableZoom&&"none"!==t?e.touchAction="manipulation":e.touchAction=t}else e.touchAction=""}},{key:"isStationary",value:function(){return this.goalSpherical.theta===this.spherical.theta&&this.goalSpherical.phi===this.spherical.phi&&this.goalSpherical.radius===this.spherical.radius&&this.goalLogFov===this.logFov}},{key:"dispatchChange",value:function(){var e=this.isUserChange?jy:Ny;this.dispatchEvent({type:"change",source:e})}},{key:"moveCamera",value:function(){this.spherical.makeSafe(),this.camera.position.setFromSpherical(this.spherical),this.camera.setRotationFromEuler(new un(this.spherical.phi-Math.PI/2,this.spherical.theta,0,"YXZ")),this.camera.fov!==Math.exp(this.logFov)&&(this.camera.fov=Math.exp(this.logFov),this.camera.updateProjectionMatrix()),this.dispatchChange()}},{key:"canInteract",get:function(){return"allow-when-focused"==this._options.interactionPolicy?this.element.getRootNode().activeElement===this.element:"always-allow"===this._options.interactionPolicy}},{key:"userAdjustOrbit",value:function(e,t,r){this.adjustOrbit(e*this.sensitivity,t*this.sensitivity,r),this.dispatchChange()}},{key:"wrapAngle",value:function(e){var t=(e+Math.PI)/(2*Math.PI);return 2*(t-Math.floor(t))*Math.PI-Math.PI}},{key:"pixelLengthToSphericalAngle",value:function(e){return 2*Math.PI*e/this.element.clientHeight}},{key:"twoTouchDistance",value:function(e,t){var r=e.clientX,n=e.clientY,i=t.clientX-r,a=t.clientY-n;return Math.sqrt(i*i+a*a)}},{key:"handleSinglePointerMove",value:function(e,t){var r=this.pixelLengthToSphericalAngle(e),n=this.pixelLengthToSphericalAngle(t);!1===this.isUserPointing&&(this.isUserPointing=!0,this.dispatchEvent({type:"pointer-change-start"})),this.userAdjustOrbit(r,n,0)}},{key:"initializePan",value:function(){var e=this.spherical,t=e.theta,r=e.phi,n=t-this.scene.yaw;this.panPerPixel=.018/this.scene.height,this.panProjection.set(-Math.cos(n),-Math.cos(r)*Math.sin(n),0,0,Math.sin(r),0,Math.sin(n),-Math.cos(r)*Math.cos(n),0)}},{key:"movePan",value:function(e,t){var r=this.scene,n=Ay.set(e,t,0),i=this.spherical.radius*Math.exp(this.logFov)*this.panPerPixel;n.multiplyScalar(i);var a=r.getTarget();a.add(n.applyMatrix3(this.panProjection)),r.boundingSphere.clampPoint(a,a),r.setTarget(a.x,a.y,a.z),this.dispatchChange()}},{key:"recenter",value:function(e){if(!(performance.now()>this.startTime+300||Math.abs(e.clientX-this.startPointerPosition.clientX)>2||Math.abs(e.clientY-this.startPointerPosition.clientY)>2)){var t=this.scene,r=t.positionAndNormalFromPoint(t.getNDC(e.clientX,e.clientY));if(null==r){var n=t.element.cameraTarget;t.element.cameraTarget="",t.element.cameraTarget=n,this.userAdjustOrbit(0,0,1)}else t.target.worldToLocal(r.position),t.setTarget(r.position.x,r.position.y,r.position.z)}}},{key:"resetRadius",value:function(){var e=this.scene,t=e.positionAndNormalFromPoint(My.set(0,0));if(null!=t){e.target.worldToLocal(t.position);var r=e.getTarget(),n=this.spherical,i=n.theta,a=n.phi,o=i-e.yaw,s=Ay.set(Math.sin(a)*Math.sin(o),Math.cos(a),Math.sin(a)*Math.cos(o)),u=s.dot(t.position.sub(r));r.add(s.multiplyScalar(u)),e.setTarget(r.x,r.y,r.z),this.setOrbit(void 0,void 0,this.goalSpherical.radius-u)}}},{key:"onTouchChange",value:function(e){if(1===this.pointers.length)this.touchMode=this.touchModeRotate;else{if(this._disableZoom)return this.touchMode=null,void this.element.removeEventListener("touchmove",this.disableScroll);this.touchMode=this.touchDecided&&null===this.touchMode?null:this.touchModeZoom,this.touchDecided=!0,this.element.addEventListener("touchmove",this.disableScroll,{passive:!1}),this.lastSeparation=this.twoTouchDistance(this.pointers[0],this.pointers[1]),this.enablePan&&null!=this.touchMode&&(this.initializePan(),e.altKey||(this.scene.element[db].style.opacity=1))}}},{key:"onMouseDown",value:function(e){this.panPerPixel=0,this.enablePan&&(2===e.button||e.ctrlKey||e.metaKey||e.shiftKey)&&(this.initializePan(),this.scene.element[db].style.opacity=1),this.element.style.cursor="grabbing"}}]),r}(Dt),Zy=function(e){return e<.5?2*e*e:(4-2*e)*e-1},Wy=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zy;return function(n){return e+(t-e)*r(n)}},Fy=function(e){for(var t=[],r=[],n=e.initialValue,i=0;i<e.keyframes.length;++i){var a=e.keyframes[i],o=a.value,s=a.frames,u=a.ease||Zy,l=Wy(n,o,u);t.push(l),r.push(s),n=o}return function(e,t){var r,n=t.map((r=0,function(e){return r+=e}));return function(t){t=Ep(t,0,1),t*=n[n.length-1];var r=n.findIndex((function(e){return e>=t})),i=r<1?0:n[r-1],a=n[r];return e[r]((t-i)/(a-i))}}(t,r)},zy=function(e,t,r,n){for(var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n,s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Ky=Fy({initialValue:0,keyframes:[{frames:5,value:-1},{frames:1,value:-1},{frames:8,value:1},{frames:1,value:1},{frames:5,value:0},{frames:18,value:0}]}),Hy=Fy({initialValue:0,keyframes:[{frames:1,value:1},{frames:5,value:1},{frames:1,value:0},{frames:6,value:0}]}),Gy="0deg 75deg 105%",Vy="auto auto auto",Xy="auto",Yy=["front","right","back","left"],qy=["upper-","","lower-"],$y="auto",Jy="when-focused",Qy="wiggle",eb="always-allow",tb="pan-y",rb=function(e){var t=e.enablePan?30:45;return{basis:[Np(Op(t,"deg"))],keywords:{auto:[null]}}},nb=function(e){var t=e.enablePan?12:25;return{basis:[Np(Op(t,"deg"))],keywords:{auto:[null]}}},ib=function(){var e=Sp(Gy)[0].terms,t=Zp(e[0]),r=Zp(e[1]);return function(e){var n=e[Fm].idealCameraDistance();return{basis:[t,r,Op(n,"m")],keywords:{auto:[null,null,Op(105,"%")]}}}}(),ab=function(e){var t=1.1*e[Fm].boundingSphere.radius*(e.enablePan?2:1);return{basis:[Op(-1/0,"rad"),Op(Math.PI/8,"rad"),Op(t,"m")],keywords:{auto:[null,null,null]}}},ob=function(e){var t=ib(e),r=new fy([],t).evaluate()[2];return{basis:[Op(1/0,"rad"),Op(Math.PI-Math.PI/8,"rad"),Op(r,"m")],keywords:{auto:[null,null,null]}}},sb=function(e){var t=e[Fm].boundingBox.getCenter(new br);return{basis:[Op(t.x,"m"),Op(t.y,"m"),Op(t.z,"m")],keywords:{auto:[null,null,null]}}},ub=Math.PI/2,lb=Math.PI/3,cb=ub/2,hb=2*Math.PI,fb=Symbol("controls"),db=Symbol("panElement"),pb=Symbol("promptElement"),_b=Symbol("promptAnimatedContainer"),mb=Symbol("fingerAnimatedContainers"),vb=Symbol("deferInteractionPrompt"),gb=Symbol("updateAria"),yb=Symbol("updateCameraForRadius"),bb=Symbol("onBlur"),wb=Symbol("onFocus"),Eb=Symbol("onChange"),xb=Symbol("onPointerChange"),kb=Symbol("waitingToPromptUser"),Tb=Symbol("userHasInteracted"),Mb=Symbol("promptElementVisibleTime"),Ab=Symbol("lastPromptOffset"),Ob=Symbol("focusedTime"),Sb=Symbol("lastSpherical"),Rb=Symbol("jumpCamera"),Cb=Symbol("initialized"),Pb=Symbol("maintainThetaPhi"),Db=Symbol("syncCameraOrbit"),Ib=Symbol("syncFieldOfView"),Lb=Symbol("syncCameraTarget"),Ub=Symbol("syncMinCameraOrbit"),jb=Symbol("syncMaxCameraOrbit"),Nb=Symbol("syncMinFieldOfView"),Bb=Symbol("syncMaxFieldOfView"),Zb=function(e,t,r,n){for(var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n,s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Wb="https://www.gstatic.com/draco/versioned/decoders/1.4.1/",Fb="https://www.gstatic.com/basis-universal/versioned/2021-04-15-ba1c3e4/",zb="auto",Kb="manual",Hb="auto",Gb="eager",Vb="interaction",Xb=Symbol("defaultProgressBarElement"),Yb=Symbol("defaultProgressMaskElement"),qb=Symbol("posterContainerElement"),$b=Symbol("defaultPosterElement"),Jb=Symbol("posterDismissalSource"),Qb=Symbol("hidePoster"),ew=Symbol("modelIsRevealed"),tw=Symbol("updateProgressBar"),rw=Symbol("lastReportedProgress"),nw=Symbol("transitioned"),iw=Symbol("onTransitionEnd"),aw=Symbol("ariaLabelCallToAction"),ow=Symbol("onClick"),sw=Symbol("onKeydown"),uw=Symbol("onProgress"),lw=function(){function e(){(0,de.Z)(this,e),this.pluginCallbacks=[],this.register((function(e){return new Nw(e)})),this.register((function(e){return new Bw(e)})),this.register((function(e){return new Zw(e)})),this.register((function(e){return new Fw(e)})),this.register((function(e){return new zw(e)})),this.register((function(e){return new Ww(e)}))}return(0,pe.Z)(e,[{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,r,n){"object"===typeof r&&(console.warn("THREE.GLTFExporter: parse() expects options as the fourth argument now."),n=r);for(var i=new jw,a=[],o=0,s=this.pluginCallbacks.length;o<s;o++)a.push(this.pluginCallbacks[o](i));i.setPlugins(a),i.write(e,t,n).catch(r)}},{key:"parseAsync",value:function(e,t){var r=this;return new Promise((function(n,i){r.parse(e,n,i,t)}))}}]),e}(),cw=0,hw=1,fw=2,dw=3,pw=4,_w=5121,mw=5123,vw=5126,gw=5125,yw=34962,bw=34963,ww=9728,Ew=9729,xw=9984,kw=9985,Tw=9986,Mw=9987,Aw=33071,Ow=33648,Sw=10497,Rw={};Rw[1003]=ww,Rw[1004]=xw,Rw[1005]=Tw,Rw[1006]=Ew,Rw[1007]=kw,Rw[1008]=Mw,Rw[1001]=Aw,Rw[1e3]=Sw,Rw[1002]=Ow;var Cw={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"};function Pw(e,t){return e.length===t.length&&e.every((function(e,r){return e===t[r]}))}function Dw(e){if(void 0!==window.TextEncoder)return(new TextEncoder).encode(e).buffer;for(var t=new Uint8Array(new ArrayBuffer(e.length)),r=0,n=e.length;r<n;r++){var i=e.charCodeAt(r);t[r]=i>255?32:i}return t.buffer}function Iw(e){return 4*Math.ceil(e/4)}function Lw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Iw(e.byteLength);if(r!==e.byteLength){var n=new Uint8Array(r);if(n.set(new Uint8Array(e)),0!==t)for(var i=e.byteLength;i<r;i++)n[i]=t;return n.buffer}return e}var Uw=null,jw=function(){function e(){(0,de.Z)(this,e),this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}return(0,pe.Z)(e,[{key:"setPlugins",value:function(e){this.plugins=e}},{key:"write",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r,i){var a,o,s,u,l,c,h,f;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.options=Object.assign({},{binary:!1,trs:!1,onlyVisible:!0,truncateDrawRange:!0,embedImages:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},i),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(t),e.next=5,Promise.all(this.pending);case 5:o=(a=this).buffers,s=a.json,i=a.options,u=a.extensionsUsed,l=new Blob(o,{type:"application/octet-stream"}),(c=Object.keys(u)).length>0&&(s.extensionsUsed=c),s.buffers&&s.buffers.length>0&&(s.buffers[0].byteLength=l.size),!0===i.binary?((h=new window.FileReader).readAsArrayBuffer(l),h.onloadend=function(){var e=Lw(h.result),t=new DataView(new ArrayBuffer(8));t.setUint32(0,e.byteLength,!0),t.setUint32(4,5130562,!0);var n=Lw(Dw(JSON.stringify(s)),32),i=new DataView(new ArrayBuffer(8));i.setUint32(0,n.byteLength,!0),i.setUint32(4,1313821514,!0);var a=new ArrayBuffer(12),o=new DataView(a);o.setUint32(0,1179937895,!0),o.setUint32(4,2,!0);var u=12+i.byteLength+n.byteLength+t.byteLength+e.byteLength;o.setUint32(8,u,!0);var l=new Blob([a,i,n,t,e],{type:"application/octet-stream"}),c=new window.FileReader;c.readAsArrayBuffer(l),c.onloadend=function(){r(c.result)}}):s.buffers&&s.buffers.length>0?((f=new window.FileReader).readAsDataURL(l),f.onloadend=function(){var e=f.result;s.buffers[0].uri=e,r(s)}):r(s);case 15:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"serializeUserData",value:function(e,t){if(0!==Object.keys(e.userData).length){var r=this.options,n=this.extensionsUsed;try{var i=JSON.parse(JSON.stringify(e.userData));if(r.includeCustomExtensions&&i.gltfExtensions){for(var a in void 0===t.extensions&&(t.extensions={}),i.gltfExtensions)t.extensions[a]=i.gltfExtensions[a],n[a]=!0;delete i.gltfExtensions}Object.keys(i).length>0&&(t.extras=i)}catch(o){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+o.message)}}}},{key:"getUID",value:function(e){return this.uids.has(e)||this.uids.set(e,this.uid++),this.uids.get(e)}},{key:"isNormalizedNormalAttribute",value:function(e){if(this.cache.attributesNormalized.has(e))return!1;for(var t=new br,r=0,n=e.count;r<n;r++)if(Math.abs(t.fromBufferAttribute(e,r).length()-1)>5e-4)return!1;return!0}},{key:"createNormalizedNormalAttribute",value:function(e){var t=this.cache;if(t.attributesNormalized.has(e))return t.attributesNormalized.get(e);for(var r=e.clone(),n=new br,i=0,a=r.count;i<a;i++)n.fromBufferAttribute(r,i),0===n.x&&0===n.y&&0===n.z?n.setX(1):n.normalize(),r.setXYZ(i,n.x,n.y,n.z);return t.attributesNormalized.set(e,r),r}},{key:"applyTextureTransform",value:function(e,t){var r=!1,n={};0===t.offset.x&&0===t.offset.y||(n.offset=t.offset.toArray(),r=!0),0!==t.rotation&&(n.rotation=t.rotation,r=!0),1===t.repeat.x&&1===t.repeat.y||(n.scale=t.repeat.toArray(),r=!0),r&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=n,this.extensionsUsed.KHR_texture_transform=!0)}},{key:"buildMetalRoughTexture",value:function(e,t){if(e===t)return e;console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures.");var r=null===e||void 0===e?void 0:e.image,n=null===t||void 0===t?void 0:t.image,i=Math.max((null===r||void 0===r?void 0:r.width)||0,(null===n||void 0===n?void 0:n.width)||0),a=Math.max((null===r||void 0===r?void 0:r.height)||0,(null===n||void 0===n?void 0:n.height)||0),o=document.createElement("canvas");o.width=i,o.height=a;var s=o.getContext("2d");s.fillStyle="#00ffff",s.fillRect(0,0,i,a);var u=s.getImageData(0,0,i,a);if(r){s.drawImage(r,0,0,i,a);for(var l=s.getImageData(0,0,i,a).data,c=2;c<l.length;c+=4)u.data[c]=l[c]}if(n){s.drawImage(n,0,0,i,a);for(var h=s.getImageData(0,0,i,a).data,f=1;f<h.length;f+=4)u.data[f]=h[f]}s.putImageData(u,0,0);var d=(e||t).clone();return d.source=new cr(o),d}},{key:"processBuffer",value:function(e){var t=this.json,r=this.buffers;return t.buffers||(t.buffers=[{byteLength:0}]),r.push(e),0}},{key:"processBufferView",value:function(e,t,r,n,i){var a,o=this.json;o.bufferViews||(o.bufferViews=[]),a=t===_w?1:t===mw?2:4;for(var s=Iw(n*e.itemSize*a),u=new DataView(new ArrayBuffer(s)),l=0,c=r;c<r+n;c++)for(var h=0;h<e.itemSize;h++){var f=void 0;e.itemSize>4?f=e.array[c*e.itemSize+h]:0===h?f=e.getX(c):1===h?f=e.getY(c):2===h?f=e.getZ(c):3===h&&(f=e.getW(c)),t===vw?u.setFloat32(l,f,!0):t===gw?u.setUint32(l,f,!0):t===mw?u.setUint16(l,f,!0):t===_w&&u.setUint8(l,f),l+=a}var d={buffer:this.processBuffer(u.buffer),byteOffset:this.byteOffset,byteLength:s};return void 0!==i&&(d.target=i),i===yw&&(d.byteStride=e.itemSize*a),this.byteOffset+=s,o.bufferViews.push(d),{id:o.bufferViews.length-1,byteLength:0}}},{key:"processBufferViewImage",value:function(e){var t=this,r=t.json;return r.bufferViews||(r.bufferViews=[]),new Promise((function(n){var i=new window.FileReader;i.readAsArrayBuffer(e),i.onloadend=function(){var e=Lw(i.result),a={buffer:t.processBuffer(e),byteOffset:t.byteOffset,byteLength:e.byteLength};t.byteOffset+=e.byteLength,n(r.bufferViews.push(a)-1)}}))}},{key:"processAccessor",value:function(e,t,r,n){var i,a=this.options,o=this.json;if(e.array.constructor===Float32Array)i=vw;else if(e.array.constructor===Uint32Array)i=gw;else if(e.array.constructor===Uint16Array)i=mw;else{if(e.array.constructor!==Uint8Array)throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");i=_w}if(void 0===r&&(r=0),void 0===n&&(n=e.count),a.truncateDrawRange&&void 0!==t&&null===t.index){var s=r+n,u=t.drawRange.count===1/0?e.count:t.drawRange.start+t.drawRange.count;r=Math.max(r,t.drawRange.start),(n=Math.min(s,u)-r)<0&&(n=0)}if(0===n)return null;var l,c=function(e,t,r){for(var n={min:new Array(e.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(e.itemSize).fill(Number.NEGATIVE_INFINITY)},i=t;i<t+r;i++)for(var a=0;a<e.itemSize;a++){var o=void 0;e.itemSize>4?o=e.array[i*e.itemSize+a]:0===a?o=e.getX(i):1===a?o=e.getY(i):2===a?o=e.getZ(i):3===a&&(o=e.getW(i)),n.min[a]=Math.min(n.min[a],o),n.max[a]=Math.max(n.max[a],o)}return n}(e,r,n);void 0!==t&&(l=e===t.index?bw:yw);var h=this.processBufferView(e,i,r,n,l),f={bufferView:h.id,byteOffset:h.byteOffset,componentType:i,count:n,max:c.max,min:c.min,type:{1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"}[e.itemSize]};return!0===e.normalized&&(f.normalized=!0),o.accessors||(o.accessors=[]),o.accessors.push(f)-1}},{key:"processImage",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"image/png",i=this,a=i.cache,o=i.json,s=i.options,u=i.pending;a.images.has(e)||a.images.set(e,{});var l=a.images.get(e),c=n+":flipY/"+r.toString();if(void 0!==l[c])return l[c];o.images||(o.images=[]);var h={mimeType:n};if(s.embedImages){var f=Uw=Uw||document.createElement("canvas");f.width=Math.min(e.width,s.maxTextureSize),f.height=Math.min(e.height,s.maxTextureSize);var d=f.getContext("2d");if(!0===r&&(d.translate(0,f.height),d.scale(1,-1)),"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap)d.drawImage(e,0,0,f.width,f.height);else{t!==Ne&&console.error("GLTFExporter: Only RGBAFormat is supported."),(e.width>s.maxTextureSize||e.height>s.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",e);for(var p=new Uint8ClampedArray(e.height*e.width*4),_=0;_<p.length;_+=4)p[_+0]=e.data[_+0],p[_+1]=e.data[_+1],p[_+2]=e.data[_+2],p[_+3]=e.data[_+3];d.putImageData(new ImageData(p,e.width,e.height),0,0)}!0===s.binary?u.push(new Promise((function(e){f.toBlob((function(t){i.processBufferViewImage(t).then((function(t){h.bufferView=t,e()}))}),n)}))):h.uri=f.toDataURL(n)}else h.uri=e.src;var m=o.images.push(h)-1;return l[c]=m,m}},{key:"processSampler",value:function(e){var t=this.json;t.samplers||(t.samplers=[]);var r={magFilter:Rw[e.magFilter],minFilter:Rw[e.minFilter],wrapS:Rw[e.wrapS],wrapT:Rw[e.wrapT]};return t.samplers.push(r)-1}},{key:"processTexture",value:function(e){var t=this.cache,r=this.json;if(t.textures.has(e))return t.textures.get(e);r.textures||(r.textures=[]);var n=e.userData.mimeType;"image/webp"===n&&(n="image/png");var i={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY,n)};e.name&&(i.name=e.name),this._invokeAll((function(t){t.writeTexture&&t.writeTexture(e,i)}));var a=r.textures.push(i)-1;return t.textures.set(e,a),a}},{key:"processMaterial",value:function(e){var t=this.cache,r=this.json;if(t.materials.has(e))return t.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;r.materials||(r.materials=[]);var n={pbrMetallicRoughness:{}};!0!==e.isMeshStandardMaterial&&!0!==e.isMeshBasicMaterial&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");var i=e.color.toArray().concat([e.opacity]);if(Pw(i,[1,1,1,1])||(n.pbrMetallicRoughness.baseColorFactor=i),e.isMeshStandardMaterial?(n.pbrMetallicRoughness.metallicFactor=e.metalness,n.pbrMetallicRoughness.roughnessFactor=e.roughness):(n.pbrMetallicRoughness.metallicFactor=.5,n.pbrMetallicRoughness.roughnessFactor=.5),e.metalnessMap||e.roughnessMap){var a=this.buildMetalRoughTexture(e.metalnessMap,e.roughnessMap),o={index:this.processTexture(a)};this.applyTextureTransform(o,a),n.pbrMetallicRoughness.metallicRoughnessTexture=o}if(e.map){var s={index:this.processTexture(e.map)};this.applyTextureTransform(s,e.map),n.pbrMetallicRoughness.baseColorTexture=s}if(e.emissive){var u=e.emissive.clone().multiplyScalar(e.emissiveIntensity),l=Math.max(u.r,u.g,u.b);if(l>1&&(u.multiplyScalar(1/l),console.warn("THREE.GLTFExporter: Some emissive components exceed 1; emissive has been limited")),l>0&&(n.emissiveFactor=u.toArray()),e.emissiveMap){var c={index:this.processTexture(e.emissiveMap)};this.applyTextureTransform(c,e.emissiveMap),n.emissiveTexture=c}}if(e.normalMap){var h={index:this.processTexture(e.normalMap)};e.normalScale&&1!==e.normalScale.x&&(h.scale=e.normalScale.x),this.applyTextureTransform(h,e.normalMap),n.normalTexture=h}if(e.aoMap){var f={index:this.processTexture(e.aoMap),texCoord:1};1!==e.aoMapIntensity&&(f.strength=e.aoMapIntensity),this.applyTextureTransform(f,e.aoMap),n.occlusionTexture=f}e.transparent?n.alphaMode="BLEND":e.alphaTest>0&&(n.alphaMode="MASK",n.alphaCutoff=e.alphaTest),2===e.side&&(n.doubleSided=!0),""!==e.name&&(n.name=e.name),this.serializeUserData(e,n),this._invokeAll((function(t){t.writeMaterial&&t.writeMaterial(e,n)}));var d=r.materials.push(n)-1;return t.materials.set(e,d),d}},{key:"processMesh",value:function(e){var t=this.cache,r=this.json,n=[e.geometry.uuid];if(Array.isArray(e.material))for(var i=0,a=e.material.length;i<a;i++)n.push(e.material[i].uuid);else n.push(e.material.uuid);var o=n.join(":");if(t.meshes.has(o))return t.meshes.get(o);var s,u=e.geometry;if(s=e.isLineSegments?hw:e.isLineLoop?fw:e.isLine?dw:e.isPoints?cw:e.material.wireframe?hw:pw,!0!==u.isBufferGeometry)throw new Error("THREE.GLTFExporter: Geometry is not of type THREE.BufferGeometry.");var l={},c={},h=[],f=[],d={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},p=u.getAttribute("normal");void 0===p||this.isNormalizedNormalAttribute(p)||(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),u.setAttribute("normal",this.createNormalizedNormalAttribute(p)));var _=null;for(var m in u.attributes)if("morph"!==m.slice(0,5)){var v=u.attributes[m];m=d[m]||m.toUpperCase();if(/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(m)||(m="_"+m),t.attributes.has(this.getUID(v)))c[m]=t.attributes.get(this.getUID(v));else{_=null;var g=v.array;"JOINTS_0"!==m||g instanceof Uint16Array||g instanceof Uint8Array||(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),_=new Zn(new Uint16Array(g),v.itemSize,v.normalized));var y=this.processAccessor(_||v,u);null!==y&&(c[m]=y,t.attributes.set(this.getUID(v),y))}}if(void 0!==p&&u.setAttribute("normal",p),0===Object.keys(c).length)return null;if(void 0!==e.morphTargetInfluences&&e.morphTargetInfluences.length>0){var b=[],w=[],E={};if(void 0!==e.morphTargetDictionary)for(var x in e.morphTargetDictionary)E[e.morphTargetDictionary[x]]=x;for(var k=0;k<e.morphTargetInfluences.length;++k){var T={},M=!1;for(var A in u.morphAttributes)if("position"===A||"normal"===A){var O=u.morphAttributes[A][k],S=A.toUpperCase(),R=u.attributes[A];if(t.attributes.has(this.getUID(O)))T[S]=t.attributes.get(this.getUID(O));else{var C=O.clone();if(!u.morphTargetsRelative)for(var P=0,D=O.count;P<D;P++)C.setXYZ(P,O.getX(P)-R.getX(P),O.getY(P)-R.getY(P),O.getZ(P)-R.getZ(P));T[S]=this.processAccessor(C,u),t.attributes.set(this.getUID(R),T[S])}}else M||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),M=!0);f.push(T),b.push(e.morphTargetInfluences[k]),void 0!==e.morphTargetDictionary&&w.push(E[k])}l.weights=b,w.length>0&&(l.extras={},l.extras.targetNames=w)}var I=Array.isArray(e.material);if(I&&0===u.groups.length)return null;for(var L=I?e.material:[e.material],U=I?u.groups:[{materialIndex:0,start:void 0,count:void 0}],j=0,N=U.length;j<N;j++){var B={mode:s,attributes:c};if(this.serializeUserData(u,B),f.length>0&&(B.targets=f),null!==u.index){var Z=this.getUID(u.index);void 0===U[j].start&&void 0===U[j].count||(Z+=":"+U[j].start+":"+U[j].count),t.attributes.has(Z)?B.indices=t.attributes.get(Z):(B.indices=this.processAccessor(u.index,u,U[j].start,U[j].count),t.attributes.set(Z,B.indices)),null===B.indices&&delete B.indices}var W=this.processMaterial(L[U[j].materialIndex]);null!==W&&(B.material=W),h.push(B)}l.primitives=h,r.meshes||(r.meshes=[]),this._invokeAll((function(t){t.writeMesh&&t.writeMesh(e,l)}));var F=r.meshes.push(l)-1;return t.meshes.set(o,F),F}},{key:"processCamera",value:function(e){var t=this.json;t.cameras||(t.cameras=[]);var r=e.isOrthographicCamera,n={type:r?"orthographic":"perspective"};return r?n.orthographic={xmag:2*e.right,ymag:2*e.top,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:n.perspective={aspectRatio:e.aspect,yfov:Gt.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},""!==e.name&&(n.name=e.type),t.cameras.push(n)-1}},{key:"processAnimation",value:function(e,t){var r=this.json,n=this.nodeMap;r.animations||(r.animations=[]);for(var i=(e=lw.Utils.mergeMorphTargetTracks(e.clone(),t)).tracks,a=[],o=[],s=0;s<i.length;++s){var u=i[s],l=Bc.parseTrackName(u.name),c=Bc.findNode(t,l.nodeName),h=Cw[l.propertyName];if("bones"===l.objectName&&(c=!0===c.isSkinnedMesh?c.skeleton.getBoneByName(l.objectIndex):void 0),!c||!h)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',u.name),null;var f=u.values.length/u.times.length;h===Cw.morphTargetInfluences&&(f/=c.morphTargetInfluences.length);var d=void 0;!0===u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline?(d="CUBICSPLINE",f/=3):d=u.getInterpolation()===mt?"STEP":"LINEAR",o.push({input:this.processAccessor(new Zn(u.times,1)),output:this.processAccessor(new Zn(u.values,f)),interpolation:d}),a.push({sampler:o.length-1,target:{node:n.get(c),path:h}})}return r.animations.push({name:e.name||"clip_"+r.animations.length,samplers:o,channels:a}),r.animations.length-1}},{key:"processSkin",value:function(e){var t=this.json,r=this.nodeMap,n=t.nodes[r.get(e)],i=e.skeleton;if(void 0===i)return null;var a=e.skeleton.bones[0];if(void 0===a)return null;for(var o=[],s=new Float32Array(16*i.bones.length),u=new $r,l=0;l<i.bones.length;++l)o.push(r.get(i.bones[l])),u.copy(i.boneInverses[l]),u.multiply(e.bindMatrix).toArray(s,16*l);return void 0===t.skins&&(t.skins=[]),t.skins.push({inverseBindMatrices:this.processAccessor(new Zn(s,16)),joints:o,skeleton:r.get(a)}),n.skin=t.skins.length-1}},{key:"processNode",value:function(e){var t=this.json,r=this.options,n=this.nodeMap;t.nodes||(t.nodes=[]);var i={};if(r.trs){var a=e.quaternion.toArray(),o=e.position.toArray(),s=e.scale.toArray();Pw(a,[0,0,0,1])||(i.rotation=a),Pw(o,[0,0,0])||(i.translation=o),Pw(s,[1,1,1])||(i.scale=s)}else e.matrixAutoUpdate&&e.updateMatrix(),!1===Pw(e.matrix.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])&&(i.matrix=e.matrix.elements);if(""!==e.name&&(i.name=String(e.name)),this.serializeUserData(e,i),e.isMesh||e.isLine||e.isPoints){var u=this.processMesh(e);null!==u&&(i.mesh=u)}else e.isCamera&&(i.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),e.children.length>0){for(var l=[],c=0,h=e.children.length;c<h;c++){var f=e.children[c];if(f.visible||!1===r.onlyVisible){var d=this.processNode(f);null!==d&&l.push(d)}}l.length>0&&(i.children=l)}this._invokeAll((function(t){t.writeNode&&t.writeNode(e,i)}));var p=t.nodes.push(i)-1;return n.set(e,p),p}},{key:"processScene",value:function(e){var t=this.json,r=this.options;t.scenes||(t.scenes=[],t.scene=0);var n={};""!==e.name&&(n.name=e.name),t.scenes.push(n);for(var i=[],a=0,o=e.children.length;a<o;a++){var s=e.children[a];if(s.visible||!1===r.onlyVisible){var u=this.processNode(s);null!==u&&i.push(u)}}i.length>0&&(n.nodes=i),this.serializeUserData(e,n)}},{key:"processObjects",value:function(e){var t=new vs;t.name="AuxScene";for(var r=0;r<e.length;r++)t.children.push(e[r]);this.processScene(t)}},{key:"processInput",value:function(e){var t=this.options;e=e instanceof Array?e:[e],this._invokeAll((function(t){t.beforeParse&&t.beforeParse(e)}));for(var r=[],n=0;n<e.length;n++)e[n]instanceof vs?this.processScene(e[n]):r.push(e[n]);r.length>0&&this.processObjects(r);for(var i=0;i<this.skins.length;++i)this.processSkin(this.skins[i]);for(var a=0;a<t.animations.length;++a)this.processAnimation(t.animations[a],e[0]);this._invokeAll((function(t){t.afterParse&&t.afterParse(e)}))}},{key:"_invokeAll",value:function(e){for(var t=0,r=this.plugins.length;t<r;t++)e(this.plugins[t])}}]),e}(),Nw=function(){function e(t){(0,de.Z)(this,e),this.writer=t,this.name="KHR_lights_punctual"}return(0,pe.Z)(e,[{key:"writeNode",value:function(e,t){if(e.isLight)if(e.isDirectionalLight||e.isPointLight||e.isSpotLight){var r=this.writer,n=r.json,i=r.extensionsUsed,a={};e.name&&(a.name=e.name),a.color=e.color.toArray(),a.intensity=e.intensity,e.isDirectionalLight?a.type="directional":e.isPointLight?(a.type="point",e.distance>0&&(a.range=e.distance)):e.isSpotLight&&(a.type="spot",e.distance>0&&(a.range=e.distance),a.spot={},a.spot.innerConeAngle=(e.penumbra-1)*e.angle*-1,a.spot.outerConeAngle=e.angle),void 0!==e.decay&&2!==e.decay&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),!e.target||e.target.parent===e&&0===e.target.position.x&&0===e.target.position.y&&-1===e.target.position.z||console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),i[this.name]||(n.extensions=n.extensions||{},n.extensions[this.name]={lights:[]},i[this.name]=!0);var o=n.extensions[this.name].lights;o.push(a),t.extensions=t.extensions||{},t.extensions[this.name]={light:o.length-1}}else console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e)}}]),e}(),Bw=function(){function e(t){(0,de.Z)(this,e),this.writer=t,this.name="KHR_materials_unlit"}return(0,pe.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshBasicMaterial){var r=this.writer.extensionsUsed;t.extensions=t.extensions||{},t.extensions[this.name]={},r[this.name]=!0,t.pbrMetallicRoughness.metallicFactor=0,t.pbrMetallicRoughness.roughnessFactor=.9}}}]),e}(),Zw=function(){function e(t){(0,de.Z)(this,e),this.writer=t,this.name="KHR_materials_pbrSpecularGlossiness"}return(0,pe.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isGLTFSpecularGlossinessMaterial){var r=this.writer,n=r.extensionsUsed,i={};t.pbrMetallicRoughness.baseColorFactor&&(i.diffuseFactor=t.pbrMetallicRoughness.baseColorFactor);var a=[1,1,1];if(e.specular.toArray(a,0),i.specularFactor=a,i.glossinessFactor=e.glossiness,t.pbrMetallicRoughness.baseColorTexture&&(i.diffuseTexture=t.pbrMetallicRoughness.baseColorTexture),e.specularMap){var o={index:r.processTexture(e.specularMap)};r.applyTextureTransform(o,e.specularMap),i.specularGlossinessTexture=o}t.extensions=t.extensions||{},t.extensions[this.name]=i,n[this.name]=!0}}}]),e}(),Ww=function(){function e(t){(0,de.Z)(this,e),this.writer=t,this.name="KHR_materials_clearcoat"}return(0,pe.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial){var r=this.writer,n=r.extensionsUsed,i={};if(i.clearcoatFactor=e.clearcoat,e.clearcoatMap){var a={index:r.processTexture(e.clearcoatMap)};r.applyTextureTransform(a,e.clearcoatMap),i.clearcoatTexture=a}if(i.clearcoatRoughnessFactor=e.clearcoatRoughness,e.clearcoatRoughnessMap){var o={index:r.processTexture(e.clearcoatRoughnessMap)};r.applyTextureTransform(o,e.clearcoatRoughnessMap),i.clearcoatRoughnessTexture=o}if(e.clearcoatNormalMap){var s={index:r.processTexture(e.clearcoatNormalMap)};r.applyTextureTransform(s,e.clearcoatNormalMap),i.clearcoatNormalTexture=s}t.extensions=t.extensions||{},t.extensions[this.name]=i,n[this.name]=!0}}}]),e}(),Fw=function(){function e(t){(0,de.Z)(this,e),this.writer=t,this.name="KHR_materials_transmission"}return(0,pe.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!==e.transmission){var r=this.writer,n=r.extensionsUsed,i={};if(i.transmissionFactor=e.transmission,e.transmissionMap){var a={index:r.processTexture(e.transmissionMap)};r.applyTextureTransform(a,e.transmissionMap),i.transmissionTexture=a}t.extensions=t.extensions||{},t.extensions[this.name]=i,n[this.name]=!0}}}]),e}(),zw=function(){function e(t){(0,de.Z)(this,e),this.writer=t,this.name="KHR_materials_volume"}return(0,pe.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!==e.transmission){var r=this.writer,n=r.extensionsUsed,i={};if(i.thicknessFactor=e.thickness,e.thicknessMap){var a={index:r.processTexture(e.thicknessMap)};r.applyTextureTransform(a,e.thicknessMap),i.thicknessTexture=a}i.attenuationDistance=e.attenuationDistance,i.attenuationColor=e.attenuationColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=i,n[this.name]=!0}}}]),e}();lw.Utils={insertKeyframe:function(e,t){var r,n=.001,i=e.getValueSize(),a=new e.TimeBufferType(e.times.length+1),o=new e.ValueBufferType(e.values.length+i),s=e.createInterpolant(new e.ValueBufferType(i));if(0===e.times.length){a[0]=t;for(var u=0;u<i;u++)o[u]=0;r=0}else if(t<e.times[0]){if(Math.abs(e.times[0]-t)<n)return 0;a[0]=t,a.set(e.times,1),o.set(s.evaluate(t),0),o.set(e.values,i),r=0}else if(t>e.times[e.times.length-1]){if(Math.abs(e.times[e.times.length-1]-t)<n)return e.times.length-1;a[a.length-1]=t,a.set(e.times,0),o.set(e.values,0),o.set(s.evaluate(t),e.values.length),r=a.length-1}else for(var l=0;l<e.times.length;l++){if(Math.abs(e.times[l]-t)<n)return l;if(e.times[l]<t&&e.times[l+1]>t){a.set(e.times.slice(0,l+1),0),a[l+1]=t,a.set(e.times.slice(l+1),l+2),o.set(e.values.slice(0,(l+1)*i),0),o.set(s.evaluate(t),(l+1)*i),o.set(e.values.slice((l+1)*i),(l+2)*i),r=l+1;break}}return e.times=a,e.values=o,r},mergeMorphTargetTracks:function(e,t){for(var r=[],n={},i=e.tracks,a=0;a<i.length;++a){var o=i[a],s=Bc.parseTrackName(o.name),u=Bc.findNode(t,s.nodeName);if("morphTargetInfluences"===s.propertyName&&void 0!==s.propertyIndex){if(o.createInterpolant!==o.InterpolantFactoryMethodDiscrete&&o.createInterpolant!==o.InterpolantFactoryMethodLinear){if(o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),(o=o.clone()).setInterpolation(vt)}var l=u.morphTargetInfluences.length,c=u.morphTargetDictionary[s.propertyIndex];if(void 0===c)throw new Error("THREE.GLTFExporter: Morph target name not found: "+s.propertyIndex);var h=void 0;if(void 0!==n[u.uuid]){var f=o.createInterpolant(new o.ValueBufferType(1));h=n[u.uuid];for(var d=0;d<h.times.length;d++)h.values[d*l+c]=f.evaluate(h.times[d]);for(var p=0;p<o.times.length;p++){var _=this.insertKeyframe(h,o.times[p]);h.values[_*l+c]=o.values[p]}}else{for(var m=new((h=o.clone()).ValueBufferType)(l*h.times.length),v=0;v<h.times.length;v++)m[v*l+c]=h.values[v];h.name=(s.nodeName||"")+".morphTargetInfluences",h.values=m,n[u.uuid]=h,r.push(h)}}else r.push(o)}return e.tracks=r,e}};var Kw,Hw,Gw=function(e){return void 0!==e.material&&e.userData&&e.userData.variantMaterials&&!!Array.from(e.userData.variantMaterials.values()).filter((function(e){return Vw(e.material)}))},Vw=function(e){return e&&e.isMaterial&&!Array.isArray(e)},Xw=function(){function e(t){(0,de.Z)(this,e),this.writer=t,this.name="KHR_materials_variants",this.variantNames=[]}return(0,pe.Z)(e,[{key:"beforeParse",value:function(e){var t,r=this,n=new Set,i=(0,ae.Z)(e);try{for(i.s();!(t=i.n()).done;){t.value.traverse((function(e){if(Gw(e)){var t,r=e.userData.variantMaterials,i=e.userData.variantData,o=(0,ae.Z)(i);try{for(o.s();!(t=o.n()).done;){var s=(0,a.Z)(t.value,2),u=s[0],l=s[1],c=r.get(l.index);Vw(c.material)&&n.add(u)}}catch(h){o.e(h)}finally{o.f()}}}))}}catch(o){i.e(o)}finally{i.f()}n.forEach((function(e){return r.variantNames.push(e)}))}},{key:"writeMesh",value:function(e,t){if(Gw(e)){var r,n=e.userData,i=n.variantMaterials,o=n.variantData,s=new Map,u=new Map,l=Array.from(o.values()).sort((function(e,t){return e.index-t.index})),c=(0,ae.Z)(l.entries());try{for(c.s();!(r=c.n()).done;){var h=(0,a.Z)(r.value,2),f=h[0],d=h[1];u.set(d.index,f)}}catch(k){c.e(k)}finally{c.f()}var p,_=(0,ae.Z)(o.values());try{for(_.s();!(p=_.n()).done;){var m=p.value,v=i.get(m.index).material;if(Vw(v)){var g=this.writer.processMaterial(v);s.has(g)||s.set(g,{material:g,variants:[]}),s.get(g).variants.push(u.get(m.index))}}}catch(k){_.e(k)}finally{_.f()}var y=Array.from(s.values()).map((function(e){return e.variants.sort((function(e,t){return e-t}))&&e})).sort((function(e,t){return e.material-t.material}));if(0!==y.length){var b,w=Vw(n.originalMaterial)?this.writer.processMaterial(n.originalMaterial):-1,E=(0,ae.Z)(t.primitives);try{for(E.s();!(b=E.n()).done;){var x=b.value;w>=0&&(x.material=w),x.extensions=x.extensions||{},x.extensions[this.name]={mappings:y}}}catch(k){E.e(k)}finally{E.f()}}}}},{key:"afterParse",value:function(){if(0!==this.variantNames.length){var e=this.writer.json;e.extensions=e.extensions||{};var t=this.variantNames.map((function(e){return{name:e}}));e.extensions[this.name]={variants:t},this.writer.extensionsUsed[this.name]=!0}}}]),e}(),Yw=Symbol("correlatedObjects"),qw=Symbol("sourceObject"),$w=Symbol("onUpdate"),Jw=(0,pe.Z)((function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,de.Z)(this,e),this[$w]=t,this[qw]=r,this[Yw]=n})),Qw=new Jl,eE=new jn,tE=new ji(2,2),rE=0,nE=Symbol("threeTexture"),iE=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i){return(0,de.Z)(this,r),i=null!==i&&void 0!==i?i:{name:n&&n.image&&n.image.src?n.image.src.split("/").pop():"adhoc_image",uri:n&&n.image&&n.image.src?n.image.src:"adhoc_image"+rE++},t.call(this,e,i,new Set(n?[n]:[]))}return(0,pe.Z)(r,[{key:nE,get:function(){var e;return console.assert(null!=this[Yw]&&this[Yw].size>0,"Image correlated object is undefined"),null===(e=this[Yw])||void 0===e?void 0:e.values().next().value}},{key:"name",get:function(){return this[qw].name||""}},{key:"uri",get:function(){return this[qw].uri}},{key:"bufferView",get:function(){return this[qw].bufferView}},{key:"type",get:function(){return null!=this.uri?"external":"embedded"}},{key:"name",set:function(e){this[qw].name=e}},{key:"setURI",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this[qw].uri=t,this[qw].name=t.split("/").pop(),e.next=4,new Promise((function(e,r){Qw.load(t,e,void 0,r)}));case 4:r=e.sent,(i=this[nE]).image=r,i.needsUpdate=!0,this[$w]();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createThumbnail",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r){var a,o,s,u,l,c,h,f;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new vs,eE.map=this[nE],o=new _i(tE,eE),a.add(o),s=new Vi(-1,1,1,-1,0,1),u=rm.singleton.threeRenderer,l=new _r(t,r),u.setRenderTarget(l),u.render(a,s),u.setRenderTarget(null),c=new Uint8Array(t*r*4),u.readRenderTargetPixels(l,0,0,t,r,c),gm.width=t,gm.height=r,h=gm.getContext("2d"),(f=h.createImageData(t,r)).data.set(c),h.putImageData(f,0,0),e.abrupt("return",new Promise(function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gm.toBlob((function(e){if(!e)return r("Failed to capture thumbnail.");t(URL.createObjectURL(e))}),"image/png");case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 19:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(Jw);!function(e){e[e.Nearest=9728]="Nearest",e[e.Linear=9729]="Linear",e[e.NearestMipmapNearest=9984]="NearestMipmapNearest",e[e.LinearMipmapNearest=9985]="LinearMipmapNearest",e[e.NearestMipmapLinear=9986]="NearestMipmapLinear",e[e.LinearMipmapLinear=9987]="LinearMipmapLinear"}(Kw||(Kw={})),function(e){e[e.ClampToEdge=33071]="ClampToEdge",e[e.MirroredRepeat=33648]="MirroredRepeat",e[e.Repeat=10497]="Repeat"}(Hw||(Hw={}));var aE,oE,sE,uE=function(){var e=[Kw.Nearest,Kw.Linear,Kw.NearestMipmapNearest,Kw.LinearMipmapLinear,Kw.NearestMipmapLinear,Kw.LinearMipmapLinear];return function(t){return e.indexOf(t)>-1}}(),lE=function(){var e=[Kw.Nearest,Kw.Linear];return function(t){return e.indexOf(t)>-1}}(),cE=function(){var e=[Hw.ClampToEdge,Hw.MirroredRepeat,Hw.Repeat];return function(t){return e.indexOf(t)>-1}}(),hE=Symbol("threeTextures"),fE=Symbol("setProperty"),dE=Symbol("sourceSampler"),pE=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i){return(0,de.Z)(this,r),null==(i=null!==i&&void 0!==i?i:{}).minFilter&&(i.minFilter=n?n.minFilter:Kw.LinearMipmapLinear),null==i.magFilter&&(i.magFilter=n?n.magFilter:Kw.Linear),null==i.wrapS&&(i.wrapS=n?n.wrapS:Hw.Repeat),null==i.wrapT&&(i.wrapT=n?n.wrapT:Hw.Repeat),t.call(this,e,i,new Set(n?[n]:[]))}return(0,pe.Z)(r,[{key:hE,get:function(){return console.assert(null!=this[Yw]&&this[Yw].size>0,"Sampler correlated object is undefined"),this[Yw]}},{key:dE,get:function(){return console.assert(null!=this[qw],"Sampler source is undefined"),this[qw]}},{key:"name",get:function(){return this[qw].name||""}},{key:"minFilter",get:function(){return this[dE].minFilter}},{key:"magFilter",get:function(){return this[dE].magFilter}},{key:"wrapS",get:function(){return this[dE].wrapS}},{key:"wrapT",get:function(){return this[dE].wrapT}},{key:"setMinFilter",value:function(e){this[fE]("minFilter",e)}},{key:"setMagFilter",value:function(e){this[fE]("magFilter",e)}},{key:"setWrapS",value:function(e){this[fE]("wrapS",e)}},{key:"setWrapT",value:function(e){this[fE]("wrapT",e)}},{key:fE,value:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var r=this[dE];if(null!=r){if(function(e,t){switch(e){case"minFilter":return uE(t);case"magFilter":return lE(t);case"wrapS":case"wrapT":return cE(t);default:throw new Error('Cannot configure property "'.concat(e,'" on Sampler'))}}(e,t)){r[e]=t;var n,i=(0,ae.Z)(this[hE]);try{for(i.s();!(n=i.n()).done;){var a=n.value;a[e]=t,a.needsUpdate=!0}}catch(o){i.e(o)}finally{i.f()}}this[$w]()}}))}]),r}(Jw),_E=Symbol("image"),mE=Symbol("sampler"),vE=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return(0,de.Z)(this,r),(i=t.call(this,e,a||{},new Set(n?[n]:[])))[mE]=new pE(e,n,o),i[_E]=new iE(e,n,s),i}return(0,pe.Z)(r,[{key:"name",get:function(){return this[qw].name||""},set:function(e){this[qw].name=e}},{key:"sampler",get:function(){return this[mE]}},{key:"source",get:function(){return this[_E]}}]),r}(Jw),gE=Symbol("texture"),yE=Symbol("transform"),bE=Symbol("materials"),wE=Symbol("usage");!function(e){e[e.Base=0]="Base",e[e.MetallicRoughness=1]="MetallicRoughness",e[e.Normal=2]="Normal",e[e.Occlusion=3]="Occlusion",e[e.Emissive=4]="Emissive"}(sE||(sE={}));var EE=function(){function e(t,r,n,i,a,o){if((0,de.Z)(this,e),this[aE]=null,this[oE]={rotation:0,scale:new Vt(1,1),offset:new Vt(0,0)},o&&n){var s=a.textures?a.textures[o.index]:null,u=s&&a.samplers?a.samplers[s.sampler]:null,l=s&&a.images?a.images[s.source]:null;this[yE].rotation=n.rotation,this[yE].scale.copy(n.repeat),this[yE].offset.copy(n.offset),this[gE]=new vE(t,n,s,u,l)}this.onUpdate=t,this[bE]=i,this[wE]=r}return(0,pe.Z)(e,[{key:"texture",get:function(){return this[gE]}},{key:"setTexture",value:function(e){var t=null!=e?e.source[nE]:null,r=Tt;if(this[gE]=e,this[bE]){var n,i=(0,ae.Z)(this[bE]);try{for(i.s();!(n=i.n()).done;){var a=n.value;switch(this[wE]){case sE.Base:a.map=t;break;case sE.MetallicRoughness:r=kt,a.metalnessMap=t,a.roughnessMap=t;break;case sE.Normal:r=kt,a.normalMap=t;break;case sE.Occlusion:r=kt,a.aoMap=t;break;case sE.Emissive:a.emissiveMap=t}a.needsUpdate=!0}}catch(o){i.e(o)}finally{i.f()}}t&&(t.encoding=r,t.rotation=this[yE].rotation,t.repeat=this[yE].scale,t.offset=this[yE].offset),this.onUpdate()}}]),e}();aE=gE,oE=yE;var xE,kE,TE,ME,AE=Symbol("threeMaterials"),OE=Symbol("baseColorTexture"),SE=Symbol("metallicRoughnessTexture"),RE=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i,a){var o;(0,de.Z)(this,r),o=t.call(this,e,i,a),null==i.baseColorFactor&&(i.baseColorFactor=[1,1,1,1]),null==i.roughnessFactor&&(i.roughnessFactor=1),null==i.metallicFactor&&(i.metallicFactor=1);var s=i.baseColorTexture,u=i.metallicRoughnessTexture,l=a.values().next().value,c=l.map,h=l.metalnessMap;return o[OE]=new EE(e,sE.Base,c,a,n,s||null),o[SE]=new EE(e,sE.MetallicRoughness,h,a,n,u||null),o}return(0,pe.Z)(r,[{key:AE,get:function(){return this[Yw]}},{key:"baseColorFactor",get:function(){return this[qw].baseColorFactor}},{key:"metallicFactor",get:function(){return this[qw].metallicFactor}},{key:"roughnessFactor",get:function(){return this[qw].roughnessFactor}},{key:"baseColorTexture",get:function(){return this[OE]}},{key:"metallicRoughnessTexture",get:function(){return this[SE]}},{key:"setBaseColorFactor",value:function(e){var t,r=(0,ae.Z)(this[AE]);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.color.fromArray(e),n.opacity=e[3]}}catch(i){r.e(i)}finally{r.f()}this[qw].baseColorFactor=e,this[$w]()}},{key:"setMetallicFactor",value:function(e){var t,r=(0,ae.Z)(this[AE]);try{for(r.s();!(t=r.n()).done;){t.value.metalness=e}}catch(n){r.e(n)}finally{r.f()}this[qw].metallicFactor=e,this[$w]()}},{key:"setRoughnessFactor",value:function(e){var t,r=(0,ae.Z)(this[AE]);try{for(r.s();!(t=r.n()).done;){t.value.roughness=e}}catch(n){r.e(n)}finally{r.f()}this[qw].roughnessFactor=e,this[$w]()}}]),r}(Jw),CE=Symbol("pbrMetallicRoughness"),PE=Symbol("normalTexture"),DE=Symbol("occlusionTexture"),IE=Symbol("emissiveTexture"),LE=Symbol("backingThreeMaterial"),UE=Symbol("applyAlphaCutoff"),jE=Symbol("lazyLoadGLTFInfo"),NE=Symbol("initialize"),BE=Symbol("getLoadedMaterial"),ZE=Symbol("ensureMaterialIsLoaded"),WE=Symbol("gltfIndex"),FE=Symbol("setActive"),zE=Symbol("variantIndices"),KE=Symbol("isActive"),HE=Symbol("variantSet"),GE=Symbol("modelVariants"),VE=function(e,t){(0,ce.Z)(a,e);var r=(0,he.Z)(a);function a(e,t,n,i,o,s,u){var l,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0;return(0,de.Z)(this,a),(l=r.call(this,e,n,u))[xE]=new Set,l[WE]=i,l[KE]=o,l[GE]=s,null==c?l[NE](t):l[jE]=c,l}return(0,pe.Z)(a,[{key:t,get:function(){return this[Yw].values().next().value}},{key:NE,value:function(e){var t=this[$w],r=this[qw],n=this[Yw];r.extensions&&r.extensions.KHR_materials_pbrSpecularGlossiness&&console.warn("Material ".concat(r.name,' uses a deprecated extension\n          "KHR_materials_pbrSpecularGlossiness", please use\n          "pbrMetallicRoughness" instead. Specular Glossiness materials are\n          currently supported for rendering, but not for our scene-graph API,\n          nor for auto-generation of USDZ for Quick Look.')),null==r.pbrMetallicRoughness&&(r.pbrMetallicRoughness={}),this[CE]=new RE(t,e,r.pbrMetallicRoughness,n),null==r.emissiveFactor&&(r.emissiveFactor=[0,0,0]),null==r.doubleSided&&(r.doubleSided=!1),null==r.alphaMode&&(r.alphaMode="OPAQUE"),null==r.alphaCutoff&&(r.alphaCutoff=.5);var i=r.normalTexture,a=r.occlusionTexture,o=r.emissiveTexture,s=n.values().next().value,u=s.normalMap,l=s.aoMap,c=s.emissiveMap;this[PE]=new EE(t,sE.Normal,u,n,e,i||null),this[DE]=new EE(t,sE.Occlusion,l,n,e,a||null),this[IE]=new EE(t,sE.Emissive,c,n,e,o||null)}},{key:BE,value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this[jE]){e.next=11;break}return e.next=3,this[jE].doLazyLoad();case 3:return t=e.sent,r=t.set,a=t.material,this[Yw]=r,this[NE](this[jE].gltf),this[jE]=void 0,this.ensureLoaded=(0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),e.abrupt("return",a);case 11:return e.abrupt("return",this[Yw].values().next().value);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:ZE,value:function(){if(null!=this[jE])throw new Error('Material "'.concat(this.name,"\" has not been loaded, call 'await\n    myMaterial.ensureLoaded()' before using an unloaded material."))}},{key:"ensureLoaded",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this[BE]();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isLoaded",get:function(){return null==this[jE]}},{key:"isActive",get:function(){return this[KE]}},{key:FE,value:function(e){this[KE]=e}},{key:"name",get:function(){return this[qw].name}},{key:"name",set:function(e){var t=this[qw];if(null!=t&&(t.name=e),null!=this[Yw]){var r,n=(0,ae.Z)(this[Yw]);try{for(n.s();!(r=n.n()).done;){r.value.name=e}}catch(i){n.e(i)}finally{n.f()}}}},{key:"pbrMetallicRoughness",get:function(){return this[ZE](),this[CE]}},{key:"normalTexture",get:function(){return this[ZE](),this[PE]}},{key:"occlusionTexture",get:function(){return this[ZE](),this[DE]}},{key:"emissiveTexture",get:function(){return this[ZE](),this[IE]}},{key:"emissiveFactor",get:function(){return this[ZE](),this[qw].emissiveFactor}},{key:"index",get:function(){return this[WE]}},{key:zE,value:function(){return this[HE]}},{key:"hasVariant",value:function(e){var t=this[GE].get(e);return null!=t&&this[HE].has(t.index)}},{key:"setEmissiveFactor",value:function(e){this[ZE]();var t,r=(0,ae.Z)(this[Yw]);try{for(r.s();!(t=r.n()).done;){t.value.emissive.fromArray(e)}}catch(n){r.e(n)}finally{r.f()}this[qw].emissiveFactor=e,this[$w]()}},{key:UE,value:function(){this[ZE]();var e,t=this[qw],r=(0,ae.Z)(this[Yw]);try{for(r.s();!(e=r.n()).done;){var n=e.value;"MASK"===this[qw].alphaMode?n.alphaTest=t.alphaCutoff:n.alphaTest=void 0,n.needsUpdate=!0}}catch(i){r.e(i)}finally{r.f()}}},{key:"setAlphaCutoff",value:function(e){this[ZE](),this[qw].alphaCutoff=e,this[UE](),this[$w]()}},{key:"getAlphaCutoff",value:function(){return this[ZE](),this[qw].alphaCutoff}},{key:"setDoubleSided",value:function(e){this[ZE]();var t,r=(0,ae.Z)(this[Yw]);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.side=e?2:0,n.needsUpdate=!0}}catch(i){r.e(i)}finally{r.f()}this[qw].doubleSided=e,this[$w]()}},{key:"getDoubleSided",value:function(){return this[ZE](),this[qw].doubleSided}},{key:"setAlphaMode",value:function(e){this[ZE]();var t=function(e,t){e.transparent=t,e.depthWrite=!t};this[qw].alphaMode=e;var r,n=(0,ae.Z)(this[Yw]);try{for(n.s();!(r=n.n()).done;){var i=r.value;t(i,"BLEND"===e),this[UE](),i.needsUpdate=!0}}catch(a){n.e(a)}finally{n.f()}this[$w]()}},{key:"getAlphaMode",value:function(){return this[ZE](),this[qw].alphaMode}}]),a}(Jw,(xE=HE,LE)),XE=Symbol("materials"),YE=Symbol("variantToMaterialMap"),qE=Symbol("modelVariants"),$E=Symbol("mesh"),JE=Symbol("children"),QE=Symbol("initialMaterialIdx"),ex=Symbol("activeMaterialIdx"),tx=(0,pe.Z)((function e(t){(0,de.Z)(this,e),this.name="",this[kE]=new Array,this.name=t}));kE=JE;var rx,nx,ix,ax,ox,sx,ux=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i,a){var o;(0,de.Z)(this,r),(o=t.call(this,e.name))[TE]=new Map,o[ME]=new Map,o[$E]=e;var s=a.gltf,u=a.threeGLTF,l=a.threeObjectMap;o[qE]=i,o.mesh.userData.variantData=i;var c=l.get(e.material);null!=c.materials?o[QE]=o[ex]=c.materials:console.error("Primitive (".concat(e.name,") missing initial material reference."));var h=e.userData.associations||{};if(null==h.meshes)return console.error("Mesh is missing primitive index association"),(0,oe.Z)(o);var f=((s.meshes||[])[h.meshes].primitives||[])[h.primitives];if(null==f)return console.error("Mesh primitive definition is missing."),(0,oe.Z)(o);if(null!=f.material)o[XE].set(f.material,n[f.material]);else{var d=n.findIndex((function(e){return"Default"===e.name}));d>=0?o[XE].set(d,n[d]):console.warn("gltfPrimitive has no material!")}if(f.extensions&&f.extensions.KHR_materials_variants){var p,_=f.extensions.KHR_materials_variants,m=u.parser.json.extensions.KHR_materials_variants.variants,v=(0,ae.Z)(_.mappings);try{for(v.s();!(p=v.n()).done;){var g=p.value,y=n[g.material];o[XE].set(g.material,y);var b,w=(0,ae.Z)(g.variants);try{for(w.s();!(b=w.n()).done;){var E=b.value,x=m[E].name;o[YE].set(E,y),y[zE]().add(E),i.has(x)||i.set(x,{name:x,index:E})}}catch(k){w.e(k)}finally{w.f()}}}catch(k){v.e(k)}finally{v.f()}}return o}return(0,pe.Z)(r,[{key:"mesh",get:function(){return this[$E]}},{key:"setActiveMaterial",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(r=this[XE].get(t))){e.next=6;break}return e.next=4,r[BE]();case 4:this.mesh.material=e.sent,this[ex]=t;case 6:return e.abrupt("return",this.mesh.material);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getActiveMaterial",value:function(){return this[XE].get(this[ex])}},{key:"getMaterial",value:function(e){return this[XE].get(e)}},{key:"enableVariant",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",this.setActiveMaterial(this[QE]));case 2:if(null==this[YE]||!this[qE].has(t)){e.next=5;break}return r=this[qE].get(t),e.abrupt("return",this.enableVariantHelper(r.index));case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"enableVariantHelper",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this[YE]||null==t){e.next=4;break}if(null==(r=this[YE].get(t))){e.next=4;break}return e.abrupt("return",this.setActiveMaterial(r.index));case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"instantiateVariants",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,r,i,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this[YE]){e.next=2;break}return e.abrupt("return");case 2:t=(0,ae.Z)(this[YE].keys()),e.prev=3,t.s();case 5:if((r=t.n()).done){e.next=15;break}if(i=r.value,null==this.mesh.userData.variantMaterials.get(i).material){e.next=9;break}return e.abrupt("continue",13);case 9:return e.next=11,this.enableVariantHelper(i);case 11:null!=(a=e.sent)&&(this.mesh.userData.variantMaterials.get(i).material=a);case 13:e.next=5;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),t.e(e.t0);case 20:return e.prev=20,t.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[3,17,20,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"variantInfo",get:function(){return this[YE]}},{key:"addVariant",value:function(e,t){if(!this.ensureVariantIsUnused(t))return!1;this[qE].has(t)||this[qE].set(t,{name:t,index:this[qE].size});var r=this[qE].get(t).index;return e[zE]().add(r),this[YE].set(r,e),this[XE].set(e.index,e),this.updateVariantUserData(r,e),!0}},{key:"deleteVariant",value:function(e){if(this.variantInfo.has(e)){this.variantInfo.delete(e);var t=this.mesh.userData.variantMaterials;null!=t&&t.delete(e)}}},{key:"updateVariantUserData",value:function(e,t){t[zE]().add(e),this.mesh.userData.variantData=this[qE],this.mesh.userData.variantMaterials=this.mesh.userData.variantMaterials||new Map,this.mesh.userData.variantMaterials.set(e,{material:t[Yw].values().next().value,gltfMaterialIndex:t.index})}},{key:"ensureVariantIsUnused",value:function(e){var t=this[qE].get(e);return null==t||!this.variantInfo.has(t.index)||(console.warn("Primitive cannot add variant '".concat(e,"' for this material, it already exists.")),!1)}}]),r}(tx);TE=XE,ME=YE;var lx=Symbol("materials"),cx=Symbol("hierarchy"),hx=Symbol("roots"),fx=Symbol("primitives"),dx=Symbol("correlatedSceneGraph"),px=Symbol("prepareVariantsForExport"),_x=Symbol("switchVariant"),mx=Symbol("threeScene"),vx=Symbol("materialsFromPoint"),gx=Symbol("materialFromPoint"),yx=Symbol("variantData"),bx=Symbol("availableVariants"),wx=Symbol("modelOnUpdate"),Ex=Symbol("cloneMaterial"),xx=(0,pe.Z)((function e(t,r,n,i){(0,de.Z)(this,e),this.gltf=t,this.gltfElementMap=r,this.mapKey=n,this.doLazyLoad=i})),kx=function(e){function t(e){var r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};(0,de.Z)(this,t),this[rx]=new Array,this[nx]=new Array,this[ix]=new Array,this[ax]=new Array,this[ox]=function(){},this[sx]=new Map,this[wx]=o,this[dx]=e;var s=e.gltf,u=e.threeGLTF,l=e.gltfElementMap;this[mx]=u.scene;var c,h=(0,ae.Z)(s.materials.entries());try{for(h.s();!(c=h.n()).done;){var f=(0,a.Z)(c.value,2),d=f[0],p=f[1],_=l.get(p);null!=_?this[lx].push(new VE(o,s,p,d,!0,this[yx],_)):function(){var e=(s.materials||[])[d],t=d,a=function(){var r=(0,i.Z)((0,n.Z)().mark((function r(){var i,a;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.parser.getDependency("material",t);case 2:return i=r.sent,a=new Set,l.set(e,a),a.add(i),r.abrupt("return",{set:a,material:i});case 7:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();r[lx].push(new VE(o,s,e,d,!1,r[yx],_,new xx(s,l,e,a)))}()}}catch(A){h.e(A)}finally{h.f()}var m,v=new Map,g=new Array,y=(0,ae.Z)(u.scene.children);try{for(y.s();!(m=y.n()).done;){var b=m.value;g.push(b)}}catch(A){y.e(A)}finally{y.f()}for(;g.length>0;){var w=g.pop(),E=null;w instanceof _i?(E=new ux(w,this.materials,this[yx],e),this[fx].push(E)):E=new tx(w.name);var x=v.get(w);null!=x?x[JE].push(E):this[hx].push(E),this[cx].push(E);var k,T=(0,ae.Z)(w.children);try{for(T.s();!(k=T.n()).done;){var M=k.value;g.push(M),v.set(w,E)}}catch(A){T.e(A)}finally{T.f()}}}return(0,pe.Z)(t,[{key:"materials",get:function(){return this[lx]}},{key:e,value:function(){var e=Array.from(this[yx].values());return e.sort((function(e,t){return e.index-t.index})),e.map((function(e){return e.name}))}},{key:"getMaterialByName",value:function(e){var t=this[lx].filter((function(t){return t.name===e}));return t.length>0?t[0]:null}},{key:vx,value:function(e){var t=this;return e.intersectObject(this[mx],!0).map((function(e){var r=t[cx].find((function(t){if(t instanceof ux&&t.mesh===e.object)return!0;return!1}));return null!=r?r.getActiveMaterial():null}))}},{key:gx,value:function(e){var t=this[vx](e);return t.length>0?t[0]:null}},{key:_x,value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,a,o,s,u,l,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,ae.Z)(this[fx]),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=9;break}return a=i.value,e.next=7,a.enableVariant(t);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:o=(0,ae.Z)(this.materials);try{for(o.s();!(s=o.n()).done;)s.value[FE](!1)}catch(n){o.e(n)}finally{o.f()}u=(0,ae.Z)(this[fx]);try{for(u.s();!(l=u.n()).done;)c=l.value,this.materials[c.getActiveMaterial().index][FE](!0)}catch(n){u.e(n)}finally{u.f()}case 21:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:px,value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,r,i,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Array,r=(0,ae.Z)(this[fx]);try{for(r.s();!(i=r.n()).done;)a=i.value,t.push(a.instantiateVariants())}catch(n){r.e(n)}finally{r.f()}return e.next=5,Promise.all(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:Ex,value:function(e,t){var r=this.materials[e];r.isLoaded||console.error("Cloning an unloaded material,\n           call 'material.ensureLoaded() before cloning the material.");var n=r[Yw],i=JSON.parse(JSON.stringify(r[qw]));i.name=t,this[dx].gltf.materials.push(i);var o,s=new Set,u=(0,ae.Z)(n.entries());try{for(u.s();!(o=u.n()).done;){var l=(0,a.Z)(o.value,2),c=l[0],h=l[1].clone();h.name=t+(n.size>1?"_inst"+c:""),s.add(h)}}catch(d){u.e(d)}finally{u.f()}var f=new VE(this[wx],this[dx].gltf,i,this[lx].length,!1,this[yx],s);return this[lx].push(f),f}},{key:"createMaterialInstanceForVariant",value:function(e,t,r){var n,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=null,o=(0,ae.Z)(this[fx]);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=this[yx].get(r);null!=u&&s.variantInfo.has(u.index)||null!=s.getMaterial(e)&&(this.hasVariant(r)||this.createVariant(r),null==a&&(a=this[Ex](e,t)),s.addVariant(a,r))}}catch(f){o.e(f)}finally{o.f()}if(i&&null!=a){a[FE](!0),this.materials[e][FE](!1);var l,c=(0,ae.Z)(this[fx]);try{for(c.s();!(l=c.n()).done;){var h=l.value;h.enableVariant(r)}}catch(f){c.e(f)}finally{c.f()}}return a}},{key:"createVariant",value:function(e){this[yx].has(e)?console.warn("Variant '".concat(e,"'' already exists")):this[yx].set(e,{name:e,index:this[yx].size})}},{key:"hasVariant",value:function(e){return this[yx].has(e)}},{key:"setMaterialToVariant",value:function(e,t){if(null!=this[bx]().find((function(e){return e===t})))if(e<0||e>=this.materials.length)console.error("setMaterialToVariant(): materialIndex is out of bounds.");else{var r,n=(0,ae.Z)(this[fx]);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.getMaterial(e);null!=a&&i.addVariant(a,t)}}catch(o){n.e(o)}finally{n.f()}}else console.warn("Can't add material to '".concat(t,"', the variant does not exist.'"))}},{key:"updateVariantName",value:function(e,t){var r=this[yx].get(e);null!=r&&(r.name=t,this[yx].set(t,r),this[yx].delete(e))}},{key:"deleteVariant",value:function(e){var t=this[yx].get(e);if(null!=t){var r,n=(0,ae.Z)(this.materials);try{for(n.s();!(r=n.n()).done;){var i=r.value;i.hasVariant(e)&&i[HE].delete(t.index)}}catch(s){n.e(s)}finally{n.f()}var a,o=(0,ae.Z)(this[fx]);try{for(o.s();!(a=o.n()).done;){a.value.deleteVariant(t.index)}}catch(s){o.e(s)}finally{o.f()}this[yx].delete(e)}}}]),t}((rx=lx,nx=cx,ix=hx,ax=fx,ox=wx,sx=yx,bx)),Tx=function(e,t,r,n){for(var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n,s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Mx=Symbol("currentGLTF"),Ax=Symbol("model"),Ox=Symbol("getOnUpdateMethod"),Sx=Symbol("textureLoader"),Rx=Symbol("originalGltfJson"),Cx=function(e,t,r,n){for(var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n,s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},Px=Math.PI/32,Dx={basis:[Np(Op(Px,"rad"))],keywords:{auto:[null]}},Ix=Symbol("autoRotateStartTime"),Lx=Symbol("radiansPerSecond"),Ux=Symbol("syncRotationRate"),jx=Symbol("onCameraChange"),Nx=function(e){var t,r,n,i=function(e,i){(0,ce.Z)(o,e);var a=(0,he.Z)(o);function o(){var e;return(0,de.Z)(this,o),(e=a.apply(this,arguments))[t]=new Map,e[r]=function(t){t.forEach((function(t){t instanceof MutationRecord&&"childList"!==t.type||(t.addedNodes.forEach((function(t){e[cv](t)})),t.removedNodes.forEach((function(t){e[hv](t)})),e[zm]())}))},e[n]=new MutationObserver(e[uv]),e}return(0,pe.Z)(o,[{key:"connectedCallback",value:function(){(0,se.Z)((0,ue.Z)(o.prototype),"connectedCallback",this).call(this);for(var e=0;e<this.children.length;++e)this[cv](this.children[e]);var t=self.ShadyDOM;null==t?this[lv].observe(this,{childList:!0}):this[lv]=t.observeChildren(this,this[uv])}},{key:"disconnectedCallback",value:function(){(0,se.Z)((0,ue.Z)(o.prototype),"disconnectedCallback",this).call(this);var e=self.ShadyDOM;null==e?this[lv].disconnect():e.unobserveChildren(this[lv])}},{key:i,value:function(e,t){(0,se.Z)((0,ue.Z)(o.prototype),Km,this).call(this,e,t);var r=this[Fm],n=r.annotationRenderer,i=r.getCamera();r.shouldRender()&&(r.updateHotspots(i.position),n.domElement.style.display="",n.render(r,i))}},{key:"updateHotspot",value:function(e){var t=this[sv].get(e.name);null!=t&&(t.updatePosition(e.position),t.updateNormal(e.normal),this[zm]())}},{key:"positionAndNormalFromPoint",value:function(e,t){var r=this[Fm],n=r.getNDC(e,t),i=r.positionAndNormalFromPoint(n);if(null==i)return null;fv.copy(r.target.matrixWorld).invert();var a=ev(i.position.applyMatrix4(fv));dv.getNormalMatrix(fv);var o=ev(i.normal.applyNormalMatrix(dv)),s=null;return null!=i.uv&&(s=function(e){return{u:e.x,v:e.y,toString:function(){return"".concat(this.u," ").concat(this.v)}}}(i.uv)),{position:a,normal:o,uv:s}}},{key:cv,value:function(e){if(e instanceof HTMLElement&&0===e.slot.indexOf("hotspot")){var t=this[sv].get(e.slot);null!=t?t.increment():(t=new Wp({name:e.slot,position:e.dataset.position,normal:e.dataset.normal}),this[sv].set(e.slot,t),this[Fm].addHotspot(t)),this[Fm].queueRender()}}},{key:hv,value:function(e){if(e instanceof HTMLElement){var t=this[sv].get(e.slot);t&&(t.decrement()&&(this[Fm].removeHotspot(t),this[sv].delete(e.slot)),this[Fm].queueRender())}}}]),o}(e,(t=sv,r=uv,n=lv,Km));return i}(function(e){var t,r,a,o,s=function(e,s){(0,ce.Z)(l,e);var u=(0,he.Z)(l);function l(){var e;return(0,de.Z)(this,l),(e=u.apply(this,arguments))[t]=void 0,e[r]=null,e[a]=new tc,e[o]=null,e.variantName=null,e.orientation="0 0 0",e.scale="1 1 1",e}return(0,pe.Z)(l,[{key:"model",get:function(){return this[Ax]}},{key:"availableVariants",get:function(){return this.model?this.model[bx]():[]}},{key:"originalGltfJson",get:function(){return this[Rx]}},{key:s,value:function(){var e=this;return function(){e[zm]()}}},{key:"createTexture",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,a,o=this,s=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:"image/png",i=this[Mx],e.next=4,new Promise((function(e){return o[Sx].load(t,e)}));case 4:if(a=e.sent,i&&a){e.next=7;break}return e.abrupt("return",null);case 7:return a.encoding=Tt,a.wrapS=xe,a.wrapT=xe,a.flipY=!1,a.userData.mimeType=r,e.abrupt("return",new vE(this[Ox](),a));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updated",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,a,o,s,u,c,h;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,se.Z)((0,ue.Z)(l.prototype),"updated",this).call(this,t),!t.has("variantName")){e.next=9;break}if(r=this[Mx],i=this.variantName,null==r){e.next=9;break}return e.next=7,this[Ax][_x](i);case 7:this[zm](),this.dispatchEvent(new CustomEvent("variant-applied"));case 9:(t.has("orientation")||t.has("scale"))&&(a=this[Fm].modelContainer,o=Sp(this.orientation)[0].terms,s=Zp(o[0]).number,u=Zp(o[1]).number,c=Zp(o[2]).number,a.quaternion.setFromEuler(new un(u,c,s,"YXZ")),h=Sp(this.scale)[0].terms,a.scale.set(h[0].number,h[1].number,h[2].number),this[Fm].updateBoundingBox(),this[Fm].updateShadow(),this[Vm].arRenderer.onUpdateScene(),this[zm]());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:Hm,value:function(){(0,se.Z)((0,ue.Z)(l.prototype),Hm,this).call(this);var e=this[Fm].currentGLTF;if(null!=e){var t=e.correlatedSceneGraph;null!=t&&e!==this[Mx]&&(this[Ax]=new kx(t,this[Ox]()),this[Rx]=JSON.parse(JSON.stringify(t.gltf))),"variants"in e.userData&&this.requestUpdate("variantName")}this[Mx]=e,this.dispatchEvent(new CustomEvent("scene-graph-ready"))}},{key:"exportScene",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,a=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this[Fm],e.abrupt("return",new Promise(function(){var e=(0,i.Z)((0,n.Z)().mark((function e(i){var o,s,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={binary:!0,onlyVisible:!0,maxTextureSize:1/0,forcePowerOfTwoTextures:!1,includeCustomExtensions:!1,embedImages:!0},Object.assign(o,t),o.animations=r.animations,o.truncateDrawRange=!0,s=r.shadow,u=!1,null!=s&&(u=s.visible,s.visible=!1),e.next=9,a[Ax][px]();case 9:(new lw).register((function(e){return new Xw(e)})).parse(r.modelContainer.children[0],(function(e){return i(new Blob([o.binary?e:JSON.stringify(e)],{type:o.binary?"application/octet-stream":"application/json"}))}),o),null!=s&&(s.visible=u);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"materialFromPoint",value:function(e,t){var r=this[Fm],n=r.getNDC(e,t);return r.raycaster.setFromCamera(n,r.getCamera()),this[Ax][gx](r.raycaster)}}]),l}(e,(t=Ax,r=Mx,a=Sx,o=Rx,Ox));return Tx([me({type:String,attribute:"variant-name"})],s.prototype,"variantName",void 0),Tx([me({type:String,attribute:"orientation"})],s.prototype,"orientation",void 0),Tx([me({type:String,attribute:"scale"})],s.prototype,"scale",void 0),s}(function(e){var t,r,n,i=function(e,i){(0,ce.Z)(o,e);var a=(0,he.Z)(o);function o(){var e;return(0,de.Z)(this,o),(e=a.apply(this,arguments)).autoRotate=!1,e.autoRotateDelay=3e3,e.rotationPerSecond="auto",e[t]=performance.now(),e[r]=0,e[n]=function(t){e.autoRotate&&"user-interaction"===t.detail.source&&(e[Ix]=performance.now())},e}return(0,pe.Z)(o,[{key:"connectedCallback",value:function(){(0,se.Z)((0,ue.Z)(o.prototype),"connectedCallback",this).call(this),this.addEventListener("camera-change",this[jx]),this[Ix]=performance.now()}},{key:"disconnectedCallback",value:function(){(0,se.Z)((0,ue.Z)(o.prototype),"disconnectedCallback",this).call(this),this.removeEventListener("camera-change",this[jx]),this[Ix]=performance.now()}},{key:"updated",value:function(e){(0,se.Z)((0,ue.Z)(o.prototype),"updated",this).call(this,e),e.has("autoRotate")&&(this[Ix]=performance.now())}},{key:i,value:function(e){this[Lx]=e[0]}},{key:Km,value:function(e,t){if((0,se.Z)((0,ue.Z)(o.prototype),Km,this).call(this,e,t),this.autoRotate&&this[Qm]()&&!this[Vm].isPresenting){var r=Math.min(t,e-this[Ix]-this.autoRotateDelay);r>0&&(this[Fm].yaw=this.turntableRotation+this[Lx]*r*.001)}}},{key:"turntableRotation",get:function(){return this[Fm].yaw}},{key:"resetTurntableRotation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this[Fm].yaw=e}}]),o}(e,(t=Ix,r=Lx,Ux));return n=jx,Cx([me({type:Boolean,attribute:"auto-rotate"})],i.prototype,"autoRotate",void 0),Cx([me({type:Number,attribute:"auto-rotate-delay"})],i.prototype,"autoRotateDelay",void 0),Cx([Ty({intrinsics:Dx,updateHandler:Ux}),me({type:String,attribute:"rotation-per-second"})],i.prototype,"rotationPerSecond",void 0),i}(function(e){var t,r,a,o=function(e,o){(0,ce.Z)(u,e);var s=(0,he.Z)(u);function u(){var e;return(0,de.Z)(this,u),(e=s.apply(this,arguments)).environmentImage=null,e.skyboxImage=null,e.shadowIntensity=0,e.shadowSoftness=1,e.exposure=1,e[t]=null,e[r]=null,e[a]=function(t){t.element===(0,le.Z)(e)&&e[a_]()},e}return(0,pe.Z)(u,[{key:"connectedCallback",value:function(){(0,se.Z)((0,ue.Z)(u.prototype),"connectedCallback",this).call(this),this[Vm].loader.addEventListener("preload",this[s_])}},{key:"disconnectedCallback",value:function(){(0,se.Z)((0,ue.Z)(u.prototype),"disconnectedCallback",this).call(this),this[Vm].loader.removeEventListener("preload",this[s_])}},{key:"updated",value:function(e){(0,se.Z)((0,ue.Z)(u.prototype),"updated",this).call(this,e),e.has("shadowIntensity")&&(this[Fm].setShadowIntensity(.5*this.shadowIntensity),this[zm]()),e.has("shadowSoftness")&&(this[Fm].setShadowSoftness(this.shadowSoftness),this[zm]()),e.has("exposure")&&(this[Fm].exposure=this.exposure,this[zm]()),(e.has("environmentImage")||e.has("skyboxImage"))&&this[$m]()&&this[a_]()}},{key:"hasBakedShadow",value:function(){return this[Fm].bakedShadows.size>0}},{key:o,value:function(){(0,se.Z)((0,ue.Z)(u.prototype),Hm,this).call(this),null!=this[n_]&&this[i_](this[n_])}},{key:a_,value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,r,a,o,s,u,l=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.skyboxImage,r=this.environmentImage,null!=this[o_]&&(this[o_](),this[o_]=null),null!=(a=this[Vm].textureUtils)){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,new Promise(function(){var e=(0,i.Z)((0,n.Z)().mark((function e(i,o){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.generateEnvironmentMapAndSkybox(vp(t),r,{progressTracker:l[Xm]}),l[o_]=function(){return o(s)},e.t0=i,e.next=5,s;case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());case 8:o=e.sent,s=o.environmentMap,u=o.skybox,this[Fm].background=null!=u?u.name===s.name?s:u:null,this[i_](s),this[Fm].dispatchEvent({type:"envmap-update"}),e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(5),!(e.t0 instanceof Error)){e.next=21;break}throw this[i_](null),e.t0;case 21:case"end":return e.stop()}}),e,this,[[5,16]])})));return function(){return e.apply(this,arguments)}}()},{key:i_,value:function(e){this[Fm].environment!==e&&(this[n_]=e,this[Fm].environment=this[n_],this.dispatchEvent(new CustomEvent("environment-change")),this[zm]())}}]),u}(e,(t=n_,r=o_,a=s_,Hm));return r_([me({type:String,attribute:"environment-image"})],o.prototype,"environmentImage",void 0),r_([me({type:String,attribute:"skybox-image"})],o.prototype,"skyboxImage",void 0),r_([me({type:Number,attribute:"shadow-intensity"})],o.prototype,"shadowIntensity",void 0),r_([me({type:Number,attribute:"shadow-softness"})],o.prototype,"shadowSoftness",void 0),r_([me({type:Number})],o.prototype,"exposure",void 0),o}(function(e){var t,r,o,s,u,l,c,h,f,d,p,_,m,v,g,y,b,w,E=function(e,E){(0,ce.Z)(k,e);var x=(0,he.Z)(k);function k(){var e;return(0,de.Z)(this,k),(e=x.apply(this,arguments)).cameraControls=!1,e.cameraOrbit=Gy,e.cameraTarget=Vy,e.fieldOfView=Xy,e.minCameraOrbit="auto",e.maxCameraOrbit="auto",e.minFieldOfView="auto",e.maxFieldOfView="auto",e.interactionPromptThreshold=3e3,e.interactionPromptStyle=Qy,e.interactionPrompt=$y,e.interactionPolicy=eb,e.orbitSensitivity=1,e.touchAction=tb,e.disableZoom=!1,e.enablePan=!1,e.interpolationDecay=50,e.bounds="legacy",e[t]=e.shadowRoot.querySelector(".interaction-prompt"),e[r]=e.shadowRoot.querySelector("#prompt"),e[o]=[e.shadowRoot.querySelector("#finger0"),e.shadowRoot.querySelector("#finger1")],e[s]=e.shadowRoot.querySelector(".pan-target"),e[u]=1/0,e[l]=0,e[c]=1/0,e[h]=!1,e[f]=!1,e[d]=new By(e[Fm].camera,e[Zm],e[Fm]),e[p]=new Gc,e[_]=!1,e[m]=!1,e[v]=!1,e[g]=function(){isFinite(e[Ob])||(e[Ob]=performance.now()),e.interactionPrompt!==Jy||e[Tb]||(e[kb]=!0)},e[y]=function(){e.interactionPrompt===Jy&&(e[kb]=!1,e[pb].classList.remove("visible"),e[Mb]=1/0,e[Ob]=1/0)},e[b]=function(t){var r=t.source;e[gb](),e[zm](),r===jy&&(e[Tb]=!0,e[vb]()),e.dispatchEvent(new CustomEvent("camera-change",{detail:{source:r}}))},e[w]=function(t){"pointer-change-start"===t.type?e[Bm].classList.add("pointer-tumbling"):e[Bm].classList.remove("pointer-tumbling")},e}return(0,pe.Z)(k,[{key:"getCameraOrbit",value:function(){var e=this[Sb];return{theta:e.theta,phi:e.phi,radius:e.radius,toString:function(){return"".concat(this.theta,"rad ").concat(this.phi,"rad ").concat(this.radius,"m")}}}},{key:"getCameraTarget",value:function(){return ev(this[Vm].isPresenting?this[Vm].arRenderer.target:this[Fm].getTarget())}},{key:"getFieldOfView",value:function(){return this[fb].getFieldOfView()}},{key:"getMinimumFieldOfView",value:function(){return this[fb].options.minimumFieldOfView}},{key:"getMaximumFieldOfView",value:function(){return this[fb].options.maximumFieldOfView}},{key:"getIdealAspect",value:function(){return this[Fm].idealAspect}},{key:"jumpCameraToGoal",value:function(){this[Rb]=!0,this.requestUpdate(Rb,!1)}},{key:"resetInteractionPrompt",value:function(){this[Ab]=0,this[Mb]=1/0,this[Tb]=!1,this[kb]=this.interactionPrompt===$y&&this.cameraControls}},{key:"zoom",value:function(e){var t=new WheelEvent("wheel",{deltaY:-30*e});this[Zm].dispatchEvent(t)}},{key:"connectedCallback",value:function(){(0,se.Z)((0,ue.Z)(k.prototype),"connectedCallback",this).call(this),this[fb].addEventListener("change",this[Eb]),this[fb].addEventListener("pointer-change-start",this[xb]),this[fb].addEventListener("pointer-change-end",this[xb])}},{key:"disconnectedCallback",value:function(){(0,se.Z)((0,ue.Z)(k.prototype),"disconnectedCallback",this).call(this),this[fb].removeEventListener("change",this[Eb]),this[fb].removeEventListener("pointer-change-start",this[xb]),this[fb].removeEventListener("pointer-change-end",this[xb])}},{key:"updated",value:function(e){var t=this;(0,se.Z)((0,ue.Z)(k.prototype),"updated",this).call(this,e);var r=this[fb],n=this[Fm],i=this[Zm];if(e.has("cameraControls")&&(this.cameraControls?(r.enableInteraction(),this.interactionPrompt===$y&&(this[kb]=!0),i.addEventListener("focus",this[wb]),i.addEventListener("blur",this[bb])):(i.removeEventListener("focus",this[wb]),i.removeEventListener("blur",this[bb]),r.disableInteraction(),this[vb]()),this[Zm].setAttribute("aria-label",this[Pm])),e.has("disableZoom")&&(r.disableZoom=this.disableZoom),e.has("enablePan")&&(r.enablePan=this.enablePan),e.has("bounds")&&(n.tightBounds="tight"===this.bounds),(e.has("interactionPrompt")||e.has("cameraControls")||e.has("src"))&&(this.interactionPrompt===$y&&this.cameraControls&&!this[Tb]?this[kb]=!0:this[vb]()),e.has("interactionPolicy")){var a=this.interactionPolicy;r.applyOptions({interactionPolicy:a})}if(e.has("touchAction")){var o=this.touchAction;r.applyOptions({touchAction:o}),r.updateTouchActionStyle()}e.has("orbitSensitivity")&&(r.sensitivity=this.orbitSensitivity),e.has("interpolationDecay")&&(r.setDamperDecayTime(this.interpolationDecay),n.setTargetDamperDecayTime(this.interpolationDecay)),!0===this[Rb]&&Promise.resolve().then((function(){r.jumpToGoal(),n.jumpToGoal(),t[Rb]=!1}))}},{key:"updateFraming",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,r,i,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this[Fm],r=t.adjustedFoV(t.framedFoVDeg),e.next=4,t.updateFraming();case 4:return i=t.adjustedFoV(t.framedFoVDeg),a=this[fb].getFieldOfView()/r,this[fb].setFieldOfView(i*a),this[Pb]=!0,this.requestUpdate("maxFieldOfView"),this.requestUpdate("fieldOfView"),this.requestUpdate("minCameraOrbit"),this.requestUpdate("maxCameraOrbit"),this.requestUpdate("cameraOrbit"),e.next=15,this.updateComplete;case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"interact",value:function(e,t,r){var n=this,i=this[Zm],o=this[mb];if("1"!==o[0].style.opacity){var s=new Array;s.push({x:Fy(t.x),y:Fy(t.y)});var u=[{x:s[0].x(0),y:s[0].y(0)}];null!=r&&(s.push({x:Fy(r.x),y:Fy(r.y)}),u.push({x:s[1].x(0),y:s[1].y(0)}));var l=performance.now(),c=this[Fm],h=c.width,f=c.height,d=function(e){var t,r=(0,ae.Z)(u.entries());try{for(r.s();!(t=r.n()).done;){var n=(0,a.Z)(t.value,2),s=n[0],l=n[1],c=o[s].style;c.transform="translateX(".concat(h*l.x,"px) translateY(").concat(f*l.y,"px)"),"pointerdown"===e?c.opacity="1":"pointerup"===e&&(c.opacity="0");var d={pointerId:s-5678,pointerType:"touch",target:i,clientX:h*l.x,clientY:f*l.y,altKey:!0};i.dispatchEvent(new PointerEvent(e,d))}}catch(p){r.e(p)}finally{r.f()}},p=function(){var e=0;"hidden"===document.visibilityState?e=performance.now()-l:l=performance.now()-e};document.addEventListener("visibilitychange",p),d("pointerdown"),requestAnimationFrame((function t(){if(n[fb].isUserChange){var r,i=(0,ae.Z)(n[mb]);try{for(i.s();!(r=i.n()).done;){r.value.style.opacity="0"}}catch(v){i.e(v)}finally{i.f()}d("pointercancel")}else{var o,c=Math.min(1,(performance.now()-l)/e),h=(0,ae.Z)(u.entries());try{for(h.s();!(o=h.n()).done;){var f=(0,a.Z)(o.value,2),_=f[0],m=f[1];m.x=s[_].x(c),m.y=s[_].y(c)}}catch(v){h.e(v)}finally{h.f()}d("pointermove"),c<1?requestAnimationFrame(t):(d("pointerup"),document.removeEventListener("visibilitychange",p))}}))}else console.warn("interact() failed because an existing interaction is running.")}},{key:E,value:function(e){var t=this[Fm];t.framedFoVDeg=180*e[0]/Math.PI,this[fb].setFieldOfView(t.adjustedFoV(t.framedFoVDeg))}},{key:Db,value:function(e){var t=this[fb];if(this[Pb]){var r=this.getCameraOrbit(),n=r.theta,i=r.phi;e[0]=n,e[1]=i,this[Pb]=!1}t.isUserChange=!1,t.setOrbit(e[0],e[1],e[2])}},{key:Ub,value:function(e){this[fb].applyOptions({minimumAzimuthalAngle:e[0],minimumPolarAngle:e[1],minimumRadius:e[2]}),this.jumpCameraToGoal()}},{key:jb,value:function(e){this[fb].applyOptions({maximumAzimuthalAngle:e[0],maximumPolarAngle:e[1],maximumRadius:e[2]}),this[yb](e[2]),this.jumpCameraToGoal()}},{key:Nb,value:function(e){this[fb].applyOptions({minimumFieldOfView:180*e[0]/Math.PI}),this.jumpCameraToGoal()}},{key:Bb,value:function(e){var t=this[Fm].adjustedFoV(180*e[0]/Math.PI);this[fb].applyOptions({maximumFieldOfView:t}),this.jumpCameraToGoal()}},{key:Lb,value:function(e){var t=(0,a.Z)(e,3),r=t[0],n=t[1],i=t[2];this[Vm].arRenderer.isPresenting||this[Fm].setTarget(r,n,i),this[fb].isUserChange=!1,this[Vm].arRenderer.updateTarget()}},{key:Km,value:function(e,t){if((0,se.Z)((0,ue.Z)(k.prototype),Km,this).call(this,e,t),!this[Vm].isPresenting&&this[Qm]()){var r=this[fb],n=this[Fm],i=performance.now();if(this[kb]){var a=this.interactionPrompt===$y?this[Um]:this[Ob];this.loaded&&i>a+this.interactionPromptThreshold&&(this[kb]=!1,this[Mb]=i,this[pb].classList.add("visible"))}if(isFinite(this[Mb])&&this.interactionPromptStyle===Qy){var o=(i-this[Mb])/5e3%1,s=Ky(o),u=Hy(o);if(this[_b].style.opacity="".concat(u),s!==this[Ab]){var l=s*n.width*.05,c=(s-this[Ab])*Math.PI/16;this[_b].style.transform="translateX(".concat(l,"px)"),r.isUserChange=!1,r.adjustOrbit(c,0,0),this[Ab]=s}}if(r.update(e,t),n.updateTarget(t)){var h=r.isUserChange?jy:Ny;this[Eb]({type:"change",source:h})}}}},{key:vb,value:function(){this[kb]=!1,this[pb].classList.remove("visible"),this[Mb]=1/0}},{key:yb,value:function(e){var t=2*Math.max(this[Fm].boundingSphere.radius,e);this[fb].updateNearFar(0,t)}},{key:gb,value:function(){var e=this[fb].getCameraSpherical(this[Sb]),t=e.theta,r=e.phi,n=(4+Math.floor((t%hb+cb)/ub))%4,i=Math.floor(r/lb),a=Yy[n],o=qy[i];this[Lm]("View from stage ".concat(o).concat(a))}},{key:Pm,get:function(){return(0,se.Z)((0,ue.Z)(k.prototype),Pm,this)+(this.cameraControls?". Use mouse, touch or arrow keys to move.":"")}},{key:Gm,value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,a,o,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this[fb],i=this[Fm],a=i.adjustedFoV(i.framedFoVDeg),(0,se.Z)((0,ue.Z)(k.prototype),Gm,this).call(this,t),o=i.adjustedFoV(i.framedFoVDeg)/a,s=r.getFieldOfView()*(isFinite(o)?o:1),r.updateAspect(this[Fm].aspect),this.requestUpdate("maxFieldOfView",this.maxFieldOfView),e.next=10,this.updateComplete;case 10:this[fb].setFieldOfView(s),this.jumpCameraToGoal();case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:Hm,value:function(){(0,se.Z)((0,ue.Z)(k.prototype),Hm,this).call(this),this[Cb]?this[Pb]=!0:this[Cb]=!0,this.requestUpdate("maxFieldOfView",this.maxFieldOfView),this.requestUpdate("fieldOfView",this.fieldOfView),this.requestUpdate("minCameraOrbit",this.minCameraOrbit),this.requestUpdate("maxCameraOrbit",this.maxCameraOrbit),this.requestUpdate("cameraOrbit",this.cameraOrbit),this.requestUpdate("cameraTarget",this.cameraTarget),this.jumpCameraToGoal()}}]),k}(e,(t=pb,r=_b,o=mb,s=db,u=Ob,l=Ab,c=Mb,h=Tb,f=kb,d=fb,p=Sb,_=Rb,m=Cb,v=Pb,Ib));return g=wb,y=bb,b=Eb,w=xb,zy([me({type:Boolean,attribute:"camera-controls"})],E.prototype,"cameraControls",void 0),zy([Ty({intrinsics:ib,observeEffects:!0,updateHandler:Db}),me({type:String,attribute:"camera-orbit",hasChanged:function(){return!0}})],E.prototype,"cameraOrbit",void 0),zy([Ty({intrinsics:sb,observeEffects:!0,updateHandler:Lb}),me({type:String,attribute:"camera-target",hasChanged:function(){return!0}})],E.prototype,"cameraTarget",void 0),zy([Ty({intrinsics:rb,observeEffects:!0,updateHandler:Ib}),me({type:String,attribute:"field-of-view",hasChanged:function(){return!0}})],E.prototype,"fieldOfView",void 0),zy([Ty({intrinsics:ab,updateHandler:Ub}),me({type:String,attribute:"min-camera-orbit",hasChanged:function(){return!0}})],E.prototype,"minCameraOrbit",void 0),zy([Ty({intrinsics:ob,updateHandler:jb}),me({type:String,attribute:"max-camera-orbit",hasChanged:function(){return!0}})],E.prototype,"maxCameraOrbit",void 0),zy([Ty({intrinsics:nb,updateHandler:Nb}),me({type:String,attribute:"min-field-of-view",hasChanged:function(){return!0}})],E.prototype,"minFieldOfView",void 0),zy([Ty({intrinsics:rb,updateHandler:Bb}),me({type:String,attribute:"max-field-of-view",hasChanged:function(){return!0}})],E.prototype,"maxFieldOfView",void 0),zy([me({type:Number,attribute:"interaction-prompt-threshold"})],E.prototype,"interactionPromptThreshold",void 0),zy([me({type:String,attribute:"interaction-prompt-style"})],E.prototype,"interactionPromptStyle",void 0),zy([me({type:String,attribute:"interaction-prompt"})],E.prototype,"interactionPrompt",void 0),zy([me({type:String,attribute:"interaction-policy"})],E.prototype,"interactionPolicy",void 0),zy([me({type:Number,attribute:"orbit-sensitivity"})],E.prototype,"orbitSensitivity",void 0),zy([me({type:String,attribute:"touch-action"})],E.prototype,"touchAction",void 0),zy([me({type:Boolean,attribute:"disable-zoom"})],E.prototype,"disableZoom",void 0),zy([me({type:Boolean,attribute:"enable-pan"})],E.prototype,"enablePan",void 0),zy([me({type:Number,attribute:"interpolation-decay"})],E.prototype,"interpolationDecay",void 0),zy([me({type:String,attribute:"bounds"})],E.prototype,"bounds",void 0),E}(function(e){var t,r,a,o,s,u,l,c,h,f,d=function(e,d){(0,ce.Z)(_,e);var p=(0,he.Z)(_);function _(){var e;return(0,de.Z)(this,_),(e=p.apply(this,arguments)).ar=!1,e.arScale="auto",e.arPlacement="floor",e.arModes=Tg,e.iosSrc=null,e.xrEnvironment=!1,e[t]=!1,e[r]=e.shadowRoot.querySelector(".ar-button"),e[a]=document.createElement("a"),e[o]=new Set,e[s]=Sg,e[u]=!1,e[l]=function(t){t.preventDefault(),e.activateAR()},e[c]=function(t){var r=t.status;r!==__&&e[Vm].arRenderer.presentedScene!==e[Fm]||(e.setAttribute("ar-status",r),e.dispatchEvent(new CustomEvent("ar-status",{detail:{status:r}})),r===__?e.removeAttribute("ar-tracking"):r===m_&&e.setAttribute("ar-tracking",y_))},e[h]=function(t){var r=t.status;e.setAttribute("ar-tracking",r),e.dispatchEvent(new CustomEvent("ar-tracking",{detail:{status:r}}))},e[f]=function(t){"_apple_ar_quicklook_button_tapped"==t.data&&e.dispatchEvent(new CustomEvent("quick-look-button-tapped"))},e}return(0,pe.Z)(_,[{key:"canActivateAR",get:function(){return this[Lg]!==Sg}},{key:"connectedCallback",value:function(){(0,se.Z)((0,ue.Z)(_.prototype),"connectedCallback",this).call(this),this[Vm].arRenderer.addEventListener("status",this[Zg]),this.setAttribute("ar-status",__),this[Vm].arRenderer.addEventListener("tracking",this[Wg]),this[jg].addEventListener("message",this[Fg])}},{key:"disconnectedCallback",value:function(){(0,se.Z)((0,ue.Z)(_.prototype),"disconnectedCallback",this).call(this),this[Vm].arRenderer.removeEventListener("status",this[Zg]),this[Vm].arRenderer.removeEventListener("tracking",this[Wg]),this[jg].removeEventListener("message",this[Fg])}},{key:"update",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,se.Z)((0,ue.Z)(_.prototype),"update",this).call(this,t),t.has("arScale")&&(this[Fm].canScale="fixed"!==this.arScale),t.has("arPlacement")&&(this[Fm].updateShadow(),this[zm]()),t.has("ar")||t.has("arModes")||t.has("src")||t.has("iosSrc")){e.next=5;break}return e.abrupt("return");case 5:t.has("arModes")&&(this[Ug]=kg(this.arModes)),this[zg]();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"activateAR",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this[Lg],e.next=e.t0===Mg?3:e.t0===Og?5:e.t0===Ag?8:10;break;case 3:return this[Dg](),e.abrupt("break",12);case 5:return e.next=7,this[Cg]();case 7:return e.abrupt("break",12);case 8:return this[Pg](),e.abrupt("break",12);case 10:return console.warn("No AR Mode can be activated. This is probably due to missing configuration or device capabilities"),e.abrupt("break",12);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:d,value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,r,i,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this[Lg]=Sg,!this.ar){e.next=33;break}if(null==this.src){e.next=32;break}t=(0,ae.Z)(this[Ug]),e.prev=4,t.s();case 6:if((r=t.n()).done){e.next=24;break}if(i=r.value,e.t0="webxr"===i&&wf&&!wg,!e.t0){e.next=13;break}return e.next=12,this[Vm].arRenderer.supportsPresentation();case 12:e.t0=e.sent;case 13:if(!e.t0){e.next=16;break}return this[Lg]=Og,e.abrupt("break",24);case 16:if("scene-viewer"!==i||!Af||Eg){e.next=19;break}return this[Lg]=Ag,e.abrupt("break",24);case 19:if("quick-look"!==i||!kf){e.next=22;break}return this[Lg]=Mg,e.abrupt("break",24);case 22:e.next=6;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(4),t.e(e.t1);case 29:return e.prev=29,t.f(),e.finish(29);case 32:!this.canActivateAR&&null!=this.iosSrc&&kf&&(this[Lg]=Mg);case 33:this.canActivateAR?(this[Rg].classList.add("enabled"),this[Rg].addEventListener("click",this[Bg])):this[Rg].classList.contains("enabled")&&(this[Rg].removeEventListener("click",this[Bg]),this[Rg].classList.remove("enabled"),a=g_,this.setAttribute("ar-status",a),this.dispatchEvent(new CustomEvent("ar-status",{detail:{status:a}})));case 34:case"end":return e.stop()}}),e,this,[[4,26,29,32]])})));return function(){return e.apply(this,arguments)}}()},{key:Cg,value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Attempting to present in AR with WebXR..."),e.next=3,this[Kg]();case 3:return e.prev=3,this[Rg].removeEventListener("click",this[Bg]),(t=this[Vm].arRenderer).placeOnWall="wall"===this.arPlacement,e.next=9,t.present(this[Fm],this.xrEnvironment);case 9:e.next=22;break;case 11:return e.prev=11,e.t0=e.catch(3),console.warn("Error while trying to present in AR with WebXR"),console.error(e.t0),e.next=17,this[Vm].arRenderer.stopPresenting();case 17:return wg=!0,console.warn("Falling back to next ar-mode"),e.next=21,this[zg]();case 21:this.activateAR();case 22:return e.prev=22,this[zg](),e.finish(22);case 25:case"end":return e.stop()}}),e,this,[[3,11,22,25]])})));return function(){return e.apply(this,arguments)}}()},{key:Kg,value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.loaded){e.next=6;break}return this[Ng]=!0,this[jm](),e.next=5,Mp(this,"load");case 5:this[Ng]=!1;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:$m,value:function(){return(0,se.Z)((0,ue.Z)(_.prototype),$m,this).call(this)||this[Ng]}},{key:Pg,value:function(){var e=this,t=self.location.toString(),r=new URL(t),n=new URL(this.src,t),i=new URLSearchParams(n.search);if(r.hash=xg,i.set("mode","ar_preferred"),i.has("disable_occlusion")||i.set("disable_occlusion","true"),"fixed"===this.arScale&&i.set("resizable","false"),"wall"===this.arPlacement&&i.set("enable_vertical_placement","true"),i.has("sound")){var a=new URL(i.get("sound"),t);i.set("sound",a.toString())}if(i.has("link")){var o=new URL(i.get("link"),t);i.set("link",o.toString())}var s="intent://arvr.google.com/scene-viewer/1.0?".concat(i.toString()+"&file="+encodeURIComponent(n.toString()),"#Intent;scheme=https;package=com.google.ar.core;action=android.intent.action.VIEW;S.browser_fallback_url=").concat(encodeURIComponent(r.toString()),";end;");self.addEventListener("hashchange",(function(){self.location.hash===xg&&(Eg=!0,self.history.back(),console.warn("Error while trying to present in AR with Scene Viewer"),console.warn("Falling back to next ar-mode"),e[zg]())}),{once:!0}),this[jg].setAttribute("href",s),console.log("Attempting to present in AR with Scene Viewer..."),this[jg].click()}},{key:Dg,value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,r,i,a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!this.iosSrc,this[Rg].classList.remove("enabled"),!t){e.next=8;break}return e.next=5,this.prepareUSDZ();case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=this.iosSrc;case 9:r=e.t0,i=new URL(r,self.location.toString()),"fixed"===this.arScale&&(i.hash&&(i.hash+="&"),i.hash+="allowsContentScaling=0"),(a=this[jg]).setAttribute("rel","ar"),o=document.createElement("img"),a.appendChild(o),a.setAttribute("href",i.toString()),t&&a.setAttribute("download","model.usdz"),console.log("Attempting to present in AR with Quick Look..."),a.click(),a.removeChild(o),t&&URL.revokeObjectURL(r),this[Rg].classList.add("enabled");case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"prepareUSDZ",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,r,i,a,o,s,u,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this[Xm].beginActivity(),e.next=3,this[Kg]();case 3:return r=this[Fm],i=r.shadow,a=!1,null!=i&&(a=i.visible,i.visible=!1),t(.2),o=new ag,e.next=11,o.parse(r.modelContainer);case 11:return s=e.sent,u=new Blob([s],{type:"model/vnd.usdz+zip"}),l=URL.createObjectURL(u),t(1),null!=i&&(i.visible=a),e.abrupt("return",l);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),_}(e,(t=Ig,r=Rg,a=jg,o=Ug,s=Lg,u=Ng,l=Bg,c=Zg,h=Wg,f=Fg,zg));return bg([me({type:Boolean,attribute:"ar"})],d.prototype,"ar",void 0),bg([me({type:String,attribute:"ar-scale"})],d.prototype,"arScale",void 0),bg([me({type:String,attribute:"ar-placement"})],d.prototype,"arPlacement",void 0),bg([me({type:String,attribute:"ar-modes"})],d.prototype,"arModes",void 0),bg([me({type:String,attribute:"ios-src"})],d.prototype,"iosSrc",void 0),bg([me({type:Boolean,attribute:"xr-environment"})],d.prototype,"xrEnvironment",void 0),d}(function(e){var t,r,a,o,s,u,l,c,h,f,d,p,_,m,v=function(e,v,g){(0,ce.Z)(b,e);var y=(0,he.Z)(b);function b(){var e;(0,de.Z)(this,b);for(var n=arguments.length,i=new Array(n),v=0;v<n;v++)i[v]=arguments[v];(e=y.call.apply(y,[this].concat(i))).poster=null,e.reveal=zb,e.loading=Hb,e.generateSchema=!1,e.seamlessPoster=!1,e[t]=!1,e[r]=!1,e[a]=0,e[o]=null,e[s]=e.shadowRoot.querySelector(".slot.poster"),e[u]=e.shadowRoot.querySelector("#default-poster"),e[l]=e.shadowRoot.querySelector("#default-progress-bar > .bar"),e[c]=e.shadowRoot.querySelector("#default-progress-bar > .mask"),e[h]=e[$b].getAttribute("aria-label"),e[f]=bp((function(t){var r=e[Xb].parentNode;requestAnimationFrame((function(){e[Yb].style.opacity="".concat(.2*(1-t)),e[Xb].style.transform="scaleX(".concat(t,")"),0===t&&(r.removeChild(e[Xb]),r.appendChild(e[Xb])),1===t?e[Xb].classList.add("hide"):e[Xb].classList.remove("hide")}))}),100),e[d]=function(){e.reveal!==Kb&&e.reveal!==zb&&e.dismissPoster()},e[p]=function(t){if(e.reveal!==Kb)switch(t.keyCode){case 32:case 13:e.dismissPoster()}},e[_]=function(t){var r=t.detail.totalProgress;e[rw]=Math.max(r,e[rw]),1===r&&(e[tw].flush(),!e[Jm]()||null==e[Jb]&&e.reveal!==zb||e[Qb]()),e[tw](r),e.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:r}}))},e[m]=function(){e[nw]=!0;var t=e.getRootNode();t&&t.activeElement===(0,le.Z)(e)&&e[Zm].focus();var r=e[$b];r.setAttribute("aria-hidden","true"),r.tabIndex=-1,e.dispatchEvent(new CustomEvent("poster-dismissed"))};var g=self.ModelViewerElement||{},w=g.dracoDecoderLocation||Wb;lp.setDRACODecoderLocation(w);var E=g.ktx2TranscoderLocation||Fb;return lp.setKTX2TranscoderLocation(E),g.meshoptDecoderLocation&&lp.setMeshoptDecoderLocation(g.meshoptDecoderLocation),e}return(0,pe.Z)(b,[{key:"dismissPoster",value:function(){this[Jm]()?this[Qb]():(this[Jb]=Vb,this[jm]())}},{key:"showPoster",value:function(){var e=this[qb],t=this[$b];t.removeAttribute("tabindex"),t.removeAttribute("aria-hidden"),e.classList.add("show");var r=this.modelIsVisible;this[ew]=!1,this[Cm](r),this[nw]=!1}},{key:"getDimensions",value:function(){return ev(this[Fm].size)}},{key:"connectedCallback",value:function(){(0,se.Z)((0,ue.Z)(b.prototype),"connectedCallback",this).call(this),this[qb].addEventListener("click",this[ow]),this[qb].addEventListener("keydown",this[sw]),this[Xm].addEventListener("progress",this[uw])}},{key:"disconnectedCallback",value:function(){(0,se.Z)((0,ue.Z)(b.prototype),"disconnectedCallback",this).call(this),this[qb].removeEventListener("click",this[ow]),this[qb].removeEventListener("keydown",this[sw]),this[Xm].removeEventListener("progress",this[uw])}},{key:"updated",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,se.Z)((0,ue.Z)(b.prototype),"updated",this).call(this,t),t.has("poster")&&null!=this.poster&&(this[$b].style.backgroundImage="url(".concat(this.poster,")")),t.has("alt")&&this[$b].setAttribute("aria-label",this[Dm]),(t.has("reveal")||t.has("loading"))&&this[jm](),t.has("generateSchema")&&(!0===this.generateSchema?this[Fm].updateSchema(this.src):this[Fm].updateSchema(null)),t.has("seamlessPoster")&&(!0===this.seamlessPoster?this[qb].classList.add("quick"):this[qb].classList.remove("quick"));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:v,value:function(){return!!this.src&&(null!=this[Jb]||this.loading===Gb||this.reveal===zb&&this[Rm])}},{key:Jm,value:function(){return!!this.src&&(0,se.Z)((0,ue.Z)(b.prototype),Jm,this).call(this)&&1===this[rw]}},{key:g,value:function(){var e=this;this[Jb]=null;var t=this[qb];if(t.classList.contains("show")){var r=this.modelIsVisible;this[ew]=!0,this[Cm](r),requestAnimationFrame((function(){t.classList.remove("show"),!0===e.seamlessPoster?e[iw]():t.addEventListener("transitionend",e[iw],{once:!0})}))}else this[nw]=!0}},{key:qm,value:function(){return(0,se.Z)((0,ue.Z)(b.prototype),qm,this).call(this)&&this[ew]}},{key:Qm,value:function(){return(0,se.Z)((0,ue.Z)(b.prototype),Qm,this).call(this)&&this[nw]}},{key:jm,value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this[rw]=0,!0===this.generateSchema&&this[Fm].updateSchema(this.src),null!=this[Fm].currentGLTF&&null!=this.src&&this[$m]()||this.showPoster(),this[Lm]("Loading"),e.next=6,(0,se.Z)((0,ue.Z)(b.prototype),jm,this).call(this);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"dracoDecoderLocation",get:function(){return lp.getDRACODecoderLocation()},set:function(e){lp.setDRACODecoderLocation(e)}},{key:"ktx2TranscoderLocation",get:function(){return lp.getKTX2TranscoderLocation()},set:function(e){lp.setKTX2TranscoderLocation(e)}},{key:"meshoptDecoderLocation",get:function(){return lp.getMeshoptDecoderLocation()},set:function(e){lp.setMeshoptDecoderLocation(e)}},{key:"mapURLs",value:function(e){rm.singleton.loader[op].manager.setURLModifier(e)}}]),b}(e,(t=ew,r=nw,a=rw,o=Jb,s=qb,u=$b,l=Xb,c=Yb,h=aw,f=tw,d=ow,p=sw,_=uw,$m),(m=iw,Qb));return Zb([me({type:String})],v.prototype,"poster",void 0),Zb([me({type:String})],v.prototype,"reveal",void 0),Zb([me({type:String})],v.prototype,"loading",void 0),Zb([me({type:Boolean,attribute:"generate-schema"})],v.prototype,"generateSchema",void 0),Zb([me({type:Boolean,attribute:"seamless-poster"})],v.prototype,"seamlessPoster",void 0),v}(function(e){var t,r=function(e,r){(0,ce.Z)(o,e);var a=(0,he.Z)(o);function o(){var e;(0,de.Z)(this,o);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=a.call(this,n)).autoplay=!1,e.animationName=void 0,e.animationCrossfadeDuration=300,e[t]=!0,e[Fm].subscribeMixerEvent("loop",(function(t){var r=t.action._loopCount;e.dispatchEvent(new CustomEvent("loop",{detail:{count:r}}))})),e[Fm].subscribeMixerEvent("finished",(function(){e[av]=!0,e.dispatchEvent(new CustomEvent("finished"))})),e}return(0,pe.Z)(o,[{key:"availableAnimations",get:function(){return this.loaded?this[Fm].animationNames:[]}},{key:"duration",get:function(){return this[Fm].duration}},{key:"paused",get:function(){return this[av]}},{key:"currentTime",get:function(){return this[Fm].animationTime},set:function(e){this[Fm].animationTime=e,this[zm]()}},{key:"timeScale",get:function(){return this[Fm].animationTimeScale},set:function(e){this[Fm].animationTimeScale=e}},{key:"pause",value:function(){this[av]||(this[av]=!0,this.dispatchEvent(new CustomEvent("pause")))}},{key:"play",value:function(e){this.availableAnimations.length>0&&(this[av]=!1,this[iv](e),this.dispatchEvent(new CustomEvent("play")))}},{key:r,value:function(){(0,se.Z)((0,ue.Z)(o.prototype),Hm,this).call(this),this[av]=!0,this.autoplay&&this.play()}},{key:Km,value:function(e,t){(0,se.Z)((0,ue.Z)(o.prototype),Km,this).call(this,e,t),this[av]||!this[Qm]()&&!this[Vm].isPresenting||(this[Fm].updateAnimation(t/nv),this[zm]())}},{key:"updated",value:function(e){(0,se.Z)((0,ue.Z)(o.prototype),"updated",this).call(this,e),e.has("autoplay")&&this.autoplay&&this.play(),e.has("animationName")&&this[iv]()}},{key:jm,value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this[Fm].stopAnimation(),e.abrupt("return",(0,se.Z)((0,ue.Z)(o.prototype),jm,this).call(this));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:iv,value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ov,r=null!==(e=t.repetitions)&&void 0!==e?e:1/0,n=t.pingpong?_t:1===r?dt:pt;this[Fm].playAnimation(this.animationName,this.animationCrossfadeDuration/nv,n,r),this[av]&&(this[Fm].updateAnimation(0),this[zm]())}}]),o}(e,(t=av,Hm));return rv([me({type:Boolean})],r.prototype,"autoplay",void 0),rv([me({type:String,attribute:"animation-name"})],r.prototype,"animationName",void 0),rv([me({type:Number,attribute:"animation-crossfade-duration"})],r.prototype,"animationCrossfadeDuration",void 0),r}(function(e){var t,r=Symbol("endPolyfillCoordination"),n=function(e){(0,ce.Z)(i,e);var n=(0,he.Z)(i);function i(){var e;return(0,de.Z)(this,i),(e=n.apply(this,arguments))[t]=null,e}return(0,pe.Z)(i,[{key:"connectedCallback",value:function(){(0,se.Z)((0,ue.Z)(i.prototype),"connectedCallback",this)&&(0,se.Z)((0,ue.Z)(i.prototype),"connectedCallback",this).call(this),null==this[r]&&(this[r]=function(e){if(null==e.shadowRoot||e.hasAttribute("data-js-focus-visible"))return function(){};if(!self.applyFocusVisiblePolyfill){var t=function(){self.applyFocusVisiblePolyfill(e.shadowRoot)};return self.addEventListener("focus-visible-polyfill-ready",t,{once:!0}),function(){self.removeEventListener("focus-visible-polyfill-ready",t)}}return self.applyFocusVisiblePolyfill(e.shadowRoot),function(){}}(this))}},{key:"disconnectedCallback",value:function(){(0,se.Z)((0,ue.Z)(i.prototype),"disconnectedCallback",this)&&(0,se.Z)((0,ue.Z)(i.prototype),"disconnectedCallback",this).call(this),null!=this[r]&&(this[r](),this[r]=null)}}]),i}(e);return t=r,n}(tv)))))))));customElements.define("model-viewer",Nx);var Bx=__webpack_require__.p+"static/media/loading2.fe03c37c16fd8ca79209.gif";var Zx=function(e){var t=L();return(0,X.jsxs)("div",{className:"border-2 ml-12 mt-5 mb-12 flex flex-col items-center rounded-lg  w-47 md:w-71 shadow-2xl",children:[(0,X.jsx)("button",{onDoubleClick:function(){return t("/nftPage/"+e.data.tokenId)},children:(0,X.jsx)("model-viewer",{style:{height:"190px"},src:e.data.image,poster:Bx,"ios-src":"",alt:"A 3D model of an astronaut","shadow-intensity":"1","camera-controls":!0,"auto-rotate":!0,ar:!0})}),(0,X.jsx)("div",{className:"text-white w-full p-10  rounded-lg pt-5 -mt-20",children:(0,X.jsx)("p",{className:"display-inline",children:e.data.name})})]})},Wx=JSON.parse('{"L":"0xBF3457CC13616D3bCFeEDf8Ce4619489a1BBF872","M":[{"type":"constructor","payable":false,"inputs":[]},{"type":"event","anonymous":false,"name":"Approval","inputs":[{"type":"address","name":"owner","indexed":true},{"type":"address","name":"approved","indexed":true},{"type":"uint256","name":"tokenId","indexed":true}]},{"type":"event","anonymous":false,"name":"ApprovalForAll","inputs":[{"type":"address","name":"owner","indexed":true},{"type":"address","name":"operator","indexed":true},{"type":"bool","name":"approved","indexed":false}]},{"type":"event","anonymous":false,"name":"TokenListedSuccess","inputs":[{"type":"uint256","name":"tokenId","indexed":true},{"type":"address","name":"owner","indexed":false},{"type":"address","name":"seller","indexed":false},{"type":"uint256","name":"price","indexed":false},{"type":"bool","name":"currentlyListed","indexed":false}]},{"type":"event","anonymous":false,"name":"Transfer","inputs":[{"type":"address","name":"from","indexed":true},{"type":"address","name":"to","indexed":true},{"type":"uint256","name":"tokenId","indexed":true}]},{"type":"function","name":"approve","constant":false,"payable":false,"inputs":[{"type":"address","name":"to"},{"type":"uint256","name":"tokenId"}],"outputs":[]},{"type":"function","name":"balanceOf","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"address","name":"owner"}],"outputs":[{"type":"uint256"}]},{"type":"function","name":"createToken","constant":false,"stateMutability":"payable","payable":true,"inputs":[{"type":"string","name":"tokenURI"},{"type":"uint256","name":"price"}],"outputs":[{"type":"uint256"}]},{"type":"function","name":"executeSale","constant":false,"stateMutability":"payable","payable":true,"inputs":[{"type":"uint256","name":"tokenId"}],"outputs":[]},{"type":"function","name":"getAllNFTs","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"tuple[]","components":[{"type":"uint256","name":"tokenId"},{"type":"address","name":"owner"},{"type":"address","name":"seller"},{"type":"uint256","name":"price"},{"type":"bool","name":"currentlyListed"}]}]},{"type":"function","name":"getApproved","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint256","name":"tokenId"}],"outputs":[{"type":"address"}]},{"type":"function","name":"getCurrentToken","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getLatestIdToListedToken","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"tuple","components":[{"type":"uint256","name":"tokenId"},{"type":"address","name":"owner"},{"type":"address","name":"seller"},{"type":"uint256","name":"price"},{"type":"bool","name":"currentlyListed"}]}]},{"type":"function","name":"getListPrice","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getListedTokenForId","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint256","name":"tokenId"}],"outputs":[{"type":"tuple","components":[{"type":"uint256","name":"tokenId"},{"type":"address","name":"owner"},{"type":"address","name":"seller"},{"type":"uint256","name":"price"},{"type":"bool","name":"currentlyListed"}]}]},{"type":"function","name":"getMyNFTs","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"tuple[]","components":[{"type":"uint256","name":"tokenId"},{"type":"address","name":"owner"},{"type":"address","name":"seller"},{"type":"uint256","name":"price"},{"type":"bool","name":"currentlyListed"}]}]},{"type":"function","name":"isApprovedForAll","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"address","name":"owner"},{"type":"address","name":"operator"}],"outputs":[{"type":"bool"}]},{"type":"function","name":"name","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"string"}]},{"type":"function","name":"ownerOf","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint256","name":"tokenId"}],"outputs":[{"type":"address"}]},{"type":"function","name":"safeTransferFrom","constant":false,"payable":false,"inputs":[{"type":"address","name":"from"},{"type":"address","name":"to"},{"type":"uint256","name":"tokenId"}],"outputs":[]},{"type":"function","name":"safeTransferFrom","constant":false,"payable":false,"inputs":[{"type":"address","name":"from"},{"type":"address","name":"to"},{"type":"uint256","name":"tokenId"},{"type":"bytes","name":"data"}],"outputs":[]},{"type":"function","name":"setApprovalForAll","constant":false,"payable":false,"inputs":[{"type":"address","name":"operator"},{"type":"bool","name":"approved"}],"outputs":[]},{"type":"function","name":"supportsInterface","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"bytes4","name":"interfaceId"}],"outputs":[{"type":"bool"}]},{"type":"function","name":"symbol","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"string"}]},{"type":"function","name":"tokenURI","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint256","name":"tokenId"}],"outputs":[{"type":"string"}]},{"type":"function","name":"transferFrom","constant":false,"payable":false,"inputs":[{"type":"address","name":"from"},{"type":"address","name":"to"},{"type":"uint256","name":"tokenId"}],"outputs":[]},{"type":"function","name":"updateListPrice","constant":false,"stateMutability":"payable","payable":true,"inputs":[{"type":"uint256","name":"_listPrice"}],"outputs":[]}]}'),Fx=__webpack_require__(4569),zx=__webpack_require__.n(Fx);function Kx(){var e=(0,t.useState)([{price:"10",tokenId:"sampleData1",seller:"0xe81Bf5A757C4f7F82a2F23b1e59bE45c33c5b13",owner:"0xe81Bf5A757C4f7F82a2F23b1e59bE45c33c5b13",image:"https://obdyqwaozpesveqoazrp.supabase.co/storage/v1/object/public/oxy/reflective-sphere.gltf",name:"NFT 1",description:"First 3D NFT"},{price:"10",tokenId:"sampleData2",seller:"0xe81Bf5A757C4f7F82a2F23b1e59bE45c33c5b13",owner:"0xe81Bf5A757C4f7F82a2F23b1e59bE45c33c5b13",image:"https://obdyqwaozpesveqoazrp.supabase.co/storage/v1/object/public/oxy/Astronaut.glb",name:"NFT 2",description:"First 3D NFT"}]),r=(0,a.Z)(e,2),o=r[0],s=r[1],u=(0,t.useState)(!1),l=(0,a.Z)(u,2),c=l[0],h=l[1];function f(){return f=(0,i.Z)((0,n.Z)().mark((function e(){var t,r,a,o,u,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=__webpack_require__(400),r=new t.providers.Web3Provider(window.ethereum),a=r.getSigner(),o=new t.Contract(Wx.L,Wx.M,a),e.next=6,o.getAllNFTs();case 6:return u=e.sent,e.next=9,Promise.all(u.map(function(){var e=(0,i.Z)((0,n.Z)().mark((function e(r){var i,a,s,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.tokenURI(r.tokenId);case 2:return i=e.sent,e.next=5,zx().get(i);case 5:return a=(a=e.sent).data,s=t.utils.formatUnits(r.price.toString(),"ether"),u={price:s,tokenId:r.tokenId.toNumber(),seller:r.seller,owner:r.owner,image:a.image,name:a.name,description:a.description},e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:l=e.sent,h(!0),s(l);case 12:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}return c||function(){f.apply(this,arguments)}(),(0,X.jsxs)("div",{children:[(0,X.jsx)(Y,{}),(0,X.jsx)("div",{className:"flex flex-col place-items-center mt-20",children:(0,X.jsx)("div",{className:"flex  mt-5 justify-between flex-wrap max-w-screen-xl text-center",children:o.map((function(e,t){return(0,X.jsx)(Zx,{data:e},t)}))})})]})}var Hx=__webpack_require__.p+"static/media/loading1.eea5682b6759a28ee51f.gif";function Gx(){var e=(0,t.useState)([]),r=(0,a.Z)(e,2),o=r[0],s=r[1],u=(0,t.useState)(!1),l=(0,a.Z)(u,2),c=l[0],h=l[1],f=(0,t.useState)(!1),d=(0,a.Z)(f,2),p=d[0],_=d[1],m=(0,t.useState)(""),v=(0,a.Z)(m,2),g=v[0],y=v[1],b=(0,t.useState)(!1),w=(0,a.Z)(b,2),E=w[0],x=w[1],k=(0,t.useState)("0"),T=(0,a.Z)(k,2),M=T[0],A=T[1];function O(){return O=(0,i.Z)((0,n.Z)().mark((function e(t){var r,a,o,u,l,c,f,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=__webpack_require__(400),a=0,o=new r.providers.Web3Provider(window.ethereum),u=o.getSigner(),e.next=6,u.getAddress();case 6:return null!=(l=e.sent)&&(h(!0),x(!0)),c=new r.Contract(Wx.L,Wx.M,u),e.next=11,c.getMyNFTs();case 11:return f=e.sent,e.next=14,Promise.all(f.map(function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var i,o,s,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.tokenURI(t.tokenId);case 2:return i=e.sent,e.next=5,zx().get(i);case 5:return o=(o=e.sent).data,s=r.utils.formatUnits(t.price.toString(),"ether"),u={price:s,tokenId:t.tokenId.toNumber(),seller:t.seller,owner:t.owner,image:o.image,name:o.name,description:o.description},a+=Number(s),e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:d=e.sent,h(!1),s(d),_(!0),y(l),A(a.toPrecision(3));case 20:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}var S=U().tokenId;return p||function(e){O.apply(this,arguments)}(S),(0,X.jsxs)("div",{className:"profileClass",style:{minHeight:"100vh"},children:[(0,X.jsx)(Y,{}),(0,X.jsxs)("div",{className:"profileClass",children:[(0,X.jsx)("div",{className:"flex text-center flex-col mt-11 md:text-2xl text-white",children:(0,X.jsxs)("div",{className:"mb-5",children:[(0,X.jsx)("h2",{className:"font-bold",children:"Wallet Address"}),g]})}),(0,X.jsxs)("div",{className:"flex flex-row text-center justify-center mt-10 md:text-2xl text-white",children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("h2",{className:"font-bold",children:"No. of NFTs"}),o.length]}),(0,X.jsxs)("div",{className:"ml-20",children:[(0,X.jsx)("h2",{className:"font-bold",children:"Total Value"}),M," ETH"]})]}),(0,X.jsxs)("div",{className:"flex flex-col text-center items-center mt-11 text-white",children:[(0,X.jsx)("h2",{className:"font-bold",children:"Your NFTs"}),(0,X.jsx)("div",{className:"flex justify-center flex-wrap max-w-screen-xl",children:o.map((function(e,t){return(0,X.jsx)(Zx,{data:e},t)}))}),(0,X.jsx)("div",{className:"flex flex-col text-center items-center mt-11",children:1==c?(0,X.jsx)("img",{src:Hx,width:"100",height:"50"}):""}),(0,X.jsx)("div",{className:"mt-10 text-xl",children:1==E?"":"Oops, No NFT data to display (Are you Connected?)"})]})]})]})}var Vx=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(Dh){a(Dh)}}function s(e){try{u(n.throw(e))}catch(Dh){a(Dh)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Xx=function(e){var t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Vx(void 0,void 0,void 0,(0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(__webpack_require__.t.bind(__webpack_require__,4255,23));case 2:return e.next=4,(r=e.sent).fetch.apply(r,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))}:fetch),function(){return t.apply(void 0,arguments)}},Yx=__webpack_require__(8415);function qx(e,t,r,n){return qx="undefined"!==typeof Reflect&&Reflect.set?Reflect.set:function(e,t,r,n){var i,a=(0,Yx.Z)(e,t);if(a){if((i=Object.getOwnPropertyDescriptor(a,t)).set)return i.set.call(n,r),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(n,t)){if(!i.writable)return!1;i.value=r,Object.defineProperty(n,t,i)}else(0,fe.Z)(n,t,r);return!0},qx(e,t,r,n)}function $x(e,t,r,n,i){if(!qx(e,t,r,n||e)&&i)throw new Error("failed to set property");return r}var Jx,Qx=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",o=arguments.length>2?arguments[2]:void 0;return(0,de.Z)(this,r),i=t.call(this,e),$x((n=(0,le.Z)(i),(0,ue.Z)(r.prototype)),"name",a,n,!0),i.context=o,i}return(0,pe.Z)(r)}((0,ie.Z)(Error)),ek=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){return(0,de.Z)(this,r),t.call(this,"Failed to send a request to the Edge Function","FunctionsFetchError",e)}return(0,pe.Z)(r)}(Qx),tk=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){return(0,de.Z)(this,r),t.call(this,"Relay Error invoking the Edge Function","FunctionsRelayError",e)}return(0,pe.Z)(r)}(Qx),rk=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){return(0,de.Z)(this,r),t.call(this,"Edge Function returned a non-2xx status code","FunctionsHttpError",e)}return(0,pe.Z)(r)}(Qx),nk=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(Dh){a(Dh)}}function s(e){try{u(n.throw(e))}catch(Dh){a(Dh)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},ik=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.headers,i=void 0===n?{}:n,a=r.customFetch;(0,de.Z)(this,e),this.url=t,this.headers=i,this.fetch=Xx(a)}return(0,pe.Z)(e,[{key:"setAuth",value:function(e){this.headers.Authorization="Bearer ".concat(e)}},{key:"invoke",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return nk(this,void 0,void 0,(0,n.Z)().mark((function i(){var a,o,s,u,l,c,h,f;return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=r.headers,o=r.body,s={},o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&("undefined"!==typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",u=o):"string"===typeof o?(s["Content-Type"]="text/plain",u=o):"undefined"!==typeof FormData&&o instanceof FormData?u=o:(s["Content-Type"]="application/json",u=JSON.stringify(o))),n.next=6,this.fetch("".concat(this.url,"/").concat(e),{method:"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),a),body:u}).catch((function(e){throw new ek(e)}));case 6:if(l=n.sent,!(c=l.headers.get("x-relay-error"))||"true"!==c){n.next=10;break}throw new tk(l);case 10:if(l.ok){n.next=12;break}throw new rk(l);case 12:if("application/json"!==(h=(null!==(t=l.headers.get("Content-Type"))&&void 0!==t?t:"text/plain").split(";")[0].trim())){n.next=19;break}return n.next=16,l.json();case 16:f=n.sent,n.next=34;break;case 19:if("application/octet-stream"!==h){n.next=25;break}return n.next=22,l.blob();case 22:f=n.sent,n.next=34;break;case 25:if("multipart/form-data"!==h){n.next=31;break}return n.next=28,l.formData();case 28:f=n.sent,n.next=34;break;case 31:return n.next=33,l.text();case 33:f=n.sent;case 34:return n.abrupt("return",{data:f,error:null});case 37:return n.prev=37,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 40:case"end":return n.stop()}}),i,this,[[0,37]])})))}}]),e}(),ak=__webpack_require__(4255),ok=__webpack_require__.n(ak),sk=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(Dh){a(Dh)}}function s(e){try{u(n.throw(e))}catch(Dh){a(Dh)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},uk=function(){function e(t){(0,de.Z)(this,e),this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.allowEmpty=t.allowEmpty,t.fetch?this.fetch=t.fetch:"undefined"===typeof fetch?this.fetch=ok():this.fetch=fetch}return(0,pe.Z)(e,[{key:"throwOnError",value:function(){return this.shouldThrowOnError=!0,this}},{key:"then",value:function(e,t){var r=this;"undefined"===typeof this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");var i=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((function(e){return sk(r,void 0,void 0,(0,n.Z)().mark((function t(){var r,i,a,o,s,u,l,c,h,f,d,p,_,m,v;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=void 0,u=void 0,l=void 0,c=e.status,h=e.statusText,!e.ok){t.next=17;break}if(f=null===(r=this.headers.Prefer)||void 0===r?void 0:r.split(",").includes("return=minimal"),"HEAD"===this.method||f){t.next=12;break}return t.next=10,e.text();case 10:(d=t.sent)&&(u="text/csv"===this.headers.Accept||this.headers.Accept&&-1!==this.headers.Accept.indexOf("application/vnd.pgrst.plan+text")?d:JSON.parse(d));case 12:p=null===(i=this.headers.Prefer)||void 0===i?void 0:i.match(/count=(exact|planned|estimated)/),_=null===(a=e.headers.get("content-range"))||void 0===a?void 0:a.split("/"),p&&_&&_.length>1&&(l=parseInt(_[1])),t.next=24;break;case 17:return t.next=19,e.text();case 19:m=t.sent;try{s=JSON.parse(m)}catch(ox){s={message:m}}if(s&&this.allowEmpty&&(null===(o=null===s||void 0===s?void 0:s.details)||void 0===o?void 0:o.includes("Results contain 0 rows"))&&(s=void 0,c=200,h="OK"),!s||!this.shouldThrowOnError){t.next=24;break}throw s;case 24:return v={error:s,data:u,count:l,status:c,statusText:h},t.abrupt("return",v);case 26:case"end":return t.stop()}}),t,this)})))}));return this.shouldThrowOnError||(i=i.catch((function(e){return{error:{message:"FetchError: ".concat(e.message),details:"",hint:"",code:e.code||""},data:void 0,count:void 0,status:400,statusText:"Bad Request"}}))),i.then(e,t)}}]),e}(),lk=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){return(0,de.Z)(this,r),t.apply(this,arguments)}return(0,pe.Z)(r,[{key:"select",value:function(e){var t=!1,r=(null!==e&&void 0!==e?e:"*").split("").map((function(e){return/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)})).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}},{key:"order",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.ascending,n=void 0===r||r,i=t.nullsFirst,a=t.foreignTable,o=a?"".concat(a,".order"):"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,"".concat(s?"".concat(s,","):"").concat(e,".").concat(n?"asc":"desc").concat(void 0===i?"":i?".nullsfirst":".nullslast")),this}},{key:"limit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.foreignTable,n="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(n,"".concat(e)),this}},{key:"range",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.foreignTable,i="undefined"===typeof n?"offset":"".concat(n,".offset"),a="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(i,"".concat(e)),this.url.searchParams.set(a,"".concat(t-e+1)),this}},{key:"abortSignal",value:function(e){return this.signal=e,this}},{key:"single",value:function(){return this.headers.Accept="application/vnd.pgrst.object+json",this}},{key:"maybeSingle",value:function(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}},{key:"csv",value:function(){return this.headers.Accept="text/csv",this}},{key:"geojson",value:function(){return this.headers.Accept="application/geo+json",this}},{key:"explain",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.analyze,r=void 0!==t&&t,n=e.verbose,i=void 0!==n&&n,a=e.settings,o=void 0!==a&&a,s=e.buffers,u=void 0!==s&&s,l=e.wal,c=void 0!==l&&l,h=e.format,f=void 0===h?"text":h,d=[r?"analyze":null,i?"verbose":null,o?"settings":null,u?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=this.headers.Accept;return this.headers.Accept="application/vnd.pgrst.plan+".concat(f,'; for="').concat(p,'"; options=').concat(d,";"),this}},{key:"rollback",value:function(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}}]),r}(uk),ck=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){return(0,de.Z)(this,r),t.apply(this,arguments)}return(0,pe.Z)(r,[{key:"not",value:function(e,t,r){return this.url.searchParams.append(e,"not.".concat(t,".").concat(r)),this}},{key:"or",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.foreignTable,n=r?"".concat(r,".or"):"or";return this.url.searchParams.append(n,"(".concat(e,")")),this}},{key:"eq",value:function(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}},{key:"neq",value:function(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}},{key:"gt",value:function(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}},{key:"gte",value:function(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}},{key:"lt",value:function(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}},{key:"lte",value:function(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}},{key:"like",value:function(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}},{key:"ilike",value:function(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}},{key:"is",value:function(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}},{key:"in",value:function(e,t){var r=t.map((function(e){return"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)})).join(",");return this.url.searchParams.append(e,"in.(".concat(r,")")),this}},{key:"contains",value:function(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}},{key:"containedBy",value:function(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}},{key:"rangeLt",value:function(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}},{key:"rangeGt",value:function(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}},{key:"rangeGte",value:function(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}},{key:"rangeLte",value:function(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}},{key:"rangeAdjacent",value:function(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}},{key:"overlaps",value:function(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}},{key:"textSearch",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.config,i=r.type,a="";"plain"===i?a="pl":"phrase"===i?a="ph":"websearch"===i&&(a="w");var o=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(o,".").concat(t)),this}},{key:"filter",value:function(e,t,r){return this.url.searchParams.append(e,"".concat(t,".").concat(r)),this}},{key:"match",value:function(e){var t=this;return Object.entries(e).forEach((function(e){var r=(0,a.Z)(e,2),n=r[0],i=r[1];t.url.searchParams.append(n,"eq.".concat(i))})),this}}]),r}(lk),hk=function(){function e(t,r){var n=r.headers,i=void 0===n?{}:n,a=r.schema,o=r.fetch;(0,de.Z)(this,e),this.url=t,this.headers=i,this.schema=a,this.fetch=o}return(0,pe.Z)(e,[{key:"select",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.head,n=void 0!==r&&r,i=t.count,a=n?"HEAD":"GET",o=!1,s=(null!==e&&void 0!==e?e:"*").split("").map((function(e){return/\s/.test(e)&&!o?"":('"'===e&&(o=!o),e)})).join("");return this.url.searchParams.set("select",s),i&&(this.headers.Prefer="count=".concat(i)),new ck({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}},{key:"insert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.count,n="POST",i=[],a=e;if(r&&i.push("count=".concat(r)),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),Array.isArray(e)){var o=e.reduce((function(e,t){return e.concat(Object.keys(t))}),[]);if(o.length>0){var s=(0,ne.Z)(new Set(o)).map((function(e){return'"'.concat(e,'"')}));this.url.searchParams.set("columns",s.join(","))}}return new ck({method:n,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}},{key:"upsert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onConflict,n=t.count,i=t.ignoreDuplicates,a=void 0!==i&&i,o="POST",s=["resolution=".concat(a?"ignore":"merge","-duplicates")];void 0!==r&&this.url.searchParams.set("on_conflict",r);var u=e;return n&&s.push("count=".concat(n)),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new ck({method:o,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.count,n="PATCH",i=[],a=e;return r&&i.push("count=".concat(r)),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new ck({method:n,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.count,r="DELETE",n=[];return t&&n.push("count=".concat(t)),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new ck({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}]),e}(),fk={"X-Client-Info":"postgrest-js/".concat("1.0.0-rc.4")},dk=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.headers,i=void 0===n?{}:n,a=r.schema,o=r.fetch;(0,de.Z)(this,e),this.url=t,this.headers=Object.assign(Object.assign({},fk),i),this.schema=a,this.fetch=o}return(0,pe.Z)(e,[{key:"from",value:function(e){var t=new URL("".concat(this.url,"/").concat(e));return new hk(t,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}},{key:"rpc",value:function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.head,s=void 0!==o&&o,u=i.count,l=new URL("".concat(this.url,"/rpc/").concat(e));s?(t="HEAD",Object.entries(n).forEach((function(e){var t=(0,a.Z)(e,2),r=t[0],n=t[1];l.searchParams.append(r,"".concat(n))}))):(t="POST",r=n);var c=Object.assign({},this.headers);return u&&(c.Prefer="count=".concat(u)),new ck({method:t,url:l,headers:c,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}}]),e}();!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Jx||(Jx={}));var pk,_k,mk,vk,gk,yk=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null!==(r=n.skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce((function(r,n){return r[n]=bk(n,e,t,i),r}),{})},bk=function(e,t,r,n){var i=t.find((function(t){return t.name===e})),a=null===i||void 0===i?void 0:i.type,o=r[e];return a&&!n.includes(a)?wk(a,o):Ek(o)},wk=function(e,t){if("_"===e.charAt(0)){var r=e.slice(1,e.length);return Mk(t,r)}switch(e){case Jx.bool:return xk(t);case Jx.float4:case Jx.float8:case Jx.int2:case Jx.int4:case Jx.int8:case Jx.numeric:case Jx.oid:return kk(t);case Jx.json:case Jx.jsonb:return Tk(t);case Jx.timestamp:return Ak(t);case Jx.abstime:case Jx.date:case Jx.daterange:case Jx.int4range:case Jx.int8range:case Jx.money:case Jx.reltime:case Jx.text:case Jx.time:case Jx.timestamptz:case Jx.timetz:case Jx.tsrange:case Jx.tstzrange:default:return Ek(t)}},Ek=function(e){return e},xk=function(e){switch(e){case"t":return!0;case"f":return!1;default:return e}},kk=function(e){if("string"===typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Tk=function(e){if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},Mk=function(e,t){if("string"!==typeof e)return e;var r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){var i,a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch(Hh){i=a?a.split(","):[]}return i.map((function(e){return wk(t,e)}))}return e},Ak=function(e){return"string"===typeof e?e.replace(" ","T"):e},Ok=__webpack_require__(5087),Sk={"X-Client-Info":"realtime-js/".concat("2.0.0-rc.5")},Rk=1e4;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(pk||(pk={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(_k||(_k={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(mk||(mk={})),function(e){e.websocket="websocket"}(vk||(vk={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(gk||(gk={}));var Ck,Pk,Dk=function(){function e(t,r){(0,de.Z)(this,e),this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}return(0,pe.Z)(e,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.tries=e.tries+1,e.callback()}),this.timerCalc(this.tries+1))}}]),e}(),Ik=function(){function e(){(0,de.Z)(this,e),this.HEADER_LENGTH=1}return(0,pe.Z)(e,[{key:"decode",value:function(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}},{key:"_binaryDecode",value:function(e){var t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}},{key:"_decodeBroadcast",value:function(e,t,r){var n=t.getUint8(1),i=t.getUint8(2),a=this.HEADER_LENGTH+2,o=r.decode(e.slice(a,a+n));a+=n;var s=r.decode(e.slice(a,a+i));return a+=i,{ref:null,topic:o,event:s,payload:JSON.parse(r.decode(e.slice(a,e.byteLength)))}}}]),e}(),Lk=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Rk;(0,de.Z)(this,e),this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}return(0,pe.Z)(e,[{key:"resend",value:function(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}},{key:"send",value:function(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,"rate limited"===this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel.joinRef()})&&(this.rateLimited=!0))}},{key:"updatePayload",value:function(e){this.payload=Object.assign(Object.assign({},this.payload),e)}},{key:"receive",value:function(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}},{key:"startTimeout",value:function(){var e=this;if(!this.timeoutTimer){this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref);this.channel.on(this.refEvent,{},(function(t){e._cancelRefEvent(),e._cancelTimeout(),e.receivedResp=t,e._matchReceive(t)})),this.timeoutTimer=setTimeout((function(){e.trigger("timeout",{})}),this.timeout)}}},{key:"trigger",value:function(e,t){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:t})}},{key:"destroy",value:function(){this._cancelRefEvent(),this._cancelTimeout()}},{key:"_cancelRefEvent",value:function(){this.refEvent&&this.channel.off(this.refEvent,{})}},{key:"_cancelTimeout",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}},{key:"_matchReceive",value:function(e){var t=e.status,r=e.response;this.recHooks.filter((function(e){return e.status===t})).forEach((function(e){return e.callback(r)}))}},{key:"_hasReceived",value:function(e){return this.receivedResp&&this.receivedResp.status===e}}]),e}(),Uk=function(){function e(t,r){var n=this;(0,de.Z)(this,e),this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:function(){},onLeave:function(){},onSync:function(){}};var i=(null===r||void 0===r?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel.on(i.state,{},(function(t){var r=n.caller,i=r.onJoin,a=r.onLeave,o=r.onSync;n.joinRef=n.channel.joinRef(),n.state=e.syncState(n.state,t,i,a),n.pendingDiffs.forEach((function(t){n.state=e.syncDiff(n.state,t,i,a)})),n.pendingDiffs=[],o()})),this.channel.on(i.diff,{},(function(t){var r=n.caller,i=r.onJoin,a=r.onLeave,o=r.onSync;n.inPendingSyncState()?n.pendingDiffs.push(t):(n.state=e.syncDiff(n.state,t,i,a),o())})),this.onJoin((function(e,t,r){n.channel.trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})})),this.onLeave((function(e,t,r){n.channel.trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})})),this.onSync((function(){n.channel.trigger("presence",{event:"sync"})}))}return(0,pe.Z)(e,[{key:"onJoin",value:function(e){this.caller.onJoin=e}},{key:"onLeave",value:function(e){this.caller.onLeave=e}},{key:"onSync",value:function(e){this.caller.onSync=e}},{key:"list",value:function(t){return e.list(this.state,t)}},{key:"inPendingSyncState",value:function(){return!this.joinRef||this.joinRef!==this.channel.joinRef()}}],[{key:"syncState",value:function(e,t,r,n){var i=this.cloneDeep(e),a=this.transformState(t),o={},s={};return this.map(i,(function(e,t){a[e]||(s[e]=t)})),this.map(a,(function(e,t){var r=i[e];if(r){var n=t.map((function(e){return e.presence_ref})),a=r.map((function(e){return e.presence_ref})),u=t.filter((function(e){return a.indexOf(e.presence_ref)<0})),l=r.filter((function(e){return n.indexOf(e.presence_ref)<0}));u.length>0&&(o[e]=u),l.length>0&&(s[e]=l)}else o[e]=t})),this.syncDiff(i,{joins:o,leaves:s},r,n)}},{key:"syncDiff",value:function(e,t,r,n){var i=this,a={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)},o=a.joins,s=a.leaves;return r||(r=function(){}),n||(n=function(){}),this.map(o,(function(t,n){var a,o=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=i.cloneDeep(n),o.length>0){var s,u=e[t].map((function(e){return e.presence_ref})),l=o.filter((function(e){return u.indexOf(e.presence_ref)<0}));(s=e[t]).unshift.apply(s,(0,ne.Z)(l))}r(t,o,n)})),this.map(s,(function(t,r){var i=e[t];if(i){var a=r.map((function(e){return e.presence_ref}));i=i.filter((function(e){return a.indexOf(e.presence_ref)<0})),e[t]=i,n(t,i,r),0===i.length&&delete e[t]}})),e}},{key:"list",value:function(e,t){return t||(t=function(e,t){return t}),this.map(e,(function(e,r){return t(e,r)}))}},{key:"map",value:function(e,t){return Object.getOwnPropertyNames(e).map((function(r){return t(r,e[r])}))}},{key:"transformState",value:function(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((function(t,r){var n=e[r];return t[r]="metas"in n?n.metas.map((function(e){return e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e})):n,t}),{})}},{key:"cloneDeep",value:function(e){return JSON.parse(JSON.stringify(e))}}]),e}(),jk=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(Dh){a(Dh)}}function s(e){try{u(n.throw(e))}catch(Dh){a(Dh)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};!function(e){e.broadcast="broadcast",e.presence="presence",e.postgres_changes="postgres_changes"}(Ck||(Ck={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(Pk||(Pk={}));var Nk=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;(0,de.Z)(this,e),this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=_k.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new Lk(this,mk.join,this.params,this.timeout),this.rejoinTimer=new Dk((function(){return r.rejoinUntilConnected()}),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(function(){r.state=_k.joined,r.rejoinTimer.reset(),r.pushBuffer.forEach((function(e){return e.send()})),r.pushBuffer=[]})),this.onClose((function(){r.rejoinTimer.reset(),r.socket.log("channel","close ".concat(r.topic," ").concat(r.joinRef())),r.state=_k.closed,r.socket.remove(r)})),this.onError((function(e){r.isLeaving()||r.isClosed()||(r.socket.log("channel","error ".concat(r.topic),e),r.state=_k.errored,r.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(function(){r.isJoining()&&(r.socket.log("channel","timeout ".concat(r.topic),r.joinPush.timeout),r.state=_k.errored,r.rejoinTimer.scheduleTimeout())})),this.on(mk.reply,{},(function(e,t){r.trigger(r.replyEventName(t),e)})),this.presence=new Uk(this)}return(0,pe.Z)(e,[{key:"rejoinUntilConnected",value:function(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}},{key:"subscribe",value:function(e){var t,r,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";var a=this.params.config,o=a.broadcast,s=a.presence;this.onError((function(t){return e&&e("CHANNEL_ERROR",t)})),this.onClose((function(){return e&&e("CLOSED")}));var u={},l={broadcast:o,presence:s,postgres_changes:null!==(r=null===(t=this.bindings.postgres_changes)||void 0===t?void 0:t.map((function(e){return e.filter})))&&void 0!==r?r:[]};return this.socket.accessToken&&(u.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},u)),this.joinedOnce=!0,this.rejoin(i),this.joinPush.receive("ok",(function(t){var r,i=t.postgres_changes;if(n.socket.accessToken&&n.socket.setAuth(n.socket.accessToken),void 0!==i){for(var a=n.bindings.postgres_changes,o=null!==(r=null===a||void 0===a?void 0:a.length)&&void 0!==r?r:0,s=[],u=0;u<o;u++){var l=a[u],c=l.filter,h=c.event,f=c.schema,d=c.table,p=c.filter,_=i&&i[u];if(!_||_.event!==h||_.schema!==f||_.table!==d||_.filter!==p)return n.unsubscribe(),void(e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},l),{id:_.id}))}return n.bindings.postgres_changes=s,void(e&&e("SUBSCRIBED"))}e&&e("SUBSCRIBED")})).receive("error",(function(t){e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(function(){e&&e("TIMED_OUT")})),this}},{key:"presenceState",value:function(){return this.presence.state}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jk(this,void 0,void 0,(0,n.Z)().mark((function r(){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r,this)})))}},{key:"untrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jk(this,void 0,void 0,(0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send({type:"presence",event:"untrack"},e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"onClose",value:function(e){this.on(mk.close,{},e)}},{key:"onError",value:function(e){this.on(mk.error,{},(function(t){return e(t)}))}},{key:"on",value:function(e,t,r){var n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}},{key:"off",value:function(t,r){var n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((function(t){var i;return!((null===(i=t.type)||void 0===i?void 0:i.toLocaleLowerCase())===n&&e.isEqual(t.filter,r))})),this}},{key:"canPush",value:function(){return this.socket.isConnected()&&this.isJoined()}},{key:"push",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");var n=new Lk(this,e,t,r);return this.canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}},{key:"send",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n){var i,a,o,s=t.push(e.type,e,r.timeout||t.timeout);s.rateLimited&&n("rate limited"),"broadcast"!==e.type||(null===(o=null===(a=null===(i=t.params)||void 0===i?void 0:i.config)||void 0===a?void 0:a.broadcast)||void 0===o?void 0:o.ack)||n("ok"),s.receive("ok",(function(){return n("ok")})),s.receive("timeout",(function(){return n("timed out")}))}))}},{key:"updateJoinPayload",value:function(e){this.joinPush.updatePayload(e)}},{key:"unsubscribe",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=_k.leaving;var r=function(){e.socket.log("channel","leave ".concat(e.topic)),e.trigger(mk.close,"leave",e.joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((function(n){var i=new Lk(e,mk.leave,{},t);i.receive("ok",(function(){r(),n("ok")})).receive("timeout",(function(){r(),n("timed out")})).receive("error",(function(){n("error")})),i.send(),e.canPush()||i.trigger("ok",{})}))}},{key:"onMessage",value:function(e,t,r){return t}},{key:"isMember",value:function(e){return this.topic===e}},{key:"joinRef",value:function(){return this.joinPush.ref}},{key:"rejoin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=_k.joining,this.joinPush.resend(e))}},{key:"trigger",value:function(e,t,r){var n,i,a=this,o=e.toLocaleLowerCase(),s=mk.close,u=mk.error,l=mk.leave,c=mk.join;if(!(r&&[s,u,l,c].indexOf(o)>=0&&r!==this.joinRef())){var h=this.onMessage(o,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter((function(e){var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===o})).map((function(e){return e.callback(h,r)})):null===(i=this.bindings[o])||void 0===i||i.filter((function(e){var r,n,i,a,s,u;if(["broadcast","presence","postgres_changes"].includes(o)){if("id"in e){var l=e.id,c=null===(r=e.filter)||void 0===r?void 0:r.event;return l&&(null===(n=t.ids)||void 0===n?void 0:n.includes(l))&&("*"===c||(null===c||void 0===c?void 0:c.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}var h=null===(s=null===(a=null===e||void 0===e?void 0:e.filter)||void 0===a?void 0:a.event)||void 0===s?void 0:s.toLocaleLowerCase();return"*"===h||h===(null===(u=null===t||void 0===t?void 0:t.event)||void 0===u?void 0:u.toLocaleLowerCase())}return e.type.toLocaleLowerCase()===o})).map((function(e){if("object"===typeof h&&"ids"in h){var t=h.data,n={schema:t.schema,table:t.table,commit_timestamp:t.commit_timestamp,eventType:t.type,new:{},old:{},errors:t.errors};h=Object.assign(Object.assign({},n),a.getPayloadRecords(t))}e.callback(h,r)}))}}},{key:"replyEventName",value:function(e){return"chan_reply_".concat(e)}},{key:"isClosed",value:function(){return this.state===_k.closed}},{key:"isErrored",value:function(){return this.state===_k.errored}},{key:"isJoined",value:function(){return this.state===_k.joined}},{key:"isJoining",value:function(){return this.state===_k.joining}},{key:"isLeaving",value:function(){return this.state===_k.leaving}},{key:"getPayloadRecords",value:function(e){var t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=yk(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=yk(e.columns,e.old_record)),t}}],[{key:"isEqual",value:function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}}]),e}(),Bk=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(Dh){a(Dh)}}function s(e){try{u(n.throw(e))}catch(Dh){a(Dh)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Zk=function(){},Wk=function(){function e(t,r){var i,a=this;(0,de.Z)(this,e),this.accessToken=null,this.channels=[],this.endPoint="",this.headers=Sk,this.params={},this.timeout=Rk,this.transport=Ok.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Zk,this.conn=null,this.sendBuffer=[],this.serializer=new Ik,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint="".concat(t,"/").concat(vk.websocket),(null===r||void 0===r?void 0:r.params)&&(this.params=r.params),(null===r||void 0===r?void 0:r.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),(null===r||void 0===r?void 0:r.timeout)&&(this.timeout=r.timeout),(null===r||void 0===r?void 0:r.logger)&&(this.logger=r.logger),(null===r||void 0===r?void 0:r.transport)&&(this.transport=r.transport),(null===r||void 0===r?void 0:r.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);var o=null===(i=null===r||void 0===r?void 0:r.params)||void 0===i?void 0:i.eventsPerSecond;o&&(this.eventsPerSecondLimitMs=Math.floor(1e3/o)),this.reconnectAfterMs=(null===r||void 0===r?void 0:r.reconnectAfterMs)?r.reconnectAfterMs:function(e){return[1e3,2e3,5e3,1e4][e-1]||1e4},this.encode=(null===r||void 0===r?void 0:r.encode)?r.encode:function(e,t){return t(JSON.stringify(e))},this.decode=(null===r||void 0===r?void 0:r.decode)?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Dk((function(){return Bk(a,void 0,void 0,(0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.disconnect(),this.connect();case 2:case"end":return e.stop()}}),e,this)})))}),this.reconnectAfterMs)}return(0,pe.Z)(e,[{key:"connect",value:function(){var e=this;this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=function(){return e._onConnOpen()},this.conn.onerror=function(t){return e._onConnError(t)},this.conn.onmessage=function(t){return e.onConnMessage(t)},this.conn.onclose=function(t){return e._onConnClose(t)}))}},{key:"disconnect",value:function(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}},{key:"getChannels",value:function(){return this.channels}},{key:"removeChannel",value:function(e){var t=this;return e.unsubscribe().then((function(e){return 0===t.channels.length&&t.disconnect(),e}))}},{key:"removeAllChannels",value:function(){var e=this;return Promise.all(this.channels.map((function(e){return e.unsubscribe()}))).then((function(t){return e.disconnect(),t}))}},{key:"log",value:function(e,t,r){this.logger(e,t,r)}},{key:"onOpen",value:function(e){this.stateChangeCallbacks.open.push(e)}},{key:"onClose",value:function(e){this.stateChangeCallbacks.close.push(e)}},{key:"onError",value:function(e){this.stateChangeCallbacks.error.push(e)}},{key:"onMessage",value:function(e){this.stateChangeCallbacks.message.push(e)}},{key:"connectionState",value:function(){switch(this.conn&&this.conn.readyState){case pk.connecting:return gk.Connecting;case pk.open:return gk.Open;case pk.closing:return gk.Closing;default:return gk.Closed}}},{key:"isConnected",value:function(){return this.connectionState()===gk.Open}},{key:"remove",value:function(e){this.channels=this.channels.filter((function(t){return t.joinRef()!==e.joinRef()}))}},{key:"channel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isConnected()||this.connect();var r=new Nk("realtime:".concat(e),t,this);return this.channels.push(r),r}},{key:"push",value:function(e){var t=this,r=e.topic,n=e.event,i=e.payload,a=e.ref,o=function(){t.encode(e,(function(e){var r;null===(r=t.conn)||void 0===r||r.send(e)}))};if(this.log("push","".concat(r," ").concat(n," (").concat(a,")"),i),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(n)){if(this.throttle(o)())return"rate limited"}else o();else this.sendBuffer.push(o)}},{key:"onConnMessage",value:function(e){var t=this;this.decode(e.data,(function(e){var r=e.topic,n=e.event,i=e.payload,a=e.ref;(a&&a===t.pendingHeartbeatRef||n===(null===i||void 0===i?void 0:i.type))&&(t.pendingHeartbeatRef=null),t.log("receive","".concat(i.status||""," ").concat(r," ").concat(n," ").concat(a&&"("+a+")"||""),i),t.channels.filter((function(e){return e.isMember(r)})).forEach((function(e){return e.trigger(n,i,a)})),t.stateChangeCallbacks.message.forEach((function(t){return t(e)}))}))}},{key:"endPointURL",value:function(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}},{key:"makeRef",value:function(){var e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}},{key:"setAuth",value:function(e){this.accessToken=e,this.channels.forEach((function(t){e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t.isJoined()&&t.push(mk.access_token,{access_token:e})}))}},{key:"leaveOpenTopic",value:function(e){var t=this.channels.find((function(t){return t.topic===e&&(t.isJoined()||t.isJoining())}));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}},{key:"_onConnOpen",value:function(){var e=this;this.log("transport","connected to ".concat(this.endPointURL())),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((function(){return e._sendHeartbeat()}),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach((function(e){return e()}))}},{key:"_onConnClose",value:function(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((function(t){return t(e)}))}},{key:"_onConnError",value:function(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((function(t){return t(e)}))}},{key:"_triggerChanError",value:function(){this.channels.forEach((function(e){return e.trigger(mk.error)}))}},{key:"_appendParams",value:function(e,t){if(0===Object.keys(t).length)return e;var r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return"".concat(e).concat(r).concat(n)}},{key:"_flushSendBuffer",value:function(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((function(e){return e()})),this.sendBuffer=[])}},{key:"_sendHeartbeat",value:function(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}},{key:"throttle",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.eventsPerSecondLimitMs;return function(){return!!t.inThrottle||(e(),t.inThrottle=!0,setTimeout((function(){t.inThrottle=!1}),r),!1)}}}]),e}(),Fk=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this,e)).__isStorageError=!0,n.name="StorageError",n}return(0,pe.Z)(r)}((0,ie.Z)(Error));function zk(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}var Kk=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){var i;return(0,de.Z)(this,r),(i=t.call(this,e)).name="StorageApiError",i.status=n,i}return(0,pe.Z)(r,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,status:this.status}}}]),r}(Fk),Hk=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){var i;return(0,de.Z)(this,r),(i=t.call(this,e)).name="StorageUnknownError",i.originalError=n,i}return(0,pe.Z)(r)}(Fk),Gk=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(Dh){a(Dh)}}function s(e){try{u(n.throw(e))}catch(Dh){a(Dh)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Vk=function(e){var t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Gk(void 0,void 0,void 0,(0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(__webpack_require__.t.bind(__webpack_require__,4255,23));case 2:return e.next=4,(r=e.sent).fetch.apply(r,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))}:fetch),function(){return t.apply(void 0,arguments)}},Xk=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(Dh){a(Dh)}}function s(e){try{u(n.throw(e))}catch(Dh){a(Dh)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Yk=function(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)},qk=function(e,t){return Xk(void 0,void 0,void 0,(0,n.Z)().mark((function r(){var i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Gk(void 0,void 0,void 0,(0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof Response){e.next=4;break}return e.next=3,Promise.resolve().then(__webpack_require__.t.bind(__webpack_require__,4255,23));case 3:return e.abrupt("return",e.sent.Response);case 4:return e.abrupt("return",Response);case 5:case"end":return e.stop()}}),e)})));case 2:i=r.sent,e instanceof i?e.json().then((function(r){t(new Kk(Yk(r),e.status||500))})):t(new Hk(Yk(e),e));case 4:case"end":return r.stop()}}),r)})))},$k=function(e,t,r,n){var i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};function Jk(e,t,r,i,a,o){return Xk(this,void 0,void 0,(0,n.Z)().mark((function s(){return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,s){e(r,$k(t,i,a,o)).then((function(e){if(!e.ok)throw e;return(null===i||void 0===i?void 0:i.noResolveJson)?e:e.json()})).then((function(e){return n(e)})).catch((function(e){return qk(e,s)}))})));case 1:case"end":return n.stop()}}),s)})))}function Qk(e,t,r,i){return Xk(this,void 0,void 0,(0,n.Z)().mark((function a(){return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Jk(e,"GET",t,r,i));case 1:case"end":return n.stop()}}),a)})))}function eT(e,t,r,i,a){return Xk(this,void 0,void 0,(0,n.Z)().mark((function o(){return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Jk(e,"POST",t,i,a,r));case 1:case"end":return n.stop()}}),o)})))}function tT(e,t,r,i,a){return Xk(this,void 0,void 0,(0,n.Z)().mark((function o(){return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Jk(e,"PUT",t,i,a,r));case 1:case"end":return n.stop()}}),o)})))}function rT(e,t,r,i,a){return Xk(this,void 0,void 0,(0,n.Z)().mark((function o(){return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Jk(e,"DELETE",t,i,a,r));case 1:case"end":return n.stop()}}),o)})))}var nT=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(Dh){a(Dh)}}function s(e){try{u(n.throw(e))}catch(Dh){a(Dh)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},iT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},aT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},oT=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;(0,de.Z)(this,e),this.url=t,this.headers=r,this.bucketId=n,this.fetch=Vk(i)}return(0,pe.Z)(e,[{key:"uploadOrUpdate",value:function(e,t,r,i){return nT(this,void 0,void 0,(0,n.Z)().mark((function a(){var o,s,u,l,c,h,f;return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s=Object.assign(Object.assign({},aT),i),u=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)}),"undefined"!==typeof Blob&&r instanceof Blob?((o=new FormData).append("cacheControl",s.cacheControl),o.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(o=r).append("cacheControl",s.cacheControl):(o=r,u["cache-control"]="max-age=".concat(s.cacheControl),u["content-type"]=s.contentType),l=this._removeEmptyFolders(t),c=this._getFinalPath(l),n.next=8,this.fetch("".concat(this.url,"/object/").concat(c),{method:e,body:o,headers:u});case 8:if(!(h=n.sent).ok){n.next=13;break}return n.abrupt("return",{data:{path:l},error:null});case 13:return n.next=15,h.json();case 15:return f=n.sent,n.abrupt("return",{data:null,error:f});case 17:n.next=24;break;case 19:if(n.prev=19,n.t0=n.catch(0),!zk(n.t0)){n.next=23;break}return n.abrupt("return",{data:null,error:n.t0});case 23:throw n.t0;case 24:case"end":return n.stop()}}),a,this,[[0,19]])})))}},{key:"upload",value:function(e,t,r){return nT(this,void 0,void 0,(0,n.Z)().mark((function i(){return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.uploadOrUpdate("POST",e,t,r));case 1:case"end":return n.stop()}}),i,this)})))}},{key:"update",value:function(e,t,r){return nT(this,void 0,void 0,(0,n.Z)().mark((function i(){return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.uploadOrUpdate("PUT",e,t,r));case 1:case"end":return n.stop()}}),i,this)})))}},{key:"move",value:function(e,t){return nT(this,void 0,void 0,(0,n.Z)().mark((function r(){var i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,eT(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers});case 3:return i=r.sent,r.abrupt("return",{data:i,error:null});case 7:if(r.prev=7,r.t0=r.catch(0),!zk(r.t0)){r.next=11;break}return r.abrupt("return",{data:null,error:r.t0});case 11:throw r.t0;case 12:case"end":return r.stop()}}),r,this,[[0,7]])})))}},{key:"copy",value:function(e,t){return nT(this,void 0,void 0,(0,n.Z)().mark((function r(){var i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,eT(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers});case 3:return i=r.sent,r.abrupt("return",{data:i,error:null});case 7:if(r.prev=7,r.t0=r.catch(0),!zk(r.t0)){r.next=11;break}return r.abrupt("return",{data:null,error:r.t0});case 11:throw r.t0;case 12:case"end":return r.stop()}}),r,this,[[0,7]])})))}},{key:"createSignedUrl",value:function(e,t){return nT(this,void 0,void 0,(0,n.Z)().mark((function r(){var i,a,o;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=this._getFinalPath(e),r.next=4,eT(this.fetch,"".concat(this.url,"/object/sign/").concat(i),{expiresIn:t},{headers:this.headers});case 4:return a=r.sent,o=encodeURI("".concat(this.url).concat(a.signedURL)),a={signedUrl:o},r.abrupt("return",{data:a,error:null});case 10:if(r.prev=10,r.t0=r.catch(0),!zk(r.t0)){r.next=14;break}return r.abrupt("return",{data:null,error:r.t0});case 14:throw r.t0;case 15:case"end":return r.stop()}}),r,this,[[0,10]])})))}},{key:"createSignedUrls",value:function(e,t){return nT(this,void 0,void 0,(0,n.Z)().mark((function r(){var i,a=this;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,eT(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers});case 3:return i=r.sent,r.abrupt("return",{data:i.map((function(e){return Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(a.url).concat(e.signedURL)):null})})),error:null});case 7:if(r.prev=7,r.t0=r.catch(0),!zk(r.t0)){r.next=11;break}return r.abrupt("return",{data:null,error:r.t0});case 11:throw r.t0;case 12:case"end":return r.stop()}}),r,this,[[0,7]])})))}},{key:"download",value:function(e){return nT(this,void 0,void 0,(0,n.Z)().mark((function t(){var r,i,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=this._getFinalPath(e),t.next=4,Qk(this.fetch,"".concat(this.url,"/object/").concat(r),{headers:this.headers,noResolveJson:!0});case 4:return i=t.sent,t.next=7,i.blob();case 7:return a=t.sent,t.abrupt("return",{data:a,error:null});case 11:if(t.prev=11,t.t0=t.catch(0),!zk(t.t0)){t.next=15;break}return t.abrupt("return",{data:null,error:t.t0});case 15:throw t.t0;case 16:case"end":return t.stop()}}),t,this,[[0,11]])})))}},{key:"getPublicUrl",value:function(e){var t=this._getFinalPath(e);return{data:{publicUrl:encodeURI("".concat(this.url,"/object/public/").concat(t))}}}},{key:"remove",value:function(e){return nT(this,void 0,void 0,(0,n.Z)().mark((function t(){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,rT(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{data:r,error:null});case 7:if(t.prev=7,t.t0=t.catch(0),!zk(t.t0)){t.next=11;break}return t.abrupt("return",{data:null,error:t.t0});case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"list",value:function(e,t,r){return nT(this,void 0,void 0,(0,n.Z)().mark((function i(){var a,o;return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=Object.assign(Object.assign(Object.assign({},iT),t),{prefix:e||""}),n.next=4,eT(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),a,{headers:this.headers},r);case 4:return o=n.sent,n.abrupt("return",{data:o,error:null});case 8:if(n.prev=8,n.t0=n.catch(0),!zk(n.t0)){n.next=12;break}return n.abrupt("return",{data:null,error:n.t0});case 12:throw n.t0;case 13:case"end":return n.stop()}}),i,this,[[0,8]])})))}},{key:"_getFinalPath",value:function(e){return"".concat(this.bucketId,"/").concat(e)}},{key:"_removeEmptyFolders",value:function(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}]),e}(),sT={"X-Client-Info":"storage-js/".concat("2.0.0-rc.1")},uT=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(Dh){a(Dh)}}function s(e){try{u(n.throw(e))}catch(Dh){a(Dh)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},lT=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;(0,de.Z)(this,e),this.url=t,this.headers=Object.assign(Object.assign({},sT),r),this.fetch=Vk(n)}return(0,pe.Z)(e,[{key:"listBuckets",value:function(){return uT(this,void 0,void 0,(0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qk(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers});case 3:return t=e.sent,e.abrupt("return",{data:t,error:null});case 7:if(e.prev=7,e.t0=e.catch(0),!zk(e.t0)){e.next=11;break}return e.abrupt("return",{data:null,error:e.t0});case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getBucket",value:function(e){return uT(this,void 0,void 0,(0,n.Z)().mark((function t(){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Qk(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{data:r,error:null});case 7:if(t.prev=7,t.t0=t.catch(0),!zk(t.t0)){t.next=11;break}return t.abrupt("return",{data:null,error:t.t0});case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"createBucket",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return uT(this,void 0,void 0,(0,n.Z)().mark((function r(){var i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,eT(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:t.public},{headers:this.headers});case 3:return i=r.sent,r.abrupt("return",{data:i,error:null});case 7:if(r.prev=7,r.t0=r.catch(0),!zk(r.t0)){r.next=11;break}return r.abrupt("return",{data:null,error:r.t0});case 11:throw r.t0;case 12:case"end":return r.stop()}}),r,this,[[0,7]])})))}},{key:"updateBucket",value:function(e,t){return uT(this,void 0,void 0,(0,n.Z)().mark((function r(){var i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,tT(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public},{headers:this.headers});case 3:return i=r.sent,r.abrupt("return",{data:i,error:null});case 7:if(r.prev=7,r.t0=r.catch(0),!zk(r.t0)){r.next=11;break}return r.abrupt("return",{data:null,error:r.t0});case 11:throw r.t0;case 12:case"end":return r.stop()}}),r,this,[[0,7]])})))}},{key:"emptyBucket",value:function(e){return uT(this,void 0,void 0,(0,n.Z)().mark((function t(){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,eT(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{data:r,error:null});case 7:if(t.prev=7,t.t0=t.catch(0),!zk(t.t0)){t.next=11;break}return t.abrupt("return",{data:null,error:t.t0});case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"deleteBucket",value:function(e){return uT(this,void 0,void 0,(0,n.Z)().mark((function t(){var r;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,rT(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{data:r,error:null});case 7:if(t.prev=7,t.t0=t.catch(0),!zk(t.t0)){t.next=11;break}return t.abrupt("return",{data:null,error:t.t0});case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,7]])})))}}]),e}(),cT=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return(0,de.Z)(this,r),t.call(this,e,n,i)}return(0,pe.Z)(r,[{key:"from",value:function(e){return new oT(this.url,this.headers,e,this.fetch)}}]),r}(lT),hT={"X-Client-Info":"supabase-js/".concat("2.0.0-rc.8")},fT=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(Dh){a(Dh)}}function s(e){try{u(n.throw(e))}catch(Dh){a(Dh)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},dT=function(e){var t;return t=e||("undefined"===typeof fetch?ok():fetch),function(){return t.apply(void 0,arguments)}},pT=function(e,t,r){var i=dT(r),a="undefined"===typeof Headers?ak.Headers:Headers;return function(r,o){return fT(void 0,void 0,void 0,(0,n.Z)().mark((function s(){var u,l,c;return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t();case 2:if(n.t1=u=n.sent,n.t0=null!==n.t1,!n.t0){n.next=6;break}n.t0=void 0!==u;case 6:if(!n.t0){n.next=10;break}n.t2=u,n.next=11;break;case 10:n.t2=e;case 11:return l=n.t2,(c=new a(null===o||void 0===o?void 0:o.headers)).has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization","Bearer ".concat(l)),n.abrupt("return",i(r,Object.assign(Object.assign({},o),{headers:c})));case 16:case"end":return n.stop()}}),s)})))}};var _T=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(Dh){a(Dh)}}function s(e){try{u(n.throw(e))}catch(Dh){a(Dh)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};var mT=function(){return"undefined"!==typeof window};function vT(e,t){var r;t||(t=(null===(r=null===window||void 0===window?void 0:window.location)||void 0===r?void 0:r.href)||""),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}var gT=function(e){var t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return _T(void 0,void 0,void 0,(0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(__webpack_require__.t.bind(__webpack_require__,4255,23));case 2:return e.next=4,(r=e.sent).fetch.apply(r,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))}:fetch),function(){return t.apply(void 0,arguments)}},yT=function(e,t){return _T(void 0,void 0,void 0,(0,n.Z)().mark((function r(){var i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getItem(t);case 2:if(i=r.sent){r.next=5;break}return r.abrupt("return",null);case 5:return r.prev=5,r.abrupt("return",JSON.parse(i));case 9:return r.prev=9,r.t0=r.catch(5),r.abrupt("return",i);case 12:case"end":return r.stop()}}),r,null,[[5,9]])})))},bT=function(e,t){return _T(void 0,void 0,void 0,(0,n.Z)().mark((function r(){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.removeItem(t);case 2:case"end":return r.stop()}}),r)})))},wT=(0,pe.Z)((function e(){var t=this;(0,de.Z)(this,e),this.promise=new e.promiseConstructor((function(e,r){t.resolve=e,t.reject=r}))}));wT.promiseConstructor=Promise;var ET=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n;return(0,de.Z)(this,r),(n=t.call(this,e)).__isAuthError=!0,n.name="AuthError",n}return(0,pe.Z)(r)}((0,ie.Z)(Error));function xT(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}var kT=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){var i;return(0,de.Z)(this,r),(i=t.call(this,e)).name="AuthApiError",i.status=n,i}return(0,pe.Z)(r,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,status:this.status}}}]),r}(ET),TT=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){var i;return(0,de.Z)(this,r),(i=t.call(this,e)).name="AuthUnknownError",i.originalError=n,i}return(0,pe.Z)(r)}(ET),MT=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n,i){var a;return(0,de.Z)(this,r),(a=t.call(this,e)).name=n,a.status=i,a}return(0,pe.Z)(r,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,status:this.status}}}]),r}(ET),AT=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(){return(0,de.Z)(this,r),t.call(this,"Auth session missing!","AuthSessionMissingError",400)}return(0,pe.Z)(r)}(MT),OT=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){return(0,de.Z)(this,r),t.call(this,e,"AuthInvalidCredentialsError",400)}return(0,pe.Z)(r)}(MT),ST=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,de.Z)(this,r),(n=t.call(this,e,"AuthImplicitGrantRedirectError",500)).details=null,n.details=i,n}return(0,pe.Z)(r,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}]),r}(MT),RT=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e,n){return(0,de.Z)(this,r),t.call(this,e,"AuthRetryableFetchError",n)}return(0,pe.Z)(r)}(MT),CT=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(Dh){a(Dh)}}function s(e){try{u(n.throw(e))}catch(Dh){a(Dh)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},PT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},DT=function(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)},IT=function(e,t){return CT(void 0,void 0,void 0,(0,n.Z)().mark((function r(){var i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,_T(void 0,void 0,void 0,(0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof Response){e.next=4;break}return e.next=3,Promise.resolve().then(__webpack_require__.t.bind(__webpack_require__,4255,23));case 3:return e.abrupt("return",e.sent.Response);case 4:return e.abrupt("return",Response);case 5:case"end":return e.stop()}}),e)})));case 2:i=r.sent,e instanceof i?e.status>=500&&e.status<=599?t(new RT(DT(e),e.status)):e.json().then((function(r){t(new kT(DT(r),e.status||500))})).catch((function(e){t(new TT(DT(e),e))})):t(new RT(DT(e),0));case 4:case"end":return r.stop()}}),r)})))},LT=function(e,t,r,n){var i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};function UT(e,t,r,i){var a,o;return CT(this,void 0,void 0,(0,n.Z)().mark((function s(){var u,l,c,h;return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=null!==(a=null===i||void 0===i?void 0:i.headers)&&void 0!==a?a:{},(null===i||void 0===i?void 0:i.jwt)&&(u.Authorization="Bearer ".concat(i.jwt)),l=null!==(o=null===i||void 0===i?void 0:i.query)&&void 0!==o?o:{},(null===i||void 0===i?void 0:i.redirectTo)&&(l.redirect_to=i.redirectTo),c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",n.next=7,jT(e,t,r+c,{headers:u,noResolveJson:null===i||void 0===i?void 0:i.noResolveJson},{},null===i||void 0===i?void 0:i.body);case 7:return h=n.sent,n.abrupt("return",(null===i||void 0===i?void 0:i.xform)?null===i||void 0===i?void 0:i.xform(h):{data:Object.assign({},h),error:null});case 9:case"end":return n.stop()}}),s)})))}function jT(e,t,r,i,a,o){return CT(this,void 0,void 0,(0,n.Z)().mark((function s(){return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,s){e(r,LT(t,i,a,o)).then((function(e){if(!e.ok)throw e;return(null===i||void 0===i?void 0:i.noResolveJson)?e:e.json()})).then((function(e){return n(e)})).catch((function(e){return IT(e,s)}))})));case 1:case"end":return n.stop()}}),s)})))}function NT(e){var t,r,n=null;return function(e){return e.access_token&&e.refresh_token&&e.expires_in}(e)&&((n=Object.assign({},e)).expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)),{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function BT(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ZT(e){var t=e.action_link,r=e.email_otp,n=e.hashed_token,i=e.redirect_to,a=e.verification_type,o=PT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},user:Object.assign({},o)},error:null}}var WT=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(Dh){a(Dh)}}function s(e){try{u(n.throw(e))}catch(Dh){a(Dh)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},FT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},zT=function(){function e(t){var r=t.url,n=void 0===r?"":r,i=t.headers,a=void 0===i?{}:i,o=t.fetch;(0,de.Z)(this,e),this.url=n,this.headers=a,this.fetch=gT(o)}return(0,pe.Z)(e,[{key:"signOut",value:function(e){return WT(this,void 0,void 0,(0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,UT(this.fetch,"POST","".concat(this.url,"/logout"),{headers:this.headers,jwt:e,noResolveJson:!0});case 3:return t.abrupt("return",{error:null});case 6:if(t.prev=6,t.t0=t.catch(0),!xT(t.t0)){t.next=10;break}return t.abrupt("return",{error:t.t0});case 10:throw t.t0;case 11:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"inviteUserByEmail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return WT(this,void 0,void 0,(0,n.Z)().mark((function r(){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,UT(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:BT});case 3:return r.abrupt("return",r.sent);case 6:if(r.prev=6,r.t0=r.catch(0),!xT(r.t0)){r.next=10;break}return r.abrupt("return",{data:{user:null},error:r.t0});case 10:throw r.t0;case 11:case"end":return r.stop()}}),r,this,[[0,6]])})))}},{key:"generateLink",value:function(e){return WT(this,void 0,void 0,(0,n.Z)().mark((function t(){var r,i,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.options,i=FT(e,["options"]),a=Object.assign(Object.assign({},i),r),"newEmail"in i&&(a.new_email=null===i||void 0===i?void 0:i.newEmail,delete a.newEmail),t.next=6,UT(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:a,headers:this.headers,xform:ZT,redirectTo:null===r||void 0===r?void 0:r.redirectTo});case 6:return t.abrupt("return",t.sent);case 9:if(t.prev=9,t.t0=t.catch(0),!xT(t.t0)){t.next=13;break}return t.abrupt("return",{data:{properties:null,user:null},error:t.t0});case 13:throw t.t0;case 14:case"end":return t.stop()}}),t,this,[[0,9]])})))}},{key:"createUser",value:function(e){return WT(this,void 0,void 0,(0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,UT(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:BT});case 3:return t.abrupt("return",t.sent);case 6:if(t.prev=6,t.t0=t.catch(0),!xT(t.t0)){t.next=10;break}return t.abrupt("return",{data:{user:null},error:t.t0});case 10:throw t.t0;case 11:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"listUsers",value:function(){return WT(this,void 0,void 0,(0,n.Z)().mark((function e(){var t,r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,UT(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers});case 3:if(t=e.sent,r=t.data,!(i=t.error)){e.next=8;break}throw i;case 8:return e.abrupt("return",{data:Object.assign({},r),error:null});case 11:if(e.prev=11,e.t0=e.catch(0),!xT(e.t0)){e.next=15;break}return e.abrupt("return",{data:{users:[]},error:e.t0});case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,this,[[0,11]])})))}},{key:"getUserById",value:function(e){return WT(this,void 0,void 0,(0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,UT(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:BT});case 3:return t.abrupt("return",t.sent);case 6:if(t.prev=6,t.t0=t.catch(0),!xT(t.t0)){t.next=10;break}return t.abrupt("return",{data:{user:null},error:t.t0});case 10:throw t.t0;case 11:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"updateUserById",value:function(e,t){return WT(this,void 0,void 0,(0,n.Z)().mark((function r(){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,UT(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:BT});case 3:return r.abrupt("return",r.sent);case 6:if(r.prev=6,r.t0=r.catch(0),!xT(r.t0)){r.next=10;break}return r.abrupt("return",{data:{user:null},error:r.t0});case 10:throw r.t0;case 11:case"end":return r.stop()}}),r,this,[[0,6]])})))}},{key:"deleteUser",value:function(e){return WT(this,void 0,void 0,(0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,UT(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:BT});case 3:return t.abrupt("return",t.sent);case 6:if(t.prev=6,t.t0=t.catch(0),!xT(t.t0)){t.next=10;break}return t.abrupt("return",{data:{user:null},error:t.t0});case 10:throw t.t0;case 11:case"end":return t.stop()}}),t,this,[[0,6]])})))}}]),e}(),KT={"X-Client-Info":"gotrue-js/".concat("2.0.0-rc.3")},HT=10,GT=2,VT={getItem:function(e){return mT()?globalThis.localStorage.getItem(e):null},setItem:function(e,t){mT()&&globalThis.localStorage.setItem(e,t)},removeItem:function(e){mT()&&globalThis.localStorage.removeItem(e)}};var XT=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(Dh){a(Dh)}}function s(e){try{u(n.throw(e))}catch(Dh){a(Dh)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Dh){"undefined"!==typeof self&&(self.globalThis=self)}}();var YT,qT={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:KT},$T=function(){function e(t){(0,de.Z)(this,e),this.stateChangeEmitters=new Map,this.networkRetries=0,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0;var r=Object.assign(Object.assign({},qT),t);this.inMemorySession=null,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.storage=r.storage||VT,this.admin=new zT({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=gT(r.fetch),this.detectSessionInUrl=r.detectSessionInUrl,this.initialize()}return(0,pe.Z)(e,[{key:"initialize",value:function(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}},{key:"_initialize",value:function(){return XT(this,void 0,void 0,(0,n.Z)().mark((function e(){var t,r,i,a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.initializePromise){e.next=2;break}return e.abrupt("return",this.initializePromise);case 2:if(e.prev=2,!this.detectSessionInUrl||!this._isImplicitGrantFlow()){e.next=19;break}return e.next=6,this._getSessionFromUrl();case 6:if(t=e.sent,r=t.data,!(i=t.error)){e.next=13;break}return e.next=12,this._removeSession();case 12:return e.abrupt("return",{error:i});case 13:return a=r.session,o=r.redirectType,e.next=16,this._saveSession(a);case 16:return this._notifyAllSubscribers("SIGNED_IN",a),"recovery"===o&&this._notifyAllSubscribers("PASSWORD_RECOVERY",a),e.abrupt("return",{error:null});case 19:return e.next=21,this._recoverAndRefresh();case 21:return e.abrupt("return",{error:null});case 24:if(e.prev=24,e.t0=e.catch(2),!xT(e.t0)){e.next=28;break}return e.abrupt("return",{error:e.t0});case 28:return e.abrupt("return",{error:new TT("Unexpected error during initialization",e.t0)});case 29:return e.prev=29,this._handleVisibilityChange(),e.finish(29);case 32:case"end":return e.stop()}}),e,this,[[2,24,29,32]])})))}},{key:"signUp",value:function(e){return XT(this,void 0,void 0,(0,n.Z)().mark((function t(){var r,i,a,o,s,u,l,c,h,f,d,p;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._removeSession();case 3:if(!("email"in e)){t.next=10;break}return i=e.email,a=e.password,o=e.options,t.next=7,UT(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===o||void 0===o?void 0:o.emailRedirectTo,body:{email:i,password:a,data:null===o||void 0===o?void 0:o.data,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:NT});case 7:r=t.sent,t.next=18;break;case 10:if(!("phone"in e)){t.next=17;break}return s=e.phone,u=e.password,l=e.options,t.next=14,UT(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:s,password:u,data:null===l||void 0===l?void 0:l.data,gotrue_meta_security:{captcha_token:null===l||void 0===l?void 0:l.captchaToken}},xform:NT});case 14:r=t.sent,t.next=18;break;case 17:throw new OT("You must provide either an email or phone number and a password");case 18:if(h=(c=r).data,!(f=c.error)&&h){t.next=21;break}return t.abrupt("return",{data:{user:null,session:null},error:f});case 21:if(d=h.session,p=h.user,!h.session){t.next=27;break}return t.next=26,this._saveSession(h.session);case 26:this._notifyAllSubscribers("SIGNED_IN",d);case 27:return t.abrupt("return",{data:{user:p,session:d},error:null});case 30:if(t.prev=30,t.t0=t.catch(0),!xT(t.t0)){t.next=34;break}return t.abrupt("return",{data:{user:null,session:null},error:t.t0});case 34:throw t.t0;case 35:case"end":return t.stop()}}),t,this,[[0,30]])})))}},{key:"signInWithPassword",value:function(e){return XT(this,void 0,void 0,(0,n.Z)().mark((function t(){var r,i,a,o,s,u,l,c,h,f;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._removeSession();case 3:if(!("email"in e)){t.next=10;break}return i=e.email,a=e.password,o=e.options,t.next=7,UT(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:NT});case 7:r=t.sent,t.next=18;break;case 10:if(!("phone"in e)){t.next=17;break}return s=e.phone,u=e.password,l=e.options,t.next=14,UT(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:s,password:u,gotrue_meta_security:{captcha_token:null===l||void 0===l?void 0:l.captchaToken}},xform:NT});case 14:r=t.sent,t.next=18;break;case 17:throw new OT("You must provide either an email or phone number and a password");case 18:if(h=(c=r).data,!(f=c.error)&&h){t.next=21;break}return t.abrupt("return",{data:{user:null,session:null},error:f});case 21:if(!h.session){t.next=25;break}return t.next=24,this._saveSession(h.session);case 24:this._notifyAllSubscribers("SIGNED_IN",h.session);case 25:return t.abrupt("return",{data:h,error:f});case 28:if(t.prev=28,t.t0=t.catch(0),!xT(t.t0)){t.next=32;break}return t.abrupt("return",{data:{user:null,session:null},error:t.t0});case 32:throw t.t0;case 33:case"end":return t.stop()}}),t,this,[[0,28]])})))}},{key:"signInWithOAuth",value:function(e){var t,r,i;return XT(this,void 0,void 0,(0,n.Z)().mark((function a(){return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this._removeSession();case 2:return n.abrupt("return",this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams}));case 3:case"end":return n.stop()}}),a,this)})))}},{key:"signInWithOtp",value:function(e){var t,r;return XT(this,void 0,void 0,(0,n.Z)().mark((function i(){var a,o,s,u,l,c,h,f;return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this._removeSession();case 3:if(!("email"in e)){n.next=10;break}return a=e.email,o=e.options,n.next=7,UT(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:a,create_user:null===(t=null===o||void 0===o?void 0:o.shouldCreateUser)||void 0===t||t,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},redirectTo:null===o||void 0===o?void 0:o.emailRedirectTo});case 7:return s=n.sent,u=s.error,n.abrupt("return",{data:{user:null,session:null},error:u});case 10:if(!("phone"in e)){n.next=17;break}return l=e.phone,c=e.options,n.next=14,UT(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:l,create_user:null===(r=null===c||void 0===c?void 0:c.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===c||void 0===c?void 0:c.captchaToken}}});case 14:return h=n.sent,f=h.error,n.abrupt("return",{data:{user:null,session:null},error:f});case 17:throw new OT("You must provide either an email or phone number.");case 20:if(n.prev=20,n.t0=n.catch(0),!xT(n.t0)){n.next=24;break}return n.abrupt("return",{data:{user:null,session:null},error:n.t0});case 24:throw n.t0;case 25:case"end":return n.stop()}}),i,this,[[0,20]])})))}},{key:"verifyOtp",value:function(e){var t,r;return XT(this,void 0,void 0,(0,n.Z)().mark((function i(){var a,o,s,u,l;return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this._removeSession();case 3:return n.next=5,UT(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captchaToken:null===(t=e.options)||void 0===t?void 0:t.captchaToken}}),redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,xform:NT});case 5:if(a=n.sent,o=a.data,!(s=a.error)){n.next=10;break}throw s;case 10:if(o){n.next=12;break}throw"An error occurred on token verification.";case 12:if(u=o.session,l=o.user,!(null===u||void 0===u?void 0:u.access_token)){n.next=18;break}return n.next=17,this._saveSession(u);case 17:this._notifyAllSubscribers("SIGNED_IN",u);case 18:return n.abrupt("return",{data:{user:l,session:u},error:null});case 21:if(n.prev=21,n.t0=n.catch(0),!xT(n.t0)){n.next=25;break}return n.abrupt("return",{data:{user:null,session:null},error:n.t0});case 25:throw n.t0;case 26:case"end":return n.stop()}}),i,this,[[0,21]])})))}},{key:"getSession",value:function(){return XT(this,void 0,void 0,(0,n.Z)().mark((function e(){var t,r,i,a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initializePromise;case 2:if(t=null,!this.persistSession){e.next=16;break}return e.next=6,yT(this.storage,this.storageKey);case 6:if(null===(r=e.sent)){e.next=14;break}if(!this._isValidSession(r)){e.next=12;break}t=r,e.next=14;break;case 12:return e.next=14,this._removeSession();case 14:e.next=17;break;case 16:t=this.inMemorySession;case 17:if(t){e.next=19;break}return e.abrupt("return",{data:{session:null},error:null});case 19:if(!!t.expires_at&&t.expires_at<=Date.now()/1e3){e.next=22;break}return e.abrupt("return",{data:{session:t},error:null});case 22:return e.next=24,this._callRefreshToken(t.refresh_token);case 24:if(i=e.sent,a=i.session,!(o=i.error)){e.next=29;break}return e.abrupt("return",{data:{session:null},error:o});case 29:return e.abrupt("return",{data:{session:a},error:null});case 30:case"end":return e.stop()}}),e,this)})))}},{key:"getUser",value:function(e){var t,r;return XT(this,void 0,void 0,(0,n.Z)().mark((function i(){var a,o,s;return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e){n.next=10;break}return n.next=4,this.getSession();case 4:if(a=n.sent,o=a.data,!(s=a.error)){n.next=9;break}throw s;case 9:e=null!==(r=null===(t=o.session)||void 0===t?void 0:t.access_token)&&void 0!==r?r:this.headers.Authorization;case 10:return n.next=12,UT(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:BT});case 12:return n.abrupt("return",n.sent);case 15:if(n.prev=15,n.t0=n.catch(0),!xT(n.t0)){n.next=19;break}return n.abrupt("return",{data:{user:null},error:n.t0});case 19:throw n.t0;case 20:case"end":return n.stop()}}),i,this,[[0,15]])})))}},{key:"updateUser",value:function(e){return XT(this,void 0,void 0,(0,n.Z)().mark((function t(){var r,i,a,o,s,u,l;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getSession();case 3:if(r=t.sent,i=r.data,!(a=r.error)){t.next=8;break}throw a;case 8:if(i.session){t.next=10;break}throw new AT;case 10:return o=i.session,t.next=13,UT(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,body:e,jwt:o.access_token,xform:BT});case 13:if(s=t.sent,u=s.data,!(l=s.error)){t.next=18;break}throw l;case 18:return o.user=u.user,t.next=21,this._saveSession(o);case 21:return this._notifyAllSubscribers("USER_UPDATED",o),t.abrupt("return",{data:{user:o.user},error:null});case 25:if(t.prev=25,t.t0=t.catch(0),!xT(t.t0)){t.next=29;break}return t.abrupt("return",{data:{user:null},error:t.t0});case 29:throw t.t0;case 30:case"end":return t.stop()}}),t,this,[[0,25]])})))}},{key:"setSession",value:function(e){return XT(this,void 0,void 0,(0,n.Z)().mark((function t(){var r,i,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new AT;case 3:return t.next=5,this._refreshAccessToken(e);case 5:if(r=t.sent,i=r.data,!(a=r.error)){t.next=10;break}return t.abrupt("return",{data:{session:null,user:null},error:a});case 10:if(i.session){t.next=12;break}return t.abrupt("return",{data:{session:null,user:null},error:null});case 12:return t.next=14,this._saveSession(i.session);case 14:return this._notifyAllSubscribers("TOKEN_REFRESHED",i.session),t.abrupt("return",{data:i,error:null});case 18:if(t.prev=18,t.t0=t.catch(0),!xT(t.t0)){t.next=22;break}return t.abrupt("return",{data:{session:null,user:null},error:t.t0});case 22:throw t.t0;case 23:case"end":return t.stop()}}),t,this,[[0,18]])})))}},{key:"_getSessionFromUrl",value:function(){return XT(this,void 0,void 0,(0,n.Z)().mark((function e(){var t,r,i,a,o,s,u,l,c,h,f,d,p,_,m,v;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,mT()){e.next=3;break}throw new ST("No browser detected.");case 3:if(this._isImplicitGrantFlow()){e.next=5;break}throw new ST("Not a valid implicit grant flow url.");case 5:if(!(t=vT("error_description"))){e.next=14;break}if(r=vT("error_code")){e.next=10;break}throw new ST("No error_code detected.");case 10:if(i=vT("error")){e.next=13;break}throw new ST("No error detected.");case 13:throw new ST(t,{error:i,code:r});case 14:if(a=vT("provider_token"),o=vT("access_token")){e.next=18;break}throw new ST("No access_token detected.");case 18:if(s=vT("expires_in")){e.next=21;break}throw new ST("No expires_in detected.");case 21:if(u=vT("refresh_token")){e.next=24;break}throw new ST("No refresh_token detected.");case 24:if(l=vT("token_type")){e.next=27;break}throw new ST("No token_type detected.");case 27:return c=Math.round(Date.now()/1e3),h=c+parseInt(s),e.next=31,this.getUser(o);case 31:if(f=e.sent,d=f.data,!(p=f.error)){e.next=36;break}throw p;case 36:return _=d.user,m={provider_token:a,access_token:o,expires_in:parseInt(s),expires_at:h,refresh_token:u,token_type:l,user:_},v=vT("type"),window.location.hash="",e.abrupt("return",{data:{session:m,redirectType:v},error:null});case 43:if(e.prev=43,e.t0=e.catch(0),!xT(e.t0)){e.next=47;break}return e.abrupt("return",{data:{session:null,redirectType:null},error:e.t0});case 47:throw e.t0;case 48:case"end":return e.stop()}}),e,this,[[0,43]])})))}},{key:"_isImplicitGrantFlow",value:function(){return mT()&&(Boolean(vT("access_token"))||Boolean(vT("error_description")))}},{key:"signOut",value:function(){var e;return XT(this,void 0,void 0,(0,n.Z)().mark((function t(){var r,i,a,o,s,u;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSession();case 2:if(r=t.sent,i=r.data,!(a=r.error)){t.next=7;break}return t.abrupt("return",{error:a});case 7:if(!(o=null===(e=i.session)||void 0===e?void 0:e.access_token)){t.next=15;break}return t.next=11,this.admin.signOut(o);case 11:if(s=t.sent,!(u=s.error)){t.next=15;break}return t.abrupt("return",{error:u});case 15:return t.next=17,this._removeSession();case 17:return this._notifyAllSubscribers("SIGNED_OUT",null),t.abrupt("return",{error:null});case 19:case"end":return t.stop()}}),t,this)})))}},{key:"onAuthStateChange",value:function(e){var t=this,r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:r,callback:e,unsubscribe:function(){t.stateChangeEmitters.delete(r)}};return this.stateChangeEmitters.set(r,n),{data:{subscription:n}}}},{key:"resetPasswordForEmail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return XT(this,void 0,void 0,(0,n.Z)().mark((function r(){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,UT(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo});case 3:return r.abrupt("return",r.sent);case 6:if(r.prev=6,r.t0=r.catch(0),!xT(r.t0)){r.next=10;break}return r.abrupt("return",{data:null,error:r.t0});case 10:throw r.t0;case 11:case"end":return r.stop()}}),r,this,[[0,6]])})))}},{key:"_refreshAccessToken",value:function(e){return XT(this,void 0,void 0,(0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,UT(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:NT});case 3:return t.abrupt("return",t.sent);case 6:if(t.prev=6,t.t0=t.catch(0),!xT(t.t0)){t.next=10;break}return t.abrupt("return",{data:{session:null,user:null},error:t.t0});case 10:throw t.t0;case 11:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"_isValidSession",value:function(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}},{key:"_handleProviderSignIn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this._getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return mT()&&(window.location.href=r),{data:{provider:e,url:r},error:null}}},{key:"_recoverAndRefresh",value:function(){var e;return XT(this,void 0,void 0,(0,n.Z)().mark((function t(){var r,i,a,o,s=this;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,yT(this.storage,this.storageKey);case 3:if(r=t.sent,this._isValidSession(r)){t.next=9;break}if(null===r){t.next=8;break}return t.next=8,this._removeSession();case 8:return t.abrupt("return");case 9:if(i=Math.round(Date.now()/1e3),!((null!==(e=r.expires_at)&&void 0!==e?e:1/0)<i+10)){t.next=32;break}if(!this.autoRefreshToken||!r.refresh_token){t.next=28;break}return this.networkRetries++,t.next=15,this._callRefreshToken(r.refresh_token);case 15:if(a=t.sent,!(o=a.error)){t.next=25;break}if(console.log(o.message),!(o instanceof RT&&this.networkRetries<HT)){t.next=23;break}return this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),this.refreshTokenTimer=setTimeout((function(){return s._recoverAndRefresh()}),100*Math.pow(GT,this.networkRetries)),t.abrupt("return");case 23:return t.next=25,this._removeSession();case 25:this.networkRetries=0,t.next=30;break;case 28:return t.next=30,this._removeSession();case 30:t.next=36;break;case 32:if(!this.persistSession){t.next=35;break}return t.next=35,this._saveSession(r);case 35:this._notifyAllSubscribers("SIGNED_IN",r);case 36:t.next=42;break;case 38:return t.prev=38,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 42:case"end":return t.stop()}}),t,this,[[0,38]])})))}},{key:"_callRefreshToken",value:function(e){var t,r;return XT(this,void 0,void 0,(0,n.Z)().mark((function i(){var a,o,s,u,l;return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.refreshingDeferred){n.next=2;break}return n.abrupt("return",this.refreshingDeferred.promise);case 2:if(n.prev=2,this.refreshingDeferred=new wT,e){n.next=6;break}throw new AT;case 6:return n.next=8,this._refreshAccessToken(e);case 8:if(a=n.sent,o=a.data,!(s=a.error)){n.next=13;break}throw s;case 13:if(o.session){n.next=15;break}throw new AT;case 15:return n.next=17,this._saveSession(o.session);case 17:return this._notifyAllSubscribers("TOKEN_REFRESHED",o.session),u={session:o.session,error:null},this.refreshingDeferred.resolve(u),n.abrupt("return",u);case 23:if(n.prev=23,n.t0=n.catch(2),!xT(n.t0)){n.next=29;break}return l={session:null,error:n.t0},null===(t=this.refreshingDeferred)||void 0===t||t.resolve(l),n.abrupt("return",l);case 29:throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(n.t0),n.t0;case 31:return n.prev=31,this.refreshingDeferred=null,n.finish(31);case 34:case"end":return n.stop()}}),i,this,[[2,23,31,34]])})))}},{key:"_notifyAllSubscribers",value:function(e,t){this.stateChangeEmitters.forEach((function(r){return r.callback(e,t)}))}},{key:"_saveSession",value:function(e){return XT(this,void 0,void 0,(0,n.Z)().mark((function t(){var r,i,a,o;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.persistSession||(this.inMemorySession=e),(r=e.expires_at)&&(i=Math.round(Date.now()/1e3),o=(a=r-i)>10?10:.5,this._startAutoRefreshToken(1e3*(a-o),e)),!this.persistSession||!e.expires_at){t.next=6;break}return t.next=6,this._persistSession(e);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"_persistSession",value:function(e){return t=this.storage,r=this.storageKey,i=e,_T(void 0,void 0,void 0,(0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setItem(r,JSON.stringify(i));case 2:case"end":return e.stop()}}),e)})));var t,r,i}},{key:"_removeSession",value:function(){return XT(this,void 0,void 0,(0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.persistSession){e.next=5;break}return e.next=3,bT(this.storage,this.storageKey);case 3:e.next=6;break;case 5:this.inMemorySession=null;case 6:this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"_startAutoRefreshToken",value:function(e,t){var r=this;this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),e<=0||!this.autoRefreshToken||(this.refreshTokenTimer=setTimeout((function(){return XT(r,void 0,void 0,(0,n.Z)().mark((function e(){var r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.networkRetries++,e.next=3,this._callRefreshToken(t.refresh_token);case 3:r=e.sent,(i=r.error)||(this.networkRetries=0),i instanceof RT&&this.networkRetries<HT&&this._startAutoRefreshToken(100*Math.pow(GT,this.networkRetries),t);case 7:case"end":return e.stop()}}),e,this)})))}),e),"function"===typeof this.refreshTokenTimer.unref&&this.refreshTokenTimer.unref())}},{key:"_handleVisibilityChange",value:function(){var e=this;if(!mT()||!(null===window||void 0===window?void 0:window.addEventListener))return!1;try{null===window||void 0===window||window.addEventListener("visibilitychange",(function(){return XT(e,void 0,void 0,(0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("visible"!==document.visibilityState){e.next=5;break}return e.next=3,this.initializePromise;case 3:return e.next=5,this._recoverAndRefresh();case 5:case"end":return e.stop()}}),e,this)})))}))}catch(t){console.error("_handleVisibilityChange",t)}}},{key:"_getUrlForProvider",value:function(e,t){var r=["provider=".concat(encodeURIComponent(e))];if((null===t||void 0===t?void 0:t.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(t.redirectTo))),(null===t||void 0===t?void 0:t.scopes)&&r.push("scopes=".concat(encodeURIComponent(t.scopes))),null===t||void 0===t?void 0:t.queryParams){var n=new URLSearchParams(t.queryParams);r.push(n.toString())}return"".concat(this.url,"/authorize?").concat(r.join("&"))}}]),e}(),JT=function(e){(0,ce.Z)(r,e);var t=(0,he.Z)(r);function r(e){return(0,de.Z)(this,r),t.call(this,e)}return(0,pe.Z)(r)}($T),QT=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(Dh){a(Dh)}}function s(e){try{u(n.throw(e))}catch(Dh){a(Dh)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},eM={headers:hT},tM={schema:"public"},rM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},nM={},iM=function(){function e(t,r,n){var i,a,o,s,u,l,c,h;if((0,de.Z)(this,e),this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");var f=t.replace(/\/$/,"");if(this.realtimeUrl="".concat(f,"/realtime/v1").replace(/^http/i,"ws"),this.authUrl="".concat(f,"/auth/v1"),this.storageUrl="".concat(f,"/storage/v1"),f.match(/(supabase\.co)|(supabase\.in)/)){var d=f.split(".");this.functionsUrl="".concat(d[0],".functions.").concat(d[1],".").concat(d[2])}else this.functionsUrl="".concat(f,"/functions/v1");var p="sb-".concat(new URL(this.authUrl).hostname.split(".")[0],"-auth-token"),_=function(e,t){var r=e.db,n=e.auth,i=e.realtime,a=e.global,o=t.db,s=t.auth,u=t.realtime,l=t.global;return{db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},s),n),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign({},l),a)}}(null!==n&&void 0!==n?n:{},{db:tM,realtime:nM,auth:Object.assign(Object.assign({},rM),{storageKey:p}),global:eM});this.storageKey=null!==(a=null===(i=_.auth)||void 0===i?void 0:i.storageKey)&&void 0!==a?a:"",this.headers=null!==(s=null===(o=_.global)||void 0===o?void 0:o.headers)&&void 0!==s?s:{},this.auth=this._initSupabaseAuthClient(null!==(u=_.auth)&&void 0!==u?u:{},this.headers,null===(l=_.global)||void 0===l?void 0:l.fetch),this.fetch=pT(r,this._getAccessToken.bind(this),null===(c=_.global)||void 0===c?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},_.realtime)),this.rest=new dk("".concat(f,"/rest/v1"),{headers:this.headers,schema:null===(h=_.db)||void 0===h?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}return(0,pe.Z)(e,[{key:"functions",get:function(){return new ik(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}},{key:"storage",get:function(){return new cT(this.storageUrl,this.headers,this.fetch)}},{key:"from",value:function(e){return this.rest.from(e)}},{key:"rpc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return this.rest.rpc(e,t,r)}},{key:"channel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.realtime.channel(e,t)}},{key:"getChannels",value:function(){return this.realtime.getChannels()}},{key:"removeChannel",value:function(e){return this.realtime.removeChannel(e)}},{key:"removeAllChannels",value:function(){return this.realtime.removeAllChannels()}},{key:"_getAccessToken",value:function(){var e,t;return QT(this,void 0,void 0,(0,n.Z)().mark((function r(){var i,a;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.auth.getSession();case 2:return i=r.sent,a=i.data,r.abrupt("return",null!==(t=null===(e=a.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null);case 5:case"end":return r.stop()}}),r,this)})))}},{key:"_initSupabaseAuthClient",value:function(e,t,r){var n=e.autoRefreshToken,i=e.persistSession,a=e.detectSessionInUrl,o=e.storage,s=e.storageKey,u={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new JT({url:this.authUrl,headers:Object.assign(Object.assign({},t),u),storageKey:s,autoRefreshToken:n,persistSession:i,detectSessionInUrl:a,storage:o,fetch:r})}},{key:"_initRealtimeClient",value:function(e){return new Wk(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}},{key:"_listenForAuthEvents",value:function(){var e=this;return this.auth.onAuthStateChange((function(t,r){e._handleTokenChanged(t,null===r||void 0===r?void 0:r.access_token,"CLIENT")}))}},{key:"_handleTokenChanged",value:function(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===t?"SIGNED_OUT"!==e&&"USER_DELETED"!==e||(this.realtime.setAuth(this.supabaseKey),"STORAGE"==r&&this.auth.signOut()):(this.realtime.setAuth(null!==t&&void 0!==t?t:null),this.changedAccessToken=t)}}]),e}(),aM=new(__webpack_require__(4630).xk)({token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDliNkU4MDJCZWZCYTBBQzg1RjMzNkQ5MWFBMTFENzQ4M2FhMzJlNzkiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2NjIyODIzMjc2MzQsIm5hbWUiOiJveHluZXR3b3JrIn0.G88wJ3MUq5WgSQX9SOgFUG2bxbYQ4WwIL1Gz02OM0jk"}),oM=new iM("https://obdyqwaozpesveqoazrp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9iZHlxd2FvenBlc3ZlcW9henJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NjIwMzYxOTMsImV4cCI6MTk3NzYxMjE5M30.3WHRS-ExwSIhnkSuFH-ZG2HEh2brC5xNMWJZYfSm9JM",YT);function sM(){var e=(0,t.useState)(!0),r=(0,a.Z)(e,2),o=r[0],s=r[1],u=(0,t.useState)(!0),l=(0,a.Z)(u,2),c=l[0],h=l[1],f=(0,t.useState)("SELECT A GLB 3D FILE"),d=(0,a.Z)(f,2),p=d[0],_=d[1],m=(0,t.useState)({name:"",description:"",price:""}),v=(0,a.Z)(m,2),g=v[0],y=v[1],b=(0,t.useState)(null),w=(0,a.Z)(b,2),E=w[0],x=w[1],k=__webpack_require__(400),T=(0,t.useState)(""),M=(0,a.Z)(T,2),A=M[0],O=M[1];I();function S(){return S=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,a,o,u,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_("  Processing..."),h(!1),r=t.target.files[0],i=Date.now(),e.next=7,oM.storage.from("oxy").upload(i+r.name,r);case 7:a=e.sent,o=a.data,u=a.error,o&&(s(!1),_("List NFT"),l="https://obdyqwaozpesveqoazrp.supabase.co/storage/v1/object/public/oxy/"+i+r.name,x(l)),u&&alert("Something went wrong"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),alert("Something went wrong");case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),S.apply(this,arguments)}function R(){return C.apply(this,arguments)}function C(){return(C=(0,i.Z)((0,n.Z)().mark((function e(){var t,r,i,a,o,s,u,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=g.name,r=g.description,i=g.price,t&&r&&i&&E){e.next=3;break}return e.abrupt("return");case 3:return a={name:t,description:r,price:i,image:E},e.prev=4,o=new Blob([JSON.stringify(a)],{type:"application/json"}),s=[new File([o],"data.json")],e.next=9,aM.put(s);case 9:return u=e.sent,l="https://"+u+".ipfs.w3s.link/data.json",e.abrupt("return",l);case 14:e.prev=14,e.t0=e.catch(4),alert("Something went wrong");case 17:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}function P(){return P=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,a,o,u,l,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,s(!0),O("Please wait.. uploading (upto 5 mins)"),e.next=6,R();case 6:return r=e.sent,i=new k.providers.Web3Provider(window.ethereum),a=i.getSigner(),o=new k.Contract(Wx.L,Wx.M,a),u=k.utils.parseUnits(g.price,"ether"),e.next=13,o.getListPrice();case 13:return l=(l=e.sent).toString(),e.next=17,o.createToken(r,u,{value:l});case 17:return c=e.sent,e.next=20,c.wait();case 20:alert("Successfully listed your NFT!"),O(""),y({name:"",description:"",price:""}),window.location.replace("/"),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(1),O(""),alert("Something went wrong,\nPlease connect your metamask wallet and Reload the page");case 30:case"end":return e.stop()}}),e,null,[[1,26]])}))),P.apply(this,arguments)}return(0,X.jsxs)("div",{className:"",children:[(0,X.jsx)(Y,{}),(0,X.jsx)("div",{className:"flex flex-col place-items-center mt-10",id:"nftForm",children:(0,X.jsxs)("form",{className:"bg-white shadow-md rounded px-8 pt-4 pb-8 mb-4",children:[(0,X.jsx)("h3",{className:"text-center font-bold text-purple-500 mb-8",children:"Upload your NFT to the marketplace"}),(0,X.jsxs)("div",{className:"mb-4",children:[(0,X.jsx)("label",{className:"block text-purple-500 text-sm font-bold mb-2",htmlFor:"name",children:"NFT Name"}),(0,X.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",type:"text",placeholder:"OXY#1",onChange:function(e){return y((0,_e.Z)((0,_e.Z)({},g),{},{name:e.target.value}))},value:g.name})]}),(0,X.jsxs)("div",{className:"mb-6",children:[(0,X.jsx)("label",{className:"block text-purple-500 text-sm font-bold mb-2",htmlFor:"description",children:"NFT Description"}),(0,X.jsx)("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",cols:"40",rows:"5",id:"description",type:"text",placeholder:"OXY NETWORK",value:g.description,onChange:function(e){return y((0,_e.Z)((0,_e.Z)({},g),{},{description:e.target.value}))}})]}),(0,X.jsxs)("div",{className:"mb-6",children:[(0,X.jsx)("label",{className:"block text-purple-500 text-sm font-bold mb-2",htmlFor:"price",children:"Price (in ETH)"}),(0,X.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"number",placeholder:"Min 0.01 ETH",step:"0.01",value:g.price,onChange:function(e){return y((0,_e.Z)((0,_e.Z)({},g),{},{price:e.target.value}))}})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)("label",{className:"block text-purple-500 text-sm font-bold mb-2",htmlFor:"image",children:"Upload Image"}),(0,X.jsx)("input",{type:"file",accept:".glb",onChange:function(e){return S.apply(this,arguments)}})]}),(0,X.jsx)("br",{}),(0,X.jsx)("div",{className:"text-green text-center",children:A}),(0,X.jsx)("button",{onClick:function(e){return P.apply(this,arguments)},disabled:o,style:{color:c?"#807977":"white",backgroundColor:o?"#CCC8C7":"#9C27B0"},className:"btn font-bold mt-10 w-full text-white rounded p-2 shadow-lg",children:p})]})})]})}function uM(e){var r=U().tokenId,o=(0,t.useState)("sampleData1"==r?{name:"NFT 1",description:"First 3D NFT",image:"https://obdyqwaozpesveqoazrp.supabase.co/storage/v1/object/public/oxy/reflective-sphere.gltf",price:"10",currentlySelling:"True",owner:"0xe81Bf5A757CB4f7F82a2F23b1e59bE45c33c5b13",seller:"0xe81Bf5A757CB4f7F82a2F23b1e59bE45c33c5b13"}:{name:"NFT 2",description:"First 3D NFT",image:"https://obdyqwaozpesveqoazrp.supabase.co/storage/v1/object/public/oxy/Astronaut.glb",price:"10",currentlySelling:"True",owner:"0xe81Bf5A757CB4f7F82a2F23b1e59bE45c33c5b13",seller:"0xe81Bf5A757CB4f7F82a2F23b1e59bE45c33c5b13"}),s=(0,a.Z)(o,2),u=s[0],l=s[1],c=(0,t.useState)(!1),h=(0,a.Z)(c,2),f=h[0],d=h[1],p=(0,t.useState)(""),_=(0,a.Z)(p,2),m=_[0],v=_[1],g=(0,t.useState)("0xe81Bf5A757CB4f7F82a2F23b1e59bE45c33c5b13"),y=(0,a.Z)(g,2),b=y[0],w=y[1];function E(e){return x.apply(this,arguments)}function x(){return x=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,a,o,s,u,c,h,f;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=__webpack_require__(400),i=new r.providers.Web3Provider(window.ethereum),a=i.getSigner(),e.next=5,a.getAddress();case 5:return o=e.sent,s=new r.Contract(Wx.L,Wx.M,a),e.next=9,s.tokenURI(t);case 9:return u=e.sent,e.next=12,s.getListedTokenForId(t);case 12:return c=e.sent,e.next=15,zx().get(u);case 15:h=(h=e.sent).data,f={price:h.price,tokenId:t,seller:c.seller,owner:c.owner,image:h.image,name:h.name,description:h.description},l(f),d(!0),w(o);case 21:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function k(){return k=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,a,o,s,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=__webpack_require__(400),i=new r.providers.Web3Provider(window.ethereum),a=i.getSigner(),o=new r.Contract(Wx.L,Wx.M,a),s=r.utils.parseUnits(u.price,"ether"),v("Buying the NFT... Please Wait (Upto 5 mins)"),e.next=9,o.executeSale(t,{value:s});case 9:return l=e.sent,e.next=12,l.wait();case 12:alert("You successfully bought the NFT!"),v(""),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),alert("Something went wrong,\nPlease connect your metamask wallet and Reload the page");case 19:case"end":return e.stop()}}),e,null,[[0,16]])}))),k.apply(this,arguments)}return f||"sampleData1"==r||E(r),f||"sampleData2"==r||E(r),(0,X.jsxs)("div",{children:[(0,X.jsx)(Y,{}),(0,X.jsxs)("div",{className:" flex  mt-5 justify-around flex-wrap max-w-screen-xl",children:[(0,X.jsx)("div",{children:(0,X.jsx)("model-viewer",{style:{height:"500px"},src:u.image,poster:Bx,"ios-src":"",alt:"A 3D model of an astronaut","shadow-intensity":"1","camera-controls":!0,"auto-rotate":!0,ar:!0})}),(0,X.jsxs)("div",{className:"text-xl space-y-8 text-white border-2  rounded-lg  w-49 md:w-71 shadow-2xl  p-5",children:[(0,X.jsxs)("div",{children:["Name: ",u.name]}),(0,X.jsxs)("div",{children:["Description: ",u.description]}),(0,X.jsxs)("div",{children:["Price: ",(0,X.jsx)("span",{className:"",children:u.price+" ETH"})]}),(0,X.jsxs)("div",{children:["Owner: ",(0,X.jsx)("span",{className:"text-sm",children:u.owner})]}),(0,X.jsxs)("div",{children:["Seller: ",(0,X.jsx)("span",{className:"text-sm",children:u.seller})]}),(0,X.jsxs)("div",{children:[b==u.owner||b==u.seller?(0,X.jsx)("div",{className:"text-emerald-700",children:"You are the owner of this NFT"}):(0,X.jsx)("button",{className:"enableEthereumButton bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded text-sm",onClick:function(){return function(e){return k.apply(this,arguments)}(r)},children:"Buy this NFT"}),(0,X.jsx)("div",{className:"text-green text-center mt-3",children:m})]})]})]})]})}var lM=function(e){e&&e instanceof Function&&__webpack_require__.e(787).then(__webpack_require__.bind(__webpack_require__,787)).then((function(t){var r=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;r(e),n(e),i(e),a(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,X.jsx)(t.StrictMode,{children:(0,X.jsx)(G,{children:(0,X.jsxs)(W,{children:[(0,X.jsx)(B,{path:"/",element:(0,X.jsx)(Kx,{})}),(0,X.jsx)(B,{path:"/sellNFT",element:(0,X.jsx)(sM,{})}),(0,X.jsx)(B,{path:"/nftPage/:tokenId",element:(0,X.jsx)(uM,{})}),(0,X.jsx)(B,{path:"/profile",element:(0,X.jsx)(Gx,{})})]})})})),lM()}()})();
//# sourceMappingURL=main.353d9969.js.map